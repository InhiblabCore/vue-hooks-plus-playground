var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,a=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&o(e,n,t[n]);if(i)for(var n of i(t))r.call(t,n)&&o(e,n,t[n]);return e},l=(e,i)=>t(e,n(i)),c=(e,t)=>{var n={};for(var o in e)s.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&i)for(var o of i(e))t.indexOf(o)<0&&r.call(e,o)&&(n[o]=e[o]);return n};import{P as d,c as h,f as u,g as p,i as g,a as f,b as m,d as _,r as v,h as b,e as y}from"./html.worker.5872b30e.js";import{a as w,U as C,b as S,E as x,c as k,S as E,K as D,d as T,C as L,e as N,t as I,f as P,g as O,h as R,j as A,k as M,D as F,l as B,o as V,m as W,n as H,p as U,q as z,r as j,s as $,u as K,v as q,w as G,x as Y,y as Z,z as X,A as J,L as Q,I as ee,B as te,F as ne,G as ie,H as se,J as re,R as oe,M as ae,N as le,O as ce,P as de,Q as he,T as ue,V as pe,W as ge,X as fe,Y as me,Z as _e,_ as ve,$ as be,a0 as ye,a1 as we,a2 as Ce,a3 as Se,a4 as xe,a5 as ke,a6 as Ee,a7 as De,a8 as Te,a9 as Le,aa as Ne,ab as Ie,ac as Pe,ad as Oe,ae as Re,af as Ae,ag as Me,ah as Fe,ai as Be,aj as Ve,ak as We,al as He,am as Ue,an as ze,ao as je,ap as $e,aq as Ke,ar as qe,as as Ge,at as Ye,au as Ze,av as Xe,aw as Je,ax as Qe,ay as et,az as tt,aA as nt,aB as it,aC as st,aD as rt,aE as ot,aF as at,aG as lt,aH as ct,aI as dt,aJ as ht,aK as ut,aL as pt,aM as gt,aN as ft,aO as mt,aP as _t,aQ as vt,aR as bt,aS as yt,aT as wt,aU as Ct,aV as St,aW as xt,aX as kt,aY as Et,aZ as Dt,a_ as Tt,a$ as Lt,b0 as Nt,b1 as It,b2 as Pt,b3 as Ot,b4 as Rt,b5 as At,b6 as Mt,b7 as Ft,b8 as Bt,b9 as Vt,ba as Wt,bb as Ht,bc as Ut,bd as zt,be as jt,bf as $t,bg as Kt,bh as qt,bi as Gt,bj as Yt,bk as Zt,bl as Xt,bm as Jt,bn as Qt,bo as en,bp as tn,bq as nn,br as sn,bs as rn,bt as on,bu as an,bv as ln,bw as cn,bx as dn,by as hn,bz as un,bA as pn,bB as gn,bC as fn,bD as mn,bE as _n,bF as vn,bG as bn,bH as yn,bI as wn}from"./editor.worker.ffac8b42.js";function Cn(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const Sn={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},xn={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},kn=Cn("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function En(e,t=0,n=e.length){let i=e.split(/(\r?\n)/);const s=i.filter(((e,t)=>t%2==1));i=i.filter(((e,t)=>t%2==0));let r=0;const o=[];for(let a=0;a<i.length;a++)if(r+=i[a].length+(s[a]&&s[a].length||0),r>=t){for(let e=a-2;e<=a+2||n>r;e++){if(e<0||e>=i.length)continue;const l=e+1;o.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${i[e]}`);const c=i[e].length,d=s[e]&&s[e].length||0;if(e===a){const e=t-(r-(c+d)),i=Math.max(1,n>r?c-e:n-t);o.push("   |  "+" ".repeat(e)+"^".repeat(i))}else if(e>a){if(n>r){const e=Math.max(Math.min(n-r,c),1);o.push("   |  "+"^".repeat(e))}r+=c+d}}break}return o.join("\n")}const Dn="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tn=Cn(Dn),Ln=Cn(Dn+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Nn(e){return!!e||""===e}const In=/[>/="'\u0009\u000a\u000c\u0020]/,Pn={};const On=Cn("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Rn=Cn("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),An=Cn("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function Mn(e){if(li(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=pi(i)?Vn(i):Mn(i);if(s)for(const e in s)t[e]=s[e]}return t}return pi(e)||fi(e)?e:void 0}const Fn=/;(?![^(]*\))/g,Bn=/:(.+)/;function Vn(e){const t={};return e.split(Fn).forEach((e=>{if(e){const n=e.split(Bn);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Wn(e){let t="";if(pi(e))t=e;else if(li(e))for(let n=0;n<e.length;n++){const i=Wn(e[n]);i&&(t+=i+" ")}else if(fi(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Hn(e){if(!e)return null;let{class:t,style:n}=e;return t&&!pi(t)&&(e.class=Wn(t)),n&&(e.style=Mn(n)),e}const Un=Cn("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),zn=Cn("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),jn=Cn("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),$n=/["'&<>]/;const Kn=/^-?>|<!--|-->|--!>|<!-$/g;function qn(e,t){if(e===t)return!0;let n=hi(e),i=hi(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=gi(e),i=gi(t),n||i)return e===t;if(n=li(e),i=li(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=qn(e[i],t[i]);return n}(e,t);if(n=fi(e),i=fi(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(i&&!s||!i&&s||!qn(e[n],t[n]))return!1}}return String(e)===String(t)}function Gn(e,t){return e.findIndex((e=>qn(e,t)))}const Yn=e=>pi(e)?e:null==e?"":li(e)||fi(e)&&(e.toString===_i||!ui(e.toString))?JSON.stringify(e,Zn,2):String(e),Zn=(e,t)=>t&&t.__v_isRef?Zn(e,t.value):ci(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:di(t)?{[`Set(${t.size})`]:[...t.values()]}:!fi(t)||li(t)||yi(t)?t:String(t),Xn={},Jn=[],Qn=()=>{},ei=()=>!1,ti=/^on[^a-z]/,ni=e=>ti.test(e),ii=e=>e.startsWith("onUpdate:"),si=Object.assign,ri=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},oi=Object.prototype.hasOwnProperty,ai=(e,t)=>oi.call(e,t),li=Array.isArray,ci=e=>"[object Map]"===vi(e),di=e=>"[object Set]"===vi(e),hi=e=>"[object Date]"===vi(e),ui=e=>"function"==typeof e,pi=e=>"string"==typeof e,gi=e=>"symbol"==typeof e,fi=e=>null!==e&&"object"==typeof e,mi=e=>fi(e)&&ui(e.then)&&ui(e.catch),_i=Object.prototype.toString,vi=e=>_i.call(e),bi=e=>vi(e).slice(8,-1),yi=e=>"[object Object]"===vi(e),wi=e=>pi(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,Ci=Cn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Si=Cn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),xi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ki=/-(\w)/g,Ei=xi((e=>e.replace(ki,((e,t)=>t?t.toUpperCase():"")))),Di=/\B([A-Z])/g,Ti=xi((e=>e.replace(Di,"-$1").toLowerCase())),Li=xi((e=>e.charAt(0).toUpperCase()+e.slice(1))),Ni=xi((e=>e?`on${Li(e)}`:"")),Ii=(e,t)=>!Object.is(e,t),Pi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Oi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ri=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ai;const Mi=()=>Ai||(Ai="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Fi=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;var Bi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",EMPTY_ARR:Jn,EMPTY_OBJ:Xn,NO:ei,NOOP:Qn,PatchFlagNames:Sn,camelize:Ei,capitalize:Li,def:Oi,escapeHtml:function(e){const t=""+e,n=$n.exec(t);if(!n)return t;let i,s,r="",o=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==s&&(r+=t.slice(o,s)),o=s+1,r+=i}return o!==s?r+t.slice(o,s):r},escapeHtmlComment:function(e){return e.replace(Kn,"")},extend:si,genPropsAccessExp:function(e){return Fi.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`},generateCodeFrame:En,getGlobalThis:Mi,hasChanged:Ii,hasOwn:ai,hyphenate:Ti,includeBooleanAttr:Nn,invokeArrayFns:Pi,isArray:li,isBooleanAttr:Ln,isBuiltInDirective:Si,isDate:hi,isFunction:ui,isGloballyWhitelisted:kn,isHTMLTag:Un,isIntegerKey:wi,isKnownHtmlAttr:Rn,isKnownSvgAttr:An,isMap:ci,isModelListener:ii,isNoUnitNumericStyleProp:On,isObject:fi,isOn:ni,isPlainObject:yi,isPromise:mi,isReservedProp:Ci,isSSRSafeAttrName:function(e){if(Pn.hasOwnProperty(e))return Pn[e];const t=In.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Pn[e]=!t},isSVGTag:zn,isSet:di,isSpecialBooleanAttr:Tn,isString:pi,isSymbol:gi,isVoidTag:jn,looseEqual:qn,looseIndexOf:Gn,makeMap:Cn,normalizeClass:Wn,normalizeProps:Hn,normalizeStyle:Mn,objectToString:_i,parseStringStyle:Vn,propsToAttrMap:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},remove:ri,slotFlagsText:xn,stringifyStyle:function(e){let t="";if(!e||pi(e))return t;for(const n in e){const i=e[n],s=n.startsWith("--")?n:Ti(n);(pi(i)||"number"==typeof i&&On(s))&&(t+=`${s}:${i};`)}return t},toDisplayString:Yn,toHandlerKey:Ni,toNumber:Ri,toRawType:bi,toTypeString:vi});let Vi;class Wi{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Vi&&(this.parent=Vi,this.index=(Vi.scopes||(Vi.scopes=[])).push(this)-1)}run(e){if(this.active){const t=Vi;try{return Vi=this,e()}finally{Vi=t}}}on(){Vi=this}off(){Vi=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function Hi(e,t=Vi){t&&t.active&&t.effects.push(e)}function Ui(){return Vi}function zi(e){Vi&&Vi.cleanups.push(e)}const ji=e=>{const t=new Set(e);return t.w=0,t.n=0,t},$i=e=>(e.w&Yi)>0,Ki=e=>(e.n&Yi)>0,qi=new WeakMap;let Gi=0,Yi=1;let Zi;const Xi=Symbol(""),Ji=Symbol("");class Qi{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Hi(this,n)}run(){if(!this.active)return this.fn();let e=Zi,t=ts;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Zi,Zi=this,ts=!0,Yi=1<<++Gi,Gi<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Yi})(this):es(this),this.fn()}finally{Gi<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];$i(s)&&!Ki(s)?s.delete(e):t[n++]=s,s.w&=~Yi,s.n&=~Yi}t.length=n}})(this),Yi=1<<--Gi,Zi=this.parent,ts=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Zi===this?this.deferStop=!0:this.active&&(es(this),this.onStop&&this.onStop(),this.active=!1)}}function es(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ts=!0;const ns=[];function is(){ns.push(ts),ts=!1}function ss(){const e=ns.pop();ts=void 0===e||e}function rs(e,t,n){if(ts&&Zi){let t=qi.get(e);t||qi.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=ji()),os(i)}}function os(e,t){let n=!1;Gi<=30?Ki(e)||(e.n|=Yi,n=!$i(e)):n=!e.has(Zi),n&&(e.add(Zi),Zi.deps.push(e))}function as(e,t,n,i,s,r){const o=qi.get(e);if(!o)return;let a=[];if("clear"===t)a=[...o.values()];else if("length"===n&&li(e))o.forEach(((e,t)=>{("length"===t||t>=i)&&a.push(e)}));else switch(void 0!==n&&a.push(o.get(n)),t){case"add":li(e)?wi(n)&&a.push(o.get("length")):(a.push(o.get(Xi)),ci(e)&&a.push(o.get(Ji)));break;case"delete":li(e)||(a.push(o.get(Xi)),ci(e)&&a.push(o.get(Ji)));break;case"set":ci(e)&&a.push(o.get(Xi))}if(1===a.length)a[0]&&ls(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);ls(ji(e))}}function ls(e,t){const n=li(e)?e:[...e];for(const i of n)i.computed&&cs(i);for(const i of n)i.computed||cs(i)}function cs(e,t){(e!==Zi||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ds=Cn("__proto__,__v_isRef,__isVue"),hs=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(gi)),us=vs(),ps=vs(!1,!0),gs=vs(!0),fs=vs(!0,!0),ms=_s();function _s(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=sr(this);for(let t=0,s=this.length;t<s;t++)rs(n,0,t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(sr)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){is();const n=sr(this)[t].apply(this,e);return ss(),n}})),e}function vs(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&s===(e?t?Ys:Gs:t?qs:Ks).get(n))return n;const r=li(n);if(!e&&r&&ai(ms,i))return Reflect.get(ms,i,s);const o=Reflect.get(n,i,s);return(gi(i)?hs.has(i):ds(i))?o:(e||rs(n,0,i),t?o:dr(o)?r&&wi(i)?o:o.value:fi(o)?e?Js(o):Zs(o):o)}}function bs(e=!1){return function(t,n,i,s){let r=t[n];if(tr(r)&&dr(r)&&!dr(i))return!1;if(!e&&!tr(i)&&(nr(i)||(i=sr(i),r=sr(r)),!li(t)&&dr(r)&&!dr(i)))return r.value=i,!0;const o=li(t)&&wi(n)?Number(n)<t.length:ai(t,n),a=Reflect.set(t,n,i,s);return t===sr(s)&&(o?Ii(i,r)&&as(t,"set",n,i):as(t,"add",n,i)),a}}const ys={get:us,set:bs(),deleteProperty:function(e,t){const n=ai(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&as(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return gi(t)&&hs.has(t)||rs(e,0,t),n},ownKeys:function(e){return rs(e,0,li(e)?"length":Xi),Reflect.ownKeys(e)}},ws={get:gs,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Cs=si({},ys,{get:ps,set:bs(!0)}),Ss=si({},ws,{get:fs}),xs=e=>e,ks=e=>Reflect.getPrototypeOf(e);function Es(e,t,n=!1,i=!1){const s=sr(e=e.__v_raw),r=sr(t);n||(t!==r&&rs(s,0,t),rs(s,0,r));const{has:o}=ks(s),a=i?xs:n?ar:or;return o.call(s,t)?a(e.get(t)):o.call(s,r)?a(e.get(r)):void(e!==s&&e.get(t))}function Ds(e,t=!1){const n=this.__v_raw,i=sr(n),s=sr(e);return t||(e!==s&&rs(i,0,e),rs(i,0,s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ts(e,t=!1){return e=e.__v_raw,!t&&rs(sr(e),0,Xi),Reflect.get(e,"size",e)}function Ls(e){e=sr(e);const t=sr(this);return ks(t).has.call(t,e)||(t.add(e),as(t,"add",e,e)),this}function Ns(e,t){t=sr(t);const n=sr(this),{has:i,get:s}=ks(n);let r=i.call(n,e);r||(e=sr(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?Ii(t,o)&&as(n,"set",e,t):as(n,"add",e,t),this}function Is(e){const t=sr(this),{has:n,get:i}=ks(t);let s=n.call(t,e);s||(e=sr(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&as(t,"delete",e,void 0),r}function Ps(){const e=sr(this),t=0!==e.size,n=e.clear();return t&&as(e,"clear",void 0,void 0),n}function Os(e,t){return function(n,i){const s=this,r=s.__v_raw,o=sr(r),a=t?xs:e?ar:or;return!e&&rs(o,0,Xi),r.forEach(((e,t)=>n.call(i,a(e),a(t),s)))}}function Rs(e,t,n){return function(...i){const s=this.__v_raw,r=sr(s),o=ci(r),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=s[e](...i),d=n?xs:t?ar:or;return!t&&rs(r,0,l?Ji:Xi),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function As(e){return function(...t){return"delete"!==e&&this}}function Ms(){const e={get(e){return Es(this,e)},get size(){return Ts(this)},has:Ds,add:Ls,set:Ns,delete:Is,clear:Ps,forEach:Os(!1,!1)},t={get(e){return Es(this,e,!1,!0)},get size(){return Ts(this)},has:Ds,add:Ls,set:Ns,delete:Is,clear:Ps,forEach:Os(!1,!0)},n={get(e){return Es(this,e,!0)},get size(){return Ts(this,!0)},has(e){return Ds.call(this,e,!0)},add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear"),forEach:Os(!0,!1)},i={get(e){return Es(this,e,!0,!0)},get size(){return Ts(this,!0)},has(e){return Ds.call(this,e,!0)},add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear"),forEach:Os(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{e[s]=Rs(s,!1,!1),n[s]=Rs(s,!0,!1),t[s]=Rs(s,!1,!0),i[s]=Rs(s,!0,!0)})),[e,n,t,i]}const[Fs,Bs,Vs,Ws]=Ms();function Hs(e,t){const n=t?e?Ws:Vs:e?Bs:Fs;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(ai(n,i)&&i in t?n:t,i,s)}const Us={get:Hs(!1,!1)},zs={get:Hs(!1,!0)},js={get:Hs(!0,!1)},$s={get:Hs(!0,!0)},Ks=new WeakMap,qs=new WeakMap,Gs=new WeakMap,Ys=new WeakMap;function Zs(e){return tr(e)?e:Qs(e,!1,ys,Us,Ks)}function Xs(e){return Qs(e,!1,Cs,zs,qs)}function Js(e){return Qs(e,!0,ws,js,Gs)}function Qs(e,t,n,i,s){if(!fi(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(bi(a));var a;if(0===o)return e;const l=new Proxy(e,2===o?i:n);return s.set(e,l),l}function er(e){return tr(e)?er(e.__v_raw):!(!e||!e.__v_isReactive)}function tr(e){return!(!e||!e.__v_isReadonly)}function nr(e){return!(!e||!e.__v_isShallow)}function ir(e){return er(e)||tr(e)}function sr(e){const t=e&&e.__v_raw;return t?sr(t):e}function rr(e){return Oi(e,"__v_skip",!0),e}const or=e=>fi(e)?Zs(e):e,ar=e=>fi(e)?Js(e):e;function lr(e){ts&&Zi&&os((e=sr(e)).dep||(e.dep=ji()))}function cr(e,t){(e=sr(e)).dep&&ls(e.dep)}function dr(e){return!(!e||!0!==e.__v_isRef)}function hr(e){return pr(e,!1)}function ur(e){return pr(e,!0)}function pr(e,t){return dr(e)?e:new gr(e,t)}class gr{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:sr(e),this._value=t?e:or(e)}get value(){return lr(this),this._value}set value(e){e=this.__v_isShallow?e:sr(e),Ii(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:or(e),cr(this))}}function fr(e){return dr(e)?e.value:e}const mr={get:(e,t,n)=>fr(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return dr(s)&&!dr(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function _r(e){return er(e)?e:new Proxy(e,mr)}class vr{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>lr(this)),(()=>cr(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}class br{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function yr(e,t,n){const i=e[t];return dr(i)?i:new br(e,t,n)}class wr{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Qi(e,(()=>{this._dirty||(this._dirty=!0,cr(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=sr(this);return lr(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}const Cr=[];function Sr(e,...t){is();const n=Cr.length?Cr[Cr.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=function(){let e=Cr[Cr.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}();if(i)Er(i,n,11,[e+t.join(""),n&&n.proxy,s.map((({vnode:e})=>`at <${nc(n,e.type)}>`)).join("\n"),s]);else{const n=[`[Vue warn]: ${e}`,...t];s.length&&n.push("\n",...function(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...function({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=!!e.component&&null==e.component.parent,s=` at <${nc(e.component,e.type,i)}`,r=">"+n;return e.props?[s,...xr(e.props),r]:[s+r]}(e))})),t}(s)),console.warn(...n)}ss()}function xr(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...kr(n,e[n]))})),n.length>3&&t.push(" ..."),t}function kr(e,t,n){return pi(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[`${e}=${t}`]:dr(t)?(t=kr(e,sr(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):ui(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=sr(t),n?t:[`${e}=`,t])}function Er(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){Tr(r,t,n)}return s}function Dr(e,t,n,i){if(ui(e)){const s=Er(e,t,n,i);return s&&mi(s)&&s.catch((e=>{Tr(e,t,n)})),s}const s=[];for(let r=0;r<e.length;r++)s.push(Dr(e[r],t,n,i));return s}function Tr(e,t,n,i=!0){t&&t.vnode;if(t){let i=t.parent;const s=t.proxy,r=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,s,r))return;i=i.parent}const o=t.appContext.config.errorHandler;if(o)return void Er(o,null,10,[e,s,r])}!function(e,t,n,i=!0){console.error(e)}(e,0,0,i)}let Lr=!1,Nr=!1;const Ir=[];let Pr=0;const Or=[];let Rr=null,Ar=0;const Mr=[];let Fr=null,Br=0;const Vr=Promise.resolve();let Wr=null,Hr=null;function Ur(e){const t=Wr||Vr;return e?t.then(this?e.bind(this):e):t}function zr(e){Ir.length&&Ir.includes(e,Lr&&e.allowRecurse?Pr+1:Pr)||e===Hr||(null==e.id?Ir.push(e):Ir.splice(function(e){let t=Pr+1,n=Ir.length;for(;t<n;){const i=t+n>>>1;Yr(Ir[i])<e?t=i+1:n=i}return t}(e.id),0,e),jr())}function jr(){Lr||Nr||(Nr=!0,Wr=Vr.then(Zr))}function $r(e,t,n,i){li(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),jr()}function Kr(e){$r(e,Fr,Mr,Br)}function qr(e,t=null){if(Or.length){for(Hr=t,Rr=[...new Set(Or)],Or.length=0,Ar=0;Ar<Rr.length;Ar++)Rr[Ar]();Rr=null,Ar=0,Hr=null,qr(e,t)}}function Gr(e){if(qr(),Mr.length){const e=[...new Set(Mr)];if(Mr.length=0,Fr)return void Fr.push(...e);for(Fr=e,Fr.sort(((e,t)=>Yr(e)-Yr(t))),Br=0;Br<Fr.length;Br++)Fr[Br]();Fr=null,Br=0}}const Yr=e=>null==e.id?1/0:e.id;function Zr(e){Nr=!1,Lr=!0,qr(e),Ir.sort(((e,t)=>Yr(e)-Yr(t)));try{for(Pr=0;Pr<Ir.length;Pr++){const e=Ir[Pr];e&&!1!==e.active&&Er(e,null,14)}}finally{Pr=0,Ir.length=0,Gr(),Lr=!1,Wr=null,(Ir.length||Or.length||Mr.length)&&Zr(e)}}let Xr,Jr=[];function Qr(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Xn;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:r}=i[e]||Xn;r&&(s=n.map((e=>e.trim()))),t&&(s=n.map(Ri))}let a,l=i[a=Ni(t)]||i[a=Ni(Ei(t))];!l&&r&&(l=i[a=Ni(Ti(t))]),l&&Dr(l,e,6,s);const c=i[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,Dr(c,e,6,s)}}function eo(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(void 0!==s)return s;const r=e.emits;let o={},a=!1;if(!ui(e)){const i=e=>{const n=eo(e,t,!0);n&&(a=!0,si(o,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return r||a?(li(r)?r.forEach((e=>o[e]=null)):si(o,r),i.set(e,o),o):(i.set(e,null),null)}function to(e,t){return!(!e||!ni(t))&&(t=t.slice(2).replace(/Once$/,""),ai(e,t[0].toLowerCase()+t.slice(1))||ai(e,Ti(t))||ai(e,t))}let no=null,io=null;function so(e){const t=no;return no=e,io=e&&e.type.__scopeId||null,t}function ro(e,t=no,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&_l(-1);const s=so(t),r=e(...n);return so(s),i._d&&_l(1),r};return i._n=!0,i._c=!0,i._d=!0,i}function oo(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:d,renderCache:h,data:u,setupState:p,ctx:g,inheritAttrs:f}=e;let m,_;const v=so(e);try{if(4&n.shapeFlag){const e=s||i;m=Ol(d.call(e,e,h,r,p,u,g)),_=l}else{const e=t;0,m=Ol(e.length>1?e(r,{attrs:l,slots:a,emit:c}):e(r,null)),_=t.props?l:ao(l)}}catch(y){ul.length=0,Tr(y,e,1),m=Dl(dl)}let b=m;if(_&&!1!==f){const e=Object.keys(_),{shapeFlag:t}=b;e.length&&7&t&&(o&&e.some(ii)&&(_=lo(_,o)),b=Ll(b,_))}return n.dirs&&(b=Ll(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),m=b,so(v),m}const ao=e=>{let t;for(const n in e)("class"===n||"style"===n||ni(n))&&((t||(t={}))[n]=e[n]);return t},lo=(e,t)=>{const n={};for(const i in e)ii(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function co(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!to(n,r))return!0}return!1}function ho({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const uo=e=>e.__isSuspense,po={name:"Suspense",__isSuspense:!0,process(e,t,n,i,s,r,o,a,l,c){null==e?function(e,t,n,i,s,r,o,a,l){const{p:c,o:{createElement:d}}=l,h=d("div"),u=e.suspense=fo(e,s,i,t,h,n,r,o,a,l);c(null,u.pendingBranch=e.ssContent,h,null,i,u,r,o),u.deps>0?(go(e,"onPending"),go(e,"onFallback"),c(null,e.ssFallback,t,n,i,null,r,o),vo(u,e.ssFallback)):u.resolve()}(t,n,i,s,r,o,a,l,c):function(e,t,n,i,s,r,o,a,{p:l,um:c,o:{createElement:d}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const u=t.ssContent,p=t.ssFallback,{activeBranch:g,pendingBranch:f,isInFallback:m,isHydrating:_}=h;if(f)h.pendingBranch=u,Cl(u,f)?(l(f,u,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0?h.resolve():m&&(l(g,p,n,i,s,null,r,o,a),vo(h,p))):(h.pendingId++,_?(h.isHydrating=!1,h.activeBranch=f):c(f,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=d("div"),m?(l(null,u,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0?h.resolve():(l(g,p,n,i,s,null,r,o,a),vo(h,p))):g&&Cl(u,g)?(l(g,u,n,i,s,h,r,o,a),h.resolve(!0)):(l(null,u,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0&&h.resolve()));else if(g&&Cl(u,g))l(g,u,n,i,s,h,r,o,a),vo(h,u);else if(go(t,"onPending"),h.pendingBranch=u,h.pendingId++,l(null,u,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(p)}),e):0===e&&h.fallback(p)}}(e,t,n,i,s,o,a,l,c)},hydrate:function(e,t,n,i,s,r,o,a,l){const c=t.suspense=fo(t,i,n,e.parentNode,document.createElement("div"),null,s,r,o,a,!0),d=l(e,c.pendingBranch=t.ssContent,n,c,r,o);0===c.deps&&c.resolve();return d},create:fo,normalize:function(e){const{shapeFlag:t,children:n}=e,i=32&t;e.ssContent=mo(i?n.default:n),e.ssFallback=i?mo(n.fallback):Dl(dl)}};function go(e,t){const n=e.props&&e.props[t];ui(n)&&n()}function fo(e,t,n,i,s,r,o,a,l,c,d=!1){const{p:h,m:u,um:p,n:g,o:{parentNode:f,remove:m}}=c,_=Ri(e.props&&e.props.timeout),v={vnode:e,parent:t,parentComponent:n,isSVG:o,container:i,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:i,pendingId:s,effects:r,parentComponent:o,container:a}=v;if(v.isHydrating)v.isHydrating=!1;else if(!e){const e=n&&i.transition&&"out-in"===i.transition.mode;e&&(n.transition.afterLeave=()=>{s===v.pendingId&&u(i,a,t,0)});let{anchor:t}=v;n&&(t=g(n),p(n,o,v,!0)),e||u(i,a,t,0)}vo(v,i),v.pendingBranch=null,v.isInFallback=!1;let l=v.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...r),c=!0;break}l=l.parent}c||Kr(r),v.effects=[],go(t,"onResolve")},fallback(e){if(!v.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:i,container:s,isSVG:r}=v;go(t,"onFallback");const o=g(n),c=()=>{v.isInFallback&&(h(null,e,s,o,i,null,r,a,l),vo(v,e))},d=e.transition&&"out-in"===e.transition.mode;d&&(n.transition.afterLeave=c),v.isInFallback=!0,p(n,i,null,!0),d||c()},move(e,t,n){v.activeBranch&&u(v.activeBranch,e,t,n),v.container=e},next:()=>v.activeBranch&&g(v.activeBranch),registerDep(e,t){const n=!!v.pendingBranch;n&&v.deps++;const i=e.vnode.el;e.asyncDep.catch((t=>{Tr(t,e,0)})).then((s=>{if(e.isUnmounted||v.isUnmounted||v.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:r}=e;Zl(e,s,!1),i&&(r.el=i);const a=!i&&e.subTree.el;t(e,r,f(i||e.subTree.el),i?null:g(e.subTree),v,o,l),a&&m(a),ho(e,r.el),n&&0==--v.deps&&v.resolve()}))},unmount(e,t){v.isUnmounted=!0,v.activeBranch&&p(v.activeBranch,n,e,t),v.pendingBranch&&p(v.pendingBranch,n,e,t)}};return v}function mo(e){let t;if(ui(e)){const n=ml&&e._c;n&&(e._d=!1,gl()),e=e(),n&&(e._d=!0,t=pl,fl())}if(li(e)){const t=function(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(!wl(i))return;if(i.type!==dl||"v-if"===i.children){if(t)return;t=i}}return t}(e);e=t}return e=Ol(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function _o(e,t){t&&t.pendingBranch?li(e)?t.effects.push(...e):t.effects.push(e):Kr(e)}function vo(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,s=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=s,ho(i,s))}function bo(e,t){if(Hl){let n=Hl.provides;const i=Hl.parent&&Hl.parent.provides;i===n&&(n=Hl.provides=Object.create(i)),n[e]=t}else;}function yo(e,t,n=!1){const i=Hl||no;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ui(t)?t.call(i.proxy):t}}function wo(e,t){return ko(e,null,t)}function Co(e,t){return ko(e,null,{flush:"post"})}const So={};function xo(e,t,n){return ko(e,t,n)}function ko(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Xn){const a=Hl;let l,c,d=!1,h=!1;if(dr(e)?(l=()=>e.value,d=nr(e)):er(e)?(l=()=>e,i=!0):li(e)?(h=!0,d=e.some((e=>er(e)||nr(e))),l=()=>e.map((e=>dr(e)?e.value:er(e)?To(e):ui(e)?Er(e,a,2):void 0))):l=ui(e)?t?()=>Er(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),Dr(e,a,3,[u])}:Qn,t&&i){const e=l;l=()=>To(e())}let u=e=>{c=m.onStop=()=>{Er(e,a,4)}};if(Gl)return u=Qn,t?n&&Dr(t,a,3,[l(),h?[]:void 0,u]):l(),Qn;let p=h?[]:So;const g=()=>{if(m.active)if(t){const e=m.run();(i||d||(h?e.some(((e,t)=>Ii(e,p[t]))):Ii(e,p)))&&(c&&c(),Dr(t,a,3,[e,p===So?void 0:p,u]),p=e)}else m.run()};let f;g.allowRecurse=!!t,f="sync"===s?g:"post"===s?()=>Xa(g,a&&a.suspense):()=>function(e){$r(e,Rr,Or,Ar)}(g);const m=new Qi(l,f);return t?n?g():p=m.run():"post"===s?Xa(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&ri(a.scope.effects,m)}}function Eo(e,t,n){const i=this.proxy,s=pi(e)?e.includes(".")?Do(i,e):()=>i[e]:e.bind(i,i);let r;ui(t)?r=t:(r=t.handler,n=t);const o=Hl;zl(this);const a=ko(s,r.bind(i),n);return o?zl(o):jl(),a}function Do(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function To(e,t){if(!fi(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),dr(e))To(e.value,t);else if(li(e))for(let n=0;n<e.length;n++)To(e[n],t);else if(di(e)||ci(e))e.forEach((e=>{To(e,t)}));else if(yi(e))for(const n in e)To(e[n],t);return e}function Lo(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qo((()=>{e.isMounted=!0})),na((()=>{e.isUnmounting=!0})),e}const No=[Function,Array],Io={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:No,onEnter:No,onAfterEnter:No,onEnterCancelled:No,onBeforeLeave:No,onLeave:No,onAfterLeave:No,onLeaveCancelled:No,onBeforeAppear:No,onAppear:No,onAfterAppear:No,onAppearCancelled:No},setup(e,{slots:t}){const n=Ul(),i=Lo();let s;return()=>{const r=t.default&&Fo(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1)for(const e of r)if(e.type!==dl){o=e;break}const a=sr(e),{mode:l}=a;if(i.isLeaving)return Ro(o);const c=Ao(o);if(!c)return Ro(o);const d=Oo(c,a,i,n);Mo(c,d);const h=n.subTree,u=h&&Ao(h);let p=!1;const{getTransitionKey:g}=c.type;if(g){const e=g();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(u&&u.type!==dl&&(!Cl(c,u)||p)){const e=Oo(u,a,i,n);if(Mo(u,e),"out-in"===l)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},Ro(o);"in-out"===l&&c.type!==dl&&(e.delayLeave=(e,t,n)=>{Po(i,u)[String(u.key)]=u,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return o}}};function Po(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Oo(e,t,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:u,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:f,onAppear:m,onAfterAppear:_,onAppearCancelled:v}=t,b=String(e.key),y=Po(n,e),w=(e,t)=>{e&&Dr(e,i,9,t)},C=(e,t)=>{const n=t[1];w(e,t),li(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},S={mode:r,persisted:o,beforeEnter(t){let i=a;if(!n.isMounted){if(!s)return;i=f||a}t._leaveCb&&t._leaveCb(!0);const r=y[b];r&&Cl(e,r)&&r.el._leaveCb&&r.el._leaveCb(),w(i,[t])},enter(e){let t=l,i=c,r=d;if(!n.isMounted){if(!s)return;t=m||l,i=_||c,r=v||d}let o=!1;const a=e._enterCb=t=>{o||(o=!0,w(t?r:i,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?C(t,[e,a]):a()},leave(t,i){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();w(h,[t]);let r=!1;const o=t._leaveCb=n=>{r||(r=!0,i(),w(n?g:p,[t]),t._leaveCb=void 0,y[s]===e&&delete y[s])};y[s]=e,u?C(u,[t,o]):o()},clone:e=>Oo(e,t,n,i)};return S}function Ro(e){if(Ho(e))return(e=Ll(e)).children=null,e}function Ao(e){return Ho(e)?e.children?e.children[0]:void 0:e}function Mo(e,t){6&e.shapeFlag&&e.component?Mo(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fo(e,t=!1,n){let i=[],s=0;for(let r=0;r<e.length;r++){let o=e[r];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:r);o.type===ll?(128&o.patchFlag&&s++,i=i.concat(Fo(o.children,t,a))):(t||o.type!==dl)&&i.push(null!=a?Ll(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Bo(e){return ui(e)?{setup:e,name:e.name}:e}const Vo=e=>!!e.type.__asyncLoader;function Wo(e,{vnode:{ref:t,props:n,children:i,shapeFlag:s},parent:r}){const o=Dl(e,n,i);return o.ref=t,o}const Ho=e=>e.type.__isKeepAlive,Uo={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Ul(),i=n.ctx;if(!i.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const s=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:d,o:{createElement:h}}}=i,u=h("div");function p(e){Go(e),d(e,n,a,!0)}function g(e){s.forEach(((t,n)=>{const i=tc(t.type);!i||e&&e(i)||f(n)}))}function f(e){const t=s.get(e);o&&t.type===o.type?o&&Go(o):p(t),s.delete(e),r.delete(e)}i.activate=(e,t,n,i,s)=>{const r=e.component;c(e,t,n,0,a),l(r.vnode,e,t,n,r,a,i,e.slotScopeIds,s),Xa((()=>{r.isDeactivated=!1,r.a&&Pi(r.a);const t=e.props&&e.props.onVnodeMounted;t&&Fl(t,r.parent,e)}),a)},i.deactivate=e=>{const t=e.component;c(e,u,null,1,a),Xa((()=>{t.da&&Pi(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Fl(n,t.parent,e),t.isDeactivated=!0}),a)},xo((()=>[e.include,e.exclude]),(([e,t])=>{e&&g((t=>zo(e,t))),t&&g((e=>!zo(t,e)))}),{flush:"post",deep:!0});let m=null;const _=()=>{null!=m&&s.set(m,Yo(n.subTree))};return Qo(_),ta(_),na((()=>{s.forEach((e=>{const{subTree:t,suspense:i}=n,s=Yo(t);if(e.type!==s.type)p(e);else{Go(s);const e=s.component.da;e&&Xa(e,i)}}))})),()=>{if(m=null,!t.default)return null;const n=t.default(),i=n[0];if(n.length>1)return o=null,n;if(!(wl(i)&&(4&i.shapeFlag||128&i.shapeFlag)))return o=null,i;let a=Yo(i);const l=a.type,c=tc(Vo(a)?a.type.__asyncResolved||{}:l),{include:d,exclude:h,max:u}=e;if(d&&(!c||!zo(d,c))||h&&c&&zo(h,c))return o=a,i;const p=null==a.key?l:a.key,g=s.get(p);return a.el&&(a=Ll(a),128&i.shapeFlag&&(i.ssContent=a)),m=p,g?(a.el=g.el,a.component=g.component,a.transition&&Mo(a,a.transition),a.shapeFlag|=512,r.delete(p),r.add(p)):(r.add(p),u&&r.size>parseInt(u,10)&&f(r.values().next().value)),a.shapeFlag|=256,o=a,uo(i.type)?i:a}}};function zo(e,t){return li(e)?e.some((e=>zo(e,t))):pi(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function jo(e,t){Ko(e,"a",t)}function $o(e,t){Ko(e,"da",t)}function Ko(e,t,n=Hl){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Zo(t,i,n),n){let e=n.parent;for(;e&&e.parent;)Ho(e.parent.vnode)&&qo(i,t,n,e),e=e.parent}}function qo(e,t,n,i){const s=Zo(t,e,i,!0);ia((()=>{ri(i[t],s)}),n)}function Go(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Yo(e){return 128&e.shapeFlag?e.ssContent:e}function Zo(e,t,n=Hl,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;is(),zl(n);const s=Dr(t,n,e,i);return jl(),ss(),s});return i?s.unshift(r):s.push(r),r}}const Xo=e=>(t,n=Hl)=>(!Gl||"sp"===e)&&Zo(e,t,n),Jo=Xo("bm"),Qo=Xo("m"),ea=Xo("bu"),ta=Xo("u"),na=Xo("bum"),ia=Xo("um"),sa=Xo("sp"),ra=Xo("rtg"),oa=Xo("rtc");function aa(e,t=Hl){Zo("ec",e,t)}function la(e,t){const n=no;if(null===n)return e;const i=Ql(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[e,n,o,a=Xn]=t[r];ui(e)&&(e={mounted:e,updated:e}),e.deep&&To(n),s.push({dir:e,instance:i,value:n,oldValue:void 0,arg:o,modifiers:a})}return e}function ca(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(is(),Dr(l,n,8,[e.el,a,e,t]),ss())}}const da=Symbol();function ha(e,t,n=!0,i=!1){const s=no||Hl;if(s){const n=s.type;if("components"===e){const e=tc(n,!1);if(e&&(e===t||e===Ei(t)||e===Li(Ei(t))))return n}const r=ua(s[e]||n[e],t)||ua(s.appContext[e],t);return!r&&i?n:r}}function ua(e,t){return e&&(e[t]||e[Ei(t)]||e[Li(Ei(t))])}function pa(e,t,n,i){let s;const r=n&&n[i];if(li(e)||pi(e)){s=new Array(e.length);for(let n=0,i=e.length;n<i;n++)s[n]=t(e[n],n,void 0,r&&r[n])}else if("number"==typeof e){s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,r&&r[n])}else if(fi(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,r&&r[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let i=0,o=n.length;i<o;i++){const o=n[i];s[i]=t(e[o],o,i,r&&r[i])}}else s=[];return n&&(n[i]=s),s}function ga(e,t,n={},i,s){if(no.isCE||no.parent&&Vo(no.parent)&&no.parent.isCE)return Dl("slot","default"===t?null:{name:t},i&&i());let r=e[t];r&&r._c&&(r._d=!1),gl();const o=r&&fa(r(n)),a=yl(ll,{key:n.key||`_${t}`},o||(i?i():[]),o&&1===e._?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function fa(e){return e.some((e=>!wl(e)||e.type!==dl&&!(e.type===ll&&!fa(e.children))))?e:null}const ma=e=>e?$l(e)?Ql(e)||e.proxy:ma(e.parent):null,_a=si(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ma(e.parent),$root:e=>ma(e.root),$emit:e=>e.emit,$options:e=>xa(e),$forceUpdate:e=>e.f||(e.f=()=>zr(e.update)),$nextTick:e=>e.n||(e.n=Ur.bind(e.proxy)),$watch:e=>Eo.bind(e)}),va={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=o[t];if(void 0!==a)switch(a){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(i!==Xn&&ai(i,t))return o[t]=1,i[t];if(s!==Xn&&ai(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&ai(c,t))return o[t]=3,r[t];if(n!==Xn&&ai(n,t))return o[t]=4,n[t];ya&&(o[t]=0)}}const d=_a[t];let h,u;return d?("$attrs"===t&&rs(e,0,t),d(e)):(h=a.__cssModules)&&(h=h[t])?h:n!==Xn&&ai(n,t)?(o[t]=4,n[t]):(u=l.config.globalProperties,ai(u,t)?u[t]:void 0)},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return s!==Xn&&ai(s,t)?(s[t]=n,!0):i!==Xn&&ai(i,t)?(i[t]=n,!0):!ai(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(r[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Xn&&ai(e,o)||t!==Xn&&ai(t,o)||(a=r[0])&&ai(a,o)||ai(i,o)||ai(_a,o)||ai(s.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:ai(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},ba=si({},va,{get(e,t){if(t!==Symbol.unscopables)return va.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!kn(t)});let ya=!0;function wa(e){const t=xa(e),n=e.proxy,i=e.ctx;ya=!1,t.beforeCreate&&Ca(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:d,beforeMount:h,mounted:u,beforeUpdate:p,updated:g,activated:f,deactivated:m,beforeDestroy:_,beforeUnmount:v,destroyed:b,unmounted:y,render:w,renderTracked:C,renderTriggered:S,errorCaptured:x,serverPrefetch:k,expose:E,inheritAttrs:D,components:T,directives:L,filters:N}=t;if(c&&function(e,t,n=Qn,i=!1){li(e)&&(e=Ta(e));for(const s in e){const n=e[s];let r;r=fi(n)?"default"in n?yo(n.from||s,n.default,!0):yo(n.from||s):yo(n),dr(r)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[s]=r}}(c,i,null,e.appContext.config.unwrapInjectedRef),o)for(const P in o){const e=o[P];ui(e)&&(i[P]=e.bind(n))}if(s){const t=s.call(n,n);fi(t)&&(e.data=Zs(t))}if(ya=!0,r)for(const P in r){const e=r[P],t=ui(e)?e.bind(n,n):ui(e.get)?e.get.bind(n,n):Qn,s=!ui(e)&&ui(e.set)?e.set.bind(n):Qn,o=ic({get:t,set:s});Object.defineProperty(i,P,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(a)for(const P in a)Sa(a[P],i,n,P);if(l){const e=ui(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{bo(t,e[t])}))}function I(e,t){li(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Ca(d,e,"c"),I(Jo,h),I(Qo,u),I(ea,p),I(ta,g),I(jo,f),I($o,m),I(aa,x),I(oa,C),I(ra,S),I(na,v),I(ia,y),I(sa,k),li(E))if(E.length){const t=e.exposed||(e.exposed={});E.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});w&&e.render===Qn&&(e.render=w),null!=D&&(e.inheritAttrs=D),T&&(e.components=T),L&&(e.directives=L)}function Ca(e,t,n){Dr(li(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Sa(e,t,n,i){const s=i.includes(".")?Do(n,i):()=>n[i];if(pi(e)){const n=t[e];ui(n)&&xo(s,n)}else if(ui(e))xo(s,e.bind(n));else if(fi(e))if(li(e))e.forEach((e=>Sa(e,t,n,i)));else{const i=ui(e.handler)?e.handler.bind(n):t[e.handler];ui(i)&&xo(s,i,e)}}function xa(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:s.length||n||i?(l={},s.length&&s.forEach((e=>ka(l,e,o,!0))),ka(l,t,o)):l=t,r.set(t,l),l}function ka(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&ka(e,r,n,!0),s&&s.forEach((t=>ka(e,t,n,!0)));for(const o in t)if(i&&"expose"===o);else{const i=Ea[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Ea={data:Da,props:Na,emits:Na,methods:Na,computed:Na,beforeCreate:La,created:La,beforeMount:La,mounted:La,beforeUpdate:La,updated:La,beforeDestroy:La,beforeUnmount:La,destroyed:La,unmounted:La,activated:La,deactivated:La,errorCaptured:La,serverPrefetch:La,components:Na,directives:Na,watch:function(e,t){if(!e)return t;if(!t)return e;const n=si(Object.create(null),e);for(const i in t)n[i]=La(e[i],t[i]);return n},provide:Da,inject:function(e,t){return Na(Ta(e),Ta(t))}};function Da(e,t){return t?e?function(){return si(ui(e)?e.call(this,this):e,ui(t)?t.call(this,this):t)}:t:e}function Ta(e){if(li(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function La(e,t){return e?[...new Set([].concat(e,t))]:t}function Na(e,t){return e?si(si(Object.create(null),e),t):t}function Ia(e,t,n,i){const[s,r]=e.propsOptions;let o,a=!1;if(t)for(let l in t){if(Ci(l))continue;const c=t[l];let d;s&&ai(s,d=Ei(l))?r&&r.includes(d)?(o||(o={}))[d]=c:n[d]=c:to(e.emitsOptions,l)||l in i&&c===i[l]||(i[l]=c,a=!0)}if(r){const t=sr(n),i=o||Xn;for(let o=0;o<r.length;o++){const a=r[o];n[a]=Pa(s,t,a,i[a],e,!ai(i,a))}}return a}function Pa(e,t,n,i,s,r){const o=e[n];if(null!=o){const e=ai(o,"default");if(e&&void 0===i){const e=o.default;if(o.type!==Function&&ui(e)){const{propsDefaults:r}=s;n in r?i=r[n]:(zl(s),i=r[n]=e.call(null,t),jl())}else i=e}o[0]&&(r&&!e?i=!1:!o[1]||""!==i&&i!==Ti(n)||(i=!0))}return i}function Oa(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!ui(e)){const i=e=>{l=!0;const[n,i]=Oa(e,t,!0);si(o,n),i&&a.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!r&&!l)return i.set(e,Jn),Jn;if(li(r))for(let d=0;d<r.length;d++){const e=Ei(r[d]);Ra(e)&&(o[e]=Xn)}else if(r)for(const d in r){const e=Ei(d);if(Ra(e)){const t=r[d],n=o[e]=li(t)||ui(t)?{type:t}:t;if(n){const t=Fa(Boolean,n.type),i=Fa(String,n.type);n[0]=t>-1,n[1]=i<0||t<i,(t>-1||ai(n,"default"))&&a.push(e)}}}const c=[o,a];return i.set(e,c),c}function Ra(e){return"$"!==e[0]}function Aa(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Ma(e,t){return Aa(e)===Aa(t)}function Fa(e,t){return li(t)?t.findIndex((t=>Ma(t,e))):ui(t)&&Ma(t,e)?0:-1}const Ba=e=>"_"===e[0]||"$stable"===e,Va=e=>li(e)?e.map(Ol):[Ol(e)],Wa=(e,t,n)=>{if(t._n)return t;const i=ro(((...e)=>Va(t(...e))),n);return i._c=!1,i},Ha=(e,t,n)=>{const i=e._ctx;for(const s in e){if(Ba(s))continue;const n=e[s];if(ui(n))t[s]=Wa(0,n,i);else if(null!=n){const e=Va(n);t[s]=()=>e}}},Ua=(e,t)=>{const n=Va(t);e.slots.default=()=>n};function za(){return{app:null,config:{isNativeTag:ei,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ja=0;function $a(e,t){return function(n,i=null){ui(n)||(n=Object.assign({},n)),null==i||fi(i)||(i=null);const s=za(),r=new Set;let o=!1;const a=s.app={_uid:ja++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:lc,get config(){return s.config},set config(e){},use:(e,...t)=>(r.has(e)||(e&&ui(e.install)?(r.add(e),e.install(a,...t)):ui(e)&&(r.add(e),e(a,...t))),a),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),a),component:(e,t)=>t?(s.components[e]=t,a):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,a):s.directives[e],mount(r,l,c){if(!o){const d=Dl(n,i);return d.appContext=s,l&&t?t(d,r):e(d,r,c),o=!0,a._container=r,r.__vue_app__=a,Ql(d.component)||d.component.proxy}},unmount(){o&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,a)};return a}}function Ka(e,t,n,i,s=!1){if(li(e))return void e.forEach(((e,r)=>Ka(e,t&&(li(t)?t[r]:t),n,i,s)));if(Vo(i)&&!s)return;const r=4&i.shapeFlag?Ql(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,d=a.refs===Xn?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==l&&(pi(c)?(d[c]=null,ai(h,c)&&(h[c]=null)):dr(c)&&(c.value=null)),ui(l))Er(l,a,12,[o,d]);else{const t=pi(l),i=dr(l);if(t||i){const a=()=>{if(e.f){const n=t?d[l]:l.value;s?li(n)&&ri(n,r):li(n)?n.includes(r)||n.push(r):t?(d[l]=[r],ai(h,l)&&(h[l]=d[l])):(l.value=[r],e.k&&(d[e.k]=l.value))}else t?(d[l]=o,ai(h,l)&&(h[l]=o)):i&&(l.value=o,e.k&&(d[e.k]=o))};o?(a.id=-1,Xa(a,n)):a()}}}let qa=!1;const Ga=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,Ya=e=>8===e.nodeType;function Za(e){const{mt:t,p:n,o:{patchProp:i,createText:s,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=e,d=(n,i,a,c,m,_=!1)=>{const v=Ya(n)&&"["===n.data,b=()=>g(n,i,a,c,m,v),{type:y,ref:w,shapeFlag:C,patchFlag:S}=i,x=n.nodeType;i.el=n,-2===S&&(_=!1,i.dynamicChildren=null);let k=null;switch(y){case cl:3!==x?""===i.children?(l(i.el=s(""),o(n),n),k=n):k=b():(n.data!==i.children&&(qa=!0,n.data=i.children),k=r(n));break;case dl:k=8!==x||v?b():r(n);break;case hl:if(1===x||3===x){k=n;const e=!i.children.length;for(let t=0;t<i.staticCount;t++)e&&(i.children+=1===k.nodeType?k.outerHTML:k.data),t===i.staticCount-1&&(i.anchor=k),k=r(k);return k}k=b();break;case ll:k=v?p(n,i,a,c,m,_):b();break;default:if(1&C)k=1!==x||i.type.toLowerCase()!==n.tagName.toLowerCase()?b():h(n,i,a,c,m,_);else if(6&C){i.slotScopeIds=m;const e=o(n);if(t(i,e,null,a,c,Ga(e),_),k=v?f(n):r(n),k&&Ya(k)&&"teleport end"===k.data&&(k=r(k)),Vo(i)){let t;v?(t=Dl(ll),t.anchor=k?k.previousSibling:e.lastChild):t=3===n.nodeType?Nl(""):Dl("div"),t.el=n,i.component.subTree=t}}else 64&C?k=8!==x?b():i.type.hydrate(n,i,a,c,m,_,e,u):128&C&&(k=i.type.hydrate(n,i,a,c,Ga(o(n)),m,_,e,d))}return null!=w&&Ka(w,null,c,i),k},h=(e,t,n,s,r,o)=>{o=o||!!t.dynamicChildren;const{type:l,props:c,patchFlag:d,shapeFlag:h,dirs:p}=t,g="input"===l&&p||"option"===l;if(g||-1!==d){if(p&&ca(t,null,n,"created"),c)if(g||!o||48&d)for(const t in c)(g&&t.endsWith("value")||ni(t)&&!Ci(t))&&i(e,t,null,c[t],!1,void 0,n);else c.onClick&&i(e,"onClick",null,c.onClick,!1,void 0,n);let l;if((l=c&&c.onVnodeBeforeMount)&&Fl(l,n,t),p&&ca(t,null,n,"beforeMount"),((l=c&&c.onVnodeMounted)||p)&&_o((()=>{l&&Fl(l,n,t),p&&ca(t,null,n,"mounted")}),s),16&h&&(!c||!c.innerHTML&&!c.textContent)){let i=u(e.firstChild,t,e,n,s,r,o);for(;i;){qa=!0;const e=i;i=i.nextSibling,a(e)}}else 8&h&&e.textContent!==t.children&&(qa=!0,e.textContent=t.children)}return e.nextSibling},u=(e,t,i,s,r,o,a)=>{a=a||!!t.dynamicChildren;const l=t.children,c=l.length;for(let h=0;h<c;h++){const t=a?l[h]:l[h]=Ol(l[h]);if(e)e=d(e,t,s,r,o,a);else{if(t.type===cl&&!t.children)continue;qa=!0,n(null,t,i,null,s,r,Ga(i),o)}}return e},p=(e,t,n,i,s,a)=>{const{slotScopeIds:d}=t;d&&(s=s?s.concat(d):d);const h=o(e),p=u(r(e),t,h,n,i,s,a);return p&&Ya(p)&&"]"===p.data?r(t.anchor=p):(qa=!0,l(t.anchor=c("]"),h,p),p)},g=(e,t,i,s,l,c)=>{if(qa=!0,t.el=null,c){const t=f(e);for(;;){const n=r(e);if(!n||n===t)break;a(n)}}const d=r(e),h=o(e);return a(e),n(null,t,h,d,i,s,Ga(h),l),d},f=e=>{let t=0;for(;e;)if((e=r(e))&&Ya(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return r(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),Gr(),void(t._vnode=e);qa=!1,d(t.firstChild,e,null,null,null),Gr(),t._vnode=e,qa&&console.error("Hydration completed but contains mismatches.")},d]}const Xa=_o;function Ja(e){return el(e)}function Qa(e){return el(e,Za)}function el(e,t){Mi().__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:r,createText:o,createComment:a,setText:l,setElementText:c,parentNode:d,nextSibling:h,setScopeId:u=Qn,cloneNode:p,insertStaticContent:g}=e,f=(e,t,n,i=null,s=null,r=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Cl(e,t)&&(i=H(e),M(e,s,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:h}=t;switch(c){case cl:m(e,t,n,i);break;case dl:_(e,t,n,i);break;case hl:null==e&&v(t,n,i,o);break;case ll:E(e,t,n,i,s,r,o,a,l);break;default:1&h?b(e,t,n,i,s,r,o,a,l):6&h?D(e,t,n,i,s,r,o,a,l):(64&h||128&h)&&c.process(e,t,n,i,s,r,o,a,l,z)}null!=d&&s&&Ka(d,e&&e.ref,r,t||e,!t)},m=(e,t,i,s)=>{if(null==e)n(t.el=o(t.children),i,s);else{const n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},_=(e,t,i,s)=>{null==e?n(t.el=a(t.children||""),i,s):t.el=e.el},v=(e,t,n,i)=>{[e.el,e.anchor]=g(e.children,t,n,i,e.el,e.anchor)},b=(e,t,n,i,s,r,o,a,l)=>{o=o||"svg"===t.type,null==e?y(t,n,i,s,r,o,a,l):S(e,t,s,r,o,a,l)},y=(e,t,i,o,a,l,d,h)=>{let u,g;const{type:f,props:m,shapeFlag:_,transition:v,patchFlag:b,dirs:y}=e;if(e.el&&void 0!==p&&-1===b)u=e.el=p(e.el);else{if(u=e.el=r(e.type,l,m&&m.is,m),8&_?c(u,e.children):16&_&&C(e.children,u,null,o,a,l&&"foreignObject"!==f,d,h),y&&ca(e,null,o,"created"),m){for(const t in m)"value"===t||Ci(t)||s(u,t,null,m[t],l,e.children,o,a,W);"value"in m&&s(u,"value",null,m.value),(g=m.onVnodeBeforeMount)&&Fl(g,o,e)}w(u,e,e.scopeId,d,o)}y&&ca(e,null,o,"beforeMount");const S=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;S&&v.beforeEnter(u),n(u,t,i),((g=m&&m.onVnodeMounted)||S||y)&&Xa((()=>{g&&Fl(g,o,e),S&&v.enter(u),y&&ca(e,null,o,"mounted")}),a)},w=(e,t,n,i,s)=>{if(n&&u(e,n),i)for(let r=0;r<i.length;r++)u(e,i[r]);if(s){if(t===s.subTree){const t=s.vnode;w(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},C=(e,t,n,i,s,r,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Rl(e[c]):Ol(e[c]);f(null,l,t,n,i,s,r,o,a)}},S=(e,t,n,i,r,o,a)=>{const l=t.el=e.el;let{patchFlag:d,dynamicChildren:h,dirs:u}=t;d|=16&e.patchFlag;const p=e.props||Xn,g=t.props||Xn;let f;n&&tl(n,!1),(f=g.onVnodeBeforeUpdate)&&Fl(f,n,t,e),u&&ca(t,e,n,"beforeUpdate"),n&&tl(n,!0);const m=r&&"foreignObject"!==t.type;if(h?x(e.dynamicChildren,h,l,n,i,m,o):a||P(e,t,l,null,n,i,m,o,!1),d>0){if(16&d)k(l,t,p,g,n,i,r);else if(2&d&&p.class!==g.class&&s(l,"class",null,g.class,r),4&d&&s(l,"style",p.style,g.style,r),8&d){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const a=o[t],c=p[a],d=g[a];d===c&&"value"!==a||s(l,a,c,d,r,e.children,n,i,W)}}1&d&&e.children!==t.children&&c(l,t.children)}else a||null!=h||k(l,t,p,g,n,i,r);((f=g.onVnodeUpdated)||u)&&Xa((()=>{f&&Fl(f,n,t,e),u&&ca(t,e,n,"updated")}),i)},x=(e,t,n,i,s,r,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],h=l.el&&(l.type===ll||!Cl(l,c)||70&l.shapeFlag)?d(l.el):n;f(l,c,h,null,i,s,r,o,!0)}},k=(e,t,n,i,r,o,a)=>{if(n!==i){for(const l in i){if(Ci(l))continue;const c=i[l],d=n[l];c!==d&&"value"!==l&&s(e,l,d,c,a,t.children,r,o,W)}if(n!==Xn)for(const l in n)Ci(l)||l in i||s(e,l,n[l],null,a,t.children,r,o,W);"value"in i&&s(e,"value",n.value,i.value)}},E=(e,t,i,s,r,a,l,c,d)=>{const h=t.el=e?e.el:o(""),u=t.anchor=e?e.anchor:o("");let{patchFlag:p,dynamicChildren:g,slotScopeIds:f}=t;f&&(c=c?c.concat(f):f),null==e?(n(h,i,s),n(u,i,s),C(t.children,i,u,r,a,l,c,d)):p>0&&64&p&&g&&e.dynamicChildren?(x(e.dynamicChildren,g,i,r,a,l,c),(null!=t.key||r&&t===r.subTree)&&nl(e,t,!0)):P(e,t,i,u,r,a,l,c,d)},D=(e,t,n,i,s,r,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,n,i,o,l):T(t,n,i,s,r,o,l):L(e,t,l)},T=(e,t,n,i,s,r,o)=>{const a=e.component=Wl(e,i,s);if(Ho(e)&&(a.ctx.renderer=z),Yl(a),a.asyncDep){if(s&&s.registerDep(a,N),!e.el){const e=a.subTree=Dl(dl);_(null,e,t,n)}}else N(a,e,t,n,s,r,o)},L=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||i!==o&&(i?!o||co(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?co(i,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==i[n]&&!to(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void I(i,t,n);i.next=t,function(e){const t=Ir.indexOf(e);t>Pr&&Ir.splice(t,1)}(i.update),i.update()}else t.el=e.el,i.vnode=t},N=(e,t,n,i,s,r,o)=>{const a=e.effect=new Qi((()=>{if(e.isMounted){let t,{next:n,bu:i,u:a,parent:l,vnode:c}=e,h=n;tl(e,!1),n?(n.el=c.el,I(e,n,o)):n=c,i&&Pi(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Fl(t,l,n,c),tl(e,!0);const u=oo(e),p=e.subTree;e.subTree=u,f(p,u,d(p.el),H(p),e,s,r),n.el=u.el,null===h&&ho(e,u.el),a&&Xa(a,s),(t=n.props&&n.props.onVnodeUpdated)&&Xa((()=>Fl(t,l,n,c)),s)}else{let o;const{el:a,props:l}=t,{bm:c,m:d,parent:h}=e,u=Vo(t);if(tl(e,!1),c&&Pi(c),!u&&(o=l&&l.onVnodeBeforeMount)&&Fl(o,h,t),tl(e,!0),a&&$){const n=()=>{e.subTree=oo(e),$(a,e.subTree,e,s,null)};u?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const o=e.subTree=oo(e);f(null,o,n,i,e,s,r),t.el=o.el}if(d&&Xa(d,s),!u&&(o=l&&l.onVnodeMounted)){const e=t;Xa((()=>Fl(o,h,e)),s)}(256&t.shapeFlag||h&&Vo(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Xa(e.a,s),e.isMounted=!0,t=n=i=null}}),(()=>zr(l)),e.scope),l=e.update=()=>a.run();l.id=e.uid,tl(e,!0),l()},I=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=sr(s),[l]=e.propsOptions;let c=!1;if(!(i||o>0)||16&o){let i;Ia(e,t,s,r)&&(c=!0);for(const r in a)t&&(ai(t,r)||(i=Ti(r))!==r&&ai(t,i))||(l?!n||void 0===n[r]&&void 0===n[i]||(s[r]=Pa(l,a,r,void 0,e,!0)):delete s[r]);if(r!==a)for(const e in r)t&&ai(t,e)||(delete r[e],c=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(to(e.emitsOptions,o))continue;const d=t[o];if(l)if(ai(r,o))d!==r[o]&&(r[o]=d,c=!0);else{const t=Ei(o);s[t]=Pa(l,a,t,d,e,!1)}else d!==r[o]&&(r[o]=d,c=!0)}}c&&as(e,"set","$attrs")}(e,t.props,i,n),((e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Xn;if(32&i.shapeFlag){const e=t._;e?n&&1===e?r=!1:(si(s,t),n||1!==e||delete s._):(r=!t.$stable,Ha(t,s)),o=t}else t&&(Ua(e,t),o={default:1});if(r)for(const a in s)Ba(a)||a in o||delete s[a]})(e,t.children,n),is(),qr(void 0,e.update),ss()},P=(e,t,n,i,s,r,o,a,l=!1)=>{const d=e&&e.children,h=e?e.shapeFlag:0,u=t.children,{patchFlag:p,shapeFlag:g}=t;if(p>0){if(128&p)return void R(d,u,n,i,s,r,o,a,l);if(256&p)return void O(d,u,n,i,s,r,o,a,l)}8&g?(16&h&&W(d,s,r),u!==d&&c(n,u)):16&h?16&g?R(d,u,n,i,s,r,o,a,l):W(d,s,r,!0):(8&h&&c(n,""),16&g&&C(u,n,i,s,r,o,a,l))},O=(e,t,n,i,s,r,o,a,l)=>{t=t||Jn;const c=(e=e||Jn).length,d=t.length,h=Math.min(c,d);let u;for(u=0;u<h;u++){const i=t[u]=l?Rl(t[u]):Ol(t[u]);f(e[u],i,n,null,s,r,o,a,l)}c>d?W(e,s,r,!0,!1,h):C(t,n,i,s,r,o,a,l,h)},R=(e,t,n,i,s,r,o,a,l)=>{let c=0;const d=t.length;let h=e.length-1,u=d-1;for(;c<=h&&c<=u;){const i=e[c],d=t[c]=l?Rl(t[c]):Ol(t[c]);if(!Cl(i,d))break;f(i,d,n,null,s,r,o,a,l),c++}for(;c<=h&&c<=u;){const i=e[h],c=t[u]=l?Rl(t[u]):Ol(t[u]);if(!Cl(i,c))break;f(i,c,n,null,s,r,o,a,l),h--,u--}if(c>h){if(c<=u){const e=u+1,h=e<d?t[e].el:i;for(;c<=u;)f(null,t[c]=l?Rl(t[c]):Ol(t[c]),n,h,s,r,o,a,l),c++}}else if(c>u)for(;c<=h;)M(e[c],s,r,!0),c++;else{const p=c,g=c,m=new Map;for(c=g;c<=u;c++){const e=t[c]=l?Rl(t[c]):Ol(t[c]);null!=e.key&&m.set(e.key,c)}let _,v=0;const b=u-g+1;let y=!1,w=0;const C=new Array(b);for(c=0;c<b;c++)C[c]=0;for(c=p;c<=h;c++){const i=e[c];if(v>=b){M(i,s,r,!0);continue}let d;if(null!=i.key)d=m.get(i.key);else for(_=g;_<=u;_++)if(0===C[_-g]&&Cl(i,t[_])){d=_;break}void 0===d?M(i,s,r,!0):(C[d-g]=c+1,d>=w?w=d:y=!0,f(i,t[d],n,null,s,r,o,a,l),v++)}const S=y?function(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(s=n[n.length-1],e[s]<l){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<l?r=a+1:o=a;l<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}r=n.length,o=n[r-1];for(;r-- >0;)n[r]=o,o=t[o];return n}(C):Jn;for(_=S.length-1,c=b-1;c>=0;c--){const e=g+c,h=t[e],u=e+1<d?t[e+1].el:i;0===C[c]?f(null,h,n,u,s,r,o,a,l):y&&(_<0||c!==S[_]?A(h,n,u,2):_--)}}},A=(e,t,i,s,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:d}=e;if(6&d)return void A(e.component.subTree,t,i,s);if(128&d)return void e.suspense.move(t,i,s);if(64&d)return void a.move(e,t,i,z);if(a===ll){n(o,t,i);for(let e=0;e<c.length;e++)A(c[e],t,i,s);return void n(e.anchor,t,i)}if(a===hl)return void(({el:e,anchor:t},i,s)=>{let r;for(;e&&e!==t;)r=h(e),n(e,i,s),e=r;n(t,i,s)})(e,t,i);if(2!==s&&1&d&&l)if(0===s)l.beforeEnter(o),n(o,t,i),Xa((()=>l.enter(o)),r);else{const{leave:e,delayLeave:s,afterLeave:r}=l,a=()=>n(o,t,i),c=()=>{e(o,(()=>{a(),r&&r()}))};s?s(o,a,c):c()}else n(o,t,i)},M=(e,t,n,i=!1,s=!1)=>{const{type:r,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:h,dirs:u}=e;if(null!=a&&Ka(a,null,n,e,!0),256&d)return void t.ctx.deactivate(e);const p=1&d&&u,g=!Vo(e);let f;if(g&&(f=o&&o.onVnodeBeforeUnmount)&&Fl(f,t,e),6&d)V(e.component,n,i);else{if(128&d)return void e.suspense.unmount(n,i);p&&ca(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,n,s,z,i):c&&(r!==ll||h>0&&64&h)?W(c,t,n,!1,!0):(r===ll&&384&h||!s&&16&d)&&W(l,t,n),i&&F(e)}(g&&(f=o&&o.onVnodeUnmounted)||p)&&Xa((()=>{f&&Fl(f,t,e),p&&ca(e,null,t,"unmounted")}),n)},F=e=>{const{type:t,el:n,anchor:s,transition:r}=e;if(t===ll)return void B(n,s);if(t===hl)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),i(e),e=n;i(t)})(e);const o=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,s=()=>t(n,o);i?i(e.el,o,s):s()}else o()},B=(e,t)=>{let n;for(;e!==t;)n=h(e),i(e),e=n;i(t)},V=(e,t,n)=>{const{bum:i,scope:s,update:r,subTree:o,um:a}=e;i&&Pi(i),s.stop(),r&&(r.active=!1,M(o,e,t,n)),a&&Xa(a,t),Xa((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},W=(e,t,n,i=!1,s=!1,r=0)=>{for(let o=r;o<e.length;o++)M(e[o],t,n,i,s)},H=e=>6&e.shapeFlag?H(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),U=(e,t,n)=>{null==e?t._vnode&&M(t._vnode,null,null,!0):f(t._vnode||null,e,t,null,null,null,n),Gr(),t._vnode=e},z={p:f,um:M,m:A,r:F,mt:T,mc:C,pc:P,pbc:x,n:H,o:e};let j,$;return t&&([j,$]=t(z)),{render:U,hydrate:j,createApp:$a(U,j)}}function tl({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function nl(e,t,n=!1){const i=e.children,s=t.children;if(li(i)&&li(s))for(let r=0;r<i.length;r++){const e=i[r];let t=s[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[r]=Rl(s[r]),t.el=e.el),n||nl(e,t))}}const il=e=>e&&(e.disabled||""===e.disabled),sl=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,rl=(e,t)=>{const n=e&&e.to;if(pi(n)){if(t){return t(n)}return null}return n};function ol(e,t,n,{o:{insert:i},m:s},r=2){0===r&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:d}=e,h=2===r;if(h&&i(o,t,n),(!h||il(d))&&16&l)for(let u=0;u<c.length;u++)s(c[u],t,n,2);h&&i(a,t,n)}const al={__isTeleport:!0,process(e,t,n,i,s,r,o,a,l,c){const{mc:d,pc:h,pbc:u,o:{insert:p,querySelector:g,createText:f,createComment:m}}=c,_=il(t.props);let{shapeFlag:v,children:b,dynamicChildren:y}=t;if(null==e){const e=t.el=f(""),c=t.anchor=f("");p(e,n,i),p(c,n,i);const h=t.target=rl(t.props,g),u=t.targetAnchor=f("");h&&(p(u,h),o=o||sl(h));const m=(e,t)=>{16&v&&d(b,e,t,s,r,o,a,l)};_?m(n,c):h&&m(h,u)}else{t.el=e.el;const i=t.anchor=e.anchor,d=t.target=e.target,p=t.targetAnchor=e.targetAnchor,f=il(e.props),m=f?n:d,v=f?i:p;if(o=o||sl(d),y?(u(e.dynamicChildren,y,m,s,r,o,a),nl(e,t,!0)):l||h(e,t,m,v,s,r,o,a,!1),_)f||ol(t,n,i,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=rl(t.props,g);e&&ol(t,e,null,c,0)}else f&&ol(t,d,p,c,1)}},remove(e,t,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:d,target:h,props:u}=e;if(h&&r(d),(o||!il(u))&&(r(c),16&a))for(let p=0;p<l.length;p++){const e=l[p];s(e,t,n,!0,!!e.dynamicChildren)}},move:ol,hydrate:function(e,t,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const d=t.target=rl(t.props,l);if(d){const l=d._lpa||d.firstChild;if(16&t.shapeFlag)if(il(t.props))t.anchor=c(o(e),t,a(e),n,i,s,r),t.targetAnchor=l;else{t.anchor=o(e);let a=l;for(;a;)if(a=o(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(l,t,d,n,i,s,r)}}return t.anchor&&o(t.anchor)}},ll=Symbol(void 0),cl=Symbol(void 0),dl=Symbol(void 0),hl=Symbol(void 0),ul=[];let pl=null;function gl(e=!1){ul.push(pl=e?null:[])}function fl(){ul.pop(),pl=ul[ul.length-1]||null}let ml=1;function _l(e){ml+=e}function vl(e){return e.dynamicChildren=ml>0?pl||Jn:null,fl(),ml>0&&pl&&pl.push(e),e}function bl(e,t,n,i,s,r){return vl(El(e,t,n,i,s,r,!0))}function yl(e,t,n,i,s){return vl(Dl(e,t,n,i,s,!0))}function wl(e){return!!e&&!0===e.__v_isVNode}function Cl(e,t){return e.type===t.type&&e.key===t.key}const Sl="__vInternal",xl=({key:e})=>null!=e?e:null,kl=({ref:e,ref_key:t,ref_for:n})=>null!=e?pi(e)||dr(e)||ui(e)?{i:no,r:e,k:t,f:!!n}:e:null;function El(e,t=null,n=null,i=0,s=null,r=(e===ll?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xl(t),ref:t&&kl(t),scopeId:io,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Al(l,n),128&r&&e.normalize(l)):n&&(l.shapeFlag|=pi(n)?8:16),ml>0&&!o&&pl&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&pl.push(l),l}const Dl=function(e,t=null,n=null,i=0,s=null,r=!1){e&&e!==da||(e=dl);if(wl(e)){const i=Ll(e,t,!0);return n&&Al(i,n),ml>0&&!r&&pl&&(6&i.shapeFlag?pl[pl.indexOf(e)]=i:pl.push(i)),i.patchFlag|=-2,i}o=e,ui(o)&&"__vccOpts"in o&&(e=e.__vccOpts);var o;if(t){t=Tl(t);let{class:e,style:n}=t;e&&!pi(e)&&(t.class=Wn(e)),fi(n)&&(ir(n)&&!li(n)&&(n=si({},n)),t.style=Mn(n))}const a=pi(e)?1:uo(e)?128:(e=>e.__isTeleport)(e)?64:fi(e)?4:ui(e)?2:0;return El(e,t,n,i,s,a,r,!0)};function Tl(e){return e?ir(e)||Sl in e?si({},e):e:null}function Ll(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?Ml(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&xl(a),ref:t&&t.ref?n&&s?li(s)?s.concat(kl(t)):[s,kl(t)]:kl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ll?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ll(e.ssContent),ssFallback:e.ssFallback&&Ll(e.ssFallback),el:e.el,anchor:e.anchor}}function Nl(e=" ",t=0){return Dl(cl,null,e,t)}function Il(e,t){const n=Dl(hl,null,e);return n.staticCount=t,n}function Pl(e="",t=!1){return t?(gl(),yl(dl,null,e)):Dl(dl,null,e)}function Ol(e){return null==e||"boolean"==typeof e?Dl(dl):li(e)?Dl(ll,null,e.slice()):"object"==typeof e?Rl(e):Dl(cl,null,String(e))}function Rl(e){return null===e.el||e.memo?e:Ll(e)}function Al(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(li(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Al(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Sl in t?3===i&&no&&(1===no.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=no}}else ui(t)?(t={default:t,_ctx:no},n=32):(t=String(t),64&i?(n=16,t=[Nl(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ml(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Wn([t.class,i.class]));else if("style"===e)t.style=Mn([t.style,i.style]);else if(ni(e)){const n=t[e],s=i[e];!s||n===s||li(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=i[e])}return t}function Fl(e,t,n,i=null){Dr(e,t,7,[n,i])}const Bl=za();let Vl=0;function Wl(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||Bl,r={uid:Vl++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oa(i,s),emitsOptions:eo(i,s),emit:null,emitted:null,propsDefaults:Xn,inheritAttrs:i.inheritAttrs,ctx:Xn,data:Xn,props:Xn,attrs:Xn,slots:Xn,refs:Xn,setupState:Xn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Qr.bind(null,r),e.ce&&e.ce(r),r}let Hl=null;const Ul=()=>Hl||no,zl=e=>{Hl=e,e.scope.on()},jl=()=>{Hl&&Hl.scope.off(),Hl=null};function $l(e){return 4&e.vnode.shapeFlag}let Kl,ql,Gl=!1;function Yl(e,t=!1){Gl=t;const{props:n,children:i}=e.vnode,s=$l(e);!function(e,t,n,i=!1){const s={},r={};Oi(r,Sl,1),e.propsDefaults=Object.create(null),Ia(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:Xs(s):e.type.props?e.props=s:e.props=r,e.attrs=r}(e,n,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=sr(t),Oi(t,"_",n)):Ha(t,e.slots={})}else e.slots={},t&&Ua(e,t);Oi(e.slots,Sl,1)})(e,i);const r=s?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=rr(new Proxy(e.ctx,va));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?Jl(e):null;zl(e),is();const s=Er(i,e,0,[e.props,n]);if(ss(),jl(),mi(s)){if(s.then(jl,jl),t)return s.then((n=>{Zl(e,n,t)})).catch((t=>{Tr(t,e,0)}));e.asyncDep=s}else Zl(e,s,t)}else Xl(e,t)}(e,t):void 0;return Gl=!1,r}function Zl(e,t,n){ui(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:fi(t)&&(e.setupState=_r(t)),Xl(e,n)}function Xl(e,t,n){const i=e.type;if(!e.render){if(!t&&Kl&&!i.render){const t=i.template;if(t){const{isCustomElement:n,compilerOptions:s}=e.appContext.config,{delimiters:r,compilerOptions:o}=i,a=si(si({isCustomElement:n,delimiters:r},s),o);i.render=Kl(t,a)}}e.render=i.render||Qn,ql&&ql(e)}zl(e),is(),wa(e),ss(),jl()}function Jl(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(rs(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}function Ql(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(_r(rr(e.exposed)),{get:(t,n)=>n in t?t[n]:n in _a?_a[n](e):void 0}))}const ec=/(?:^|[-_])(\w)/g;function tc(e,t=!0){return ui(e)?e.displayName||e.name:e.name||t&&e.__name}function nc(e,t,n=!1){let i=tc(t);if(!i&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(i=e[1])}if(!i&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?i.replace(ec,(e=>e.toUpperCase())).replace(/[-_]/g,""):n?"App":"Anonymous"}const ic=(e,t)=>function(e,t,n=!1){let i,s;const r=ui(e);return r?(i=e,s=Qn):(i=e.get,s=e.set),new wr(i,s,r||!s,n)}(e,0,Gl);function sc(){const e=Ul();return e.setupContext||(e.setupContext=Jl(e))}function rc(e,t,n){const i=arguments.length;return 2===i?fi(t)&&!li(t)?wl(t)?Dl(e,null,[t]):Dl(e,t):Dl(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&wl(n)&&(n=[n]),Dl(e,t,n))}const oc=Symbol("");function ac(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(Ii(n[i],t[i]))return!1;return ml>0&&pl&&pl.push(e),!0}const lc="3.2.37",cc={createComponentInstance:Wl,setupComponent:Yl,renderComponentRoot:oo,setCurrentRenderingInstance:so,isVNode:wl,normalizeVNode:Ol},dc="undefined"!=typeof document?document:null,hc=dc&&dc.createElement("template"),uc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?dc.createElementNS("http://www.w3.org/2000/svg",e):dc.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&s.setAttribute("multiple",i.multiple),s},createText:e=>dc.createTextNode(e),createComment:e=>dc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),s!==r&&(s=s.nextSibling););else{hc.innerHTML=i?`<svg>${e}</svg>`:e;const s=hc.content;if(i){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const pc=/\s*!important$/;function gc(e,t,n){if(li(n))n.forEach((n=>gc(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=mc[t];if(n)return n;let i=Ei(t);if("filter"!==i&&i in e)return mc[t]=i;i=Li(i);for(let s=0;s<fc.length;s++){const n=fc[s]+i;if(n in e)return mc[t]=n}return t}(e,t);pc.test(n)?e.setProperty(Ti(i),n.replace(pc,""),"important"):e[i]=n}}const fc=["Webkit","Moz","ms"],mc={};const _c="http://www.w3.org/1999/xlink";const[vc,bc]=(()=>{let e=Date.now,t=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let yc=0;const wc=Promise.resolve(),Cc=()=>{yc=0};function Sc(e,t,n,i){e.addEventListener(t,n,i)}function xc(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[n,a]=function(e){let t;if(kc.test(e)){let n;for(t={};n=e.match(kc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ti(e.slice(2)),t]}(t);if(i){Sc(e,n,r[t]=function(e,t){const n=e=>{const i=e.timeStamp||vc();(bc||i>=n.attached-1)&&Dr(function(e,t){if(li(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>yc||(wc.then(Cc),yc=vc()))(),n}(i,s),a)}else o&&(!function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,o,a),r[t]=void 0)}}const kc=/(?:Once|Passive|Capture)$/;const Ec=/^on[a-z]/;function Dc(e,t){const n=Bo(e);class i extends Lc{constructor(e){super(n,e,t)}}return i.def=n,i}const Tc="undefined"!=typeof HTMLElement?HTMLElement:class{};class Lc extends Tc{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Ur((()=>{this._connected||(kd(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,i=!li(t),s=t?i?Object.keys(t):t:[];let r;if(i)for(const o in this._props){const e=t[o];(e===Number||e&&e.type===Number)&&(this._props[o]=Ri(this._props[o]),(r||(r=Object.create(null)))[o]=!0)}this._numberProps=r;for(const o of Object.keys(this))"_"!==o[0]&&this._setProp(o,this[o],!0,!1);for(const o of s.map(Ei))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(e){this._setProp(o,e)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=Ri(t)),this._setProp(Ei(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(Ti(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(Ti(e),t+""):t||this.removeAttribute(Ti(e))))}_update(){kd(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Dl(this._def,si({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Lc){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function Nc(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{Nc(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)Ic(e.el,t);else if(e.type===ll)e.children.forEach((e=>Nc(e,t)));else if(e.type===hl){let{el:n,anchor:i}=e;for(;n&&(Ic(n,t),n!==i);)n=n.nextSibling}}function Ic(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const Pc=(e,{slots:t})=>rc(Io,Fc(e),t);Pc.displayName="Transition";const Oc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rc=Pc.props=si({},Io.props,Oc),Ac=(e,t=[])=>{li(e)?e.forEach((e=>e(...t))):e&&e(...t)},Mc=e=>!!e&&(li(e)?e.some((e=>e.length>1)):e.length>1);function Fc(e){const t={};for(const T in e)T in Oc||(t[T]=e[T]);if(!1===e.css)return t;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:d=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:u=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=function(e){if(null==e)return null;if(fi(e))return[Bc(e.enter),Bc(e.leave)];{const t=Bc(e);return[t,t]}}(s),f=g&&g[0],m=g&&g[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:b,onLeave:y,onLeaveCancelled:w,onBeforeAppear:C=_,onAppear:S=v,onAppearCancelled:x=b}=t,k=(e,t,n)=>{Wc(e,t?d:a),Wc(e,t?c:o),n&&n()},E=(e,t)=>{e._isLeaving=!1,Wc(e,h),Wc(e,p),Wc(e,u),t&&t()},D=e=>(t,n)=>{const s=e?S:v,o=()=>k(t,e,n);Ac(s,[t,o]),Hc((()=>{Wc(t,e?l:r),Vc(t,e?d:a),Mc(s)||zc(t,i,f,o)}))};return si(t,{onBeforeEnter(e){Ac(_,[e]),Vc(e,r),Vc(e,o)},onBeforeAppear(e){Ac(C,[e]),Vc(e,l),Vc(e,c)},onEnter:D(!1),onAppear:D(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>E(e,t);Vc(e,h),qc(),Vc(e,u),Hc((()=>{e._isLeaving&&(Wc(e,h),Vc(e,p),Mc(y)||zc(e,i,m,n))})),Ac(y,[e,n])},onEnterCancelled(e){k(e,!1),Ac(b,[e])},onAppearCancelled(e){k(e,!0),Ac(x,[e])},onLeaveCancelled(e){E(e),Ac(w,[e])}})}function Bc(e){return Ri(e)}function Vc(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Wc(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Hc(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Uc=0;function zc(e,t,n,i){const s=e._endId=++Uc,r=()=>{s===e._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=jc(e,t);if(!o)return i();const c=o+"end";let d=0;const h=()=>{e.removeEventListener(c,u),r()},u=t=>{t.target===e&&++d>=l&&h()};setTimeout((()=>{d<l&&h()}),a+1),e.addEventListener(c,u)}function jc(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),s=i("transitionDelay"),r=i("transitionDuration"),o=$c(s,r),a=i("animationDelay"),l=i("animationDuration"),c=$c(a,l);let d=null,h=0,u=0;"transition"===t?o>0&&(d="transition",h=o,u=r.length):"animation"===t?c>0&&(d="animation",h=c,u=l.length):(h=Math.max(o,c),d=h>0?o>c?"transition":"animation":null,u=d?"transition"===d?r.length:l.length:0);return{type:d,timeout:h,propCount:u,hasTransform:"transition"===d&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function $c(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Kc(t)+Kc(e[n]))))}function Kc(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function qc(){return document.body.offsetHeight}const Gc=new WeakMap,Yc=new WeakMap,Zc={name:"TransitionGroup",props:si({},Rc,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ul(),i=Lo();let s,r;return ta((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&i.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&i.classList.add(e))),i.style.display="none";const s=1===t.nodeType?t:t.parentNode;s.appendChild(i);const{hasTransform:r}=jc(i);return s.removeChild(i),r}(s[0].el,n.vnode.el,t))return;s.forEach(Xc),s.forEach(Jc);const i=s.filter(Qc);qc(),i.forEach((e=>{const n=e.el,i=n.style;Vc(n,t),i.transform=i.webkitTransform=i.transitionDuration="";const s=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",s),n._moveCb=null,Wc(n,t))};n.addEventListener("transitionend",s)}))})),()=>{const o=sr(e),a=Fc(o);let l=o.tag||ll;s=r,r=t.default?Fo(t.default()):[];for(let e=0;e<r.length;e++){const t=r[e];null!=t.key&&Mo(t,Oo(t,a,i,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];Mo(t,Oo(t,a,i,n)),Gc.set(t,t.el.getBoundingClientRect())}return Dl(l,null,r)}}};function Xc(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Jc(e){Yc.set(e,e.el.getBoundingClientRect())}function Qc(e){const t=Gc.get(e),n=Yc.get(e),i=t.left-n.left,s=t.top-n.top;if(i||s){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${s}px)`,t.transitionDuration="0s",e}}const ed=e=>{const t=e.props["onUpdate:modelValue"]||!1;return li(t)?e=>Pi(t,e):t};function td(e){e.target.composing=!0}function nd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const id={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=ed(s);const r=i||s.props&&"number"===s.props.type;Sc(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),r&&(i=Ri(i)),e._assign(i)})),n&&Sc(e,"change",(()=>{e.value=e.value.trim()})),t||(Sc(e,"compositionstart",td),Sc(e,"compositionend",nd),Sc(e,"change",nd))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=ed(r),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((s||"number"===e.type)&&Ri(e.value)===t)return}const o=null==t?"":t;e.value!==o&&(e.value=o)}},sd={deep:!0,created(e,t,n){e._assign=ed(n),Sc(e,"change",(()=>{const t=e._modelValue,n=cd(e),i=e.checked,s=e._assign;if(li(t)){const e=Gn(t,n),r=-1!==e;if(i&&!r)s(t.concat(n));else if(!i&&r){const n=[...t];n.splice(e,1),s(n)}}else if(di(t)){const e=new Set(t);i?e.add(n):e.delete(n),s(e)}else s(dd(e,i))}))},mounted:rd,beforeUpdate(e,t,n){e._assign=ed(n),rd(e,t,n)}};function rd(e,{value:t,oldValue:n},i){e._modelValue=t,li(t)?e.checked=Gn(t,i.props.value)>-1:di(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=qn(t,dd(e,!0)))}const od={created(e,{value:t},n){e.checked=qn(t,n.props.value),e._assign=ed(n),Sc(e,"change",(()=>{e._assign(cd(e))}))},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=ed(i),t!==n&&(e.checked=qn(t,i.props.value))}},ad={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=di(t);Sc(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?Ri(cd(e)):cd(e)));e._assign(e.multiple?s?new Set(t):t:t[0])})),e._assign=ed(i)},mounted(e,{value:t}){ld(e,t)},beforeUpdate(e,t,n){e._assign=ed(n)},updated(e,{value:t}){ld(e,t)}};function ld(e,t){const n=e.multiple;if(!n||li(t)||di(t)){for(let i=0,s=e.options.length;i<s;i++){const s=e.options[i],r=cd(s);if(n)li(t)?s.selected=Gn(t,r)>-1:s.selected=t.has(r);else if(qn(cd(s),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function cd(e){return"_value"in e?e._value:e.value}function dd(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const hd={created(e,t,n){pd(e,t,n,null,"created")},mounted(e,t,n){pd(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){pd(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){pd(e,t,n,i,"updated")}};function ud(e,t){switch(e){case"SELECT":return ad;case"TEXTAREA":return id;default:switch(t){case"checkbox":return sd;case"radio":return od;default:return id}}}function pd(e,t,n,i,s){const r=ud(e.tagName,n.props&&n.props.type)[s];r&&r(e,t,n,i)}const gd=["ctrl","shift","alt","meta"],fd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>gd.some((n=>e[`${n}Key`]&&!t.includes(n)))},md={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_d=(e,t)=>n=>{if(!("key"in n))return;const i=Ti(n.key);return t.some((e=>e===i||md[e]===i))?e(n):void 0},vd={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):bd(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),bd(e,!0),i.enter(e)):i.leave(e,(()=>{bd(e,!1)})):bd(e,t))},beforeUnmount(e,{value:t}){bd(e,t)}};function bd(e,t){e.style.display=t?e._vod:"none"}const yd=si({patchProp:(e,t,n,i,s=!1,r,o,a,l)=>{"class"===t?function(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,s):"style"===t?function(e,t,n){const i=e.style,s=pi(n);if(n&&!s){for(const e in n)gc(i,e,n[e]);if(t&&!pi(t))for(const e in t)null==n[e]&&gc(i,e,"")}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}(e,n,i):ni(t)?ii(t)||xc(e,t,0,i,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&Ec.test(t)&&ui(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Ec.test(t)&&pi(n))return!1;return t in e}(e,t,i,s))?function(e,t,n,i,s,r,o){if("innerHTML"===t||"textContent"===t)return i&&o(i,s,r),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const i=null==n?"":n;return e.value===i&&"OPTION"!==e.tagName||(e.value=i),void(null==n&&e.removeAttribute(t))}let a=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=Nn(n):null==n&&"string"===i?(n="",a=!0):"number"===i&&(n=0,a=!0)}try{e[t]=n}catch(l){}a&&e.removeAttribute(t)}(e,t,i,r,o,a,l):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,n,i,s){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(_c,t.slice(6,t.length)):e.setAttributeNS(_c,t,n);else{const i=Tn(t);null==n||i&&!Nn(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}(e,t,i,s))}},uc);let wd,Cd=!1;function Sd(){return wd||(wd=Ja(yd))}function xd(){return wd=Cd?wd:Qa(yd),Cd=!0,wd}const kd=(...e)=>{Sd().render(...e)},Ed=(...e)=>{xd().hydrate(...e)},Dd=(...e)=>{const t=Sd().createApp(...e),{mount:n}=t;return t.mount=e=>{const i=Td(e);if(!i)return;const s=t._component;ui(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Td(e){if(pi(e)){return document.querySelector(e)}return e}let Ld=!1;var Nd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Transition:Pc,TransitionGroup:Zc,VueElement:Lc,createApp:Dd,createSSRApp:(...e)=>{const t=xd().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=Td(e);if(t)return n(t,!0,t instanceof SVGElement)},t},defineCustomElement:Dc,defineSSRCustomElement:e=>Dc(e,Ed),hydrate:Ed,initDirectivesForSSR:()=>{Ld||(Ld=!0,id.getSSRProps=({value:e})=>({value:e}),od.getSSRProps=({value:e},t)=>{if(t.props&&qn(t.props.value,e))return{checked:!0}},sd.getSSRProps=({value:e},t)=>{if(li(e)){if(t.props&&Gn(e,t.props.value)>-1)return{checked:!0}}else if(di(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},hd.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=ud(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},vd.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})},render:kd,useCssModule:function(e="$style"){{const t=Ul();if(!t)return Xn;const n=t.type.__cssModules;if(!n)return Xn;const i=n[e];return i||Xn}},useCssVars:function(e){const t=Ul();if(!t)return;const n=()=>Nc(t.subTree,e(t.proxy));Co(n),Qo((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),ia((()=>e.disconnect()))}))},vModelCheckbox:sd,vModelDynamic:hd,vModelRadio:od,vModelSelect:ad,vModelText:id,vShow:vd,withKeys:_d,withModifiers:(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=fd[t[e]];if(i&&i(n,t))return}return e(n,...i)},EffectScope:Wi,ReactiveEffect:Qi,customRef:function(e){return new vr(e)},effect:function(e,t){e.effect&&(e=e.effect.fn);const n=new Qi(e);t&&(si(n,t),t.scope&&Hi(n,t.scope)),t&&t.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i},effectScope:function(e){return new Wi(e)},getCurrentScope:Ui,isProxy:ir,isReactive:er,isReadonly:tr,isRef:dr,isShallow:nr,markRaw:rr,onScopeDispose:zi,proxyRefs:_r,reactive:Zs,readonly:Js,ref:hr,shallowReactive:Xs,shallowReadonly:function(e){return Qs(e,!0,Ss,$s,Ys)},shallowRef:ur,stop:function(e){e.effect.stop()},toRaw:sr,toRef:yr,toRefs:function(e){const t=li(e)?new Array(e.length):{};for(const n in e)t[n]=yr(e,n);return t},triggerRef:function(e){cr(e)},unref:fr,camelize:Ei,capitalize:Li,normalizeClass:Wn,normalizeProps:Hn,normalizeStyle:Mn,toDisplayString:Yn,toHandlerKey:Ni,BaseTransition:Io,Comment:dl,Fragment:ll,KeepAlive:Uo,Static:hl,Suspense:po,Teleport:al,Text:cl,callWithAsyncErrorHandling:Dr,callWithErrorHandling:Er,cloneVNode:Ll,compatUtils:null,computed:ic,createBlock:yl,createCommentVNode:Pl,createElementBlock:bl,createElementVNode:El,createHydrationRenderer:Qa,createPropsRestProxy:function(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n},createRenderer:Ja,createSlots:function(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(li(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.fn)}return e},createStaticVNode:Il,createTextVNode:Nl,createVNode:Dl,defineAsyncComponent:function(e){ui(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=e;let l,c=null,d=0;const h=()=>{let e;return c||(e=c=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),a)return new Promise(((t,n)=>{a(e,(()=>t((d++,c=null,h()))),(()=>n(e)),d+1)}));throw e})).then((t=>e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t))))};return Bo({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return l},setup(){const e=Hl;if(l)return()=>Wo(l,e);const t=t=>{c=null,Tr(t,e,13,!i)};if(o&&e.suspense||Gl)return h().then((t=>()=>Wo(t,e))).catch((e=>(t(e),()=>i?Dl(i,{error:e}):null)));const a=hr(!1),d=hr(),u=hr(!!s);return s&&setTimeout((()=>{u.value=!1}),s),null!=r&&setTimeout((()=>{if(!a.value&&!d.value){const e=new Error(`Async component timed out after ${r}ms.`);t(e),d.value=e}}),r),h().then((()=>{a.value=!0,e.parent&&Ho(e.parent.vnode)&&zr(e.parent.update)})).catch((e=>{t(e),d.value=e})),()=>a.value&&l?Wo(l,e):d.value&&i?Dl(i,{error:d.value}):n&&!u.value?Dl(n):void 0}})},defineComponent:Bo,defineEmits:function(){return null},defineExpose:function(e){},defineProps:function(){return null},get devtools(){return Xr},getCurrentInstance:Ul,getTransitionRawChildren:Fo,guardReactiveProps:Tl,h:rc,handleError:Tr,initCustomFormatter:function(){},inject:yo,isMemoSame:ac,isRuntimeOnly:()=>!Kl,isVNode:wl,mergeDefaults:function(e,t){const n=li(e)?e.reduce(((e,t)=>(e[t]={},e)),{}):e;for(const i in t){const e=n[i];e?li(e)||ui(e)?n[i]={type:e,default:t[i]}:e.default=t[i]:null===e&&(n[i]={default:t[i]})}return n},mergeProps:Ml,nextTick:Ur,onActivated:jo,onBeforeMount:Jo,onBeforeUnmount:na,onBeforeUpdate:ea,onDeactivated:$o,onErrorCaptured:aa,onMounted:Qo,onRenderTracked:oa,onRenderTriggered:ra,onServerPrefetch:sa,onUnmounted:ia,onUpdated:ta,openBlock:gl,popScopeId:function(){io=null},provide:bo,pushScopeId:function(e){io=e},queuePostFlushCb:Kr,registerRuntimeCompiler:function(e){Kl=e,ql=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,ba))}},renderList:pa,renderSlot:ga,resolveComponent:function(e,t){return ha("components",e,!0,t)||e},resolveDirective:function(e){return ha("directives",e)},resolveDynamicComponent:function(e){return pi(e)?ha("components",e,!1)||e:e||da},resolveFilter:null,resolveTransitionHooks:Oo,setBlockTracking:_l,setDevtoolsHook:function e(t,n){var i,s;if(Xr=t,Xr)Xr.enabled=!0,Jr.forEach((({event:e,args:t})=>Xr.emit(e,...t))),Jr=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(s=null===(i=window.navigator)||void 0===i?void 0:i.userAgent)||void 0===s?void 0:s.includes("jsdom"))){(n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{e(t,n)})),setTimeout((()=>{Xr||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Jr=[])}),3e3)}else Jr=[]},setTransitionHooks:Mo,ssrContextKey:oc,ssrUtils:cc,toHandlers:function(e){const t={};for(const n in e)t[Ni(n)]=e[n];return t},transformVNodeArgs:function(e){},useAttrs:function(){return sc().attrs},useSSRContext:()=>{{const e=yo(oc);return e||Sr("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}},useSlots:function(){return sc().slots},useTransitionState:Lo,version:lc,warn:Sr,watch:xo,watchEffect:wo,watchPostEffect:Co,watchSyncEffect:function(e,t){return ko(e,null,{flush:"sync"})},withAsyncContext:function(e){const t=Ul();let n=e();return jl(),mi(n)&&(n=n.catch((e=>{throw zl(t),e}))),[n,()=>zl(t)]},withCtx:ro,withDefaults:function(e,t){return null},withDirectives:la,withMemo:function(e,t,n,i){const s=n[i];if(s&&ac(s,e))return s;const r=t();return r.memo=e.slice(),n[i]=r},withScopeId:e=>ro});const Id={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Pd=[El("path",{d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z",fill:"currentColor"},null,-1)];var Od={render:function(e,t){return gl(),bl("svg",Id,Pd)}};const Rd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Ad=[Il('<path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path>',9)];var Md={render:function(e,t){return gl(),bl("svg",Rd,Ad)}},Fd=Bo({__name:"Button",props:{href:null,primary:{type:Boolean},icon:{type:Boolean},small:{type:Boolean}},setup(e){const t=e;return ic((()=>t.href?"a":"button")),(t,n)=>(gl(),bl("button",{outline:"focus:none",text:"sm",p:"x-4 y-2",flex:"~",place:"items-center content-center",space:"x-1",h:"10",font:"medium",border:"rounded",class:Wn({"!bg-green-500 !text-green-900":e.primary,"w-10 !px-0 text-lg":e.icon,"w-6 !h-6":e.small}),bg:"hover:dark:dark-400"},[ga(t.$slots,"default")],2))}});const Bd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Vd=[El("path",{d:"M27 16.76V16v-.77l1.92-1.68A2 2 0 0 0 29.3 11l-2.36-4a2 2 0 0 0-1.73-1a2 2 0 0 0-.64.1l-2.43.82a11.35 11.35 0 0 0-1.31-.75l-.51-2.52a2 2 0 0 0-2-1.61h-4.68a2 2 0 0 0-2 1.61l-.51 2.52a11.48 11.48 0 0 0-1.32.75l-2.38-.86A2 2 0 0 0 6.79 6a2 2 0 0 0-1.73 1L2.7 11a2 2 0 0 0 .41 2.51L5 15.24v1.53l-1.89 1.68A2 2 0 0 0 2.7 21l2.36 4a2 2 0 0 0 1.73 1a2 2 0 0 0 .64-.1l2.43-.82a11.35 11.35 0 0 0 1.31.75l.51 2.52a2 2 0 0 0 2 1.61h4.72a2 2 0 0 0 2-1.61l.51-2.52a11.48 11.48 0 0 0 1.32-.75l2.42.82a2 2 0 0 0 .64.1a2 2 0 0 0 1.73-1l2.28-4a2 2 0 0 0-.41-2.51zM25.21 24l-3.43-1.16a8.86 8.86 0 0 1-2.71 1.57L18.36 28h-4.72l-.71-3.55a9.36 9.36 0 0 1-2.7-1.57L6.79 24l-2.36-4l2.72-2.4a8.9 8.9 0 0 1 0-3.13L4.43 12l2.36-4l3.43 1.16a8.86 8.86 0 0 1 2.71-1.57L13.64 4h4.72l.71 3.55a9.36 9.36 0 0 1 2.7 1.57L25.21 8l2.36 4l-2.72 2.4a8.9 8.9 0 0 1 0 3.13L27.57 20z",fill:"currentColor"},null,-1),El("path",{d:"M16 22a6 6 0 1 1 6-6a5.94 5.94 0 0 1-6 6zm0-10a3.91 3.91 0 0 0-4 4a3.91 3.91 0 0 0 4 4a3.91 3.91 0 0 0 4-4a3.91 3.91 0 0 0-4-4z",fill:"currentColor"},null,-1)];var Wd={render:function(e,t){return gl(),bl("svg",Bd,Vd)}};const Hd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ud=[El("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1)];var zd,jd={render:function(e,t){return gl(),bl("svg",Hd,Ud)}};const $d="undefined"!=typeof window,Kd=()=>{};function qd(e){return"function"==typeof e?e():fr(e)}function Gd(e,t){return function(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}}$d&&(null==(zd=null==window?void 0:window.navigator)?void 0:zd.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const Yd=e=>e();function Zd(e,t=!1,n="Timeout"){return new Promise(((i,s)=>{t?setTimeout((()=>s(n)),e):setTimeout(i,e)}))}function Xd(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach((e=>e(t)))}}}function Jd(e){return!!Ui()&&(zi(e),!0)}function Qd(e,t=200,n=!1,i=!0){return Gd(function(e,t=!0,n=!0){let i,s=0,r=!0;const o=()=>{i&&(clearTimeout(i),i=void 0)};return a=>{const l=qd(e),c=Date.now()-s;if(o(),l<=0)return s=Date.now(),a();c>l&&(n||!r)?(s=Date.now(),a()):t&&(i=setTimeout((()=>{s=Date.now(),r=!0,o(),a()}),l)),n||i||(i=setTimeout((()=>r=!0),l)),r=!1}}(t,n,i),e)}function eh(e){return"function"==typeof e?ic(e):hr(e)}function th(e,t=!0){Ul()?Qo(e):t?e():Ur(e)}function nh(e){let t=!1;function n(n,{flush:i="sync",deep:s=!1,timeout:r,throwOnTimeout:o}={}){let a=null;const l=[new Promise((r=>{a=xo(e,(e=>{n(e)!==t&&(null==a||a(),r(e))}),{flush:i,deep:s,immediate:!0})}))];return null!=r&&l.push(Zd(r,o).then((()=>qd(e))).finally((()=>null==a?void 0:a()))),Promise.race(l)}function i(i,s){if(!dr(i))return n((e=>e===i),s);const{flush:r="sync",deep:o=!1,timeout:a,throwOnTimeout:l}=null!=s?s:{};let c=null;const d=[new Promise((n=>{c=xo([e,i],(([e,i])=>{t!==(e===i)&&(null==c||c(),n(e))}),{flush:r,deep:o,immediate:!0})}))];return null!=a&&d.push(Zd(a,l).then((()=>qd(e))).finally((()=>(null==c||c(),qd(e))))),Promise.race(d)}function s(e){return r(1,e)}function r(e=1,t){let i=-1;return n((()=>(i+=1,i>=e)),t)}if(Array.isArray(qd(e))){return{toMatch:n,toContains:function(e,t){return n((t=>{const n=Array.from(t);return n.includes(e)||n.includes(qd(e))}),t)},changed:s,changedTimes:r,get not(){return t=!t,this}}}return{toMatch:n,toBe:i,toBeTruthy:function(e){return n((e=>Boolean(e)),e)},toBeNull:function(e){return i(null,e)},toBeNaN:function(e){return n(Number.isNaN,e)},toBeUndefined:function(e){return i(void 0,e)},changed:s,changedTimes:r,get not(){return t=!t,this}}}function ih(e,t,n={}){const{immediate:i=!0}=n,s=hr(!1);let r=null;function o(){r&&(clearTimeout(r),r=null)}function a(){s.value=!1,o()}function l(...n){o(),s.value=!0,r=setTimeout((()=>{s.value=!1,r=null,e(...n)}),qd(t))}return i&&(s.value=!0,$d&&l()),Jd(a),{isPending:s,start:l,stop:a}}var sh=Object.getOwnPropertySymbols,rh=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable;function ah(e,t,n={}){const i=n,{eventFilter:s=Yd}=i,r=((e,t)=>{var n={};for(var i in e)rh.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&sh)for(var i of sh(e))t.indexOf(i)<0&&oh.call(e,i)&&(n[i]=e[i]);return n})(i,["eventFilter"]);return xo(e,Gd(s,t),r)}var lh=Object.defineProperty,ch=Object.defineProperties,dh=Object.getOwnPropertyDescriptors,hh=Object.getOwnPropertySymbols,uh=Object.prototype.hasOwnProperty,ph=Object.prototype.propertyIsEnumerable,gh=(e,t,n)=>t in e?lh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function fh(e,t,n={}){const i=n,{eventFilter:s}=i,r=((e,t)=>{var n={};for(var i in e)uh.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&hh)for(var i of hh(e))t.indexOf(i)<0&&ph.call(e,i)&&(n[i]=e[i]);return n})(i,["eventFilter"]),{eventFilter:o,pause:a,resume:l,isActive:c}=function(e=Yd){const t=hr(!0);return{isActive:t,pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(s);var d;return{stop:ah(e,t,(d=((e,t)=>{for(var n in t||(t={}))uh.call(t,n)&&gh(e,n,t[n]);if(hh)for(var n of hh(t))ph.call(t,n)&&gh(e,n,t[n]);return e})({},r),ch(d,dh({eventFilter:o})))),pause:a,resume:l,isActive:c}}function mh(e){var t;const n=qd(e);return null!=(t=null==n?void 0:n.$el)?t:n}const _h=$d?window:void 0,vh=$d?window.navigator:void 0;function bh(...e){let t,n,i,s;if("string"==typeof e[0]?([n,i,s]=e,t=_h):[t,n,i,s]=e,!t)return Kd;let r=Kd;const o=xo((()=>mh(t)),(e=>{r(),e&&(e.addEventListener(n,i,s),r=()=>{e.removeEventListener(n,i,s),r=Kd})}),{immediate:!0,flush:"post"}),a=()=>{o(),r()};return Jd(a),a}function yh(e,t=!1){const n=hr(),i=()=>n.value=Boolean(e());return i(),th(i,t),n}function wh(e,t={}){const{window:n=_h}=t,i=yh((()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia));let s;const r=hr(!1),o=()=>{i.value&&(s||(s=n.matchMedia(e)),r.value=s.matches)};return function(e,t=!0){Ul()?Jo(e):t?e():Ur(e)}((()=>{o(),s&&("addEventListener"in s?s.addEventListener("change",o):s.addListener(o),Jd((()=>{"removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o)})))})),r}const Ch="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sh="__vueuse_ssr_handlers__";Ch[Sh]=Ch[Sh]||{};const xh=Ch[Sh];function kh(e,t){return xh[e]||t}var Eh=Object.defineProperty,Dh=Object.getOwnPropertySymbols,Th=Object.prototype.hasOwnProperty,Lh=Object.prototype.propertyIsEnumerable,Nh=(e,t,n)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ih=(e,t)=>{for(var n in t||(t={}))Th.call(t,n)&&Nh(e,n,t[n]);if(Dh)for(var n of Dh(t))Lh.call(t,n)&&Nh(e,n,t[n]);return e};const Ph={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Oh(e,t,n,i={}){var s;const{flush:r="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:d,window:h=_h,eventFilter:u,onError:p=(e=>{console.error(e)})}=i,g=(d?ur:hr)(t);if(!n)try{n=kh("getDefaultStorage",(()=>{var e;return null==(e=_h)?void 0:e.localStorage}))()}catch(w){p(w)}if(!n)return g;const f=qd(t),m=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}(f),_=null!=(s=i.serializer)?s:Ph[m],{pause:v,resume:b}=fh(g,(()=>function(t){try{null==t?n.removeItem(e):n.setItem(e,_.write(t))}catch(w){p(w)}}(g.value)),{flush:r,deep:o,eventFilter:u});return h&&a&&bh(h,"storage",y),y(),g;function y(t){t&&t.key!==e||(g.value=function(t){if(!t||t.key===e){v();try{const i=t?t.newValue:n.getItem(e);if(null==i)return l&&null!==f&&n.setItem(e,_.write(f)),f;if(!t&&c){const e=_.read(i);return"function"==typeof c?c(e,f):"object"!==m||Array.isArray(e)?e:Ih(Ih({},f),e)}return"string"!=typeof i?i:_.read(i)}catch(w){p(w)}finally{b()}}}(t))}}function Rh(e){return wh("(prefers-color-scheme: dark)",e)}var Ah=Object.defineProperty,Mh=Object.getOwnPropertySymbols,Fh=Object.prototype.hasOwnProperty,Bh=Object.prototype.propertyIsEnumerable,Vh=(e,t,n)=>t in e?Ah(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Wh(e={}){const{selector:t="html",attribute:n="class",initialValue:i="auto",window:s=_h,storage:r,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:c}=e,d=((e,t)=>{for(var n in t||(t={}))Fh.call(t,n)&&Vh(e,n,t[n]);if(Mh)for(var n of Mh(t))Bh.call(t,n)&&Vh(e,n,t[n]);return e})({auto:"",light:"light",dark:"dark"},e.modes||{}),h=Rh({window:s}),u=ic((()=>h.value?"dark":"light")),p=l||(null==o?hr(i):Oh(o,i,r,{window:s,listenToStorageChanges:a})),g=ic({get:()=>"auto"!==p.value||c?p.value:u.value,set(e){p.value=e}}),f=kh("updateHTMLAttrs",((e,t,n)=>{const i=null==s?void 0:s.document.querySelector(e);if(i)if("class"===t){const e=n.split(/\s/g);Object.values(d).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?i.classList.add(t):i.classList.remove(t)}))}else i.setAttribute(t,n)}));function m(e){var i;const s="auto"===e?u.value:e;f(t,n,null!=(i=d[s])?i:s)}function _(t){e.onChanged?e.onChanged(t,m):m(t)}return xo(g,_,{flush:"post",immediate:!0}),th((()=>_(g.value))),g}var Hh=Object.defineProperty,Uh=Object.defineProperties,zh=Object.getOwnPropertyDescriptors,jh=Object.getOwnPropertySymbols,$h=Object.prototype.hasOwnProperty,Kh=Object.prototype.propertyIsEnumerable,qh=(e,t,n)=>t in e?Hh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gh=Object.defineProperty,Yh=Object.defineProperties,Zh=Object.getOwnPropertyDescriptors,Xh=Object.getOwnPropertySymbols,Jh=Object.prototype.hasOwnProperty,Qh=Object.prototype.propertyIsEnumerable,eu=(e,t,n)=>t in e?Gh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tu=(e,t)=>{for(var n in t||(t={}))Jh.call(t,n)&&eu(e,n,t[n]);if(Xh)for(var n of Xh(t))Qh.call(t,n)&&eu(e,n,t[n]);return e},nu=(e,t)=>Yh(e,Zh(t));const iu={json:"application/json",text:"text/plain",formData:"multipart/form-data"};function su(e){return function(e,...t){return t.some((t=>t in e))}(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch")}function ru(e){return"undefined"!=typeof Headers&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}var ou,au;function lu(e,t,n,i={}){var s,r,o;const{passive:a=!1,eventName:l,deep:c=!1,defaultValue:d}=i,h=Ul(),u=n||(null==h?void 0:h.emit)||(null==(s=null==h?void 0:h.$emit)?void 0:s.bind(h))||(null==(o=null==(r=null==h?void 0:h.proxy)?void 0:r.$emit)?void 0:o.bind(null==h?void 0:h.proxy));let p=l;t||(t="modelValue"),p=l||p||`update:${t.toString()}`;const g=()=>void 0!==e[t]?e[t]:d;if(a){const n=hr(g());return xo((()=>e[t]),(e=>n.value=e)),xo(n,(n=>{(n!==e[t]||c)&&u(p,n)}),{deep:c}),n}return ic({get:()=>g(),set(e){u(p,e)}})}(au=ou||(ou={})).UP="UP",au.RIGHT="RIGHT",au.DOWN="DOWN",au.LEFT="LEFT",au.NONE="NONE";const cu=function(e={}){const{valueDark:t="dark",valueLight:n="",window:i=_h}=e,s=Wh((r=((e,t)=>{for(var n in t||(t={}))$h.call(t,n)&&qh(e,n,t[n]);if(jh)for(var n of jh(t))Kh.call(t,n)&&qh(e,n,t[n]);return e})({},e),Uh(r,zh({onChanged:(t,n)=>{var i;e.onChanged?null==(i=e.onChanged)||i.call(e,"dark"===t):n(t)},modes:{dark:t,light:n}}))));var r;const o=Rh({window:i});return ic({get:()=>"dark"===s.value,set(e){e===o.value?s.value="auto":s.value=e?"dark":"light"}})}(),du=()=>{cu.value=!cu.value};var hu,uu,pu={exports:{}};hu=pu,uu=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function s(e,t){if(!i[e]){i[e]={};for(var n=0;n<e.length;n++)i[e][e.charAt(n)]=n}return i[e][t]}var r={compressToBase64:function(e){if(null==e)return"";var n=r._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:r._decompress(e.length,32,(function(n){return s(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":r._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=r.compress(e),n=new Uint8Array(2*t.length),i=0,s=t.length;i<s;i++){var o=t.charCodeAt(i);n[2*i]=o>>>8,n[2*i+1]=o%256}return n},decompressFromUint8Array:function(t){if(null==t)return r.decompress(t);for(var n=new Array(t.length/2),i=0,s=n.length;i<s;i++)n[i]=256*t[2*i]+t[2*i+1];var o=[];return n.forEach((function(t){o.push(e(t))})),r.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,(function(t){return s(n,e.charAt(t))})))},compress:function(t){return r._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var i,s,r,o={},a={},l="",c="",d="",h=2,u=3,p=2,g=[],f=0,m=0;for(r=0;r<e.length;r+=1)if(l=e.charAt(r),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=u++,a[l]=!0),c=d+l,Object.prototype.hasOwnProperty.call(o,c))d=c;else{if(Object.prototype.hasOwnProperty.call(a,d)){if(d.charCodeAt(0)<256){for(i=0;i<p;i++)f<<=1,m==t-1?(m=0,g.push(n(f)),f=0):m++;for(s=d.charCodeAt(0),i=0;i<8;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1}else{for(s=1,i=0;i<p;i++)f=f<<1|s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s=0;for(s=d.charCodeAt(0),i=0;i<16;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1}0==--h&&(h=Math.pow(2,p),p++),delete a[d]}else for(s=o[d],i=0;i<p;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1;0==--h&&(h=Math.pow(2,p),p++),o[c]=u++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(a,d)){if(d.charCodeAt(0)<256){for(i=0;i<p;i++)f<<=1,m==t-1?(m=0,g.push(n(f)),f=0):m++;for(s=d.charCodeAt(0),i=0;i<8;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1}else{for(s=1,i=0;i<p;i++)f=f<<1|s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s=0;for(s=d.charCodeAt(0),i=0;i<16;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1}0==--h&&(h=Math.pow(2,p),p++),delete a[d]}else for(s=o[d],i=0;i<p;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1;0==--h&&(h=Math.pow(2,p),p++)}for(s=2,i=0;i<p;i++)f=f<<1|1&s,m==t-1?(m=0,g.push(n(f)),f=0):m++,s>>=1;for(;;){if(f<<=1,m==t-1){g.push(n(f));break}m++}return g.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,i){var s,r,o,a,l,c,d,h=[],u=4,p=4,g=3,f="",m=[],_={val:i(0),position:n,index:1};for(s=0;s<3;s+=1)h[s]=s;for(o=0,l=Math.pow(2,2),c=1;c!=l;)a=_.val&_.position,_.position>>=1,0==_.position&&(_.position=n,_.val=i(_.index++)),o|=(a>0?1:0)*c,c<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)a=_.val&_.position,_.position>>=1,0==_.position&&(_.position=n,_.val=i(_.index++)),o|=(a>0?1:0)*c,c<<=1;d=e(o);break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)a=_.val&_.position,_.position>>=1,0==_.position&&(_.position=n,_.val=i(_.index++)),o|=(a>0?1:0)*c,c<<=1;d=e(o);break;case 2:return""}for(h[3]=d,r=d,m.push(d);;){if(_.index>t)return"";for(o=0,l=Math.pow(2,g),c=1;c!=l;)a=_.val&_.position,_.position>>=1,0==_.position&&(_.position=n,_.val=i(_.index++)),o|=(a>0?1:0)*c,c<<=1;switch(d=o){case 0:for(o=0,l=Math.pow(2,8),c=1;c!=l;)a=_.val&_.position,_.position>>=1,0==_.position&&(_.position=n,_.val=i(_.index++)),o|=(a>0?1:0)*c,c<<=1;h[p++]=e(o),d=p-1,u--;break;case 1:for(o=0,l=Math.pow(2,16),c=1;c!=l;)a=_.val&_.position,_.position>>=1,0==_.position&&(_.position=n,_.val=i(_.index++)),o|=(a>0?1:0)*c,c<<=1;h[p++]=e(o),d=p-1,u--;break;case 2:return m.join("")}if(0==u&&(u=Math.pow(2,g),g++),h[d])f=h[d];else{if(d!==p)return null;f=r+r.charAt(0)}m.push(f),h[p++]=r+f.charAt(0),r=f,0==--u&&(u=Math.pow(2,g),g++)}}};return r}(),null!=hu&&(hu.exports=uu);var gu=pu.exports;let fu;const mu={},_u=function(e,t){if(!t)return e();if(void 0===fu){const e=document.createElement("link").relList;fu=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in mu)return;mu[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":fu,t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((e,t)=>{i.addEventListener("load",e),i.addEventListener("error",t)})):void 0}))).then((()=>e()))};function vu(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const bu={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},yu={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},wu=vu("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function Cu(e,t=0,n=e.length){let i=e.split(/(\r?\n)/);const s=i.filter(((e,t)=>t%2==1));i=i.filter(((e,t)=>t%2==0));let r=0;const o=[];for(let a=0;a<i.length;a++)if(r+=i[a].length+(s[a]&&s[a].length||0),r>=t){for(let e=a-2;e<=a+2||n>r;e++){if(e<0||e>=i.length)continue;const l=e+1;o.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${i[e]}`);const c=i[e].length,d=s[e]&&s[e].length||0;if(e===a){const e=t-(r-(c+d)),i=Math.max(1,n>r?c-e:n-t);o.push("   |  "+" ".repeat(e)+"^".repeat(i))}else if(e>a){if(n>r){const e=Math.max(Math.min(n-r,c),1);o.push("   |  "+"^".repeat(e))}r+=c+d}}break}return o.join("\n")}const Su=vu("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly,async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),xu=/[>/="'\u0009\u000a\u000c\u0020]/,ku={};function Eu(e){if(ku.hasOwnProperty(e))return ku[e];const t=xu.test(e);return t&&console.error(`unsafe attribute name: ${e}`),ku[e]=!t}const Du={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Tu=vu("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Lu=vu("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),Nu=vu("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function Iu(e){if(Ju(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=np(i)?Ru(i):Iu(i);if(s)for(const e in s)t[e]=s[e]}return t}return np(e)||sp(e)?e:void 0}const Pu=/;(?![^(]*\))/g,Ou=/:(.+)/;function Ru(e){const t={};return e.split(Pu).forEach((e=>{if(e){const n=e.split(Ou);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Au(e){let t="";if(!e||np(e))return t;for(const n in e){const i=e[n],s=n.startsWith("--")?n:gp(n);(np(i)||"number"==typeof i&&Tu(s))&&(t+=`${s}:${i};`)}return t}function Mu(e){let t="";if(np(e))t=e;else if(Ju(e))for(let n=0;n<e.length;n++){const i=Mu(e[n]);i&&(t+=i+" ")}else if(sp(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Fu=vu("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),Bu=vu("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),Vu=vu("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),Wu=/["'&<>]/;function Hu(e){const t=""+e,n=Wu.exec(t);if(!n)return t;let i,s,r="",o=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==s&&(r+=t.slice(o,s)),o=s+1,r+=i}return o!==s?r+t.slice(o,s):r}const Uu=e=>np(e)?e:null==e?"":Ju(e)||sp(e)&&(e.toString===rp||!tp(e.toString))?JSON.stringify(e,zu,2):String(e),zu=(e,t)=>t&&t.__v_isRef?zu(e,t.value):Qu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:ep(t)?{[`Set(${t.size})`]:[...t.values()]}:!sp(t)||Ju(t)||ap(t)?t:String(t),ju=Object.freeze({});Object.freeze([]);const $u=()=>{},Ku=()=>!1,qu=/^on[^a-z]/,Gu=e=>qu.test(e),Yu=Object.assign,Zu=Object.prototype.hasOwnProperty,Xu=(e,t)=>Zu.call(e,t),Ju=Array.isArray,Qu=e=>"[object Map]"===op(e),ep=e=>"[object Set]"===op(e),tp=e=>"function"==typeof e,np=e=>"string"==typeof e,ip=e=>"symbol"==typeof e,sp=e=>null!==e&&"object"==typeof e,rp=Object.prototype.toString,op=e=>rp.call(e),ap=e=>"[object Object]"===op(e),lp=vu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cp=vu("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),dp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hp=/-(\w)/g,up=dp((e=>e.replace(hp,((e,t)=>t?t.toUpperCase():"")))),pp=/\B([A-Z])/g,gp=dp((e=>e.replace(pp,"-$1").toLowerCase())),fp=dp((e=>e.charAt(0).toUpperCase()+e.slice(1))),mp=dp((e=>e?`on${fp(e)}`:"")),_p=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function vp(e){return _p.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}function bp(e){throw e}function yp(e){console.warn(`[Vue warn] ${e.message}`)}function wp(e,t,n,i){const s=(n||Cp)[e]+(i||""),r=new SyntaxError(String(s));return r.code=e,r.loc=t,r}const Cp={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '\x3c!--' in comment.",17:"Attribute name cannot contain U+0022 (\"), U+0027 ('), and U+003C (<).",18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>.When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:"Error parsing JavaScript expression: ",45:"<KeepAlive> expects exactly one child component.",46:'"prefixIdentifiers" option is not supported in this build of compiler.',47:"ES module mode is not supported in this build of compiler.",48:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',49:'"scopeId" option is only supported in module mode.',50:""},Sp=Symbol("Fragment"),xp=Symbol("Teleport"),kp=Symbol("Suspense"),Ep=Symbol("KeepAlive"),Dp=Symbol("BaseTransition"),Tp=Symbol("openBlock"),Lp=Symbol("createBlock"),Np=Symbol("createElementBlock"),Ip=Symbol("createVNode"),Pp=Symbol("createElementVNode"),Op=Symbol("createCommentVNode"),Rp=Symbol("createTextVNode"),Ap=Symbol("createStaticVNode"),Mp=Symbol("resolveComponent"),Fp=Symbol("resolveDynamicComponent"),Bp=Symbol("resolveDirective"),Vp=Symbol("resolveFilter"),Wp=Symbol("withDirectives"),Hp=Symbol("renderList"),Up=Symbol("renderSlot"),zp=Symbol("createSlots"),jp=Symbol("toDisplayString"),$p=Symbol("mergeProps"),Kp=Symbol("normalizeClass"),qp=Symbol("normalizeStyle"),Gp=Symbol("normalizeProps"),Yp=Symbol("guardReactiveProps"),Zp=Symbol("toHandlers"),Xp=Symbol("camelize"),Jp=Symbol("capitalize"),Qp=Symbol("toHandlerKey"),eg=Symbol("setBlockTracking"),tg=Symbol("pushScopeId"),ng=Symbol("popScopeId"),ig=Symbol("withCtx"),sg=Symbol("unref"),rg=Symbol("isRef"),og=Symbol("withMemo"),ag=Symbol("isMemoSame"),lg={[Sp]:"Fragment",[xp]:"Teleport",[kp]:"Suspense",[Ep]:"KeepAlive",[Dp]:"BaseTransition",[Tp]:"openBlock",[Lp]:"createBlock",[Np]:"createElementBlock",[Ip]:"createVNode",[Pp]:"createElementVNode",[Op]:"createCommentVNode",[Rp]:"createTextVNode",[Ap]:"createStaticVNode",[Mp]:"resolveComponent",[Fp]:"resolveDynamicComponent",[Bp]:"resolveDirective",[Vp]:"resolveFilter",[Wp]:"withDirectives",[Hp]:"renderList",[Up]:"renderSlot",[zp]:"createSlots",[jp]:"toDisplayString",[$p]:"mergeProps",[Kp]:"normalizeClass",[qp]:"normalizeStyle",[Gp]:"normalizeProps",[Yp]:"guardReactiveProps",[Zp]:"toHandlers",[Xp]:"camelize",[Jp]:"capitalize",[Qp]:"toHandlerKey",[eg]:"setBlockTracking",[tg]:"pushScopeId",[ng]:"popScopeId",[ig]:"withCtx",[sg]:"unref",[rg]:"isRef",[og]:"withMemo",[ag]:"isMemoSame"};function cg(e){Object.getOwnPropertySymbols(e).forEach((t=>{lg[t]=e[t]}))}const dg={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function hg(e,t=dg){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function ug(e,t,n,i,s,r,o,a=!1,l=!1,c=!1,d=dg){return e&&(a?(e.helper(Tp),e.helper(h_(e.inSSR,c))):e.helper(d_(e.inSSR,c)),o&&e.helper(Wp)),{type:13,tag:t,props:n,children:i,patchFlag:s,dynamicProps:r,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:d}}function pg(e,t=dg){return{type:17,loc:t,elements:e}}function gg(e,t=dg){return{type:15,loc:t,properties:e}}function fg(e,t){return{type:16,loc:dg,key:np(e)?mg(e,!0):e,value:t}}function mg(e,t=!1,n=dg,i=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:i}}function _g(e,t){return{type:5,loc:t,content:np(e)?mg(e,!1,t):e}}function vg(e,t=dg){return{type:8,loc:t,children:e}}function bg(e,t=[],n=dg){return{type:14,loc:n,callee:e,arguments:t}}function yg(e,t,n=!1,i=!1,s=dg){return{type:18,params:e,returns:t,newline:n,isSlot:i,loc:s}}function wg(e,t,n,i=!0){return{type:19,test:e,consequent:t,alternate:n,newline:i,loc:dg}}function Cg(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:dg}}function Sg(e){return{type:21,body:e,loc:dg}}function xg(e){return{type:22,elements:e,loc:dg}}function kg(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:dg}}function Eg(e,t){return{type:24,left:e,right:t,loc:dg}}function Dg(e){return{type:25,expressions:e,loc:dg}}function Tg(e){return{type:26,returns:e,loc:dg}}const Lg=/\r\n?|[\n\u2028\u2029]/,Ng=new RegExp(Lg.source,"g");function Ig(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}const Pg=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Og=new RegExp("(?=("+/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/y.source+"))\\1"+/(?=[\n\r\u2028\u2029]|\/\*(?!.*?\*\/)|$)/.source,"y");function Rg(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}class Ag{constructor(e,t){this.line=void 0,this.column=void 0,this.line=e,this.column=t}}class Mg{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function Fg(e,t){void 0===e.trailingComments?e.trailingComments=t:e.trailingComments.unshift(...t)}function Bg(e,t){void 0===e.innerComments?e.innerComments=t:e.innerComments.unshift(...t)}function Vg(e,t,n){let i=null,s=t.length;for(;null===i&&s>0;)i=t[--s];null===i||i.start>n.start?Bg(e,n.comments):Fg(i,n.comments)}const Wg=Object.freeze({SyntaxError:"BABEL_PARSER_SYNTAX_ERROR",SourceTypeModuleError:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"}),Hg=jg({AccessorIsGenerator:"A %0ter cannot be a generator.",ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accesor must not have any formal parameters.",BadSetterArity:"A 'set' accesor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accesor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:"'%0' require an initialization value.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Using the export keyword between a decorator and a class is not allowed. Please use `export @dec class` instead.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:"`%0` has already been exported. Exported identifiers must be unique.",DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:"A string literal cannot be used as an exported binding without `from`.\n- Did you mean `export { '%0' as '%1' } from 'some-module'`?",ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:"'%0' loop variable declaration may not have an initializer.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:"Unsyntactic %0.",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportBindingIsString:'A string literal cannot be used as an imported binding.\n- Did you mean `import { "%0" as foo }`?',ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:"`import()` requires exactly %0.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidDecimal:"Invalid decimal.",InvalidDigit:"Expected number in radix %0.",InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:"Escape sequence in keyword %0.",InvalidIdentifier:"Invalid identifier %0.",InvalidLhs:"Invalid left-hand side in %0.",InvalidLhsBinding:"Binding invalid left-hand side in %0.",InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:"Unexpected character '%0'.",InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:"Private name #%0 is not defined.",InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:"Label '%0' is already declared.",LetInLexicalBinding:"'let' is not allowed to be used as a name in 'let' or 'const' declarations.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:'Duplicate key "%0" is not allowed in module attributes.',ModuleExportNameHasLoneSurrogate:"An export name cannot include a lone surrogate, found '\\u%0'.",ModuleExportUndefined:"Export '%0' is not defined.",MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PipeBodyIsTighter:"Unexpected %0 after pipeline body; any %0 expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:'Invalid topic token %0. In order to use %0 as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "%0" }.',PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:"Hack-style pipe body cannot be an unparenthesized %0 expression; please wrap it in parentheses.",PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PrivateInExpectedIn:"Private names are only allowed in property accesses (`obj.#%0`) or in `in` expressions (`#%0 in obj`).",PrivateNameRedeclaration:"Duplicate private name #%0.",RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",StaticPrototype:"Classes may not have static property named prototype.",StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:"Assigning to '%0' in strict mode.",StrictEvalArgumentsBinding:"Binding '%0' in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:"Unexpected keyword '%0'.",UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Private names can only be used as the name of a class element (i.e. class C { #p = 42; #m() {} } )\n or a property of member expression (i.e. this.#p).",UnexpectedReservedWord:"Unexpected reserved word '%0'.",UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:"Unexpected token '%0'.",UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:"The only valid meta property for %0 is %0.%1.",UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",VarRedeclaration:"Identifier '%0' has already been declared.",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},Wg.SyntaxError),Ug=jg({ImportMetaOutsideModule:"import.meta may appear only with 'sourceType: \"module\"'",ImportOutsideModule:"'import' and 'export' may appear only with 'sourceType: \"module\"'"},Wg.SourceTypeModuleError);function zg(e,t){return"flow"===t&&"PatternIsOptional"===e?"OptionalBindingPattern":e}function jg(e,t,n){const i={};return Object.keys(e).forEach((s=>{i[s]=Object.freeze({code:t,reasonCode:zg(s,n),template:e[s]})})),Object.freeze(i)}class $g{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const Kg={brace:new $g("{"),template:new $g("`",!0)};class qg{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null}}const Gg=new Map;function Yg(e,t={}){t.keyword=e;const n=rf(e,t);return Gg.set(e,n),n}function Zg(e,t){return rf(e,{beforeExpr:true,binop:t})}let Xg=-1;const Jg=[],Qg=[],ef=[],tf=[],nf=[],sf=[];function rf(e,t={}){var n,i,s,r;return++Xg,Qg.push(e),ef.push(null!=(n=t.binop)?n:-1),tf.push(null!=(i=t.beforeExpr)&&i),nf.push(null!=(s=t.startsExpr)&&s),sf.push(null!=(r=t.prefix)&&r),Jg.push(new qg(e,t)),Xg}function of(e,t={}){var n,i,s,r;return++Xg,Gg.set(e,Xg),Qg.push(e),ef.push(null!=(n=t.binop)?n:-1),tf.push(null!=(i=t.beforeExpr)&&i),nf.push(null!=(s=t.startsExpr)&&s),sf.push(null!=(r=t.prefix)&&r),Jg.push(new qg("name",t)),Xg}const af={bracketL:rf("[",{beforeExpr:true,startsExpr:true}),bracketHashL:rf("#[",{beforeExpr:true,startsExpr:true}),bracketBarL:rf("[|",{beforeExpr:true,startsExpr:true}),bracketR:rf("]"),bracketBarR:rf("|]"),braceL:rf("{",{beforeExpr:true,startsExpr:true}),braceBarL:rf("{|",{beforeExpr:true,startsExpr:true}),braceHashL:rf("#{",{beforeExpr:true,startsExpr:true}),braceR:rf("}",{beforeExpr:true}),braceBarR:rf("|}"),parenL:rf("(",{beforeExpr:true,startsExpr:true}),parenR:rf(")"),comma:rf(",",{beforeExpr:true}),semi:rf(";",{beforeExpr:true}),colon:rf(":",{beforeExpr:true}),doubleColon:rf("::",{beforeExpr:true}),dot:rf("."),question:rf("?",{beforeExpr:true}),questionDot:rf("?."),arrow:rf("=>",{beforeExpr:true}),template:rf("template"),ellipsis:rf("...",{beforeExpr:true}),backQuote:rf("`",{startsExpr:true}),dollarBraceL:rf("${",{beforeExpr:true,startsExpr:true}),at:rf("@"),hash:rf("#",{startsExpr:true}),interpreterDirective:rf("#!..."),eq:rf("=",{beforeExpr:true,isAssign:true}),assign:rf("_=",{beforeExpr:true,isAssign:true}),slashAssign:rf("_=",{beforeExpr:true,isAssign:true}),xorAssign:rf("_=",{beforeExpr:true,isAssign:true}),moduloAssign:rf("_=",{beforeExpr:true,isAssign:true}),incDec:rf("++/--",{prefix:true,postfix:!0,startsExpr:true}),bang:rf("!",{beforeExpr:true,prefix:true,startsExpr:true}),tilde:rf("~",{beforeExpr:true,prefix:true,startsExpr:true}),pipeline:Zg("|>",0),nullishCoalescing:Zg("??",1),logicalOR:Zg("||",1),logicalAND:Zg("&&",2),bitwiseOR:Zg("|",3),bitwiseXOR:Zg("^",4),bitwiseAND:Zg("&",5),equality:Zg("==/!=/===/!==",6),lt:Zg("</>/<=/>=",7),gt:Zg("</>/<=/>=",7),relational:Zg("</>/<=/>=",7),bitShift:Zg("<</>>/>>>",8),plusMin:rf("+/-",{beforeExpr:true,binop:9,prefix:true,startsExpr:true}),modulo:rf("%",{binop:10,startsExpr:true}),star:rf("*",{binop:10}),slash:Zg("/",10),exponent:rf("**",{beforeExpr:true,binop:11,rightAssociative:!0}),_in:Yg("in",{beforeExpr:true,binop:7}),_instanceof:Yg("instanceof",{beforeExpr:true,binop:7}),_break:Yg("break"),_case:Yg("case",{beforeExpr:true}),_catch:Yg("catch"),_continue:Yg("continue"),_debugger:Yg("debugger"),_default:Yg("default",{beforeExpr:true}),_else:Yg("else",{beforeExpr:true}),_finally:Yg("finally"),_function:Yg("function",{startsExpr:true}),_if:Yg("if"),_return:Yg("return",{beforeExpr:true}),_switch:Yg("switch"),_throw:Yg("throw",{beforeExpr:true,prefix:true,startsExpr:true}),_try:Yg("try"),_var:Yg("var"),_const:Yg("const"),_with:Yg("with"),_new:Yg("new",{beforeExpr:true,startsExpr:true}),_this:Yg("this",{startsExpr:true}),_super:Yg("super",{startsExpr:true}),_class:Yg("class",{startsExpr:true}),_extends:Yg("extends",{beforeExpr:true}),_export:Yg("export"),_import:Yg("import",{startsExpr:true}),_null:Yg("null",{startsExpr:true}),_true:Yg("true",{startsExpr:true}),_false:Yg("false",{startsExpr:true}),_typeof:Yg("typeof",{beforeExpr:true,prefix:true,startsExpr:true}),_void:Yg("void",{beforeExpr:true,prefix:true,startsExpr:true}),_delete:Yg("delete",{beforeExpr:true,prefix:true,startsExpr:true}),_do:Yg("do",{isLoop:true,beforeExpr:true}),_for:Yg("for",{isLoop:true}),_while:Yg("while",{isLoop:true}),_as:of("as",{startsExpr:true}),_assert:of("assert",{startsExpr:true}),_async:of("async",{startsExpr:true}),_await:of("await",{startsExpr:true}),_from:of("from",{startsExpr:true}),_get:of("get",{startsExpr:true}),_let:of("let",{startsExpr:true}),_meta:of("meta",{startsExpr:true}),_of:of("of",{startsExpr:true}),_sent:of("sent",{startsExpr:true}),_set:of("set",{startsExpr:true}),_static:of("static",{startsExpr:true}),_yield:of("yield",{startsExpr:true}),_asserts:of("asserts",{startsExpr:true}),_checks:of("checks",{startsExpr:true}),_exports:of("exports",{startsExpr:true}),_global:of("global",{startsExpr:true}),_implements:of("implements",{startsExpr:true}),_intrinsic:of("intrinsic",{startsExpr:true}),_infer:of("infer",{startsExpr:true}),_is:of("is",{startsExpr:true}),_mixins:of("mixins",{startsExpr:true}),_proto:of("proto",{startsExpr:true}),_require:of("require",{startsExpr:true}),_keyof:of("keyof",{startsExpr:true}),_readonly:of("readonly",{startsExpr:true}),_unique:of("unique",{startsExpr:true}),_abstract:of("abstract",{startsExpr:true}),_declare:of("declare",{startsExpr:true}),_enum:of("enum",{startsExpr:true}),_module:of("module",{startsExpr:true}),_namespace:of("namespace",{startsExpr:true}),_interface:of("interface",{startsExpr:true}),_type:of("type",{startsExpr:true}),_opaque:of("opaque",{startsExpr:true}),name:rf("name",{startsExpr:true}),string:rf("string",{startsExpr:true}),num:rf("num",{startsExpr:true}),bigint:rf("bigint",{startsExpr:true}),decimal:rf("decimal",{startsExpr:true}),regexp:rf("regexp",{startsExpr:true}),privateName:rf("#name",{startsExpr:true}),eof:rf("eof"),jsxName:rf("jsxName"),jsxText:rf("jsxText",{beforeExpr:!0}),jsxTagStart:rf("jsxTagStart",{startsExpr:!0}),jsxTagEnd:rf("jsxTagEnd"),placeholder:rf("%%",{startsExpr:!0})};function lf(e){return e>=87&&e<=122}function cf(e){return e>=52&&e<=122}function df(e){return e>=52&&e<=126}function hf(e){return nf[e]}function uf(e){return e>=119&&e<=121}function pf(e){return e>=52&&e<=86}function gf(e){return Qg[e]}function ff(e){return ef[e]}function mf(e){return Jg[e]}Jg[8].updateContext=e=>{e.pop()},Jg[5].updateContext=Jg[7].updateContext=Jg[23].updateContext=e=>{e.push(Kg.brace)},Jg[22].updateContext=e=>{e[e.length-1]===Kg.template?e.pop():e.push(Kg.template)},Jg[132].updateContext=e=>{e.push(Kg.j_expr,Kg.j_oTag)};let _f="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",vf="-----------------------------------------------------------------------------------------------------------------------------------------------------";const bf=new RegExp("["+_f+"]"),yf=new RegExp("["+_f+vf+"]");_f=vf=null;const wf=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],Cf=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function Sf(e,t){let n=65536;for(let i=0,s=t.length;i<s;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function xf(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&bf.test(String.fromCharCode(e)):Sf(e,wf)))}function kf(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&yf.test(String.fromCharCode(e)):Sf(e,wf)||Sf(e,Cf))))}const Ef=["implements","interface","let","package","private","protected","public","static","yield"],Df=["eval","arguments"],Tf=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),Lf=new Set(Ef),Nf=new Set(Df);function If(e,t){return t&&"await"===e||"enum"===e}function Pf(e,t){return If(e,t)||Lf.has(e)}function Of(e){return Nf.has(e)}function Rf(e,t){return Pf(e,t)||Of(e)}const Af=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);class Mf{constructor(e){this.var=new Set,this.lexical=new Set,this.functions=new Set,this.flags=e}}class Ff{constructor(e,t){this.scopeStack=[],this.undefinedExports=new Map,this.undefinedPrivateNames=new Map,this.raise=e,this.inModule=t}get inFunction(){return(2&this.currentVarScopeFlags())>0}get allowSuper(){return(16&this.currentThisScopeFlags())>0}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0}get inClass(){return(64&this.currentThisScopeFlags())>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(64&e)>0&&0==(2&e)}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(128&t)return!0;if(323&t)return!1}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new Mf(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){this.scopeStack.pop()}treatFunctionsAsVarInScope(e){return!!(2&e.flags||!this.inModule&&1&e.flags)}declareName(e,t,n){let i=this.currentScope();if(8&t||16&t)this.checkRedeclarationInScope(i,e,t,n),16&t?i.functions.add(e):i.lexical.add(e),8&t&&this.maybeExportDefined(i,e);else if(4&t)for(let s=this.scopeStack.length-1;s>=0&&(i=this.scopeStack[s],this.checkRedeclarationInScope(i,e,t,n),i.var.add(e),this.maybeExportDefined(i,e),!(259&i.flags));--s);this.inModule&&1&i.flags&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.inModule&&1&e.flags&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,n,i){this.isRedeclaredInScope(e,t,n)&&this.raise(i,Hg.VarRedeclaration,t)}isRedeclaredInScope(e,t,n){return!!(1&n)&&(8&n?e.lexical.has(t)||e.functions.has(t)||e.var.has(t):16&n?e.lexical.has(t)||!this.treatFunctionsAsVarInScope(e)&&e.var.has(t):e.lexical.has(t)&&!(8&e.flags&&e.lexical.values().next().value===t)||!this.treatFunctionsAsVarInScope(e)&&e.functions.has(t))}checkLocalExport(e){const{name:t}=e,n=this.scopeStack[0];n.lexical.has(t)||n.var.has(t)||n.functions.has(t)||this.undefinedExports.set(t,e.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(259&t)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(323&t&&!(4&t))return t}}}class Bf extends Mf{constructor(...e){super(...e),this.declareFunctions=new Set}}class Vf extends Ff{createScope(e){return new Bf(e)}declareName(e,t,n){const i=this.currentScope();if(2048&t)return this.checkRedeclarationInScope(i,e,t,n),this.maybeExportDefined(i,e),void i.declareFunctions.add(e);super.declareName(...arguments)}isRedeclaredInScope(e,t,n){return!!super.isRedeclaredInScope(...arguments)||!!(2048&n)&&(!e.declareFunctions.has(t)&&(e.lexical.has(t)||e.functions.has(t)))}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}class Wf{constructor(){this.strict=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.maybeInArrowParameters=!1,this.inType=!1,this.noAnonFunctionType=!1,this.hasFlowComment=!1,this.isAmbientContext=!1,this.inAbstractClass=!1,this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.soloAwait=!1,this.inFSharpPipelineDirectBody=!1,this.labels=[],this.decoratorStack=[[]],this.comments=[],this.commentStack=[],this.pos=0,this.type=129,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.lastTokStart=0,this.lastTokEnd=0,this.context=[Kg.brace],this.canStartJSXElement=!0,this.containsEsc=!1,this.strictErrors=new Map,this.tokensLength=0}init({strictMode:e,sourceType:t,startLine:n,startColumn:i}){this.strict=!1!==e&&(!0===e||"module"===t),this.curLine=n,this.lineStart=-i,this.startLoc=this.endLoc=new Ag(n,i)}curPosition(){return new Ag(this.curLine,this.pos-this.lineStart)}clone(e){const t=new Wf,n=Object.keys(this);for(let i=0,s=n.length;i<s;i++){const s=n[i];let r=this[s];!e&&Array.isArray(r)&&(r=r.slice()),t[s]=r}return t}}var Hf=function(e){return e>=48&&e<=57};const Uf=new Set([103,109,115,105,121,117,100]),zf={decBinOct:[46,66,69,79,95,98,101,111],hex:[46,88,95,120]},jf={bin:[48,49]};jf.oct=[...jf.bin,50,51,52,53,54,55],jf.dec=[...jf.oct,56,57],jf.hex=[...jf.dec,65,66,67,68,69,70,97,98,99,100,101,102];class $f{constructor(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,this.loc=new Mg(e.startLoc,e.endLoc)}}class Kf{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class qf{constructor(e){this.stack=[],this.undefinedPrivateNames=new Map,this.raise=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new Kf)}exit(){const e=this.stack.pop(),t=this.current();for(const[n,i]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(n)||t.undefinedPrivateNames.set(n,i):this.raise(i,Hg.InvalidPrivateFieldResolution,n)}declarePrivateName(e,t,n){const i=this.current();let s=i.privateNames.has(e);if(3&t){const n=s&&i.loneAccessors.get(e);if(n){const r=4&n,o=4&t;s=(3&n)===(3&t)||r!==o,s||i.loneAccessors.delete(e)}else s||i.loneAccessors.set(e,t)}s&&this.raise(n,Hg.PrivateNameRedeclaration,e),i.privateNames.add(e),i.undefinedPrivateNames.delete(e)}usePrivateName(e,t){let n;for(n of this.stack)if(n.privateNames.has(e))return;n?n.undefinedPrivateNames.set(e,t):this.raise(t,Hg.InvalidPrivateFieldResolution,e)}}class Gf{constructor(e=0){this.type=void 0,this.type=e}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type}isCertainlyParameterDeclaration(){return 3===this.type}}class Yf extends Gf{constructor(e){super(e),this.errors=new Map}recordDeclarationError(e,t){this.errors.set(e,t)}clearDeclarationError(e){this.errors.delete(e)}iterateErrors(e){this.errors.forEach(e)}}class Zf{constructor(e){this.stack=[new Gf],this.raise=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const{stack:n}=this;let i=n.length-1,s=n[i];for(;!s.isCertainlyParameterDeclaration();){if(!s.canBeArrowParameterDeclaration())return;s.recordDeclarationError(e,t),s=n[--i]}this.raise(e,t)}recordParenthesizedIdentifierError(e,t){const{stack:n}=this,i=n[n.length-1];if(i.isCertainlyParameterDeclaration())this.raise(e,t);else{if(!i.canBeArrowParameterDeclaration())return;i.recordDeclarationError(e,t)}}recordAsyncArrowParametersError(e,t){const{stack:n}=this;let i=n.length-1,s=n[i];for(;s.canBeArrowParameterDeclaration();)2===s.type&&s.recordDeclarationError(e,t),s=n[--i]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(((t,n)=>{this.raise(n,t);let i=e.length-2,s=e[i];for(;s.canBeArrowParameterDeclaration();)s.clearDeclarationError(n),s=e[--i]}))}}function Xf(){return new Gf}class Jf{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(2&this.currentFlags())>0}get hasYield(){return(1&this.currentFlags())>0}get hasReturn(){return(4&this.currentFlags())>0}get hasIn(){return(8&this.currentFlags())>0}}function Qf(e,t){return(e?2:0)|(t?1:0)}class em{constructor(){this.shorthandAssign=-1,this.doubleProto=-1,this.optionalParameters=-1}}class tm{constructor(e,t,n){this.type="",this.start=t,this.end=0,this.loc=new Mg(n),null!=e&&e.options.ranges&&(this.range=[t,0]),null!=e&&e.filename&&(this.loc.filename=e.filename)}}const nm=tm.prototype;function im(e){const{type:t,start:n,end:i,loc:s,range:r,extra:o,name:a}=e,l=Object.create(nm);return l.type=t,l.start=n,l.end=i,l.loc=s,l.range=r,l.extra=o,l.name=a,"Placeholder"===t&&(l.expectedNode=e.expectedNode),l}function sm(e){const{type:t,start:n,end:i,loc:s,range:r,extra:o}=e;if("Placeholder"===t)return function(e){return im(e)}(e);const a=Object.create(nm);return a.type="StringLiteral",a.start=n,a.end=i,a.loc=s,a.range=r,a.extra=o,a.value=e.value,a}nm.__clone=function(){const e=new tm,t=Object.keys(this);for(let n=0,i=t.length;n<i;n++){const i=t[n];"leadingComments"!==i&&"trailingComments"!==i&&"innerComments"!==i&&(e[i]=this[i])}return e};const rm=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),om=jg({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:"Cannot overwrite reserved type %0.",DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:"Boolean enum members need to be initialized. Use either `%0 = true,` or `%0 = false,` in enum `%1`.",EnumDuplicateMemberName:"Enum member names need to be unique, but the name `%0` has already been used before in enum `%1`.",EnumInconsistentMemberValues:"Enum `%0` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.",EnumInvalidExplicitType:"Enum type `%1` is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",EnumInvalidExplicitTypeUnknownSupplied:"Supplied enum type is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",EnumInvalidMemberInitializerPrimaryType:"Enum `%0` has type `%2`, so the initializer of `%1` needs to be a %2 literal.",EnumInvalidMemberInitializerSymbolType:"Symbol enum members cannot be initialized. Use `%1,` in enum `%0`.",EnumInvalidMemberInitializerUnknownType:"The enum member initializer for `%1` needs to be a literal (either a boolean, number, or string) in enum `%0`.",EnumInvalidMemberName:"Enum member names cannot start with lowercase 'a' through 'z'. Instead of using `%0`, consider using `%1`, in enum `%2`.",EnumNumberMemberNotInitialized:"Number enum members need to be initialized, e.g. `%1 = 1` in enum `%0`.",EnumStringMemberInconsistentlyInitailized:"String enum members need to consistently either all use initializers, or use no initializers, in enum `%0`.",GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:"Unexpected reserved type %0.",UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:"`declare export %0` is not supported. Use `%1` instead.",UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."},Wg.SyntaxError,"flow");function am(e){return"type"===e.importKind||"typeof"===e.importKind}function lm(e){return cf(e)&&91!==e}const cm={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};const dm=/\*?\s*@((?:no)?flow)\b/;const hm={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},um=/^[\da-fA-F]+$/,pm=/^\d+$/,gm=jg({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:"Expected corresponding JSX closing tag for <%0>.",MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"},Wg.SyntaxError,"jsx");function fm(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type)}function mm(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return mm(e.object)+"."+mm(e.property);throw new Error("Node had unexpected type: "+e.type)}Kg.j_oTag=new $g("<tag"),Kg.j_cTag=new $g("</tag"),Kg.j_expr=new $g("<tag>...</tag>",!0);class _m extends Mf{constructor(...e){super(...e),this.types=new Set,this.enums=new Set,this.constEnums=new Set,this.classes=new Set,this.exportOnlyBindings=new Set}}class vm extends Ff{createScope(e){return new _m(e)}declareName(e,t,n){const i=this.currentScope();if(1024&t)return this.maybeExportDefined(i,e),void i.exportOnlyBindings.add(e);super.declareName(...arguments),2&t&&(1&t||(this.checkRedeclarationInScope(i,e,t,n),this.maybeExportDefined(i,e)),i.types.add(e)),256&t&&i.enums.add(e),512&t&&i.constEnums.add(e),128&t&&i.classes.add(e)}isRedeclaredInScope(e,t,n){if(e.enums.has(t)){if(256&n){return!!(512&n)!==e.constEnums.has(t)}return!0}return 128&n&&e.classes.has(t)?!!e.lexical.has(t)&&!!(1&n):!!(2&n&&e.types.has(t))||super.isRedeclaredInScope(...arguments)}checkLocalExport(e){const t=this.scopeStack[0],{name:n}=e;t.types.has(n)||t.exportOnlyBindings.has(n)||super.checkLocalExport(e)}}function bm(e){if(!e)throw new Error("Assert fail")}const ym=jg({AbstractMethodHasImplementation:"Method '%0' cannot have an implementation because it is marked abstract.",AbstractPropertyHasInitializer:"Property '%0' cannot have an initializer because it is marked abstract.",AccesorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccesorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:"'declare' is not allowed in %0ters.",DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:"Accessibility modifier already seen.",DuplicateModifier:"Duplicate modifier: '%0'.",EmptyHeritageClauseType:"'%0' list cannot be empty.",EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",IncompatibleModifiers:"'%0' modifier cannot be used with '%1' modifier.",IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:"Index signatures cannot have an accessibility modifier ('%0').",IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InvalidModifierOnTypeMember:"'%0' modifier cannot appear on a type member.",InvalidModifiersOrder:"'%0' modifier must precede '%1' modifier.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",MixedLabeledAndUnlabeledElements:"Tuple members must all have names or all not have names.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:"Private elements cannot have an accessibility modifier ('%0').",ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccesorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccesorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccesorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:"Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got %0."},Wg.SyntaxError,"typescript");function wm(e){return"private"===e||"public"===e||"protected"===e}const Cm=jg({ClassNameIsRequired:"A class name is required."},Wg.SyntaxError);function Sm(e,t){return e.some((e=>Array.isArray(e)?e[0]===t:e===t))}function xm(e,t,n){const i=e.find((e=>Array.isArray(e)?e[0]===t:e===t));return i&&Array.isArray(i)?i[1][n]:null}const km=["minimal","fsharp","hack","smart"],Em=["^","%","#"],Dm=["hash","bar"];const Tm={estree:e=>class extends e{parseRegExpLiteral({pattern:e,flags:t}){let n=null;try{n=new RegExp(e,t)}catch(s){}const i=this.estreeParseLiteral(n);return i.regex={pattern:e,flags:t},i}parseBigIntLiteral(e){let t;try{t=BigInt(e)}catch(i){t=null}const n=this.estreeParseLiteral(t);return n.bigint=String(n.value||e),n}parseDecimalLiteral(e){const t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t}estreeParseLiteral(e){return this.parseLiteral(e,"Literal")}parseStringLiteral(e){return this.estreeParseLiteral(e)}parseNumericLiteral(e){return this.estreeParseLiteral(e)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(e){return this.estreeParseLiteral(e)}directiveToStmt(e){const t=e.value,n=this.startNodeAt(e.start,e.loc.start),i=this.startNodeAt(t.start,t.loc.start);return i.value=t.extra.expressionValue,i.raw=t.extra.raw,n.expression=this.finishNodeAt(i,"Literal",t.end,t.loc.end),n.directive=t.extra.raw.slice(1,-1),this.finishNodeAt(n,"ExpressionStatement",e.end,e.loc.end)}initFunction(e,t){super.initFunction(e,t),e.expression=!1}checkDeclaration(e){null!=e&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e)}getObjectOrClassMethodParams(e){return e.value.params}isValidDirective(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null!=(t=e.expression.extra)&&t.parenthesized)}parseBlockBody(e,...t){super.parseBlockBody(e,...t);const n=e.directives.map((e=>this.directiveToStmt(e)));e.body=n.concat(e.body),delete e.directives}pushClassMethod(e,t,n,i,s,r){this.parseMethod(t,n,i,s,r,"ClassMethod",!0),t.typeParameters&&(t.value.typeParameters=t.typeParameters,delete t.typeParameters),e.body.push(t)}parsePrivateName(){const e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e}convertPrivateNameToPrivateIdentifier(e){const t=super.getPrivateNameSV(e);return delete(e=e).id,e.name=t,e.type="PrivateIdentifier",e}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===e.type:super.isPrivateName(e)}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e)}parseLiteral(e,t){const n=super.parseLiteral(e,t);return n.raw=n.extra.raw,delete n.extra,n}parseFunctionBody(e,t,n=!1){super.parseFunctionBody(e,t,n),e.expression="BlockStatement"!==e.body.type}parseMethod(e,t,n,i,s,r,o=!1){let a=this.startNode();return a.kind=e.kind,a=super.parseMethod(a,t,n,i,s,r,o),a.type="FunctionExpression",delete a.kind,e.value=a,"ClassPrivateMethod"===r&&(e.computed=!1),r="MethodDefinition",this.finishNode(e,r)}parseClassProperty(...e){const t=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")?(t.type="PropertyDefinition",t):t}parseClassPrivateProperty(...e){const t=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")?(t.type="PropertyDefinition",t.computed=!1,t):t}parseObjectMethod(e,t,n,i,s){const r=super.parseObjectMethod(e,t,n,i,s);return r&&(r.type="Property","method"===r.kind&&(r.kind="init"),r.shorthand=!1),r}parseObjectProperty(e,t,n,i,s){const r=super.parseObjectProperty(e,t,n,i,s);return r&&(r.kind="init",r.type="Property"),r}isAssignable(e,t){return null!=e&&this.isObjectProperty(e)?this.isAssignable(e.value,t):super.isAssignable(e,t)}toAssignable(e,t=!1){return null!=e&&this.isObjectProperty(e)?(this.toAssignable(e.value,t),e):super.toAssignable(e,t)}toAssignableObjectExpressionProp(e,...t){"get"===e.kind||"set"===e.kind?this.raise(e.key.start,Hg.PatternHasAccessor):e.method?this.raise(e.key.start,Hg.PatternHasMethod):super.toAssignableObjectExpressionProp(e,...t)}finishCallExpression(e,t){if(super.finishCallExpression(e,t),"Import"===e.callee.type){var n;if(e.type="ImportExpression",e.source=e.arguments[0],this.hasPlugin("importAssertions"))e.attributes=null!=(n=e.arguments[1])?n:null;delete e.arguments,delete e.callee}return e}toReferencedArguments(e){"ImportExpression"!==e.type&&super.toReferencedArguments(e)}parseExport(e){switch(super.parseExport(e),e.type){case"ExportAllDeclaration":e.exported=null;break;case"ExportNamedDeclaration":1===e.specifiers.length&&"ExportNamespaceSpecifier"===e.specifiers[0].type&&(e.type="ExportAllDeclaration",e.exported=e.specifiers[0].exported,delete e.specifiers)}return e}parseSubscript(e,t,n,i,s){const r=super.parseSubscript(e,t,n,i,s);if(s.optionalChainMember){if("OptionalMemberExpression"!==r.type&&"OptionalCallExpression"!==r.type||(r.type=r.type.substring(8)),s.stop){const e=this.startNodeAtNode(r);return e.expression=r,this.finishNode(e,"ChainExpression")}}else"MemberExpression"!==r.type&&"CallExpression"!==r.type||(r.optional=!1);return r}hasPropertyAsPrivateName(e){return"ChainExpression"===e.type&&(e=e.expression),super.hasPropertyAsPrivateName(e)}isOptionalChain(e){return"ChainExpression"===e.type}isObjectProperty(e){return"Property"===e.type&&"init"===e.kind&&!e.method}isObjectMethod(e){return e.method||"get"===e.kind||"set"===e.kind}},jsx:e=>class extends e{jsxReadToken(){let e="",t=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,gm.UnterminatedJsxContent);const n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:return this.state.pos===this.state.start?60===n&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(132)):super.getTokenFromCode(n):(e+=this.input.slice(t,this.state.pos),this.finishToken(131,e));case 38:e+=this.input.slice(t,this.state.pos),e+=this.jsxReadEntity(),t=this.state.pos;break;case 62:case 125:default:Ig(n)?(e+=this.input.slice(t,this.state.pos),e+=this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){const t=this.input.charCodeAt(this.state.pos);let n;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,n=e?"\n":"\r\n"):n=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,n}jsxReadString(e){let t="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,Hg.UnterminatedString);const i=this.input.charCodeAt(this.state.pos);if(i===e)break;38===i?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadEntity(),n=this.state.pos):Ig(i)?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}return t+=this.input.slice(n,this.state.pos++),this.finishToken(123,t)}jsxReadEntity(){let e,t="",n=0,i=this.input[this.state.pos];const s=++this.state.pos;for(;this.state.pos<this.length&&n++<10;){if(i=this.input[this.state.pos++],";"===i){"#"===t[0]?"x"===t[1]?(t=t.substr(2),um.test(t)&&(e=String.fromCodePoint(parseInt(t,16)))):(t=t.substr(1),pm.test(t)&&(e=String.fromCodePoint(parseInt(t,10)))):e=hm[t];break}t+=i}return e||(this.state.pos=s,"&")}jsxReadWord(){let e;const t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(kf(e)||45===e);return this.finishToken(130,this.input.slice(t,this.state.pos))}jsxParseIdentifier(){const e=this.startNode();return this.match(130)?e.name=this.state.value:pf(this.state.type)?e.name=gf(this.state.type):this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsxParseNamespacedName(){const e=this.state.start,t=this.state.startLoc,n=this.jsxParseIdentifier();if(!this.eat(14))return n;const i=this.startNodeAt(e,t);return i.namespace=n,i.name=this.jsxParseIdentifier(),this.finishNode(i,"JSXNamespacedName")}jsxParseElementName(){const e=this.state.start,t=this.state.startLoc;let n=this.jsxParseNamespacedName();if("JSXNamespacedName"===n.type)return n;for(;this.eat(16);){const i=this.startNodeAt(e,t);i.object=n,i.property=this.jsxParseIdentifier(),n=this.finishNode(i,"JSXMemberExpression")}return n}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.next(),e=this.jsxParseExpressionContainer(e),"JSXEmptyExpression"===e.expression.type&&this.raise(e.start,gm.AttributeIsEmpty),e;case 132:case 123:return this.parseExprAtom();default:throw this.raise(this.state.start,gm.UnsupportedJsxValue)}}jsxParseEmptyExpression(){const e=this.startNodeAt(this.state.lastTokEnd,this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.start,this.state.startLoc)}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.expect(8),this.finishNode(e,"JSXSpreadChild")}jsxParseExpressionContainer(e){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{const t=this.parseExpression();e.expression=t}return this.expect(8),this.finishNode(e,"JSXExpressionContainer")}jsxParseAttribute(){const e=this.startNode();return this.eat(5)?(this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(27)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsxParseOpeningElementAt(e,t){const n=this.startNodeAt(e,t);return this.match(133)?(this.expect(133),this.finishNode(n,"JSXOpeningFragment")):(n.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(n))}jsxParseOpeningElementAfterName(e){const t=[];for(;!this.match(50)&&!this.match(133);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(50),this.expect(133),this.finishNode(e,"JSXOpeningElement")}jsxParseClosingElementAt(e,t){const n=this.startNodeAt(e,t);return this.match(133)?(this.expect(133),this.finishNode(n,"JSXClosingFragment")):(n.name=this.jsxParseElementName(),this.expect(133),this.finishNode(n,"JSXClosingElement"))}jsxParseElementAt(e,t){const n=this.startNodeAt(e,t),i=[],s=this.jsxParseOpeningElementAt(e,t);let r=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 132:if(e=this.state.start,t=this.state.startLoc,this.next(),this.eat(50)){r=this.jsxParseClosingElementAt(e,t);break e}i.push(this.jsxParseElementAt(e,t));break;case 131:i.push(this.parseExprAtom());break;case 5:{const e=this.startNode();this.next(),this.match(21)?i.push(this.jsxParseSpreadChild(e)):i.push(this.jsxParseExpressionContainer(e));break}default:throw this.unexpected()}fm(s)&&!fm(r)?this.raise(r.start,gm.MissingClosingTagFragment):!fm(s)&&fm(r)?this.raise(r.start,gm.MissingClosingTagElement,mm(s.name)):fm(s)||fm(r)||mm(r.name)!==mm(s.name)&&this.raise(r.start,gm.MissingClosingTagElement,mm(s.name))}if(fm(s)?(n.openingFragment=s,n.closingFragment=r):(n.openingElement=s,n.closingElement=r),n.children=i,this.match(43))throw this.raise(this.state.start,gm.UnwrappedAdjacentJSXElements);return fm(s)?this.finishNode(n,"JSXFragment"):this.finishNode(n,"JSXElement")}jsxParseElement(){const e=this.state.start,t=this.state.startLoc;return this.next(),this.jsxParseElementAt(e,t)}parseExprAtom(e){return this.match(131)?this.parseLiteral(this.state.value,"JSXText"):this.match(132)?this.jsxParseElement():this.match(43)&&33!==this.input.charCodeAt(this.state.pos)?(this.replaceToken(132),this.jsxParseElement()):super.parseExprAtom(e)}getTokenFromCode(e){const t=this.curContext();if(t===Kg.j_expr)return this.jsxReadToken();if(t===Kg.j_oTag||t===Kg.j_cTag){if(xf(e))return this.jsxReadWord();if(62===e)return++this.state.pos,this.finishToken(133);if((34===e||39===e)&&t===Kg.j_oTag)return this.jsxReadString(e)}return 60===e&&this.state.canStartJSXElement&&33!==this.input.charCodeAt(this.state.pos+1)?(++this.state.pos,this.finishToken(132)):super.getTokenFromCode(e)}updateContext(e){super.updateContext(e);const{context:t,type:n}=this.state;if(50===n&&132===e)t.splice(-2,2,Kg.j_cTag),this.state.canStartJSXElement=!1;else if(132===n)t.push(Kg.j_expr,Kg.j_oTag);else if(133===n){const n=t.pop();n===Kg.j_oTag&&50===e||n===Kg.j_cTag?(t.pop(),this.state.canStartJSXElement=t[t.length-1]===Kg.j_expr):this.state.canStartJSXElement=!0}else this.state.canStartJSXElement=tf[n]}},flow:e=>class extends e{constructor(...e){super(...e),this.flowPragma=void 0}getScopeHandler(){return Vf}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(e,t){return 123!==e&&13!==e&&26!==e&&void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(e,t)}addComment(e){if(void 0===this.flowPragma){const t=dm.exec(e.value);if(t)if("flow"===t[1])this.flowPragma="flow";else{if("noflow"!==t[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}else;}return super.addComment(e)}flowParseTypeInitialiser(e){const t=this.state.inType;this.state.inType=!0,this.expect(e||14);const n=this.flowParseType();return this.state.inType=t,n}flowParsePredicate(){const e=this.startNode(),t=this.state.start;return this.next(),this.expectContextual(101),this.state.lastTokStart>t+1&&this.raise(t,om.UnexpectedSpaceBetweenModuloChecks),this.eat(10)?(e.value=this.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const e=this.state.inType;this.state.inType=!0,this.expect(14);let t=null,n=null;return this.match(48)?(this.state.inType=e,n=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(48)&&(n=this.flowParsePredicate())),[t,n]}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")}flowParseDeclareFunction(e){this.next();const t=e.id=this.parseIdentifier(),n=this.startNode(),i=this.startNode();this.match(43)?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(10);const s=this.flowParseFunctionTypeParams();return n.params=s.params,n.rest=s.rest,n.this=s._this,this.expect(11),[n.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),i.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(i,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.start),this.finishNode(e,"DeclareFunction")}flowParseDeclare(e,t){if(this.match(74))return this.flowParseDeclareClass(e);if(this.match(62))return this.flowParseDeclareFunction(e);if(this.match(68))return this.flowParseDeclareVariable(e);if(this.eatContextual(117))return this.match(16)?this.flowParseDeclareModuleExports(e):(t&&this.raise(this.state.lastTokStart,om.NestedDeclareModule),this.flowParseDeclareModule(e));if(this.isContextual(120))return this.flowParseDeclareTypeAlias(e);if(this.isContextual(121))return this.flowParseDeclareOpaqueType(e);if(this.isContextual(119))return this.flowParseDeclareInterface(e);if(this.match(76))return this.flowParseDeclareExportDeclaration(e,t);throw this.unexpected()}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.start),this.semicolon(),this.finishNode(e,"DeclareVariable")}flowParseDeclareModule(e){this.scope.enter(0),this.match(123)?e.id=this.parseExprAtom():e.id=this.parseIdentifier();const t=e.body=this.startNode(),n=t.body=[];for(this.expect(5);!this.match(8);){let e=this.startNode();this.match(77)?(this.next(),this.isContextual(120)||this.match(81)||this.raise(this.state.lastTokStart,om.InvalidNonTypeImportInDeclareModule),this.parseImport(e)):(this.expectContextual(115,om.UnsupportedStatementInDeclareModule),e=this.flowParseDeclare(e,!0)),n.push(e)}this.scope.exit(),this.expect(8),this.finishNode(t,"BlockStatement");let i=null,s=!1;return n.forEach((e=>{!function(e){return"DeclareExportAllDeclaration"===e.type||"DeclareExportDeclaration"===e.type&&(!e.declaration||"TypeAlias"!==e.declaration.type&&"InterfaceDeclaration"!==e.declaration.type)}(e)?"DeclareModuleExports"===e.type&&(s&&this.raise(e.start,om.DuplicateDeclareModuleExports),"ES"===i&&this.raise(e.start,om.AmbiguousDeclareModuleKind),i="CommonJS",s=!0):("CommonJS"===i&&this.raise(e.start,om.AmbiguousDeclareModuleKind),i="ES")})),e.kind=i||"CommonJS",this.finishNode(e,"DeclareModule")}flowParseDeclareExportDeclaration(e,t){if(this.expect(76),this.eat(59))return this.match(62)||this.match(74)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(69)||this.isLet()||(this.isContextual(120)||this.isContextual(119))&&!t){const e=this.state.value,t=cm[e];throw this.raise(this.state.start,om.UnsupportedDeclareExportKind,e,t)}if(this.match(68)||this.match(62)||this.match(74)||this.isContextual(121))return e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration");if(this.match(49)||this.match(5)||this.isContextual(119)||this.isContextual(120)||this.isContextual(121))return"ExportNamedDeclaration"===(e=this.parseExport(e)).type&&(e.type="ExportDeclaration",e.default=!1,delete e.exportKind),e.type="Declare"+e.type,e;throw this.unexpected()}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(102),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")}flowParseDeclareTypeAlias(e){return this.next(),this.flowParseTypeAlias(e),e.type="DeclareTypeAlias",e}flowParseDeclareOpaqueType(e){return this.next(),this.flowParseOpaqueType(e,!0),e.type="DeclareOpaqueType",e}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e),this.finishNode(e,"DeclareInterface")}flowParseInterfaceish(e,t=!1){if(e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:9,e.id.start),this.match(43)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],e.implements=[],e.mixins=[],this.eat(75))do{e.extends.push(this.flowParseInterfaceExtends())}while(!t&&this.eat(12));if(this.isContextual(108)){this.next();do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(12))}if(this.isContextual(104)){this.next();do{e.implements.push(this.flowParseInterfaceExtends())}while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1})}flowParseInterfaceExtends(){const e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(43)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")}flowParseInterface(e){return this.flowParseInterfaceish(e),this.finishNode(e,"InterfaceDeclaration")}checkNotUnderscore(e){"_"===e&&this.raise(this.state.start,om.UnexpectedReservedUnderscore)}checkReservedType(e,t,n){rm.has(e)&&this.raise(t,n?om.AssignReservedType:om.UnexpectedReservedType,e)}flowParseRestrictedIdentifier(e,t){return this.checkReservedType(this.state.value,this.state.start,t),this.parseIdentifier(e)}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,9,e.id.start),this.match(43)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(27),this.semicolon(),this.finishNode(e,"TypeAlias")}flowParseOpaqueType(e,t){return this.expectContextual(120),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,9,e.id.start),this.match(43)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(27)),this.semicolon(),this.finishNode(e,"OpaqueType")}flowParseTypeParameter(e=!1){const t=this.state.start,n=this.startNode(),i=this.flowParseVariance(),s=this.flowParseTypeAnnotatableIdentifier();return n.name=s.name,n.variance=i,n.bound=s.typeAnnotation,this.match(27)?(this.eat(27),n.default=this.flowParseType()):e&&this.raise(t,om.MissingTypeParamDefault),this.finishNode(n,"TypeParameter")}flowParseTypeParameterDeclaration(){const e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.match(43)||this.match(132)?this.next():this.unexpected();let n=!1;do{const e=this.flowParseTypeParameter(n);t.params.push(e),e.default&&(n=!0),this.match(44)||this.expect(12)}while(!this.match(44));return this.expect(44),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){const e=this.startNode(),t=this.state.inType;e.params=[],this.state.inType=!0,this.expect(43);const n=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(44);)e.params.push(this.flowParseType()),this.match(44)||this.expect(12);return this.state.noAnonFunctionType=n,this.expect(44),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){const e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(43);!this.match(44);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(44)||this.expect(12);return this.expect(44),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseInterfaceType(){const e=this.startNode();if(this.expectContextual(119),e.extends=[],this.eat(75))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(12));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(124)||this.match(123)?this.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(e,t,n){return e.static=t,14===this.lookahead().type?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=n,this.finishNode(e,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(43)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.start,e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(43)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(72)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(e,t){const n=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(n),this.finishNode(e,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:e,allowExact:t,allowSpread:n,allowProto:i,allowInexact:s}){const r=this.state.inType;this.state.inType=!0;const o=this.startNode();let a,l;o.callProperties=[],o.properties=[],o.indexers=[],o.internalSlots=[];let c=!1;for(t&&this.match(6)?(this.expect(6),a=9,l=!0):(this.expect(5),a=8,l=!1),o.exact=l;!this.match(a);){let t=!1,r=null,a=null;const d=this.startNode();if(i&&this.isContextual(109)){const t=this.lookahead();14!==t.type&&17!==t.type&&(this.next(),r=this.state.start,e=!1)}if(e&&this.isContextual(98)){const e=this.lookahead();14!==e.type&&17!==e.type&&(this.next(),t=!0)}const h=this.flowParseVariance();if(this.eat(0))null!=r&&this.unexpected(r),this.eat(0)?(h&&this.unexpected(h.start),o.internalSlots.push(this.flowParseObjectTypeInternalSlot(d,t))):o.indexers.push(this.flowParseObjectTypeIndexer(d,t,h));else if(this.match(10)||this.match(43))null!=r&&this.unexpected(r),h&&this.unexpected(h.start),o.callProperties.push(this.flowParseObjectTypeCallProperty(d,t));else{let e="init";if(this.isContextual(92)||this.isContextual(97)){df(this.lookahead().type)&&(e=this.state.value,this.next())}const i=this.flowParseObjectTypeProperty(d,t,r,h,e,n,null!=s?s:!l);null===i?(c=!0,a=this.state.lastTokStart):o.properties.push(i)}this.flowObjectTypeSemicolon(),!a||this.match(8)||this.match(9)||this.raise(a,om.UnexpectedExplicitInexactInObject)}this.expect(a),n&&(o.inexact=c);const d=this.finishNode(o,"ObjectTypeAnnotation");return this.state.inType=r,d}flowParseObjectTypeProperty(e,t,n,i,s,r,o){if(this.eat(21)){return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(r?o||this.raise(this.state.lastTokStart,om.InexactInsideExact):this.raise(this.state.lastTokStart,om.InexactInsideNonObject),i&&this.raise(i.start,om.InexactVariance),null):(r||this.raise(this.state.lastTokStart,om.UnexpectedSpreadType),null!=n&&this.unexpected(n),i&&this.raise(i.start,om.SpreadVariance),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"))}{e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=n,e.kind=s;let o=!1;return this.match(43)||this.match(10)?(e.method=!0,null!=n&&this.unexpected(n),i&&this.unexpected(i.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.start,e.loc.start)),"get"!==s&&"set"!==s||this.flowCheckGetterSetterParams(e),!r&&"constructor"===e.key.name&&e.value.this&&this.raise(e.value.this.start,om.ThisParamBannedInConstructor)):("init"!==s&&this.unexpected(),e.method=!1,this.eat(17)&&(o=!0),e.value=this.flowParseTypeInitialiser(),e.variance=i),e.optional=o,this.finishNode(e,"ObjectTypeProperty")}}flowCheckGetterSetterParams(e){const t="get"===e.kind?0:1,n=e.start,i=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise(e.value.this.start,"get"===e.kind?om.GetterMayNotHaveThisParam:om.SetterMayNotHaveThisParam),i!==t&&("get"===e.kind?this.raise(n,Hg.BadGetterArity):this.raise(n,Hg.BadSetterArity)),"set"===e.kind&&e.value.rest&&this.raise(n,Hg.BadSetterRestParameter)}flowObjectTypeSemicolon(){this.eat(13)||this.eat(12)||this.match(8)||this.match(9)||this.unexpected()}flowParseQualifiedTypeIdentifier(e,t,n){e=e||this.state.start,t=t||this.state.startLoc;let i=n||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const n=this.startNodeAt(e,t);n.qualification=i,n.id=this.flowParseRestrictedIdentifier(!0),i=this.finishNode(n,"QualifiedTypeIdentifier")}return i}flowParseGenericType(e,t,n){const i=this.startNodeAt(e,t);return i.typeParameters=null,i.id=this.flowParseQualifiedTypeIdentifier(e,t,n),this.match(43)&&(i.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(i,"GenericTypeAnnotation")}flowParseTypeofType(){const e=this.startNode();return this.expect(81),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")}flowParseTupleType(){const e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation")}flowParseFunctionTypeParam(e){let t=null,n=!1,i=null;const s=this.startNode(),r=this.lookahead(),o=72===this.state.type;return 14===r.type||17===r.type?(o&&!e&&this.raise(s.start,om.ThisParamMustBeFirst),t=this.parseIdentifier(o),this.eat(17)&&(n=!0,o&&this.raise(s.start,om.ThisParamMayNotBeOptional)),i=this.flowParseTypeInitialiser()):i=this.flowParseType(),s.name=t,s.optional=n,s.typeAnnotation=i,this.finishNode(s,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(e){const t=this.startNodeAt(e.start,e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")}flowParseFunctionTypeParams(e=[]){let t=null,n=null;for(this.match(72)&&(n=this.flowParseFunctionTypeParam(!0),n.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t=this.flowParseFunctionTypeParam(!1)),{params:e,rest:t,_this:n}}flowIdentToTypeAnnotation(e,t,n,i){switch(i.name){case"any":return this.finishNode(n,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(n,"BooleanTypeAnnotation");case"mixed":return this.finishNode(n,"MixedTypeAnnotation");case"empty":return this.finishNode(n,"EmptyTypeAnnotation");case"number":return this.finishNode(n,"NumberTypeAnnotation");case"string":return this.finishNode(n,"StringTypeAnnotation");case"symbol":return this.finishNode(n,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(i.name),this.flowParseGenericType(e,t,i)}}flowParsePrimaryType(){const e=this.state.start,t=this.state.startLoc,n=this.startNode();let i,s,r=!1;const o=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=o,s;case 43:return n.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),i=this.flowParseFunctionTypeParams(),n.params=i.params,n.rest=i.rest,n.this=i._this,this.expect(11),this.expect(19),n.returnType=this.flowParseType(),this.finishNode(n,"FunctionTypeAnnotation");case 10:if(this.next(),!this.match(11)&&!this.match(21))if(lf(this.state.type)||this.match(72)){const e=this.lookahead().type;r=17!==e&&14!==e}else r=!0;if(r){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=o,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&19===this.lookahead().type))return this.expect(11),s;this.eat(12)}return i=s?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):this.flowParseFunctionTypeParams(),n.params=i.params,n.rest=i.rest,n.this=i._this,this.expect(11),this.expect(19),n.returnType=this.flowParseType(),n.typeParameters=null,this.finishNode(n,"FunctionTypeAnnotation");case 123:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 79:case 80:return n.value=this.match(79),this.next(),this.finishNode(n,"BooleanLiteralTypeAnnotation");case 47:if("-"===this.state.value){if(this.next(),this.match(124))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",n);if(this.match(125))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",n);throw this.raise(this.state.start,om.UnexpectedSubtractionOperand)}throw this.unexpected();case 124:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 125:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 82:return this.next(),this.finishNode(n,"VoidTypeAnnotation");case 78:return this.next(),this.finishNode(n,"NullLiteralTypeAnnotation");case 72:return this.next(),this.finishNode(n,"ThisTypeAnnotation");case 49:return this.next(),this.finishNode(n,"ExistsTypeAnnotation");case 81:return this.flowParseTypeofType();default:if(pf(this.state.type)){const e=gf(this.state.type);return this.next(),super.createIdentifier(n,e)}if(lf(this.state.type))return this.isContextual(119)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,t,n,this.parseIdentifier())}throw this.unexpected()}flowParsePostfixType(){const e=this.state.start,t=this.state.startLoc;let n=this.flowParsePrimaryType(),i=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const s=this.startNodeAt(e,t),r=this.eat(18);i=i||r,this.expect(0),!r&&this.match(3)?(s.elementType=n,this.next(),n=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=n,s.indexType=this.flowParseType(),this.expect(3),i?(s.optional=r,n=this.finishNode(s,"OptionalIndexedAccessType")):n=this.finishNode(s,"IndexedAccessType"))}return n}flowParsePrefixType(){const e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const t=this.startNodeAt(e.start,e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.this=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e}flowParseIntersectionType(){const e=this.startNode();this.eat(41);const t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(41);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")}flowParseUnionType(){const e=this.startNode();this.eat(39);const t=this.flowParseIntersectionType();for(e.types=[t];this.eat(39);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")}flowParseType(){const e=this.state.inType;this.state.inType=!0;const t=this.flowParseUnionType();return this.state.inType=e,t}flowParseTypeOrImplicitInstantiation(){if(122===this.state.type&&"_"===this.state.value){const e=this.state.start,t=this.state.startLoc,n=this.parseIdentifier();return this.flowParseGenericType(e,t,n)}return this.flowParseType()}flowParseTypeAnnotation(){const e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(e){const t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.end,e.typeAnnotation.loc.end),e.expression}flowParseVariance(){let e=null;return this.match(47)&&(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")),e}parseFunctionBody(e,t,n=!1){return t?this.forwardNoArrowParamsConversionAt(e,(()=>super.parseFunctionBody(e,!0,n))):super.parseFunctionBody(e,!1,n)}parseFunctionBodyAndFinish(e,t,n=!1){if(this.match(14)){const t=this.startNode();[t.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=t.typeAnnotation?this.finishNode(t,"TypeAnnotation"):null}super.parseFunctionBodyAndFinish(e,t,n)}parseStatement(e,t){if(this.state.strict&&this.isContextual(119)){if(cf(this.lookahead().type)){const e=this.startNode();return this.next(),this.flowParseInterface(e)}}else if(this.shouldParseEnums()&&this.isContextual(116)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}const n=super.parseStatement(e,t);return void 0!==this.flowPragma||this.isValidDirective(n)||(this.flowPragma=null),n}parseExpressionStatement(e,t){if("Identifier"===t.type)if("declare"===t.name){if(this.match(74)||lf(this.state.type)||this.match(62)||this.match(68)||this.match(76))return this.flowParseDeclare(e)}else if(lf(this.state.type)){if("interface"===t.name)return this.flowParseInterface(e);if("type"===t.name)return this.flowParseTypeAlias(e);if("opaque"===t.name)return this.flowParseOpaqueType(e,!1)}return super.parseExpressionStatement(e,t)}shouldParseExportDeclaration(){const{type:e}=this.state;return uf(e)||this.shouldParseEnums()&&116===e?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:e}=this.state;return uf(e)||this.shouldParseEnums()&&116===e?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual(116)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}return super.parseExportDefaultExpression()}parseConditional(e,t,n,i){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(i),e}this.expect(17);const s=this.state.clone(),r=this.state.noArrowAt,o=this.startNodeAt(t,n);let{consequent:a,failed:l}=this.tryParseConditionalConsequent(),[c,d]=this.getArrowLikeExpressions(a);if(l||d.length>0){const e=[...r];if(d.length>0){this.state=s,this.state.noArrowAt=e;for(let t=0;t<d.length;t++)e.push(d[t].start);({consequent:a,failed:l}=this.tryParseConditionalConsequent()),[c,d]=this.getArrowLikeExpressions(a)}l&&c.length>1&&this.raise(s.start,om.AmbiguousConditionalArrow),l&&1===c.length&&(this.state=s,e.push(c[0].start),this.state.noArrowAt=e,({consequent:a,failed:l}=this.tryParseConditionalConsequent()))}return this.getArrowLikeExpressions(a,!0),this.state.noArrowAt=r,this.expect(14),o.test=e,o.consequent=a,o.alternate=this.forwardNoArrowParamsConversionAt(o,(()=>this.parseMaybeAssign(void 0,void 0))),this.finishNode(o,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const e=this.parseMaybeAssignAllowIn(),t=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t}}getArrowLikeExpressions(e,t){const n=[e],i=[];for(;0!==n.length;){const e=n.pop();"ArrowFunctionExpression"===e.type?(e.typeParameters||!e.returnType?this.finishArrowValidation(e):i.push(e),n.push(e.body)):"ConditionalExpression"===e.type&&(n.push(e.consequent),n.push(e.alternate))}return t?(i.forEach((e=>this.finishArrowValidation(e))),[i,[]]):function(e,t){const n=[],i=[];for(let s=0;s<e.length;s++)(t(e[s],s,e)?n:i).push(e[s]);return[n,i]}(i,(e=>e.params.every((e=>this.isAssignable(e,!0)))))}finishArrowValidation(e){var t;this.toAssignableList(e.params,null==(t=e.extra)?void 0:t.trailingComma,!1),this.scope.enter(6),super.checkParams(e,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(e,t){let n;return-1!==this.state.noArrowParamsConversionAt.indexOf(e.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),n=t(),this.state.noArrowParamsConversionAt.pop()):n=t(),n}parseParenItem(e,t,n){if(e=super.parseParenItem(e,t,n),this.eat(17)&&(e.optional=!0,this.resetEndLocation(e)),this.match(14)){const i=this.startNodeAt(t,n);return i.expression=e,i.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(i,"TypeCastExpression")}return e}assertModuleNodeAllowed(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||super.assertModuleNodeAllowed(e)}parseExport(e){const t=super.parseExport(e);return"ExportNamedDeclaration"!==t.type&&"ExportAllDeclaration"!==t.type||(t.exportKind=t.exportKind||"value"),t}parseExportDeclaration(e){if(this.isContextual(120)){e.exportKind="type";const t=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),this.parseExportFrom(e),null):this.flowParseTypeAlias(t)}if(this.isContextual(121)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseOpaqueType(t,!1)}if(this.isContextual(119)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseInterface(t)}if(this.shouldParseEnums()&&this.isContextual(116)){e.exportKind="value";const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDeclaration(e)}eatExportStar(e){return!!super.eatExportStar(...arguments)||!(!this.isContextual(120)||49!==this.lookahead().type)&&(e.exportKind="type",this.next(),this.next(),!0)}maybeParseExportNamespaceSpecifier(e){const t=this.state.start,n=super.maybeParseExportNamespaceSpecifier(e);return n&&"type"===e.exportKind&&this.unexpected(t),n}parseClassId(e,t,n){super.parseClassId(e,t,n),this.match(43)&&(e.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(e,t,n){const i=this.state.start;if(this.isContextual(115)){if(this.parseClassMemberFromModifier(e,t))return;t.declare=!0}super.parseClassMember(e,t,n),t.declare&&("ClassProperty"!==t.type&&"ClassPrivateProperty"!==t.type&&"PropertyDefinition"!==t.type?this.raise(i,om.DeclareClassElement):t.value&&this.raise(t.value.start,om.DeclareClassFieldInitializer))}isIterator(e){return"iterator"===e||"asyncIterator"===e}readIterator(){const e=super.readWord1(),t="@@"+e;this.isIterator(e)&&this.state.inType||this.raise(this.state.pos,Hg.InvalidIdentifier,t),this.finishToken(122,t)}getTokenFromCode(e){const t=this.input.charCodeAt(this.state.pos+1);return 123===e&&124===t?this.finishOp(6,2):!this.state.inType||62!==e&&60!==e?this.state.inType&&63===e?46===t?this.finishOp(18,2):this.finishOp(17,1):function(e,t){return 64===e&&64===t}(e,t)?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e):this.finishOp(62===e?44:43,1)}isAssignable(e,t){return"TypeCastExpression"===e.type?this.isAssignable(e.expression,t):super.isAssignable(e,t)}toAssignable(e,t=!1){return"TypeCastExpression"===e.type?super.toAssignable(this.typeCastToParameter(e),t):super.toAssignable(e,t)}toAssignableList(e,t,n){for(let i=0;i<e.length;i++){const t=e[i];"TypeCastExpression"===(null==t?void 0:t.type)&&(e[i]=this.typeCastToParameter(t))}return super.toAssignableList(e,t,n)}toReferencedList(e,t){for(let i=0;i<e.length;i++){var n;const s=e[i];!s||"TypeCastExpression"!==s.type||null!=(n=s.extra)&&n.parenthesized||!(e.length>1)&&t||this.raise(s.typeAnnotation.start,om.TypeCastInPattern)}return e}parseArrayLike(e,t,n,i){const s=super.parseArrayLike(e,t,n,i);return t&&!this.state.maybeInArrowParameters&&this.toReferencedList(s.elements),s}checkLVal(e,...t){if("TypeCastExpression"!==e.type)return super.checkLVal(e,...t)}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e)}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e)}isClassMethod(){return this.match(43)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e)}pushClassMethod(e,t,n,i,s,r){if(t.variance&&this.unexpected(t.variance.start),delete t.variance,this.match(43)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,t,n,i,s,r),t.params&&s){const e=t.params;e.length>0&&this.isThisParam(e[0])&&this.raise(t.start,om.ThisParamBannedInConstructor)}else if("MethodDefinition"===t.type&&s&&t.value.params){const e=t.value.params;e.length>0&&this.isThisParam(e[0])&&this.raise(t.start,om.ThisParamBannedInConstructor)}}pushClassPrivateMethod(e,t,n,i){t.variance&&this.unexpected(t.variance.start),delete t.variance,this.match(43)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,t,n,i)}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&this.match(43)&&(e.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(104)){this.next();const t=e.implements=[];do{const e=this.startNode();e.id=this.flowParseRestrictedIdentifier(!0),this.match(43)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,t.push(this.finishNode(e,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);const t=this.getObjectOrClassMethodParams(e);if(t.length>0){const n=t[0];this.isThisParam(n)&&"get"===e.kind?this.raise(n.start,om.GetterMayNotHaveThisParam):this.isThisParam(n)&&this.raise(n.start,om.SetterMayNotHaveThisParam)}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance()}parseObjPropValue(e,t,n,i,s,r,o,a){let l;e.variance&&this.unexpected(e.variance.start),delete e.variance,this.match(43)&&!o&&(l=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected()),super.parseObjPropValue(e,t,n,i,s,r,o,a),l&&((e.value||e).typeParameters=l)}parseAssignableListItemTypes(e){return this.eat(17)&&("Identifier"!==e.type&&this.raise(e.start,om.PatternIsOptional),this.isThisParam(e)&&this.raise(e.start,om.ThisParamMayNotBeOptional),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(e.start,om.ThisParamAnnotationRequired),this.match(27)&&this.isThisParam(e)&&this.raise(e.start,om.ThisParamNoDefault),this.resetEndLocation(e),e}parseMaybeDefault(e,t,n){const i=super.parseMaybeDefault(e,t,n);return"AssignmentPattern"===i.type&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(i.typeAnnotation.start,om.TypeBeforeInitializer),i}shouldParseDefaultImport(e){return am(e)?lm(this.state.type):super.shouldParseDefaultImport(e)}parseImportSpecifierLocal(e,t,n,i){t.local=am(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),this.checkLVal(t.local,i,9),e.specifiers.push(this.finishNode(t,n))}maybeParseDefaultImportSpecifier(e){e.importKind="value";let t=null;if(this.match(81)?t="typeof":this.isContextual(120)&&(t="type"),t){const n=this.lookahead(),{type:i}=n;"type"===t&&49===i&&this.unexpected(n.start),(lm(i)||5===i||49===i)&&(this.next(),e.importKind=t)}return super.maybeParseDefaultImportSpecifier(e)}parseImportSpecifier(e,t,n,i){const s=e.imported;let r=null;"Identifier"===s.type&&("type"===s.name?r="type":"typeof"===s.name&&(r="typeof"));let o=!1;if(this.isContextual(87)&&!this.isLookaheadContextual("as")){const t=this.parseIdentifier(!0);null===r||cf(this.state.type)?(e.imported=s,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=t,e.importKind=r,e.local=im(t))}else{if(null!==r&&cf(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=r;else{if(t)throw this.raise(e.start,Hg.ImportBindingIsString,s.value);e.imported=s,e.importKind=null}this.eatContextual(87)?e.local=this.parseIdentifier():(o=!0,e.local=im(e.imported))}const a=am(e);return n&&a&&this.raise(e.start,om.ImportTypeShorthandOnlyInPureImport),(n||a)&&this.checkReservedType(e.local.name,e.local.start,!0),!o||n||a||this.checkReservedWord(e.local.name,e.start,!0,!0),this.checkLVal(e.local,"import specifier",9),this.finishNode(e,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 72:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(e,t){const n=e.kind;"get"!==n&&"set"!==n&&this.match(43)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){if(this.match(14)){const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=t}return super.parseAsyncArrowFromCallExpression(e,t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(e,t){var n;let i,s=null;if(this.hasPlugin("jsx")&&(this.match(132)||this.match(43))){if(s=this.state.clone(),i=this.tryParse((()=>super.parseMaybeAssign(e,t)),s),!i.error)return i.node;const{context:n}=this.state,r=n[n.length-1];r===Kg.j_oTag?n.length-=2:r===Kg.j_expr&&(n.length-=1)}if(null!=(n=i)&&n.error||this.match(43)){var r,o;let n;s=s||this.state.clone();const a=this.tryParse((i=>{var s;n=this.flowParseTypeParameterDeclaration();const r=this.forwardNoArrowParamsConversionAt(n,(()=>{const i=super.parseMaybeAssign(e,t);return this.resetStartLocationFromNode(i,n),i}));null!=(s=r.extra)&&s.parenthesized&&i();const o=this.maybeUnwrapTypeCastExpression(r);return"ArrowFunctionExpression"!==o.type&&i(),o.typeParameters=n,this.resetStartLocationFromNode(o,n),r}),s);let l=null;if(a.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(a.node).type){if(!a.error&&!a.aborted)return a.node.async&&this.raise(n.start,om.UnexpectedTypeParameterBeforeAsyncArrowFunction),a.node;l=a.node}if(null!=(r=i)&&r.node)return this.state=i.failState,i.node;if(l)return this.state=a.failState,l;if(null!=(o=i)&&o.thrown)throw i.error;if(a.thrown)throw a.error;throw this.raise(n.start,om.UnexpectedTokenAfterTypeParameter)}return super.parseMaybeAssign(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse((()=>{const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const n=this.startNode();return[n.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=t,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),n}));if(t.thrown)return null;t.error&&(this.state=t.failState),e.returnType=t.node.typeAnnotation?this.finishNode(t.node,"TypeAnnotation"):null}return super.parseArrow(e)}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e)}setArrowFunctionParameters(e,t){-1!==this.state.noArrowParamsConversionAt.indexOf(e.start)?e.params=t:super.setArrowFunctionParameters(e,t)}checkParams(e,t,n){if(!n||-1===this.state.noArrowParamsConversionAt.indexOf(e.start)){for(let t=0;t<e.params.length;t++)this.isThisParam(e.params[t])&&t>0&&this.raise(e.params[t].start,om.ThisParamMustBeFirst);return super.checkParams(...arguments)}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&-1===this.state.noArrowAt.indexOf(this.state.start))}parseSubscripts(e,t,n,i){if("Identifier"===e.type&&"async"===e.name&&-1!==this.state.noArrowAt.indexOf(t)){this.next();const i=this.startNodeAt(t,n);i.callee=e,i.arguments=this.parseCallExpressionArguments(11,!1),e=this.finishNode(i,"CallExpression")}else if("Identifier"===e.type&&"async"===e.name&&this.match(43)){const s=this.state.clone(),r=this.tryParse((e=>this.parseAsyncArrowWithTypeParameters(t,n)||e()),s);if(!r.error&&!r.aborted)return r.node;const o=this.tryParse((()=>super.parseSubscripts(e,t,n,i)),s);if(o.node&&!o.error)return o.node;if(r.node)return this.state=r.failState,r.node;if(o.node)return this.state=o.failState,o.node;throw r.error||o.error}return super.parseSubscripts(e,t,n,i)}parseSubscript(e,t,n,i,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,i)return s.stop=!0,e;this.next();const r=this.startNodeAt(t,n);return r.callee=e,r.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),r.arguments=this.parseCallExpressionArguments(11,!1),r.optional=!0,this.finishCallExpression(r,!0)}if(!i&&this.shouldParseTypes()&&this.match(43)){const i=this.startNodeAt(t,n);i.callee=e;const r=this.tryParse((()=>(i.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),i.arguments=this.parseCallExpressionArguments(11,!1),s.optionalChainMember&&(i.optional=!1),this.finishCallExpression(i,s.optionalChainMember))));if(r.node)return r.error&&(this.state=r.failState),r.node}return super.parseSubscript(e,t,n,i,s)}parseNewArguments(e){let t=null;this.shouldParseTypes()&&this.match(43)&&(t=this.tryParse((()=>this.flowParseTypeParameterInstantiationCallOrNew())).node),e.typeArguments=t,super.parseNewArguments(e)}parseAsyncArrowWithTypeParameters(e,t){const n=this.startNodeAt(e,t);if(this.parseFunctionParams(n),this.parseArrow(n))return this.parseArrowExpression(n,void 0,!0)}readToken_mult_modulo(e){const t=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===t&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();super.readToken_mult_modulo(e)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);124!==e||125!==t?super.readToken_pipe_amp(e):this.finishOp(9,2)}parseTopLevel(e,t){const n=super.parseTopLevel(e,t);return this.state.hasFlowComment&&this.raise(this.state.pos,om.UnterminatedFlowComment),n}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment())return this.state.hasFlowComment&&this.unexpected(null,om.NestedFlowComment),this.hasFlowCommentCompletion(),this.state.pos+=this.skipFlowComment(),void(this.state.hasFlowComment=!0);if(!this.state.hasFlowComment)return super.skipBlockComment();{const e=this.input.indexOf("*-/",this.state.pos+=2);if(-1===e)throw this.raise(this.state.pos-2,Hg.UnterminatedComment);this.state.pos=e+3}}skipFlowComment(){const{pos:e}=this.state;let t=2;for(;[32,9].includes(this.input.charCodeAt(e+t));)t++;const n=this.input.charCodeAt(t+e),i=this.input.charCodeAt(t+e+1);return 58===n&&58===i?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===n&&58!==i&&t}hasFlowCommentCompletion(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(this.state.pos,Hg.UnterminatedComment)}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:t,memberName:n}){this.raise(e,om.EnumBooleanMemberNotInitialized,n,t)}flowEnumErrorInvalidMemberName(e,{enumName:t,memberName:n}){const i=n[0].toUpperCase()+n.slice(1);this.raise(e,om.EnumInvalidMemberName,n,i,t)}flowEnumErrorDuplicateMemberName(e,{enumName:t,memberName:n}){this.raise(e,om.EnumDuplicateMemberName,n,t)}flowEnumErrorInconsistentMemberValues(e,{enumName:t}){this.raise(e,om.EnumInconsistentMemberValues,t)}flowEnumErrorInvalidExplicitType(e,{enumName:t,suppliedType:n}){return this.raise(e,null===n?om.EnumInvalidExplicitTypeUnknownSupplied:om.EnumInvalidExplicitType,t,n)}flowEnumErrorInvalidMemberInitializer(e,{enumName:t,explicitType:n,memberName:i}){let s=null;switch(n){case"boolean":case"number":case"string":s=om.EnumInvalidMemberInitializerPrimaryType;break;case"symbol":s=om.EnumInvalidMemberInitializerSymbolType;break;default:s=om.EnumInvalidMemberInitializerUnknownType}return this.raise(e,s,t,i,n)}flowEnumErrorNumberMemberNotInitialized(e,{enumName:t,memberName:n}){this.raise(e,om.EnumNumberMemberNotInitialized,t,n)}flowEnumErrorStringMemberInconsistentlyInitailized(e,{enumName:t}){this.raise(e,om.EnumStringMemberInconsistentlyInitailized,t)}flowEnumMemberInit(){const e=this.state.start,t=()=>this.match(12)||this.match(8);switch(this.state.type){case 124:{const n=this.parseNumericLiteral(this.state.value);return t()?{type:"number",pos:n.start,value:n}:{type:"invalid",pos:e}}case 123:{const n=this.parseStringLiteral(this.state.value);return t()?{type:"string",pos:n.start,value:n}:{type:"invalid",pos:e}}case 79:case 80:{const n=this.parseBooleanLiteral(this.match(79));return t()?{type:"boolean",pos:n.start,value:n}:{type:"invalid",pos:e}}default:return{type:"invalid",pos:e}}}flowEnumMemberRaw(){const e=this.state.start;return{id:this.parseIdentifier(!0),init:this.eat(27)?this.flowEnumMemberInit():{type:"none",pos:e}}}flowEnumCheckExplicitTypeMismatch(e,t,n){const{explicitType:i}=t;null!==i&&i!==n&&this.flowEnumErrorInvalidMemberInitializer(e,t)}flowEnumMembers({enumName:e,explicitType:t}){const n=new Set,i={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let s=!1;for(;!this.match(8);){if(this.eat(21)){s=!0;break}const r=this.startNode(),{id:o,init:a}=this.flowEnumMemberRaw(),l=o.name;if(""===l)continue;/^[a-z]/.test(l)&&this.flowEnumErrorInvalidMemberName(o.start,{enumName:e,memberName:l}),n.has(l)&&this.flowEnumErrorDuplicateMemberName(o.start,{enumName:e,memberName:l}),n.add(l);const c={enumName:e,explicitType:t,memberName:l};switch(r.id=o,a.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(a.pos,c,"boolean"),r.init=a.value,i.booleanMembers.push(this.finishNode(r,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(a.pos,c,"number"),r.init=a.value,i.numberMembers.push(this.finishNode(r,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(a.pos,c,"string"),r.init=a.value,i.stringMembers.push(this.finishNode(r,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(a.pos,c);case"none":switch(t){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(a.pos,c);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(a.pos,c);break;default:i.defaultedMembers.push(this.finishNode(r,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:i,hasUnknownMembers:s}}flowEnumStringMembers(e,t,{enumName:n}){if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(const t of e)this.flowEnumErrorStringMemberInconsistentlyInitailized(t.start,{enumName:n});return t}for(const i of t)this.flowEnumErrorStringMemberInconsistentlyInitailized(i.start,{enumName:n});return e}flowEnumParseExplicitType({enumName:e}){if(this.eatContextual(95)){if(!lf(this.state.type))throw this.flowEnumErrorInvalidExplicitType(this.state.start,{enumName:e,suppliedType:null});const{value:t}=this.state;return this.next(),"boolean"!==t&&"number"!==t&&"string"!==t&&"symbol"!==t&&this.flowEnumErrorInvalidExplicitType(this.state.start,{enumName:e,suppliedType:t}),t}return null}flowEnumBody(e,{enumName:t,nameLoc:n}){const i=this.flowEnumParseExplicitType({enumName:t});this.expect(5);const{members:s,hasUnknownMembers:r}=this.flowEnumMembers({enumName:t,explicitType:i});switch(e.hasUnknownMembers=r,i){case"boolean":return e.explicitType=!0,e.members=s.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=s.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(s.stringMembers,s.defaultedMembers,{enumName:t}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=s.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{const i=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;const r=s.booleanMembers.length,o=s.numberMembers.length,a=s.stringMembers.length,l=s.defaultedMembers.length;if(r||o||a||l){if(r||o){if(!o&&!a&&r>=l){for(const e of s.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(e.start,{enumName:t,memberName:e.id.name});return e.members=s.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody")}if(!r&&!a&&o>=l){for(const e of s.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(e.start,{enumName:t,memberName:e.id.name});return e.members=s.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody")}return this.flowEnumErrorInconsistentMemberValues(n,{enumName:t}),i()}return e.members=this.flowEnumStringMembers(s.stringMembers,s.defaultedMembers,{enumName:t}),this.expect(8),this.finishNode(e,"EnumStringBody")}return i()}}}flowParseEnumDeclaration(e){const t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),{enumName:t.name,nameLoc:t.start}),this.finishNode(e,"EnumDeclaration")}isLookaheadToken_lt(){const e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){const t=this.input.charCodeAt(e+1);return 60!==t&&61!==t}return!1}maybeUnwrapTypeCastExpression(e){return"TypeCastExpression"===e.type?e.expression:e}},typescript:e=>class extends e{getScopeHandler(){return vm}tsIsIdentifier(){return lf(this.state.type)}tsTokenCanFollowModifier(){return(this.match(0)||this.match(5)||this.match(49)||this.match(21)||this.match(128)||this.isLiteralPropertyName())&&!this.hasPrecedingLineBreak()}tsNextTokenCanFollowModifier(){return this.next(),this.tsTokenCanFollowModifier()}tsParseModifier(e,t){if(!lf(this.state.type))return;const n=this.state.value;if(-1!==e.indexOf(n)){if(t&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return n}}tsParseModifiers(e,t,n,i,s){const r=(t,n,i,s)=>{n===i&&e[s]&&this.raise(t,ym.InvalidModifiersOrder,i,s)},o=(t,n,i,s)=>{(e[i]&&n===s||e[s]&&n===i)&&this.raise(t,ym.IncompatibleModifiers,i,s)};for(;;){const a=this.state.start,l=this.tsParseModifier(t.concat(null!=n?n:[]),s);if(!l)break;wm(l)?e.accessibility?this.raise(a,ym.DuplicateAccessibilityModifier):(r(a,l,l,"override"),r(a,l,l,"static"),r(a,l,l,"readonly"),e.accessibility=l):(Object.hasOwnProperty.call(e,l)?this.raise(a,ym.DuplicateModifier,l):(r(a,l,"static","readonly"),r(a,l,"static","override"),r(a,l,"override","readonly"),r(a,l,"abstract","override"),o(a,l,"declare","override"),o(a,l,"static","abstract")),e[l]=!0),null!=n&&n.includes(l)&&this.raise(a,i,l)}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(44)}throw new Error("Unreachable")}tsParseList(e,t){const n=[];for(;!this.tsIsListTerminator(e);)n.push(t());return n}tsParseDelimitedList(e,t,n){return function(e){if(null==e)throw new Error(`Unexpected ${e} value.`);return e}(this.tsParseDelimitedListWorker(e,t,!0,n))}tsParseDelimitedListWorker(e,t,n,i){const s=[];let r=-1;for(;!this.tsIsListTerminator(e);){r=-1;const i=t();if(null==i)return;if(s.push(i),!this.eat(12)){if(this.tsIsListTerminator(e))break;return void(n&&this.expect(12))}r=this.state.lastTokStart}return i&&(i.value=r),s}tsParseBracketedList(e,t,n,i,s){i||(n?this.expect(0):this.expect(43));const r=this.tsParseDelimitedList(e,t,s);return n?this.expect(3):this.expect(44),r}tsParseImportType(){const e=this.startNode();return this.expect(77),this.expect(10),this.match(123)||this.raise(this.state.start,ym.UnsupportedImportTypeArgument),e.argument=this.parseExprAtom(),this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName(!0)),this.match(43)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")}tsParseEntityName(e){let t=this.parseIdentifier();for(;this.eat(16);){const n=this.startNodeAtNode(t);n.left=t,n.right=this.parseIdentifier(e),t=this.finishNode(n,"TSQualifiedName")}return t}tsParseTypeReference(){const e=this.startNode();return e.typeName=this.tsParseEntityName(!1),!this.hasPrecedingLineBreak()&&this.match(43)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")}tsParseThisTypePredicate(e){this.next();const t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),t.asserts=!1,this.finishNode(t,"TSTypePredicate")}tsParseThisTypeNode(){const e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")}tsParseTypeQuery(){const e=this.startNode();return this.expect(81),this.match(77)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(!0),this.finishNode(e,"TSTypeQuery")}tsParseTypeParameter(){const e=this.startNode();return e.name=this.tsParseTypeParameterName(),e.constraint=this.tsEatThenParseType(75),e.default=this.tsEatThenParseType(27),this.finishNode(e,"TSTypeParameter")}tsTryParseTypeParameters(){if(this.match(43))return this.tsParseTypeParameters()}tsParseTypeParameters(){const e=this.startNode();this.match(43)||this.match(132)?this.next():this.unexpected();const t={value:-1};return e.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this),!1,!0,t),0===e.params.length&&this.raise(e.start,ym.EmptyTypeParameters),-1!==t.value&&this.addExtra(e,"trailingComma",t.value),this.finishNode(e,"TSTypeParameterDeclaration")}tsTryNextParseConstantContext(){return 69===this.lookahead().type?(this.next(),this.tsParseTypeReference()):null}tsFillSignature(e,t){const n=19===e;t.typeParameters=this.tsTryParseTypeParameters(),this.expect(10),t.parameters=this.tsParseBindingListForSignature(),(n||this.match(e))&&(t.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(e))}tsParseBindingListForSignature(){return this.parseBindingList(11,41).map((e=>("Identifier"!==e.type&&"RestElement"!==e.type&&"ObjectPattern"!==e.type&&"ArrayPattern"!==e.type&&this.raise(e.start,ym.UnsupportedSignatureParameterKind,e.type),e)))}tsParseTypeMemberSemicolon(){this.eat(12)||this.isLineTerminator()||this.expect(13)}tsParseSignatureMember(e,t){return this.tsFillSignature(14,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e)}tsIsUnambiguouslyIndexSignature(){return this.next(),!!lf(this.state.type)&&(this.next(),this.match(14))}tsTryParseIndexSignature(e){if(!this.match(0)||!this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this)))return;this.expect(0);const t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(3),e.parameters=[t];const n=this.tsTryParseTypeAnnotation();return n&&(e.typeAnnotation=n),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}tsParsePropertyOrMethodSignature(e,t){this.eat(17)&&(e.optional=!0);const n=e;if(this.match(10)||this.match(43)){t&&this.raise(e.start,ym.ReadonlyForMethodSignature);const i=n;if(i.kind&&this.match(43)&&this.raise(this.state.pos,ym.AccesorCannotHaveTypeParameters),this.tsFillSignature(14,i),this.tsParseTypeMemberSemicolon(),"get"===i.kind)i.parameters.length>0&&(this.raise(this.state.pos,Hg.BadGetterArity),this.isThisParam(i.parameters[0])&&this.raise(this.state.pos,ym.AccesorCannotDeclareThisParameter));else if("set"===i.kind){if(1!==i.parameters.length)this.raise(this.state.pos,Hg.BadSetterArity);else{const e=i.parameters[0];this.isThisParam(e)&&this.raise(this.state.pos,ym.AccesorCannotDeclareThisParameter),"Identifier"===e.type&&e.optional&&this.raise(this.state.pos,ym.SetAccesorCannotHaveOptionalParameter),"RestElement"===e.type&&this.raise(this.state.pos,ym.SetAccesorCannotHaveRestParameter)}i.typeAnnotation&&this.raise(i.typeAnnotation.start,ym.SetAccesorCannotHaveReturnType)}else i.kind="method";return this.finishNode(i,"TSMethodSignature")}{const e=n;t&&(e.readonly=!0);const i=this.tsTryParseTypeAnnotation();return i&&(e.typeAnnotation=i),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSPropertySignature")}}tsParseTypeMember(){const e=this.startNode();if(this.match(10)||this.match(43))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(71)){const t=this.startNode();return this.next(),this.match(10)||this.match(43)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}this.tsParseModifiers(e,["readonly"],["declare","abstract","private","protected","public","static","override"],ym.InvalidModifierOnTypeMember);const t=this.tsTryParseIndexSignature(e);return t||(this.parsePropertyName(e),e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||!this.tsTokenCanFollowModifier()||(e.kind=e.key.name,this.parsePropertyName(e)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly))}tsParseTypeLiteral(){const e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e}tsIsStartOfMappedType(){return this.next(),this.eat(47)?this.isContextual(112):(this.isContextual(112)&&this.next(),!!this.match(0)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(52))))}tsParseMappedTypeParameter(){const e=this.startNode();return e.name=this.tsParseTypeParameterName(),e.constraint=this.tsExpectThenParseType(52),this.finishNode(e,"TSTypeParameter")}tsParseMappedType(){const e=this.startNode();return this.expect(5),this.match(47)?(e.readonly=this.state.value,this.next(),this.expectContextual(112)):this.eatContextual(112)&&(e.readonly=!0),this.expect(0),e.typeParameter=this.tsParseMappedTypeParameter(),e.nameType=this.eatContextual(87)?this.tsParseType():null,this.expect(3),this.match(47)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType")}tsParseTupleType(){const e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let t=!1,n=null;return e.elementTypes.forEach((e=>{var i;let{type:s}=e;!t||"TSRestType"===s||"TSOptionalType"===s||"TSNamedTupleMember"===s&&e.optional||this.raise(e.start,ym.OptionalTypeBeforeRequired),t=t||"TSNamedTupleMember"===s&&e.optional||"TSOptionalType"===s,"TSRestType"===s&&(s=(e=e.typeAnnotation).type);const r="TSNamedTupleMember"===s;n=null!=(i=n)?i:r,n!==r&&this.raise(e.start,ym.MixedLabeledAndUnlabeledElements)})),this.finishNode(e,"TSTupleType")}tsParseTupleElementType(){const{start:e,startLoc:t}=this.state,n=this.eat(21);let i=this.tsParseType();const s=this.eat(17);if(this.eat(14)){const e=this.startNodeAtNode(i);e.optional=s,"TSTypeReference"!==i.type||i.typeParameters||"Identifier"!==i.typeName.type?(this.raise(i.start,ym.InvalidTupleMemberLabel),e.label=i):e.label=i.typeName,e.elementType=this.tsParseType(),i=this.finishNode(e,"TSNamedTupleMember")}else if(s){const e=this.startNodeAtNode(i);e.typeAnnotation=i,i=this.finishNode(e,"TSOptionalType")}if(n){const n=this.startNodeAt(e,t);n.typeAnnotation=i,i=this.finishNode(n,"TSRestType")}return i}tsParseParenthesizedType(){const e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType")}tsParseFunctionOrConstructorType(e,t){const n=this.startNode();return"TSConstructorType"===e&&(n.abstract=!!t,t&&this.next(),this.next()),this.tsFillSignature(19,n),this.finishNode(n,e)}tsParseLiteralTypeNode(){const e=this.startNode();return e.literal=(()=>{switch(this.state.type){case 124:case 125:case 123:case 79:case 80:return this.parseExprAtom();default:throw this.unexpected()}})(),this.finishNode(e,"TSLiteralType")}tsParseTemplateLiteralType(){const e=this.startNode();return e.literal=this.parseTemplate(!1),this.finishNode(e,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const e=this.tsParseThisTypeNode();return this.isContextual(107)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e}tsParseNonArrayType(){switch(this.state.type){case 123:case 124:case 125:case 79:case 80:return this.tsParseLiteralTypeNode();case 47:if("-"===this.state.value){const e=this.startNode(),t=this.lookahead();if(124!==t.type&&125!==t.type)throw this.unexpected();return e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType")}break;case 72:return this.tsParseThisTypeOrThisTypePredicate();case 81:return this.tsParseTypeQuery();case 77:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 22:return this.tsParseTemplateLiteralType();default:{const{type:e}=this.state;if(lf(e)||82===e||78===e){const t=82===e?"TSVoidKeyword":78===e?"TSNullKeyword":function(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}(this.state.value);if(void 0!==t&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,t)}return this.tsParseTypeReference()}}}throw this.unexpected()}tsParseArrayTypeOrHigher(){let e=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const t=this.startNodeAtNode(e);t.elementType=e,this.expect(3),e=this.finishNode(t,"TSArrayType")}else{const t=this.startNodeAtNode(e);t.objectType=e,t.indexType=this.tsParseType(),this.expect(3),e=this.finishNode(t,"TSIndexedAccessType")}return e}tsParseTypeOperator(){const e=this.startNode(),t=this.state.value;return this.next(),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===t&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(e.start,ym.UnexpectedReadonly)}}tsParseInferType(){const e=this.startNode();this.expectContextual(106);const t=this.startNode();return t.name=this.tsParseTypeParameterName(),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType")}tsParseTypeOperatorOrHigher(){var e;return(e=this.state.type)>=111&&e<=113&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(106)?this.tsParseInferType():this.tsParseArrayTypeOrHigher()}tsParseUnionOrIntersectionType(e,t,n){const i=this.startNode(),s=this.eat(n),r=[];do{r.push(t())}while(this.eat(n));return 1!==r.length||s?(i.types=r,this.finishNode(i,e)):r[0]}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),41)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),39)}tsIsStartOfFunctionType(){return!!this.match(43)||this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(lf(this.state.type)||this.match(72))return this.next(),!0;if(this.match(5)){let e=1;for(this.next();e>0;)this.match(5)?++e:this.match(8)&&--e,this.next();return!0}if(this.match(0)){let e=1;for(this.next();e>0;)this.match(0)?++e:this.match(3)&&--e,this.next();return!0}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(11)||this.match(21))return!0;if(this.tsSkipParameterStart()){if(this.match(14)||this.match(12)||this.match(17)||this.match(27))return!0;if(this.match(11)&&(this.next(),this.match(19)))return!0}return!1}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType((()=>{const t=this.startNode();this.expect(e);const n=this.startNode(),i=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(i&&this.match(72)){let e=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===e.type?(n.parameterName=e,n.asserts=!0,n.typeAnnotation=null,e=this.finishNode(n,"TSTypePredicate")):(this.resetStartLocationFromNode(e,n),e.asserts=!0),t.typeAnnotation=e,this.finishNode(t,"TSTypeAnnotation")}const s=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!s)return i?(n.parameterName=this.parseIdentifier(),n.asserts=i,n.typeAnnotation=null,t.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,t);const r=this.tsParseTypeAnnotation(!1);return n.parameterName=s,n.typeAnnotation=r,n.asserts=i,t.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")}))}tsTryParseTypeOrTypePredicateAnnotation(){return this.match(14)?this.tsParseTypeOrTypePredicateAnnotation(14):void 0}tsTryParseTypeAnnotation(){return this.match(14)?this.tsParseTypeAnnotation():void 0}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const e=this.parseIdentifier();if(this.isContextual(107)&&!this.hasPrecedingLineBreak())return this.next(),e}tsParseTypePredicateAsserts(){if(100!==this.state.type)return!1;const e=this.state.containsEsc;return this.next(),!(!lf(this.state.type)&&!this.match(72))&&(e&&this.raise(this.state.lastTokStart,Hg.InvalidEscapedReservedWord,"asserts"),!0)}tsParseTypeAnnotation(e=!0,t=this.startNode()){return this.tsInType((()=>{e&&this.expect(14),t.typeAnnotation=this.tsParseType()})),this.finishNode(t,"TSTypeAnnotation")}tsParseType(){bm(this.state.inType);const e=this.tsParseNonConditionalType();if(this.hasPrecedingLineBreak()||!this.eat(75))return e;const t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsParseNonConditionalType(),this.expect(17),t.trueType=this.tsParseType(),this.expect(14),t.falseType=this.tsParseType(),this.finishNode(t,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(114)&&71===this.lookahead().type}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(71)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(this.state.start,ym.ReservedTypeAssertion);const e=this.startNode(),t=this.tsTryNextParseConstantContext();return e.typeAnnotation=t||this.tsNextThenParseType(),this.expect(44),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")}tsParseHeritageClause(e){const t=this.state.start,n=this.tsParseDelimitedList("HeritageClauseElement",this.tsParseExpressionWithTypeArguments.bind(this));return n.length||this.raise(t,ym.EmptyHeritageClauseType,e),n}tsParseExpressionWithTypeArguments(){const e=this.startNode();return e.expression=this.tsParseEntityName(!1),this.match(43)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments")}tsParseInterfaceDeclaration(e){lf(this.state.type)?(e.id=this.parseIdentifier(),this.checkLVal(e.id,"typescript interface declaration",130)):(e.id=null,this.raise(this.state.start,ym.MissingInterfaceName)),e.typeParameters=this.tsTryParseTypeParameters(),this.eat(75)&&(e.extends=this.tsParseHeritageClause("extends"));const t=this.startNode();return t.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(t,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkLVal(e.id,"typescript type alias",2),e.typeParameters=this.tsTryParseTypeParameters(),e.typeAnnotation=this.tsInType((()=>{if(this.expect(27),this.isContextual(105)&&16!==this.lookahead().type){const e=this.startNode();return this.next(),this.finishNode(e,"TSIntrinsicKeyword")}return this.tsParseType()})),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")}tsInNoContext(e){const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}tsInType(e){const t=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=t}}tsEatThenParseType(e){return this.match(e)?this.tsNextThenParseType():void 0}tsExpectThenParseType(e){return this.tsDoThenParseType((()=>this.expect(e)))}tsNextThenParseType(){return this.tsDoThenParseType((()=>this.next()))}tsDoThenParseType(e){return this.tsInType((()=>(e(),this.tsParseType())))}tsParseEnumMember(){const e=this.startNode();return e.id=this.match(123)?this.parseExprAtom():this.parseIdentifier(!0),this.eat(27)&&(e.initializer=this.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")}tsParseEnumDeclaration(e,t){return t&&(e.const=!0),e.id=this.parseIdentifier(),this.checkLVal(e.id,"typescript enum declaration",t?779:267),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration")}tsParseModuleBlock(){const e=this.startNode();return this.scope.enter(0),this.expect(5),this.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(e,t=!1){if(e.id=this.parseIdentifier(),t||this.checkLVal(e.id,"module or namespace declaration",1024),this.eat(16)){const t=this.startNode();this.tsParseModuleOrNamespaceDeclaration(t,!0),e.body=t}else this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(103)?(e.global=!0,e.id=this.parseIdentifier()):this.match(123)?e.id=this.parseExprAtom():this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(e,t){e.isExport=t||!1,e.id=this.parseIdentifier(),this.checkLVal(e.id,"import equals declaration",9),this.expect(27);const n=this.tsParseModuleReference();return"type"===e.importKind&&"TSExternalModuleReference"!==n.type&&this.raise(n.start,ym.ImportAliasHasImportType),e.moduleReference=n,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(110)&&40===this.lookaheadCharCode()}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){const e=this.startNode();if(this.expectContextual(110),this.expect(10),!this.match(123))throw this.unexpected();return e.expression=this.parseExprAtom(),this.expect(11),this.finishNode(e,"TSExternalModuleReference")}tsLookAhead(e){const t=this.state.clone(),n=e();return this.state=t,n}tsTryParseAndCatch(e){const t=this.tryParse((t=>e()||t()));if(!t.aborted&&t.node)return t.error&&(this.state=t.failState),t.node}tsTryParse(e){const t=this.state.clone(),n=e();return void 0!==n&&!1!==n?n:void(this.state=t)}tsTryParseDeclare(e){if(this.isLineTerminator())return;let t,n=this.state.type;return this.isContextual(93)&&(n=68,t="let"),this.tsInAmbientContext((()=>{switch(n){case 62:return e.declare=!0,this.parseFunctionStatement(e,!1,!0);case 74:return e.declare=!0,this.parseClass(e,!0,!1);case 69:if(this.match(69)&&this.isLookaheadContextual("enum"))return this.expect(69),this.expectContextual(116),this.tsParseEnumDeclaration(e,!0);case 68:return t=t||this.state.value,this.parseVarStatement(e,t);case 103:return this.tsParseAmbientExternalModuleDeclaration(e);default:if(lf(n))return this.tsParseDeclaration(e,this.state.value,!0)}}))}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0)}tsParseExpressionStatement(e,t){switch(t.name){case"declare":{const t=this.tsTryParseDeclare(e);if(t)return t.declare=!0,t;break}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);const n=e;return n.global=!0,n.id=t,n.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(n,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(e,t.name,!1)}}tsParseDeclaration(e,t,n){switch(t){case"abstract":if(this.tsCheckLineTerminator(n)&&(this.match(74)||lf(this.state.type)))return this.tsParseAbstractDeclaration(e);break;case"enum":if(n||lf(this.state.type))return n&&this.next(),this.tsParseEnumDeclaration(e,!1);break;case"interface":if(this.tsCheckLineTerminator(n)&&lf(this.state.type))return this.tsParseInterfaceDeclaration(e);break;case"module":if(this.tsCheckLineTerminator(n)){if(this.match(123))return this.tsParseAmbientExternalModuleDeclaration(e);if(lf(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(e)}break;case"namespace":if(this.tsCheckLineTerminator(n)&&lf(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(e);break;case"type":if(this.tsCheckLineTerminator(n)&&lf(this.state.type))return this.tsParseTypeAliasDeclaration(e)}}tsCheckLineTerminator(e){return e?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(e,t){if(!this.match(43))return;const n=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const i=this.tsTryParseAndCatch((()=>{const n=this.startNodeAt(e,t);return n.typeParameters=this.tsParseTypeParameters(),super.parseFunctionParams(n),n.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),n}));return this.state.maybeInArrowParameters=n,i?this.parseArrowExpression(i,null,!0):void 0}tsParseTypeArguments(){const e=this.startNode();return e.params=this.tsInType((()=>this.tsInNoContext((()=>(this.expect(43),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))))),0===e.params.length&&this.raise(e.start,ym.EmptyTypeArguments),this.expect(44),this.finishNode(e,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return(e=this.state.type)>=114&&e<=120;var e}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier()}parseAssignableListItem(e,t){const n=this.state.start,i=this.state.startLoc;let s,r=!1,o=!1;if(void 0!==e){const t={};this.tsParseModifiers(t,["public","private","protected","override","readonly"]),s=t.accessibility,o=t.override,r=t.readonly,!1===e&&(s||r||o)&&this.raise(n,ym.UnexpectedParameterModifier)}const a=this.parseMaybeDefault();this.parseAssignableListItemTypes(a);const l=this.parseMaybeDefault(a.start,a.loc.start,a);if(s||r||o){const e=this.startNodeAt(n,i);return t.length&&(e.decorators=t),s&&(e.accessibility=s),r&&(e.readonly=r),o&&(e.override=o),"Identifier"!==l.type&&"AssignmentPattern"!==l.type&&this.raise(e.start,ym.UnsupportedParameterPropertyKind),e.parameter=l,this.finishNode(e,"TSParameterProperty")}return t.length&&(a.decorators=t),l}parseFunctionBodyAndFinish(e,t,n=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const i="FunctionDeclaration"===t?"TSDeclareFunction":"ClassMethod"===t||"ClassPrivateMethod"===t?"TSDeclareMethod":void 0;i&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,i):"TSDeclareFunction"===i&&this.state.isAmbientContext&&(this.raise(e.start,ym.DeclareFunctionHasImplementation),e.declare)?super.parseFunctionBodyAndFinish(e,i,n):super.parseFunctionBodyAndFinish(e,t,n)}registerFunctionStatementId(e){!e.body&&e.id?this.checkLVal(e.id,"function name",1024):super.registerFunctionStatementId(...arguments)}tsCheckForInvalidTypeCasts(e){e.forEach((e=>{"TSTypeCastExpression"===(null==e?void 0:e.type)&&this.raise(e.typeAnnotation.start,ym.UnexpectedTypeAnnotation)}))}toReferencedList(e,t){return this.tsCheckForInvalidTypeCasts(e),e}parseArrayLike(...e){const t=super.parseArrayLike(...e);return"ArrayExpression"===t.type&&this.tsCheckForInvalidTypeCasts(t.elements),t}parseSubscript(e,t,n,i,s){if(!this.hasPrecedingLineBreak()&&this.match(33)){this.state.canStartJSXElement=!1,this.next();const i=this.startNodeAt(t,n);return i.expression=e,this.finishNode(i,"TSNonNullExpression")}let r=!1;if(this.match(18)&&60===this.lookaheadCharCode()){if(i)return s.stop=!0,e;s.optionalChainMember=r=!0,this.next()}if(this.match(43)){let o;const a=this.tsTryParseAndCatch((()=>{if(!i&&this.atPossibleAsyncArrow(e)){const e=this.tsTryParseGenericAsyncArrowFunction(t,n);if(e)return e}const a=this.startNodeAt(t,n);a.callee=e;const l=this.tsParseTypeArguments();if(l){if(r&&!this.match(10)&&(o=this.state.pos,this.unexpected()),!i&&this.eat(10))return a.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(a.arguments),a.typeParameters=l,s.optionalChainMember&&(a.optional=r),this.finishCallExpression(a,s.optionalChainMember);if(this.match(22)){const i=this.parseTaggedTemplateExpression(e,t,n,s);return i.typeParameters=l,i}}this.unexpected()}));if(o&&this.unexpected(o,10),a)return a}return super.parseSubscript(e,t,n,i,s)}parseNewArguments(e){if(this.match(43)){const t=this.tsTryParseAndCatch((()=>{const e=this.tsParseTypeArguments();return this.match(10)||this.unexpected(),e}));t&&(e.typeParameters=t)}super.parseNewArguments(e)}parseExprOp(e,t,n,i){if(ff(52)>i&&!this.hasPrecedingLineBreak()&&this.isContextual(87)){const s=this.startNodeAt(t,n);s.expression=e;const r=this.tsTryNextParseConstantContext();return s.typeAnnotation=r||this.tsNextThenParseType(),this.finishNode(s,"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(s,t,n,i)}return super.parseExprOp(e,t,n,i)}checkReservedWord(e,t,n,i){}checkDuplicateExports(){}parseImport(e){if(e.importKind="value",lf(this.state.type)||this.match(49)||this.match(5)){let t=this.lookahead();if(this.isContextual(120)&&12!==t.type&&91!==t.type&&27!==t.type&&(e.importKind="type",this.next(),t=this.lookahead()),lf(this.state.type)&&27===t.type)return this.tsParseImportEqualsDeclaration(e)}const t=super.parseImport(e);return"type"===t.importKind&&t.specifiers.length>1&&"ImportDefaultSpecifier"===t.specifiers[0].type&&this.raise(t.start,ym.TypeImportCannotSpecifyDefaultAndNamed),t}parseExport(e){if(this.match(77))return this.next(),this.isContextual(120)&&61!==this.lookaheadCharCode()?(e.importKind="type",this.next()):e.importKind="value",this.tsParseImportEqualsDeclaration(e,!0);if(this.eat(27)){const t=e;return t.expression=this.parseExpression(),this.semicolon(),this.finishNode(t,"TSExportAssignment")}if(this.eatContextual(87)){const t=e;return this.expectContextual(118),t.id=this.parseIdentifier(),this.semicolon(),this.finishNode(t,"TSNamespaceExportDeclaration")}return this.isContextual(120)&&5===this.lookahead().type?(this.next(),e.exportKind="type"):e.exportKind="value",super.parseExport(e)}isAbstractClass(){return this.isContextual(114)&&74===this.lookahead().type}parseExportDefaultExpression(){if(this.isAbstractClass()){const e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0),e}if(this.match(119)){const e=this.startNode();this.next();const t=this.tsParseInterfaceDeclaration(e);if(t)return t}return super.parseExportDefaultExpression()}parseStatementContent(e,t){if(69===this.state.type){if(116===this.lookahead().type){const e=this.startNode();return this.next(),this.expectContextual(116),this.tsParseEnumDeclaration(e,!0)}}return super.parseStatementContent(e,t)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(e,t){return t.some((t=>wm(t)?e.accessibility===t:!!e[t]))}tsIsStartOfStaticBlocks(){return this.isContextual(98)&&123===this.lookaheadCharCode()}parseClassMember(e,t,n){const i=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers(t,i,void 0,void 0,!0);const s=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(t,i)&&this.raise(this.state.pos,ym.StaticBlockCannotHaveModifier),this.parseClassStaticBlock(e,t)):this.parseClassMemberWithIsStatic(e,t,n,!!t.static)};t.declare?this.tsInAmbientContext(s):s()}parseClassMemberWithIsStatic(e,t,n,i){const s=this.tsTryParseIndexSignature(t);if(s)return e.body.push(s),t.abstract&&this.raise(t.start,ym.IndexSignatureHasAbstract),t.accessibility&&this.raise(t.start,ym.IndexSignatureHasAccessibility,t.accessibility),t.declare&&this.raise(t.start,ym.IndexSignatureHasDeclare),void(t.override&&this.raise(t.start,ym.IndexSignatureHasOverride));!this.state.inAbstractClass&&t.abstract&&this.raise(t.start,ym.NonAbstractClassHasAbstractMethod),t.override&&(n.hadSuperClass||this.raise(t.start,ym.OverrideNotInSubClass)),super.parseClassMemberWithIsStatic(e,t,n,i)}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(e.start,ym.ClassMethodHasReadonly),e.declare&&this.match(10)&&this.raise(e.start,ym.ClassMethodHasDeclare)}parseExpressionStatement(e,t){return("Identifier"===t.type?this.tsParseExpressionStatement(e,t):void 0)||super.parseExpressionStatement(e,t)}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration()}parseConditional(e,t,n,i){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(e,t,n,i);const s=this.tryParse((()=>super.parseConditional(e,t,n)));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(i,s.error),e)}parseParenItem(e,t,n){if(e=super.parseParenItem(e,t,n),this.eat(17)&&(e.optional=!0,this.resetEndLocation(e)),this.match(14)){const i=this.startNodeAt(t,n);return i.expression=e,i.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(i,"TSTypeCastExpression")}return e}parseExportDeclaration(e){const t=this.state.start,n=this.state.startLoc,i=this.eatContextual(115);if(i&&(this.isContextual(115)||!this.shouldParseExportDeclaration()))throw this.raise(this.state.start,ym.ExpectedAmbientAfterExportDeclare);let s;return lf(this.state.type)&&(s=this.tsTryParseExportDeclaration()),s||(s=super.parseExportDeclaration(e)),s&&("TSInterfaceDeclaration"===s.type||"TSTypeAliasDeclaration"===s.type||i)&&(e.exportKind="type"),s&&i&&(this.resetStartLocation(s,t,n),s.declare=!0),s}parseClassId(e,t,n){if((!t||n)&&this.isContextual(104))return;super.parseClassId(e,t,n,e.declare?1024:139);const i=this.tsTryParseTypeParameters();i&&(e.typeParameters=i)}parseClassPropertyAnnotation(e){!e.optional&&this.eat(33)&&(e.definite=!0);const t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t)}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&this.match(27)&&this.raise(this.state.start,ym.DeclareClassFieldHasInitializer),e.abstract&&this.match(27)){const{key:t}=e;this.raise(this.state.start,ym.AbstractPropertyHasInitializer,"Identifier"!==t.type||e.computed?`[${this.input.slice(t.start,t.end)}]`:t.name)}return super.parseClassProperty(e)}parseClassPrivateProperty(e){return e.abstract&&this.raise(e.start,ym.PrivateElementHasAbstract),e.accessibility&&this.raise(e.start,ym.PrivateElementHasAccessibility,e.accessibility),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e)}pushClassMethod(e,t,n,i,s,r){const o=this.tsTryParseTypeParameters();o&&s&&this.raise(o.start,ym.ConstructorHasTypeParameters),!t.declare||"get"!==t.kind&&"set"!==t.kind||this.raise(t.start,ym.DeclareAccessor,t.kind),o&&(t.typeParameters=o),super.pushClassMethod(e,t,n,i,s,r)}pushClassPrivateMethod(e,t,n,i){const s=this.tsTryParseTypeParameters();s&&(t.typeParameters=s),super.pushClassPrivateMethod(e,t,n,i)}declareClassPrivateMethodInScope(e,t){"TSDeclareMethod"!==e.type&&("MethodDefinition"!==e.type||e.value.body)&&super.declareClassPrivateMethodInScope(e,t)}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&this.match(43)&&(e.superTypeParameters=this.tsParseTypeArguments()),this.eatContextual(104)&&(e.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(e,...t){const n=this.tsTryParseTypeParameters();n&&(e.typeParameters=n),super.parseObjPropValue(e,...t)}parseFunctionParams(e,t){const n=this.tsTryParseTypeParameters();n&&(e.typeParameters=n),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),"Identifier"===e.id.type&&this.eat(33)&&(e.definite=!0);const n=this.tsTryParseTypeAnnotation();n&&(e.id.typeAnnotation=n,this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,t)}parseMaybeAssign(...e){var t,n,i,s,r,o,a;let l,c,d,h;if(this.hasPlugin("jsx")&&(this.match(132)||this.match(43))){if(l=this.state.clone(),c=this.tryParse((()=>super.parseMaybeAssign(...e)),l),!c.error)return c.node;const{context:t}=this.state;t[t.length-1]===Kg.j_oTag?t.length-=2:t[t.length-1]===Kg.j_expr&&(t.length-=1)}if(!(null!=(t=c)&&t.error||this.match(43)))return super.parseMaybeAssign(...e);l=l||this.state.clone();const u=this.tryParse((t=>{var n,i;h=this.tsParseTypeParameters();const s=super.parseMaybeAssign(...e);return("ArrowFunctionExpression"!==s.type||null!=(n=s.extra)&&n.parenthesized)&&t(),0!==(null==(i=h)?void 0:i.params.length)&&this.resetStartLocationFromNode(s,h),s.typeParameters=h,s}),l);if(!u.error&&!u.aborted)return h&&this.reportReservedArrowTypeParam(h),u.node;if(!c&&(bm(!this.hasPlugin("jsx")),d=this.tryParse((()=>super.parseMaybeAssign(...e)),l),!d.error))return d.node;if(null!=(n=c)&&n.node)return this.state=c.failState,c.node;if(u.node)return this.state=u.failState,h&&this.reportReservedArrowTypeParam(h),u.node;if(null!=(i=d)&&i.node)return this.state=d.failState,d.node;if(null!=(s=c)&&s.thrown)throw c.error;if(u.thrown)throw u.error;if(null!=(r=d)&&r.thrown)throw d.error;throw(null==(o=c)?void 0:o.error)||u.error||(null==(a=d)?void 0:a.error)}reportReservedArrowTypeParam(e){var t;1!==e.params.length||null!=(t=e.extra)&&t.trailingComma||!this.getPluginOption("typescript","disallowAmbiguousJSXLike")||this.raise(e.start,ym.ReservedArrowTypeParam)}parseMaybeUnary(e){return!this.hasPlugin("jsx")&&this.match(43)?this.tsParseTypeAssertion():super.parseMaybeUnary(e)}parseArrow(e){if(this.match(14)){const t=this.tryParse((e=>{const t=this.tsParseTypeOrTypePredicateAnnotation(14);return!this.canInsertSemicolon()&&this.match(19)||e(),t}));if(t.aborted)return;t.thrown||(t.error&&(this.state=t.failState),e.returnType=t.node)}return super.parseArrow(e)}parseAssignableListItemTypes(e){this.eat(17)&&("Identifier"===e.type||this.state.isAmbientContext||this.state.inType||this.raise(e.start,ym.PatternIsOptional),e.optional=!0);const t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t),this.resetEndLocation(e),e}isAssignable(e,t){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,t);case"TSParameterProperty":return!0;default:return super.isAssignable(e,t)}}toAssignable(e,t=!1){switch(e.type){case"TSTypeCastExpression":return super.toAssignable(this.typeCastToParameter(e),t);case"TSParameterProperty":return super.toAssignable(e,t);case"ParenthesizedExpression":return this.toAssignableParenthesizedExpression(e,t);case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":return e.expression=this.toAssignable(e.expression,t),e;default:return super.toAssignable(e,t)}}toAssignableParenthesizedExpression(e,t){switch(e.expression.type){case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":return e.expression=this.toAssignable(e.expression,t),e;default:return super.toAssignable(e,t)}}checkLVal(e,t,...n){var i;switch(e.type){case"TSTypeCastExpression":return;case"TSParameterProperty":return void this.checkLVal(e.parameter,"parameter property",...n);case"TSAsExpression":case"TSTypeAssertion":if(!(n[0]||"parenthesized expression"===t||null!=(i=e.extra)&&i.parenthesized)){this.raise(e.start,Hg.InvalidLhs,t);break}return void this.checkLVal(e.expression,"parenthesized expression",...n);case"TSNonNullExpression":return void this.checkLVal(e.expression,t,...n);default:return void super.checkLVal(e,t,...n)}}parseBindingAtom(){switch(this.state.type){case 72:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseMaybeDecoratorArguments(e){if(this.match(43)){const t=this.tsParseTypeArguments();if(this.match(10)){const n=super.parseMaybeDecoratorArguments(e);return n.typeParameters=t,n}this.unexpected(this.state.start,10)}return super.parseMaybeDecoratorArguments(e)}checkCommaAfterRest(e){this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?this.next():super.checkCommaAfterRest(e)}isClassMethod(){return this.match(43)||super.isClassMethod()}isClassProperty(){return this.match(33)||this.match(14)||super.isClassProperty()}parseMaybeDefault(...e){const t=super.parseMaybeDefault(...e);return"AssignmentPattern"===t.type&&t.typeAnnotation&&t.right.start<t.typeAnnotation.start&&this.raise(t.typeAnnotation.start,ym.TypeAnnotationAfterAssign),t}getTokenFromCode(e){if(this.state.inType){if(62===e)return this.finishOp(44,1);if(60===e)return this.finishOp(43,1)}return super.getTokenFromCode(e)}reScan_lt_gt(){const{type:e}=this.state;43===e?(this.state.pos-=1,this.readToken_lt()):44===e&&(this.state.pos-=1,this.readToken_gt())}toAssignableList(e){for(let t=0;t<e.length;t++){const n=e[t];if(n)switch(n.type){case"TSTypeCastExpression":e[t]=this.typeCastToParameter(n);break;case"TSAsExpression":case"TSTypeAssertion":this.state.maybeInArrowParameters?this.raise(n.start,ym.UnexpectedTypeCastInParameter):e[t]=this.typeCastToParameter(n)}}return super.toAssignableList(...arguments)}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.end,e.typeAnnotation.loc.end),e.expression}shouldParseArrow(e){return this.match(14)?e.every((e=>this.isAssignable(e,!0))):super.shouldParseArrow(e)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(e){if(this.match(43)){const t=this.tsTryParseAndCatch((()=>this.tsParseTypeArguments()));t&&(e.typeParameters=t)}return super.jsxParseOpeningElementAfterName(e)}getGetterSetterExpectedParamCount(e){const t=super.getGetterSetterExpectedParamCount(e),n=this.getObjectOrClassMethodParams(e)[0];return n&&this.isThisParam(n)?t+1:t}parseCatchClauseParam(){const e=super.parseCatchClauseParam(),t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t,this.resetEndLocation(e)),e}tsInAmbientContext(e){const t=this.state.isAmbientContext;this.state.isAmbientContext=!0;try{return e()}finally{this.state.isAmbientContext=t}}parseClass(e,...t){const n=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,...t)}finally{this.state.inAbstractClass=n}}tsParseAbstractDeclaration(e){if(this.match(74))return e.abstract=!0,this.parseClass(e,!0,!1);if(this.isContextual(119)){if(!this.hasFollowingLineBreak())return e.abstract=!0,this.raise(e.start,ym.NonClassMethodPropertyHasAbstractModifer),this.next(),this.tsParseInterfaceDeclaration(e)}else this.unexpected(null,74)}parseMethod(...e){const t=super.parseMethod(...e);if(t.abstract){if(this.hasPlugin("estree")?!!t.value.body:!!t.body){const{key:e}=t;this.raise(t.start,ym.AbstractMethodHasImplementation,"Identifier"!==e.type||t.computed?`[${this.input.slice(e.start,e.end)}]`:e.name)}}return t}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(e,t,n,i){return!t&&i?(this.parseTypeOnlyImportExportSpecifier(e,!1,n),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,t,n,i))}parseImportSpecifier(e,t,n,i){return!t&&i?(this.parseTypeOnlyImportExportSpecifier(e,!0,n),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,t,n,i))}parseTypeOnlyImportExportSpecifier(e,t,n){const i=t?"imported":"local",s=t?"local":"exported";let r,o=e[i],a=!1,l=!0;const c=o.start;if(this.isContextual(87)){const e=this.parseIdentifier();if(this.isContextual(87)){const t=this.parseIdentifier();cf(this.state.type)?(a=!0,o=e,r=this.parseIdentifier(),l=!1):(r=t,l=!1)}else cf(this.state.type)?(l=!1,r=this.parseIdentifier()):(a=!0,o=e)}else cf(this.state.type)&&(a=!0,o=this.parseIdentifier());a&&n&&this.raise(c,t?ym.TypeModifierIsUsedInTypeImports:ym.TypeModifierIsUsedInTypeExports),e[i]=o,e[s]=r;e[t?"importKind":"exportKind"]=a?"type":"value",l&&this.eatContextual(87)&&(e[s]=t?this.parseIdentifier():this.parseModuleExportName()),e[s]||(e[s]=im(e[i])),t&&this.checkLVal(e[s],"import specifier",9)}},v8intrinsic:e=>class extends e{parseV8Intrinsic(){if(this.match(48)){const e=this.state.start,t=this.startNode();if(this.next(),lf(this.state.type)){const e=this.parseIdentifierName(this.state.start),n=this.createIdentifier(t,e);if(n.type="V8IntrinsicIdentifier",this.match(10))return n}this.unexpected(e)}}parseExprAtom(){return this.parseV8Intrinsic()||super.parseExprAtom(...arguments)}},placeholders:e=>class extends e{parsePlaceholder(e){if(this.match(134)){const t=this.startNode();return this.next(),this.assertNoSpace("Unexpected space in placeholder."),t.name=super.parseIdentifier(!0),this.assertNoSpace("Unexpected space in placeholder."),this.expect(134),this.finishPlaceholder(t,e)}}finishPlaceholder(e,t){const n=!(!e.expectedNode||"Placeholder"!==e.type);return e.expectedNode=t,n?e:this.finishNode(e,"Placeholder")}getTokenFromCode(e){return 37===e&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(134,2):super.getTokenFromCode(...arguments)}parseExprAtom(){return this.parsePlaceholder("Expression")||super.parseExprAtom(...arguments)}parseIdentifier(){return this.parsePlaceholder("Identifier")||super.parseIdentifier(...arguments)}checkReservedWord(e){void 0!==e&&super.checkReservedWord(...arguments)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom(...arguments)}checkLVal(e){"Placeholder"!==e.type&&super.checkLVal(...arguments)}toAssignable(e){return e&&"Placeholder"===e.type&&"Expression"===e.expectedNode?(e.expectedNode="Pattern",e):super.toAssignable(...arguments)}isLet(e){if(super.isLet(e))return!0;if(!this.isContextual(93))return!1;if(e)return!1;return 134===this.lookahead().type}verifyBreakContinue(e){e.label&&"Placeholder"===e.label.type||super.verifyBreakContinue(...arguments)}parseExpressionStatement(e,t){if("Placeholder"!==t.type||t.extra&&t.extra.parenthesized)return super.parseExpressionStatement(...arguments);if(this.match(14)){const n=e;return n.label=this.finishPlaceholder(t,"Identifier"),this.next(),n.body=this.parseStatement("label"),this.finishNode(n,"LabeledStatement")}return this.semicolon(),e.name=t.name,this.finishPlaceholder(e,"Statement")}parseBlock(){return this.parsePlaceholder("BlockStatement")||super.parseBlock(...arguments)}parseFunctionId(){return this.parsePlaceholder("Identifier")||super.parseFunctionId(...arguments)}parseClass(e,t,n){const i=t?"ClassDeclaration":"ClassExpression";this.next(),this.takeDecorators(e);const s=this.state.strict,r=this.parsePlaceholder("Identifier");if(r)if(this.match(75)||this.match(134)||this.match(5))e.id=r;else{if(n||!t)return e.id=null,e.body=this.finishPlaceholder(r,"ClassBody"),this.finishNode(e,i);this.unexpected(null,Cm.ClassNameIsRequired)}else this.parseClassId(e,t,n);return this.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||this.parseClassBody(!!e.superClass,s),this.finishNode(e,i)}parseExport(e){const t=this.parsePlaceholder("Identifier");if(!t)return super.parseExport(...arguments);if(!this.isContextual(91)&&!this.match(12))return e.specifiers=[],e.source=null,e.declaration=this.finishPlaceholder(t,"Declaration"),this.finishNode(e,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const n=this.startNode();return n.exported=t,e.specifiers=[this.finishNode(n,"ExportDefaultSpecifier")],super.parseExport(e)}isExportDefaultSpecifier(){if(this.match(59)){const e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(gf(134),this.nextTokenStartSince(e+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(e){return!!(e.specifiers&&e.specifiers.length>0)||super.maybeParseExportDefaultSpecifier(...arguments)}checkExport(e){const{specifiers:t}=e;null!=t&&t.length&&(e.specifiers=t.filter((e=>"Placeholder"===e.exported.type))),super.checkExport(e),e.specifiers=t}parseImport(e){const t=this.parsePlaceholder("Identifier");if(!t)return super.parseImport(...arguments);if(e.specifiers=[],!this.isContextual(91)&&!this.match(12))return e.source=this.finishPlaceholder(t,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");const n=this.startNodeAtNode(t);if(n.local=t,this.finishNode(n,"ImportDefaultSpecifier"),e.specifiers.push(n),this.eat(12)){this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)}return this.expectContextual(91),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource(...arguments)}}},Lm=Object.keys(Tm),Nm={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0};const Im=e=>"ParenthesizedExpression"===e.type?Im(e.expression):e;const Pm=new Map([["ArrowFunctionExpression","arrow function"],["AssignmentExpression","assignment"],["ConditionalExpression","conditional"],["YieldExpression","yield"]]);const Om={kind:"loop"},Rm={kind:"switch"},Am=/[\uD800-\uDFFF]/u,Mm=/in(?:stanceof)?/y;class Fm extends class extends class extends class extends class extends class extends class extends class extends class extends class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(e){return this.plugins.has(e)}getPluginOption(e,t){if(this.hasPlugin(e))return this.plugins.get(e)[t]}}{addComment(e){this.filename&&(e.loc.filename=this.filename),this.state.comments.push(e)}processComment(e){const{commentStack:t}=this.state,n=t.length;if(0===n)return;let i=n-1;const s=t[i];s.start===e.end&&(s.leadingNode=e,i--);const{start:r}=e;for(;i>=0;i--){const n=t[i],s=n.end;if(!(s>r)){s===r&&(n.trailingNode=e);break}n.containingNode=e,this.finalizeComment(n),t.splice(i,1)}}finalizeComment(e){const{comments:t}=e;if(null!==e.leadingNode||null!==e.trailingNode)null!==e.leadingNode&&Fg(e.leadingNode,t),null!==e.trailingNode&&function(e,t){void 0===e.leadingComments?e.leadingComments=t:e.leadingComments.unshift(...t)}(e.trailingNode,t);else{const{containingNode:n,start:i}=e;if(44===this.input.charCodeAt(i-1))switch(n.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Vg(n,n.properties,e);break;case"CallExpression":case"OptionalCallExpression":Vg(n,n.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Vg(n,n.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Vg(n,n.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":Vg(n,n.specifiers,e);break;default:Bg(n,t)}else Bg(n,t)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:n}=t;if(0===n)return;const i=t[n-1];i.leadingNode===e&&(i.leadingNode=null)}takeSurroundingComments(e,t,n){const{commentStack:i}=this.state,s=i.length;if(0===s)return;let r=s-1;for(;r>=0;r--){const s=i[r],o=s.end;if(s.start===n)s.leadingNode=e;else if(o===t)s.trailingNode=e;else if(o<t)break}}}{getLocationForPosition(e){let t;return t=e===this.state.start?this.state.startLoc:e===this.state.lastTokStart?this.state.lastTokStartLoc:e===this.state.end?this.state.endLoc:e===this.state.lastTokEnd?this.state.lastTokEndLoc:function(e,t){let n,i=1,s=0;for(Ng.lastIndex=0;(n=Ng.exec(e))&&n.index<t;)i++,s=Ng.lastIndex;return new Ag(i,t-s)}(this.input,e),t}raise(e,{code:t,reasonCode:n,template:i},...s){return this.raiseWithData(e,{code:t,reasonCode:n},i,...s)}raiseOverwrite(e,{code:t,template:n},...i){const s=this.getLocationForPosition(e),r=n.replace(/%(\d+)/g,((e,t)=>i[t]))+` (${s.line}:${s.column})`;if(this.options.errorRecovery){const t=this.state.errors;for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.pos===e)return Object.assign(i,{message:r});if(i.pos<e)break}}return this._raise({code:t,loc:s,pos:e},r)}raiseWithData(e,t,n,...i){const s=this.getLocationForPosition(e),r=n.replace(/%(\d+)/g,((e,t)=>i[t]))+` (${s.line}:${s.column})`;return this._raise(Object.assign({loc:s,pos:e},t),r)}_raise(e,t){const n=new SyntaxError(t);if(Object.assign(n,e),this.options.errorRecovery)return this.isLookahead||this.state.errors.push(n),n;throw n}}{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.state=new Wf,this.state.init(e),this.input=t,this.length=t.length,this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new $f(this.state)),this.state.lastTokEnd=this.state.end,this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return!!this.match(e)&&(this.next(),!0)}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,lastTokEnd:e.end,context:[this.curContext()],inType:e.inType}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return Pg.lastIndex=e,Pg.test(this.input)?Pg.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if(55296==(64512&t)&&++e<this.input.length){const n=this.input.charCodeAt(e);56320==(64512&n)&&(t=65536+((1023&t)<<10)+(1023&n))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(((e,t)=>this.raise(t,e))),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){const e=this.curContext();e.preserveSpace||this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length?this.finishToken(129):e===Kg.template?this.readTmplToken():this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(){let e;this.isLookahead||(e=this.state.curPosition());const t=this.state.pos,n=this.input.indexOf("*/",t+2);if(-1===n)throw this.raise(t,Hg.UnterminatedComment);for(this.state.pos=n+2,Ng.lastIndex=t+2;Ng.test(this.input)&&Ng.lastIndex<=n;)++this.state.curLine,this.state.lineStart=Ng.lastIndex;if(this.isLookahead)return;const i={type:"CommentBlock",value:this.input.slice(t+2,n),start:t,end:n+2,loc:new Mg(e,this.state.curPosition())};return this.options.tokens&&this.pushToken(i),i}skipLineComment(e){const t=this.state.pos;let n;this.isLookahead||(n=this.state.curPosition());let i=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!Ig(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const s=this.state.pos,r={type:"CommentLine",value:this.input.slice(t+e,s),start:t,end:s,loc:new Mg(n,this.state.curPosition())};return this.options.tokens&&this.pushToken(r),r}skipSpace(){const e=this.state.pos,t=[];e:for(;this.state.pos<this.length;){const n=this.input.charCodeAt(this.state.pos);switch(n){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const e=this.skipBlockComment();void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e));break}case 47:{const e=this.skipLineComment(2);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e));break}default:break e}break;default:if(Rg(n))++this.state.pos;else if(45!==n||this.inModule){if(60!==n||this.inModule)break e;{const e=this.state.pos;if(33!==this.input.charCodeAt(e+1)||45!==this.input.charCodeAt(e+2)||45!==this.input.charCodeAt(e+3))break e;{const e=this.skipLineComment(4);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e))}}}else{const n=this.state.pos;if(45!==this.input.charCodeAt(n+1)||62!==this.input.charCodeAt(n+2)||!(0===e||this.state.lineStart>e))break e;{const e=this.skipLineComment(3);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e))}}}}if(t.length>0){const n={start:e,end:this.state.pos,comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(n)}}finishToken(e,t){this.state.end=this.state.pos;const n=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||(this.state.endLoc=this.state.curPosition(),this.updateContext(n))}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(this.state.pos,Hg.UnexpectedDigitAfterHash);if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"hash"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,123===t?Hg.RecordExpressionHashIncorrectStartSyntaxType:Hg.TupleExpressionHashIncorrectStartSyntaxType);this.state.pos+=2,123===t?this.finishToken(7):this.finishToken(1)}else xf(t)?(++this.state.pos,this.finishToken(128,this.readWord1(t))):92===t?(++this.state.pos,this.finishToken(128,this.readWord1())):this.finishOp(25,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);e>=48&&e<=57?this.readNumber(!0):46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(29,2):this.finishOp(50,1)}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;const t=this.state.pos;for(this.state.pos+=1;!Ig(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const n=this.input.slice(t+2,this.state.pos);return this.finishToken(26,n),!0}readToken_mult_modulo(e){let t=42===e?49:48,n=1,i=this.input.charCodeAt(this.state.pos+1);42===e&&42===i&&(n++,i=this.input.charCodeAt(this.state.pos+2),t=51),61!==i||this.state.inType||(n++,t=37===e?31:28),this.finishOp(t,n)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t!==e){if(124===e){if(62===t)return void this.finishOp(35,2);if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,Hg.RecordExpressionBarIncorrectEndSyntaxType);return this.state.pos+=2,void this.finishToken(9)}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,Hg.TupleExpressionBarIncorrectEndSyntaxType);return this.state.pos+=2,void this.finishToken(4)}}61!==t?this.finishOp(124===e?39:41,1):this.finishOp(28,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(28,3):this.finishOp(124===e?37:38,2)}readToken_caret(){61!==this.input.charCodeAt(this.state.pos+1)||this.state.inType?this.finishOp(40,1):this.finishOp(30,2)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);t!==e?61===t?this.finishOp(28,2):this.finishOp(47,1):this.finishOp(32,2)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(60===t)return 61===this.input.charCodeAt(e+2)?void this.finishOp(28,3):void this.finishOp(46,2);61!==t?this.finishOp(43,1):this.finishOp(45,2)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(62===t){const t=62===this.input.charCodeAt(e+2)?3:2;return 61===this.input.charCodeAt(e+t)?void this.finishOp(28,t+1):void this.finishOp(46,t)}61!==t?this.finishOp(44,1):this.finishOp(45,2)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(61!==t)return 61===e&&62===t?(this.state.pos+=2,void this.finishToken(19)):void this.finishOp(61===e?27:33,1);this.finishOp(42,61===this.input.charCodeAt(this.state.pos+2)?3:2)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(28,3):this.finishOp(36,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(17)):(this.state.pos+=2,this.finishToken(18))}getTokenFromCode(e){switch(e){case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(10);case 41:return++this.state.pos,void this.finishToken(11);case 59:return++this.state.pos,void this.finishToken(13);case 44:return++this.state.pos,void this.finishToken(12);case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,Hg.TupleExpressionBarIncorrectStartSyntaxType);this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:return++this.state.pos,void this.finishToken(3);case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,Hg.RecordExpressionBarIncorrectStartSyntaxType);this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:return++this.state.pos,void this.finishToken(8);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(15,2):(++this.state.pos,this.finishToken(14)));case 63:return void this.readToken_question();case 96:return++this.state.pos,void this.finishToken(22);case 48:{const e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e)return void this.readRadixNumber(16);if(111===e||79===e)return void this.readRadixNumber(8);if(98===e||66===e)return void this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(e);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(e);case 124:case 38:return void this.readToken_pipe_amp(e);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(e);case 60:return void this.readToken_lt();case 62:return void this.readToken_gt();case 61:case 33:return void this.readToken_eq_excl(e);case 126:return void this.finishOp(34,1);case 64:return++this.state.pos,void this.finishToken(24);case 35:return void this.readToken_numberSign();case 92:return void this.readWord();default:if(xf(e))return void this.readWord(e)}throw this.raise(this.state.pos,Hg.InvalidOrUnexpectedToken,String.fromCodePoint(e))}finishOp(e,t){const n=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,n)}readRegexp(){const e=this.state.start+1;let t,n,{pos:i}=this.state;for(;;++i){if(i>=this.length)throw this.raise(e,Hg.UnterminatedRegExp);const s=this.input.charCodeAt(i);if(Ig(s))throw this.raise(e,Hg.UnterminatedRegExp);if(t)t=!1;else{if(91===s)n=!0;else if(93===s&&n)n=!1;else if(47===s&&!n)break;t=92===s}}const s=this.input.slice(e,i);++i;let r="";for(;i<this.length;){const e=this.codePointAtPos(i),t=String.fromCharCode(e);if(Uf.has(e))r.includes(t)&&this.raise(i+1,Hg.DuplicateRegExpFlags);else{if(!kf(e)&&92!==e)break;this.raise(i+1,Hg.MalformedRegExpFlags)}++i,r+=t}this.state.pos=i,this.finishToken(127,{pattern:s,flags:r})}readInt(e,t,n,i=!0){const s=this.state.pos,r=16===e?zf.hex:zf.decBinOct,o=16===e?jf.hex:10===e?jf.dec:8===e?jf.oct:jf.bin;let a=!1,l=0;for(let c=0,d=null==t?1/0:t;c<d;++c){const t=this.input.charCodeAt(this.state.pos);let s;if(95!==t){if(s=t>=97?t-97+10:t>=65?t-65+10:Hf(t)?t-48:1/0,s>=e)if(this.options.errorRecovery&&s<=9)s=0,this.raise(this.state.start+c+2,Hg.InvalidDigit,e);else{if(!n)break;s=0,a=!0}++this.state.pos,l=l*e+s}else{const e=this.input.charCodeAt(this.state.pos-1),t=this.input.charCodeAt(this.state.pos+1);(-1===o.indexOf(t)||r.indexOf(e)>-1||r.indexOf(t)>-1||Number.isNaN(t))&&this.raise(this.state.pos,Hg.UnexpectedNumericSeparator),i||this.raise(this.state.pos,Hg.NumericSeparatorInEscapeSequence),++this.state.pos}}return this.state.pos===s||null!=t&&this.state.pos-s!==t||a?null:l}readRadixNumber(e){const t=this.state.pos;let n=!1;this.state.pos+=2;const i=this.readInt(e);null==i&&this.raise(this.state.start+2,Hg.InvalidDigit,e);const s=this.input.charCodeAt(this.state.pos);if(110===s)++this.state.pos,n=!0;else if(109===s)throw this.raise(t,Hg.InvalidDecimal);if(xf(this.codePointAtPos(this.state.pos)))throw this.raise(this.state.pos,Hg.NumberIdentifier);if(n){const e=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");this.finishToken(125,e)}else this.finishToken(124,i)}readNumber(e){const t=this.state.pos;let n=!1,i=!1,s=!1,r=!1,o=!1;e||null!==this.readInt(10)||this.raise(t,Hg.InvalidNumber);const a=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(a){const e=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(t,Hg.StrictOctalLiteral),!this.state.strict){const n=e.indexOf("_");n>0&&this.raise(n+t,Hg.ZeroDigitNumericSeparator)}o=a&&!/[89]/.test(e)}let l=this.input.charCodeAt(this.state.pos);if(46!==l||o||(++this.state.pos,this.readInt(10),n=!0,l=this.input.charCodeAt(this.state.pos)),69!==l&&101!==l||o||(l=this.input.charCodeAt(++this.state.pos),43!==l&&45!==l||++this.state.pos,null===this.readInt(10)&&this.raise(t,Hg.InvalidOrMissingExponent),n=!0,r=!0,l=this.input.charCodeAt(this.state.pos)),110===l&&((n||a)&&this.raise(t,Hg.InvalidBigIntLiteral),++this.state.pos,i=!0),109===l&&(this.expectPlugin("decimal",this.state.pos),(r||a)&&this.raise(t,Hg.InvalidDecimal),++this.state.pos,s=!0),xf(this.codePointAtPos(this.state.pos)))throw this.raise(this.state.pos,Hg.NumberIdentifier);const c=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(i)return void this.finishToken(125,c);if(s)return void this.finishToken(126,c);const d=o?parseInt(c,8):parseFloat(c);this.finishToken(124,d)}readCodePoint(e){let t;if(123===this.input.charCodeAt(this.state.pos)){const n=++this.state.pos;if(t=this.readHexChar(this.input.indexOf("}",this.state.pos)-this.state.pos,!0,e),++this.state.pos,null!==t&&t>1114111){if(!e)return null;this.raise(n,Hg.InvalidCodePoint)}}else t=this.readHexChar(4,!1,e);return t}readString(e){let t="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,Hg.UnterminatedString);const i=this.input.charCodeAt(this.state.pos);if(i===e)break;if(92===i)t+=this.input.slice(n,this.state.pos),t+=this.readEscapedChar(!1),n=this.state.pos;else if(8232===i||8233===i)++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;else{if(Ig(i))throw this.raise(this.state.start,Hg.UnterminatedString);++this.state.pos}}t+=this.input.slice(n,this.state.pos++),this.finishToken(123,t)}readTmplToken(){let e="",t=this.state.pos,n=!1;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,Hg.UnterminatedTemplate);const i=this.input.charCodeAt(this.state.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.state.pos+1))return this.state.pos===this.state.start&&this.match(20)?36===i?(this.state.pos+=2,void this.finishToken(23)):(++this.state.pos,void this.finishToken(22)):(e+=this.input.slice(t,this.state.pos),void this.finishToken(20,n?null:e));if(92===i){e+=this.input.slice(t,this.state.pos);const i=this.readEscapedChar(!0);null===i?n=!0:e+=i,t=this.state.pos}else if(Ig(i)){switch(e+=this.input.slice(t,this.state.pos),++this.state.pos,i){case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(i)}++this.state.curLine,this.state.lineStart=this.state.pos,t=this.state.pos}else++this.state.pos}}recordStrictModeErrors(e,t){this.state.strict&&!this.state.strictErrors.has(e)?this.raise(e,t):this.state.strictErrors.set(e,t)}readEscapedChar(e){const t=!e,n=this.input.charCodeAt(++this.state.pos);switch(++this.state.pos,n){case 110:return"\n";case 114:return"\r";case 120:{const e=this.readHexChar(2,!1,t);return null===e?null:String.fromCharCode(e)}case 117:{const e=this.readCodePoint(t);return null===e?null:String.fromCodePoint(e)}case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:this.state.lineStart=this.state.pos,++this.state.curLine;case 8232:case 8233:return"";case 56:case 57:if(e)return null;this.recordStrictModeErrors(this.state.pos-1,Hg.StrictNumericEscape);default:if(n>=48&&n<=55){const t=this.state.pos-1;let n=this.input.substr(this.state.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.state.pos+=n.length-1;const s=this.input.charCodeAt(this.state.pos);if("0"!==n||56===s||57===s){if(e)return null;this.recordStrictModeErrors(t,Hg.StrictNumericEscape)}return String.fromCharCode(i)}return String.fromCharCode(n)}}readHexChar(e,t,n){const i=this.state.pos,s=this.readInt(16,e,t,!1);return null===s&&(n?this.raise(i,Hg.InvalidEscapeSequence):this.state.pos=i-1),s}readWord1(e){this.state.containsEsc=!1;let t="";const n=this.state.pos;let i=this.state.pos;for(void 0!==e&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const e=this.codePointAtPos(this.state.pos);if(kf(e))this.state.pos+=e<=65535?1:2;else{if(92!==e)break;{this.state.containsEsc=!0,t+=this.input.slice(i,this.state.pos);const e=this.state.pos,s=this.state.pos===n?xf:kf;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(this.state.pos,Hg.MissingUnicodeEscape),i=this.state.pos-1;continue}++this.state.pos;const r=this.readCodePoint(!0);null!==r&&(s(r)||this.raise(e,Hg.EscapedCharNotAnIdentifier),t+=String.fromCodePoint(r)),i=this.state.pos}}}return t+this.input.slice(i,this.state.pos)}readWord(e){const t=this.readWord1(e),n=Gg.get(t);void 0!==n?this.finishToken(n,gf(n)):this.finishToken(122,t)}checkKeywordEscapes(){const{type:e}=this.state;pf(e)&&this.state.containsEsc&&this.raise(this.state.start,Hg.InvalidEscapedReservedWord,gf(e))}updateContext(e){const{context:t,type:n}=this.state;switch(n){case 8:t.pop();break;case 5:case 7:case 23:t.push(Kg.brace);break;case 22:t[t.length-1]===Kg.template?t.pop():t.push(Kg.template)}}}{addExtra(e,t,n){if(!e)return;(e.extra=e.extra||{})[t]=n}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){const n=e+t.length;if(this.input.slice(e,n)===t){const e=this.input.charCodeAt(n);return!(kf(e)||55296==(64512&e))}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return!!this.isContextual(e)&&(this.next(),!0)}expectContextual(e,t){this.eatContextual(e)||this.unexpected(null,t)}canInsertSemicolon(){return this.match(129)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Lg.test(this.input.slice(this.state.lastTokEnd,this.state.start))}hasFollowingLineBreak(){return Og.lastIndex=this.state.end,Og.test(this.input)}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(this.state.lastTokEnd,Hg.MissingSemicolon)}expect(e,t){this.eat(e)||this.unexpected(t,e)}assertNoSpace(e="Unexpected space."){this.state.start>this.state.lastTokEnd&&this.raise(this.state.lastTokEnd,{code:Wg.SyntaxError,reasonCode:"UnexpectedSpace",template:e})}unexpected(e,t={code:Wg.SyntaxError,reasonCode:"UnexpectedToken",template:"Unexpected token"}){throw"number"==typeof t&&(t={code:Wg.SyntaxError,reasonCode:"UnexpectedToken",template:`Unexpected token, expected "${gf(t)}"`}),this.raise(null!=e?e:this.state.start,t)}expectPlugin(e,t){if(!this.hasPlugin(e))throw this.raiseWithData(null!=t?t:this.state.start,{missingPlugin:[e]},`This experimental syntax requires enabling the parser plugin: '${e}'`);return!0}expectOnePlugin(e,t){if(!e.some((e=>this.hasPlugin(e))))throw this.raiseWithData(null!=t?t:this.state.start,{missingPlugin:e},`This experimental syntax requires enabling one of the following parser plugin(s): '${e.join(", ")}'`)}tryParse(e,t=this.state.clone()){const n={node:null};try{const i=e(((e=null)=>{throw n.node=e,n}));if(this.state.errors.length>t.errors.length){const e=this.state;return this.state=t,this.state.tokensLength=e.tokensLength,{node:i,error:e.errors[t.errors.length],thrown:!1,aborted:!1,failState:e}}return{node:i,error:null,thrown:!1,aborted:!1,failState:null}}catch(i){const e=this.state;if(this.state=t,i instanceof SyntaxError)return{node:null,error:i,thrown:!0,aborted:!1,failState:e};if(i===n)return{node:n.node,error:null,thrown:!1,aborted:!0,failState:e};throw i}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssign:n,doubleProto:i,optionalParameters:s}=e,r=n+i+s>-3;if(!t)return r;r&&(n>=0&&this.unexpected(n),i>=0&&this.raise(i,Hg.DuplicateProto),s>=0&&this.unexpected(s))}isLiteralPropertyName(){return df(this.state.type)}isPrivateName(e){return"PrivateName"===e.type}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return("MemberExpression"===e.type||"OptionalMemberExpression"===e.type)&&this.isPrivateName(e.property)}isOptionalChain(e){return"OptionalMemberExpression"===e.type||"OptionalCallExpression"===e.type}isObjectProperty(e){return"ObjectProperty"===e.type}isObjectMethod(e){return"ObjectMethod"===e.type}initializeScopes(e="module"===this.options.sourceType){const t=this.state.labels;this.state.labels=[];const n=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const i=this.inModule;this.inModule=e;const s=this.scope,r=this.getScopeHandler();this.scope=new r(this.raise.bind(this),this.inModule);const o=this.prodParam;this.prodParam=new Jf;const a=this.classScope;this.classScope=new qf(this.raise.bind(this));const l=this.expressionScope;return this.expressionScope=new Zf(this.raise.bind(this)),()=>{this.state.labels=t,this.exportedIdentifiers=n,this.inModule=i,this.scope=s,this.prodParam=o,this.classScope=a,this.expressionScope=l}}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e)}}{startNode(){return new tm(this,this.state.start,this.state.startLoc)}startNodeAt(e,t){return new tm(this,e,t)}startNodeAtNode(e){return this.startNodeAt(e.start,e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEnd,this.state.lastTokEndLoc)}finishNodeAt(e,t,n,i){return e.type=t,e.end=n,e.loc.end=i,this.options.ranges&&(e.range[1]=n),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,t,n){e.start=t,e.loc.start=n,this.options.ranges&&(e.range[0]=t)}resetEndLocation(e,t=this.state.lastTokEnd,n=this.state.lastTokEndLoc){e.end=t,e.loc.end=n,this.options.ranges&&(e.range[1]=t)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.start,t.loc.start)}}{toAssignable(e,t=!1){var n,i;let s;switch(("ParenthesizedExpression"===e.type||null!=(n=e.extra)&&n.parenthesized)&&(s=Im(e),t?"Identifier"===s.type?this.expressionScope.recordParenthesizedIdentifierError(e.start,Hg.InvalidParenthesizedAssignment):"MemberExpression"!==s.type&&this.raise(e.start,Hg.InvalidParenthesizedAssignment):this.raise(e.start,Hg.InvalidParenthesizedAssignment)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let n=0,i=e.properties.length,s=i-1;n<i;n++){var r;const i=e.properties[n],o=n===s;this.toAssignableObjectExpressionProp(i,o,t),o&&"RestElement"===i.type&&null!=(r=e.extra)&&r.trailingComma&&this.raiseRestNotLast(e.extra.trailingComma)}break;case"ObjectProperty":this.toAssignable(e.value,t);break;case"SpreadElement":{this.checkToRestConversion(e),e.type="RestElement";const n=e.argument;this.toAssignable(n,t);break}case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,null==(i=e.extra)?void 0:i.trailingComma,t);break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,Hg.MissingEqInAssignment),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(s,t)}return e}toAssignableObjectExpressionProp(e,t,n){if("ObjectMethod"===e.type){const t="get"===e.kind||"set"===e.kind?Hg.PatternHasAccessor:Hg.PatternHasMethod;this.raise(e.key.start,t)}else"SpreadElement"!==e.type||t?this.toAssignable(e,n):this.raiseRestNotLast(e.start)}toAssignableList(e,t,n){let i=e.length;if(i){const s=e[i-1];if("RestElement"===(null==s?void 0:s.type))--i;else if("SpreadElement"===(null==s?void 0:s.type)){s.type="RestElement";let e=s.argument;this.toAssignable(e,n),e=Im(e),"Identifier"!==e.type&&"MemberExpression"!==e.type&&"ArrayPattern"!==e.type&&"ObjectPattern"!==e.type&&this.unexpected(e.start),t&&this.raiseTrailingCommaAfterRest(t),--i}}for(let s=0;s<i;s++){const t=e[s];t&&(this.toAssignable(t,n),"RestElement"===t.type&&this.raiseRestNotLast(t.start))}return e}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{const t=e.properties.length-1;return e.properties.every(((e,n)=>"ObjectMethod"!==e.type&&(n===t||"SpreadElement"!==e.type)&&this.isAssignable(e)))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every((e=>null===e||this.isAssignable(e)));case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const n of e)"ArrayExpression"===(null==n?void 0:n.type)&&this.toReferencedListDeep(n.elements)}parseSpread(e,t){const n=this.startNode();return this.next(),n.argument=this.parseMaybeAssignAllowIn(e,void 0,t),this.finishNode(n,"SpreadElement")}parseRestBinding(){const e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,!0),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,t,n,i){const s=[];let r=!0;for(;!this.eat(e);)if(r?r=!1:this.expect(12),n&&this.match(12))s.push(null);else{if(this.eat(e))break;if(this.match(21)){s.push(this.parseAssignableListItemTypes(this.parseRestBinding())),this.checkCommaAfterRest(t),this.expect(e);break}{const e=[];for(this.match(24)&&this.hasPlugin("decorators")&&this.raise(this.state.start,Hg.UnsupportedParameterDecorator);this.match(24);)e.push(this.parseDecorator());s.push(this.parseAssignableListItem(i,e))}}return s}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const e=this.startNode(),{type:t,start:n,startLoc:i}=this.state;return 21===t?this.parseBindingRestProperty(e):(this.parsePropertyName(e),e.method=!1,this.parseObjPropValue(e,n,i,!1,!1,!0,!1),e)}parseAssignableListItem(e,t){const n=this.parseMaybeDefault();this.parseAssignableListItemTypes(n);const i=this.parseMaybeDefault(n.start,n.loc.start,n);return t.length&&(n.decorators=t),i}parseAssignableListItemTypes(e){return e}parseMaybeDefault(e,t,n){var i,s,r;if(t=null!=(i=t)?i:this.state.startLoc,e=null!=(s=e)?s:this.state.start,n=null!=(r=n)?r:this.parseBindingAtom(),!this.eat(27))return n;const o=this.startNodeAt(e,t);return o.left=n,o.right=this.parseMaybeAssignAllowIn(),this.finishNode(o,"AssignmentPattern")}checkLVal(e,t,n=64,i,s,r=!1){switch(e.type){case"Identifier":{const{name:t}=e;this.state.strict&&(r?Rf(t,this.inModule):Of(t))&&this.raise(e.start,64===n?Hg.StrictEvalArguments:Hg.StrictEvalArgumentsBinding,t),i&&(i.has(t)?this.raise(e.start,Hg.ParamDupe):i.add(t)),s&&"let"===t&&this.raise(e.start,Hg.LetInLexicalBinding),64&n||this.scope.declareName(t,n,e.start);break}case"MemberExpression":64!==n&&this.raise(e.start,Hg.InvalidPropertyBindingPattern);break;case"ObjectPattern":for(let t of e.properties){if(this.isObjectProperty(t))t=t.value;else if(this.isObjectMethod(t))continue;this.checkLVal(t,"object destructuring pattern",n,i,s)}break;case"ArrayPattern":for(const t of e.elements)t&&this.checkLVal(t,"array destructuring pattern",n,i,s);break;case"AssignmentPattern":this.checkLVal(e.left,"assignment pattern",n,i);break;case"RestElement":this.checkLVal(e.argument,"rest element",n,i);break;case"ParenthesizedExpression":this.checkLVal(e.expression,"parenthesized expression",n,i);break;default:this.raise(e.start,64===n?Hg.InvalidLhs:Hg.InvalidLhsBinding,t)}}checkToRestConversion(e){"Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type&&this.raise(e.argument.start,Hg.InvalidRestAssignmentPattern)}checkCommaAfterRest(e){this.match(12)&&(this.lookaheadCharCode()===e?this.raiseTrailingCommaAfterRest(this.state.start):this.raiseRestNotLast(this.state.start))}raiseRestNotLast(e){throw this.raise(e,Hg.ElementAfterRest)}raiseTrailingCommaAfterRest(e){this.raise(e,Hg.RestTrailingComma)}}{checkProto(e,t,n,i){if("SpreadElement"===e.type||this.isObjectMethod(e)||e.computed||e.shorthand)return;const s=e.key;if("__proto__"===("Identifier"===s.type?s.name:s.value)){if(t)return void this.raise(s.start,Hg.RecordNoProto);n.used&&(i?-1===i.doubleProto&&(i.doubleProto=s.start):this.raise(s.start,Hg.DuplicateProto)),n.used=!0}}shouldExitDescending(e,t){return"ArrowFunctionExpression"===e.type&&e.start===t}getExpression(){this.enterInitialScopes(),this.nextToken();const e=this.parseExpression();return this.match(129)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.state.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd((()=>this.parseExpressionBase(t))):this.allowInAnd((()=>this.parseExpressionBase(t)))}parseExpressionBase(e){const t=this.state.start,n=this.state.startLoc,i=this.parseMaybeAssign(e);if(this.match(12)){const s=this.startNodeAt(t,n);for(s.expressions=[i];this.eat(12);)s.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(s.expressions),this.finishNode(s,"SequenceExpression")}return i}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd((()=>this.parseMaybeAssign(e,t)))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd((()=>this.parseMaybeAssign(e,t)))}setOptionalParametersError(e,t){var n;e.optionalParameters=null!=(n=null==t?void 0:t.pos)?n:this.state.start}parseMaybeAssign(e,t){const n=this.state.start,i=this.state.startLoc;if(this.isContextual(99)&&this.prodParam.hasYield){let e=this.parseYield();return t&&(e=t.call(this,e,n,i)),e}let s;e?s=!1:(e=new em,s=!0);const{type:r}=this.state;(10===r||lf(r))&&(this.state.potentialArrowAt=this.state.start);let o=this.parseMaybeConditional(e);if(t&&(o=t.call(this,o,n,i)),(a=this.state.type)>=27&&a<=31){const t=this.startNodeAt(n,i),s=this.state.value;return t.operator=s,this.match(27)?(t.left=this.toAssignable(o,!0),e.doubleProto>=n&&(e.doubleProto=-1),e.shorthandAssign>=n&&(e.shorthandAssign=-1)):t.left=o,this.checkLVal(o,"assignment expression"),this.next(),t.right=this.parseMaybeAssign(),this.finishNode(t,"AssignmentExpression")}var a;return s&&this.checkExpressionErrors(e,!0),o}parseMaybeConditional(e){const t=this.state.start,n=this.state.startLoc,i=this.state.potentialArrowAt,s=this.parseExprOps(e);return this.shouldExitDescending(s,i)?s:this.parseConditional(s,t,n,e)}parseConditional(e,t,n,i){if(this.eat(17)){const i=this.startNodeAt(t,n);return i.test=e,i.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),i.alternate=this.parseMaybeAssign(),this.finishNode(i,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(128)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.start,n=this.state.startLoc,i=this.state.potentialArrowAt,s=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(s,i)?s:this.parseExprOp(s,t,n,-1)}parseExprOp(e,t,n,i){if(this.isPrivateName(e)){const t=this.getPrivateNameSV(e),{start:n}=e;(i>=ff(52)||!this.prodParam.hasIn||!this.match(52))&&this.raise(n,Hg.PrivateInExpectedIn,t),this.classScope.usePrivateName(t,n)}const s=this.state.type;if((r=s)>=35&&r<=53&&(this.prodParam.hasIn||!this.match(52))){let r=ff(s);if(r>i){if(35===s){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const o=this.startNodeAt(t,n);o.left=e,o.operator=this.state.value;const a=37===s||38===s,l=36===s;if(l&&(r=ff(38)),this.next(),35===s&&"minimal"===this.getPluginOption("pipelineOperator","proposal")&&90===this.state.type&&this.prodParam.hasAwait)throw this.raise(this.state.start,Hg.UnexpectedAwaitAfterPipelineBody);o.right=this.parseExprOpRightExpr(s,r),this.finishNode(o,a||l?"LogicalExpression":"BinaryExpression");const c=this.state.type;if(l&&(37===c||38===c)||a&&36===c)throw this.raise(this.state.start,Hg.MixingCoalesceWithLogical);return this.parseExprOp(o,t,n,i)}}var r;return e}parseExprOpRightExpr(e,t){const n=this.state.start,i=this.state.startLoc;switch(e){case 35:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext((()=>this.parseHackPipeBody()));case"smart":return this.withTopicBindingContext((()=>{if(this.prodParam.hasYield&&this.isContextual(99))throw this.raise(this.state.start,Hg.PipeBodyIsTighter,this.state.value);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),n,i)}));case"fsharp":return this.withSoloAwaitPermittingContext((()=>this.parseFSharpPipelineBody(t)))}default:return this.parseExprOpBaseRightExpr(e,t)}}parseExprOpBaseRightExpr(e,t){const n=this.state.start,i=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),n,i,51===e?t-1:t)}parseHackPipeBody(){var e;const{start:t}=this.state,n=this.parseMaybeAssign();return!Pm.has(n.type)||null!=(e=n.extra)&&e.parenthesized||this.raise(t,Hg.PipeUnparenthesizedBody,Pm.get(n.type)),this.topicReferenceWasUsedInCurrentContext()||this.raise(t,Hg.PipeTopicUnused),n}checkExponentialAfterUnary(e){this.match(51)&&this.raise(e.argument.start,Hg.UnexpectedTokenUnaryExponentiation)}parseMaybeUnary(e,t){const n=this.state.start,i=this.state.startLoc,s=this.isContextual(90);if(s&&this.isAwaitAllowed()){this.next();const e=this.parseAwait(n,i);return t||this.checkExponentialAfterUnary(e),e}const r=this.match(32),o=this.startNode();if(a=this.state.type,sf[a]){o.operator=this.state.value,o.prefix=!0,this.match(66)&&this.expectPlugin("throwExpressions");const n=this.match(83);if(this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&n){const e=o.argument;"Identifier"===e.type?this.raise(o.start,Hg.StrictDelete):this.hasPropertyAsPrivateName(e)&&this.raise(o.start,Hg.DeletePrivateField)}if(!r)return t||this.checkExponentialAfterUnary(o),this.finishNode(o,"UnaryExpression")}var a;const l=this.parseUpdate(o,r,e);if(s){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?hf(e):hf(e)&&!this.match(48))&&!this.isAmbiguousAwait())return this.raiseOverwrite(n,Hg.AwaitNotInAsyncContext),this.parseAwait(n,i)}return l}parseUpdate(e,t,n){if(t)return this.checkLVal(e.argument,"prefix operation"),this.finishNode(e,"UpdateExpression");const i=this.state.start,s=this.state.startLoc;let r=this.parseExprSubscripts(n);if(this.checkExpressionErrors(n,!1))return r;for(;32===this.state.type&&!this.canInsertSemicolon();){const e=this.startNodeAt(i,s);e.operator=this.state.value,e.prefix=!1,e.argument=r,this.checkLVal(r,"postfix operation"),this.next(),r=this.finishNode(e,"UpdateExpression")}return r}parseExprSubscripts(e){const t=this.state.start,n=this.state.startLoc,i=this.state.potentialArrowAt,s=this.parseExprAtom(e);return this.shouldExitDescending(s,i)?s:this.parseSubscripts(s,t,n)}parseSubscripts(e,t,n,i){const s={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do{e=this.parseSubscript(e,t,n,i,s),s.maybeAsyncArrow=!1}while(!s.stop);return e}parseSubscript(e,t,n,i,s){if(!i&&this.eat(15))return this.parseBind(e,t,n,i,s);if(this.match(22))return this.parseTaggedTemplateExpression(e,t,n,s);let r=!1;if(this.match(18)){if(i&&40===this.lookaheadCharCode())return s.stop=!0,e;s.optionalChainMember=r=!0,this.next()}if(!i&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,n,s,r);{const i=this.eat(0);return i||r||this.eat(16)?this.parseMember(e,t,n,s,i,r):(s.stop=!0,e)}}parseMember(e,t,n,i,s,r){const o=this.startNodeAt(t,n);o.object=e,o.computed=s;const a=!s&&this.match(128)&&this.state.value,l=s?this.parseExpression():a?this.parsePrivateName():this.parseIdentifier(!0);return!1!==a&&("Super"===o.object.type&&this.raise(t,Hg.SuperPrivateField),this.classScope.usePrivateName(a,l.start)),o.property=l,s&&this.expect(3),i.optionalChainMember?(o.optional=r,this.finishNode(o,"OptionalMemberExpression")):this.finishNode(o,"MemberExpression")}parseBind(e,t,n,i,s){const r=this.startNodeAt(t,n);return r.object=e,r.callee=this.parseNoCallExpr(),s.stop=!0,this.parseSubscripts(this.finishNode(r,"BindExpression"),t,n,i)}parseCoverCallAndAsyncArrowHead(e,t,n,i,s){const r=this.state.maybeInArrowParameters;let o=null;this.state.maybeInArrowParameters=!0,this.next();let a=this.startNodeAt(t,n);return a.callee=e,i.maybeAsyncArrow&&(this.expressionScope.enter(new Yf(2)),o=new em),i.optionalChainMember&&(a.optional=s),a.arguments=s?this.parseCallExpressionArguments(11):this.parseCallExpressionArguments(11,"Import"===e.type,"Super"!==e.type,a,o),this.finishCallExpression(a,i.optionalChainMember),i.maybeAsyncArrow&&this.shouldParseAsyncArrow()&&!s?(i.stop=!0,this.expressionScope.validateAsPattern(),this.expressionScope.exit(),a=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t,n),a)):(i.maybeAsyncArrow&&(this.checkExpressionErrors(o,!0),this.expressionScope.exit()),this.toReferencedArguments(a)),this.state.maybeInArrowParameters=r,a}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,n,i){const s=this.startNodeAt(t,n);return s.tag=e,s.quasi=this.parseTemplate(!0),i.optionalChainMember&&this.raise(t,Hg.OptionalChainingNoTemplate),this.finishNode(s,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&e.start===this.state.potentialArrowAt}finishCallExpression(e,t){if("Import"===e.callee.type)if(2===e.arguments.length&&(this.hasPlugin("moduleAttributes")||this.expectPlugin("importAssertions")),0===e.arguments.length||e.arguments.length>2)this.raise(e.start,Hg.ImportCallArity,this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?"one or two arguments":"one argument");else for(const n of e.arguments)"SpreadElement"===n.type&&this.raise(n.start,Hg.ImportCallSpreadArgument);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,n,i,s){const r=[];let o=!0;const a=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){!t||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")||this.raise(this.state.lastTokStart,Hg.ImportCallArgumentTrailingComma),i&&this.addExtra(i,"trailingComma",this.state.lastTokStart),this.next();break}r.push(this.parseExprListItem(!1,s,n))}return this.state.inFSharpPipelineDirectBody=a,r}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var n;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,null==(n=t.extra)?void 0:n.trailingComma),t.innerComments&&Bg(e,t.innerComments),t.callee.trailingComments&&Bg(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.start,t=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,t,!0)}parseExprAtom(e){let t;const{type:n}=this.state;switch(n){case 73:return this.parseSuper();case 77:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):(this.match(10)||this.raise(this.state.lastTokStart,Hg.UnsupportedImport),this.finishNode(t,"Import"));case 72:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 84:return this.parseDo(this.startNode(),!1);case 50:case 29:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 124:return this.parseNumericLiteral(this.state.value);case 125:return this.parseBigIntLiteral(this.state.value);case 126:return this.parseDecimalLiteral(this.state.value);case 123:return this.parseStringLiteral(this.state.value);case 78:return this.parseNullLiteral();case 79:return this.parseBooleanLiteral(!0);case 80:return this.parseBooleanLiteral(!1);case 10:{const e=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(e)}case 2:case 1:return this.parseArrayLike(2===this.state.type?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(6===this.state.type?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 62:return this.parseFunctionOrFunctionSent();case 24:this.parseDecorators();case 74:return t=this.startNode(),this.takeDecorators(t),this.parseClass(t,!1);case 71:return this.parseNewOrNewTarget();case 22:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const e=t.callee=this.parseNoCallExpr();if("MemberExpression"===e.type)return this.finishNode(t,"BindExpression");throw this.raise(e.start,Hg.UnsupportedBind)}case 128:return this.raise(this.state.start,Hg.PrivateInExpectedIn,this.state.value),this.parsePrivateName();case 31:return this.parseTopicReferenceThenEqualsSign(48,"%");case 30:return this.parseTopicReferenceThenEqualsSign(40,"^");case 40:case 48:case 25:{const e=this.getPluginOption("pipelineOperator","proposal");if(e)return this.parseTopicReference(e);throw this.unexpected()}case 43:{const e=this.input.codePointAt(this.nextTokenStart());if(xf(e)||62===e){this.expectOnePlugin(["jsx","flow","typescript"]);break}throw this.unexpected()}default:if(lf(n)){if(this.isContextual(117)&&123===this.lookaheadCharCode()&&!this.hasFollowingLineBreak())return this.parseModuleExpression();const e=this.state.potentialArrowAt===this.state.start,t=this.state.containsEsc,n=this.parseIdentifier();if(!t&&"async"===n.name&&!this.canInsertSemicolon()){const{type:e}=this.state;if(62===e)return this.resetPreviousNodeTrailingComments(n),this.next(),this.parseFunction(this.startNodeAtNode(n),void 0,!0);if(lf(e))return 61===this.lookaheadCharCode()?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(n)):n;if(84===e)return this.resetPreviousNodeTrailingComments(n),this.parseDo(this.startNodeAtNode(n),!0)}return e&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(n),[n],!1)):n}throw this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc.column--,this.parseTopicReference(n);throw this.unexpected()}parseTopicReference(e){const t=this.startNode(),n=this.state.start,i=this.state.type;return this.next(),this.finishTopicReference(t,n,e,i)}finishTopicReference(e,t,n,i){if(this.testTopicReferenceConfiguration(n,t,i)){let i;return i="smart"===n?"PipelinePrimaryTopicReference":"TopicReference",this.topicReferenceIsAllowedInCurrentContext()||("smart"===n?this.raise(t,Hg.PrimaryTopicNotAllowed):this.raise(t,Hg.PipeTopicUnbound)),this.registerTopicReference(),this.finishNode(e,i)}throw this.raise(t,Hg.PipeTopicUnconfiguredToken,gf(i))}testTopicReferenceConfiguration(e,t,n){switch(e){case"hack":{const e=this.getPluginOption("pipelineOperator","topicToken");return gf(n)===e}case"smart":return 25===n;default:throw this.raise(t,Hg.PipeTopicRequiresHackPipes)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(Qf(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(this.state.pos,Hg.LineTerminatorBeforeArrow),this.expect(19),this.parseArrowExpression(e,t,!0),e}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const n=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=n,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),!this.match(10)||this.scope.allowDirectSuper||this.options.allowSuperOutsideMethod?this.scope.allowSuper||this.options.allowSuperOutsideMethod||this.raise(e.start,Hg.UnexpectedSuper):this.raise(e.start,Hg.SuperNotAllowed),this.match(10)||this.match(0)||this.match(16)||this.raise(e.start,Hg.UnsupportedSuper),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(this.state.start+1,new Ag(this.state.curLine,this.state.start+1-this.state.lineStart)),n=this.state.value;return this.next(),e.id=this.createIdentifier(t,n),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(96)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,n){e.meta=t;const i=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==n||i)&&this.raise(e.property.start,Hg.UnsupportedMetaProperty,t.name,n),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){const t=this.createIdentifier(this.startNodeAtNode(e),"import");return this.next(),this.isContextual(94)&&(this.inModule||this.raise(t.start,Ug.ImportMetaOutsideModule),this.sawUnambiguousESM=!0),this.parseMetaProperty(e,t,"meta")}parseLiteralAtNode(e,t,n){return this.addExtra(n,"rawValue",e),this.addExtra(n,"raw",this.input.slice(n.start,this.state.end)),n.value=e,this.next(),this.finishNode(n,t)}parseLiteral(e,t){const n=this.startNode();return this.parseLiteralAtNode(e,t,n)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.parseLiteral(e.value,"RegExpLiteral");return t.pattern=e.pattern,t.flags=e.flags,t}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.start,n=this.state.startLoc;let i;this.next(),this.expressionScope.enter(new Yf(1));const s=this.state.maybeInArrowParameters,r=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const o=this.state.start,a=this.state.startLoc,l=[],c=new em;let d,h,u=!0;for(;!this.match(11);){if(u)u=!1;else if(this.expect(12,-1===c.optionalParameters?null:c.optionalParameters),this.match(11)){h=this.state.start;break}if(this.match(21)){const e=this.state.start,t=this.state.startLoc;d=this.state.start,l.push(this.parseParenItem(this.parseRestBinding(),e,t)),this.checkCommaAfterRest(41);break}l.push(this.parseMaybeAssignAllowIn(c,this.parseParenItem))}const p=this.state.lastTokEnd,g=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=s,this.state.inFSharpPipelineDirectBody=r;let f=this.startNodeAt(t,n);if(e&&this.shouldParseArrow(l)&&(f=this.parseArrow(f)))return this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(f,l,!1),f;if(this.expressionScope.exit(),l.length||this.unexpected(this.state.lastTokStart),h&&this.unexpected(h),d&&this.unexpected(d),this.checkExpressionErrors(c,!0),this.toReferencedListDeep(l,!0),l.length>1?(i=this.startNodeAt(o,a),i.expressions=l,this.finishNode(i,"SequenceExpression"),this.resetEndLocation(i,p,g)):i=l[0],!this.options.createParenthesizedExpressions)return this.addExtra(i,"parenthesized",!0),this.addExtra(i,"parenStart",t),this.takeSurroundingComments(i,t,this.state.lastTokEnd),i;const m=this.startNodeAt(t,n);return m.expression=i,this.finishNode(m,"ParenthesizedExpression"),m}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t,n){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const n=this.parseMetaProperty(e,t,"target");return this.scope.inNonArrowFunction||this.scope.inClass||this.raise(n.start,Hg.UnexpectedNewTarget),n}return this.parseNew(e)}parseNew(e){return e.callee=this.parseNoCallExpr(),"Import"===e.callee.type?this.raise(e.callee.start,Hg.ImportCallNotNewExpression):this.isOptionalChain(e.callee)?this.raise(this.state.lastTokEnd,Hg.OptionalChainingNoNew):this.eat(18)&&this.raise(this.state.start,Hg.OptionalChainingNoNew),this.parseNewArguments(e),this.finishNode(e,"NewExpression")}parseNewArguments(e){if(this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[]}parseTemplateElement(e){const t=this.startNode();return null===this.state.value&&(e||this.raise(this.state.start+1,Hg.InvalidEscapeSequenceTemplate)),t.value={raw:this.input.slice(this.state.start,this.state.end).replace(/\r\n?/g,"\n"),cooked:this.state.value},this.next(),t.tail=this.match(22),this.finishNode(t,"TemplateElement")}parseTemplate(e){const t=this.startNode();this.next(),t.expressions=[];let n=this.parseTemplateElement(e);for(t.quasis=[n];!n.tail;)this.expect(23),t.expressions.push(this.parseTemplateSubstitution()),this.expect(8),t.quasis.push(n=this.parseTemplateElement(e));return this.next(),this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,n,i){n&&this.expectPlugin("recordAndTuple");const s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const r=Object.create(null);let o=!0;const a=this.startNode();for(a.properties=[],this.next();!this.match(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){this.addExtra(a,"trailingComma",this.state.lastTokStart);break}let s;t?s=this.parseBindingProperty():(s=this.parsePropertyDefinition(i),this.checkProto(s,n,r,i)),n&&!this.isObjectProperty(s)&&"SpreadElement"!==s.type&&this.raise(s.start,Hg.InvalidRecordProperty),s.shorthand&&this.addExtra(s,"shorthand",!0),a.properties.push(s)}this.next(),this.state.inFSharpPipelineDirectBody=s;let l="ObjectExpression";return t?l="ObjectPattern":n&&(l="RecordExpression"),this.finishNode(a,l)}maybeAsyncOrAccessorProp(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(0)||this.match(49))}parsePropertyDefinition(e){let t=[];if(this.match(24))for(this.hasPlugin("decorators")&&this.raise(this.state.start,Hg.UnsupportedPropertyDecorator);this.match(24);)t.push(this.parseDecorator());const n=this.startNode();let i,s,r=!1,o=!1;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(n.decorators=t,t=[]),n.method=!1,e&&(i=this.state.start,s=this.state.startLoc);let a=this.eat(49);this.parsePropertyNamePrefixOperator(n);const l=this.state.containsEsc,c=this.parsePropertyName(n);if(!a&&!l&&this.maybeAsyncOrAccessorProp(n)){const e=c.name;"async"!==e||this.hasPrecedingLineBreak()||(r=!0,this.resetPreviousNodeTrailingComments(c),a=this.eat(49),this.parsePropertyName(n)),"get"!==e&&"set"!==e||(o=!0,this.resetPreviousNodeTrailingComments(c),n.kind=e,this.match(49)&&(a=!0,this.raise(this.state.pos,Hg.AccessorIsGenerator,e),this.next()),this.parsePropertyName(n))}return this.parseObjPropValue(n,i,s,a,r,!1,o,e),n}getGetterSetterExpectedParamCount(e){return"get"===e.kind?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const n=this.getGetterSetterExpectedParamCount(e),i=this.getObjectOrClassMethodParams(e),s=e.start;i.length!==n&&("get"===e.kind?this.raise(s,Hg.BadGetterArity):this.raise(s,Hg.BadSetterArity)),"set"===e.kind&&"RestElement"===(null==(t=i[i.length-1])?void 0:t.type)&&this.raise(s,Hg.BadSetterRestParameter)}parseObjectMethod(e,t,n,i,s){return s?(this.parseMethod(e,t,!1,!1,!1,"ObjectMethod"),this.checkGetterSetterParams(e),e):n||t||this.match(10)?(i&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,n,!1,!1,"ObjectMethod")):void 0}parseObjectProperty(e,t,n,i,s){return e.shorthand=!1,this.eat(14)?(e.value=i?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssignAllowIn(s),this.finishNode(e,"ObjectProperty")):e.computed||"Identifier"!==e.key.type?void 0:(this.checkReservedWord(e.key.name,e.key.start,!0,!1),i?e.value=this.parseMaybeDefault(t,n,im(e.key)):this.match(27)&&s?(-1===s.shorthandAssign&&(s.shorthandAssign=this.state.start),e.value=this.parseMaybeDefault(t,n,im(e.key))):e.value=im(e.key),e.shorthand=!0,this.finishNode(e,"ObjectProperty"))}parseObjPropValue(e,t,n,i,s,r,o,a){const l=this.parseObjectMethod(e,i,s,r,o)||this.parseObjectProperty(e,t,n,r,a);return l||this.unexpected(),l}parsePropertyName(e){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:t,value:n}=this.state;let i;if(cf(t))i=this.parseIdentifier(!0);else switch(t){case 124:i=this.parseNumericLiteral(n);break;case 123:i=this.parseStringLiteral(n);break;case 125:i=this.parseBigIntLiteral(n);break;case 126:i=this.parseDecimalLiteral(n);break;case 128:{const e=this.state.start+1;this.raise(e,Hg.UnexpectedPrivateField),i=this.parsePrivateName();break}default:throw this.unexpected()}e.key=i,128!==t&&(e.computed=!1)}return e.key}initFunction(e,t){e.id=null,e.generator=!1,e.async=!!t}parseMethod(e,t,n,i,s,r,o=!1){this.initFunction(e,n),e.generator=!!t;const a=i;return this.scope.enter(18|(o?64:0)|(s?32:0)),this.prodParam.enter(Qf(n,e.generator)),this.parseFunctionParams(e,a),this.parseFunctionBodyAndFinish(e,r,!0),this.prodParam.exit(),this.scope.exit(),e}parseArrayLike(e,t,n,i){n&&this.expectPlugin("recordAndTuple");const s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const r=this.startNode();return this.next(),r.elements=this.parseExprList(e,!n,i,r),this.state.inFSharpPipelineDirectBody=s,this.finishNode(r,n?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,n,i){this.scope.enter(6);let s=Qf(n,!1);!this.match(0)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(e,n);const r=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,i)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=r,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,n){e.params=this.toAssignableList(t,n,!1)}parseFunctionBodyAndFinish(e,t,n=!1){this.parseFunctionBody(e,!1,n),this.finishNode(e,t)}parseFunctionBody(e,t,n=!1){const i=t&&!this.match(5);if(this.expressionScope.enter(Xf()),i)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const i=this.state.strict,s=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,(s=>{const r=!this.isSimpleParamList(e.params);if(s&&r){const t="method"!==e.kind&&"constructor"!==e.kind||!e.key?e.start:e.key.end;this.raise(t,Hg.IllegalLanguageModeDirective)}const o=!i&&this.state.strict;this.checkParams(e,!(this.state.strict||t||n||r),t,o),this.state.strict&&e.id&&this.checkLVal(e.id,"function name",65,void 0,void 0,o)})),this.prodParam.exit(),this.state.labels=s}this.expressionScope.exit()}isSimpleParamList(e){for(let t=0,n=e.length;t<n;t++)if("Identifier"!==e[t].type)return!1;return!0}checkParams(e,t,n,i=!0){const s=new Set;for(const r of e.params)this.checkLVal(r,"function parameter list",5,t?null:s,void 0,i)}parseExprList(e,t,n,i){const s=[];let r=!0;for(;!this.eat(e);){if(r)r=!1;else if(this.expect(12),this.match(e)){i&&this.addExtra(i,"trailingComma",this.state.lastTokStart),this.next();break}s.push(this.parseExprListItem(t,n))}return s}parseExprListItem(e,t,n){let i;if(this.match(12))e||this.raise(this.state.pos,Hg.UnexpectedToken,","),i=null;else if(this.match(21)){const e=this.state.start,n=this.state.startLoc;i=this.parseParenItem(this.parseSpread(t),e,n)}else if(this.match(17)){this.expectPlugin("partialApplication"),n||this.raise(this.state.start,Hg.UnexpectedArgumentPlaceholder);const e=this.startNode();this.next(),i=this.finishNode(e,"ArgumentPlaceholder")}else i=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return i}parseIdentifier(e){const t=this.startNode(),n=this.parseIdentifierName(t.start,e);return this.createIdentifier(t,n)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}parseIdentifierName(e,t){let n;const{start:i,type:s}=this.state;if(!cf(s))throw this.unexpected();n=this.state.value;const r=s<=86;return t?r&&this.replaceToken(122):this.checkReservedWord(n,i,r,!1),this.next(),n}checkReservedWord(e,t,n,i){if(e.length>10)return;if(!function(e){return Af.has(e)}(e))return;if("yield"===e){if(this.prodParam.hasYield)return void this.raise(t,Hg.YieldBindingIdentifier)}else if("await"===e){if(this.prodParam.hasAwait)return void this.raise(t,Hg.AwaitBindingIdentifier);if(this.scope.inStaticBlock)return void this.raise(t,Hg.AwaitBindingIdentifierInStaticBlock);this.expressionScope.recordAsyncArrowParametersError(t,Hg.AwaitBindingIdentifier)}else if("arguments"===e&&this.scope.inClassAndNotInNonArrowFunction)return void this.raise(t,Hg.ArgumentsInClass);if(n&&function(e){return Tf.has(e)}(e))return void this.raise(t,Hg.UnexpectedKeyword,e);(this.state.strict?i?Rf:Pf:If)(e,this.inModule)&&this.raise(t,Hg.UnexpectedReservedWord,e)}isAwaitAllowed(){return!!this.prodParam.hasAwait||!(!this.options.allowAwaitOutsideFunction||this.scope.inFunction)}parseAwait(e,t){const n=this.startNodeAt(e,t);return this.expressionScope.recordParameterInitializerError(n.start,Hg.AwaitExpressionFormalParameter),this.eat(49)&&this.raise(n.start,Hg.ObsoleteAwaitStar),this.scope.inFunction||this.options.allowAwaitOutsideFunction||(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(n.argument=this.parseMaybeUnary(null,!0)),this.finishNode(n,"AwaitExpression")}isAmbiguousAwait(){return this.hasPrecedingLineBreak()||this.match(47)||this.match(10)||this.match(0)||this.match(22)||this.match(127)||this.match(50)||this.hasPlugin("v8intrinsic")&&this.match(48)}parseYield(){const e=this.startNode();this.expressionScope.recordParameterInitializerError(e.start,Hg.YieldInParameter),this.next();let t=!1,n=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(49),this.state.type){case 13:case 129:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:n=this.parseMaybeAssign()}return e.delegate=t,e.argument=n,this.finishNode(e,"YieldExpression")}checkPipelineAtInfixOperator(e,t){"smart"===this.getPluginOption("pipelineOperator","proposal")&&"SequenceExpression"===e.type&&this.raise(t,Hg.PipelineHeadSequenceExpression)}checkHackPipeBodyEarlyErrors(e){this.topicReferenceWasUsedInCurrentContext()||this.raise(e,Hg.PipeTopicUnused)}parseSmartPipelineBodyInStyle(e,t,n){const i=this.startNodeAt(t,n);return this.isSimpleReference(e)?(i.callee=e,this.finishNode(i,"PipelineBareFunction")):(this.checkSmartPipeTopicBodyEarlyErrors(t),i.expression=e,this.finishNode(i,"PipelineTopicExpression"))}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(this.state.start,Hg.PipelineBodyNoArrow);this.topicReferenceWasUsedInCurrentContext()||this.raise(e,Hg.PipelineTopicUnused)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if("smart"!==this.getPluginOption("pipelineOperator","proposal"))return e();{const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.start,n=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const s=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,n,e);return this.state.inFSharpPipelineDirectBody=i,s}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.eat(5);const t=this.initializeScopes(!0);this.enterInitialScopes();const n=this.startNode();try{e.body=this.parseProgram(n,8,"module")}finally{t()}return this.eat(8),this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}}{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.state.comments,this.options.tokens&&(e.tokens=function(e){for(let t=0;t<e.length;t++){const n=e[t],{type:i}=n;if(128!==i)"number"==typeof i&&(n.type=mf(i));else{const{loc:i,start:s,value:r,end:o}=n,a=s+1,l=new Ag(i.start.line,i.start.column+1);e.splice(t,1,new $f({type:mf(25),value:"#",start:s,end:a,startLoc:i.start,endLoc:l}),new $f({type:mf(122),value:r,start:a,end:o,startLoc:l,endLoc:i.end})),t++}}return e}(this.tokens)),this.finishNode(e,"File")}parseProgram(e,t=129,n=this.options.sourceType){if(e.sourceType=n,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule&&!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(const[i]of Array.from(this.scope.undefinedExports)){const e=this.scope.undefinedExports.get(i);this.raise(e,Hg.ModuleExportUndefined,i)}return this.finishNode(e,"Program")}stmtToDirective(e){const t=e;t.type="Directive",t.value=t.expression,delete t.expression;const n=t.value,i=n.value,s=this.input.slice(n.start,n.end),r=n.value=s.slice(1,-1);return this.addExtra(n,"raw",s),this.addExtra(n,"rawValue",r),this.addExtra(n,"expressionValue",i),n.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(26))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(e){return!!this.isContextual(93)&&this.isLetKeyword(e)}isLetKeyword(e){const t=this.nextTokenStart(),n=this.codePointAtPos(t);if(92===n||91===n)return!0;if(e)return!1;if(123===n)return!0;if(xf(n)){if(Mm.lastIndex=t,Mm.test(this.input)){const e=this.codePointAtPos(Mm.lastIndex);if(!kf(e)&&92!==e)return!1}return!0}return!1}parseStatement(e,t){return this.match(24)&&this.parseDecorators(!0),this.parseStatementContent(e,t)}parseStatementContent(e,t){let n=this.state.type;const i=this.startNode();let s;switch(this.isLet(e)&&(n=68,s="let"),n){case 54:return this.parseBreakContinueStatement(i,!0);case 57:return this.parseBreakContinueStatement(i,!1);case 58:return this.parseDebuggerStatement(i);case 84:return this.parseDoStatement(i);case 85:return this.parseForStatement(i);case 62:if(46===this.lookaheadCharCode())break;return e&&(this.state.strict?this.raise(this.state.start,Hg.StrictFunction):"if"!==e&&"label"!==e&&this.raise(this.state.start,Hg.SloppyFunction)),this.parseFunctionStatement(i,!1,!e);case 74:return e&&this.unexpected(),this.parseClass(i,!0);case 63:return this.parseIfStatement(i);case 64:return this.parseReturnStatement(i);case 65:return this.parseSwitchStatement(i);case 66:return this.parseThrowStatement(i);case 67:return this.parseTryStatement(i);case 69:case 68:return s=s||this.state.value,e&&"var"!==s&&this.raise(this.state.start,Hg.UnexpectedLexicalDeclaration),this.parseVarStatement(i,s);case 86:return this.parseWhileStatement(i);case 70:return this.parseWithStatement(i);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(i);case 77:{const e=this.lookaheadCharCode();if(40===e||46===e)break}case 76:{let e;return this.options.allowImportExportEverywhere||t||this.raise(this.state.start,Hg.UnexpectedImportExport),this.next(),77===n?(e=this.parseImport(i),"ImportDeclaration"!==e.type||e.importKind&&"value"!==e.importKind||(this.sawUnambiguousESM=!0)):(e=this.parseExport(i),("ExportNamedDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&("ExportAllDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&"ExportDefaultDeclaration"!==e.type||(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(i),e}default:if(this.isAsyncFunction())return e&&this.raise(this.state.start,Hg.AsyncFunctionInSingleStatementContext),this.next(),this.parseFunctionStatement(i,!0,!e)}const r=this.state.value,o=this.parseExpression();return lf(n)&&"Identifier"===o.type&&this.eat(14)?this.parseLabeledStatement(i,r,o,e):this.parseExpressionStatement(i,o)}assertModuleNodeAllowed(e){this.options.allowImportExportEverywhere||this.inModule||this.raise(e.start,Ug.ImportOutsideModule)}takeDecorators(e){const t=this.state.decoratorStack[this.state.decoratorStack.length-1];t.length&&(e.decorators=t,this.resetStartLocationFromNode(e,t[0]),this.state.decoratorStack[this.state.decoratorStack.length-1]=[])}canHaveLeadingDecorator(){return this.match(74)}parseDecorators(e){const t=this.state.decoratorStack[this.state.decoratorStack.length-1];for(;this.match(24);){const e=this.parseDecorator();t.push(e)}if(this.match(76))e||this.unexpected(),this.hasPlugin("decorators")&&!this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,Hg.DecoratorExportClass);else if(!this.canHaveLeadingDecorator())throw this.raise(this.state.start,Hg.UnexpectedLeadingDecorator)}parseDecorator(){this.expectOnePlugin(["decorators-legacy","decorators"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){this.state.decoratorStack.push([]);const t=this.state.start,n=this.state.startLoc;let i;if(this.eat(10))i=this.parseExpression(),this.expect(11);else for(i=this.parseIdentifier(!1);this.eat(16);){const e=this.startNodeAt(t,n);e.object=i,e.property=this.parseIdentifier(!0),e.computed=!1,i=this.finishNode(e,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(i),this.state.decoratorStack.pop()}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){const t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let n;for(n=0;n<this.state.labels.length;++n){const i=this.state.labels[n];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(t||"loop"===i.kind))break;if(e.label&&t)break}}n===this.state.labels.length&&this.raise(e.start,Hg.IllegalBreakContinue,t?"break":"continue")}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoStatement(e){return this.next(),this.state.labels.push(Om),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement("do"))),this.state.labels.pop(),this.expect(86),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(Om);let t=-1;if(this.isAwaitAllowed()&&this.eatContextual(90)&&(t=this.state.lastTokStart),this.scope.enter(0),this.expect(10),this.match(13))return t>-1&&this.unexpected(t),this.parseFor(e,null);const n=this.isContextual(93),i=n&&this.isLetKeyword();if(this.match(68)||this.match(69)||i){const n=this.startNode(),s=i?"let":this.state.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.match(52)||this.isContextual(95))&&1===n.declarations.length?this.parseForIn(e,n,t):(t>-1&&this.unexpected(t),this.parseFor(e,n))}const s=this.isContextual(89),r=new em,o=this.parseExpression(!0,r),a=this.isContextual(95);if(a&&(n?this.raise(o.start,Hg.ForOfLet):-1===t&&s&&"Identifier"===o.type&&this.raise(o.start,Hg.ForOfAsync)),a||this.match(52)){this.toAssignable(o,!0);const n=a?"for-of statement":"for-in statement";return this.checkLVal(o,n),this.parseForIn(e,o,t)}return this.checkExpressionErrors(r,!0),t>-1&&this.unexpected(t),this.parseFor(e,o)}parseFunctionStatement(e,t,n){return this.next(),this.parseFunction(e,1|(n?0:2),t)}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(60)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return this.prodParam.hasReturn||this.options.allowReturnOutsideFunction||this.raise(this.state.start,Hg.IllegalReturn),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];let n,i;for(this.expect(5),this.state.labels.push(Rm),this.scope.enter(0);!this.match(8);)if(this.match(55)||this.match(59)){const e=this.match(55);n&&this.finishNode(n,"SwitchCase"),t.push(n=this.startNode()),n.consequent=[],this.next(),e?n.test=this.parseExpression():(i&&this.raise(this.state.lastTokStart,Hg.MultipleDefaultsInSwitch),i=!0,n.test=null),this.expect(14)}else n?n.consequent.push(this.parseStatement(null)):this.unexpected();return this.scope.exit(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(this.state.lastTokEnd,Hg.NewlineAfterThrow),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom(),t="Identifier"===e.type;return this.scope.enter(t?8:0),this.checkLVal(e,"catch clause",9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(56)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext((()=>this.parseBlock(!1,!1))),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(61)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,Hg.NoCatchOrFinally),this.finishNode(e,"TryStatement")}parseVarStatement(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(Om),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement("while"))),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(this.state.start,Hg.StrictWith),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement("with"))),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,n,i){for(const o of this.state.labels)o.name===t&&this.raise(n.start,Hg.LabelRedeclaration,t);const s=(r=this.state.type)>=84&&r<=86?"loop":this.match(65)?"switch":null;var r;for(let o=this.state.labels.length-1;o>=0;o--){const t=this.state.labels[o];if(t.statementStart!==e.start)break;t.statementStart=this.state.start,t.kind=s}return this.state.labels.push({name:t,kind:s,statementStart:this.state.start}),e.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.state.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,n){const i=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(i,e,!1,8,n),t&&this.scope.exit(),this.finishNode(i,"BlockStatement")}isValidDirective(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized}parseBlockBody(e,t,n,i,s){const r=e.body=[],o=e.directives=[];this.parseBlockOrModuleBlockBody(r,t?o:void 0,n,i,s)}parseBlockOrModuleBlockBody(e,t,n,i,s){const r=this.state.strict;let o=!1,a=!1;for(;!this.match(i);){const i=this.parseStatement(null,n);if(t&&!a){if(this.isValidDirective(i)){const e=this.stmtToDirective(i);t.push(e),o||"use strict"!==e.value.value||(o=!0,this.setStrict(!0));continue}a=!0,this.state.strictErrors.clear()}e.push(i)}s&&s.call(this,o),r||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement("for"))),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,n){const i=this.match(52);return this.next(),i?n>-1&&this.unexpected(n):e.await=n>-1,"VariableDeclaration"!==t.type||null==t.declarations[0].init||i&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type?"AssignmentPattern"===t.type&&this.raise(t.start,Hg.InvalidLhs,"for-loop"):this.raise(t.start,Hg.ForInOfLoopInitializer,i?"for-in":"for-of"),e.left=t,e.right=i?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement("for"))),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")}parseVar(e,t,n){const i=e.declarations=[],s=this.hasPlugin("typescript");for(e.kind=n;;){const e=this.startNode();if(this.parseVarId(e,n),this.eat(27)?e.init=t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():("const"!==n||this.match(52)||this.isContextual(95)?"Identifier"===e.id.type||t&&(this.match(52)||this.isContextual(95))||this.raise(this.state.lastTokEnd,Hg.DeclarationMissingInitializer,"Complex binding patterns"):s||this.raise(this.state.lastTokEnd,Hg.DeclarationMissingInitializer,"Const declarations"),e.init=null),i.push(this.finishNode(e,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"variable declaration","var"===t?5:9,void 0,"var"!==t)}parseFunction(e,t=0,n=!1){const i=1&t,s=2&t,r=!(!i||4&t);this.initFunction(e,n),this.match(49)&&s&&this.raise(this.state.start,Hg.GeneratorInSingleStatementContext),e.generator=this.eat(49),i&&(e.id=this.parseFunctionId(r));const o=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Qf(n,e.generator)),i||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext((()=>{this.parseFunctionBodyAndFinish(e,i?"FunctionDeclaration":"FunctionExpression")})),this.prodParam.exit(),this.scope.exit(),i&&!s&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=o,e}parseFunctionId(e){return e||lf(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(new Gf(3)),e.params=this.parseBindingList(11,41,!1,t),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:9:17,e.id.start)}parseClass(e,t,n){this.next(),this.takeDecorators(e);const i=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,n),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,i),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(27)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}isNonstaticConstructor(e){return!(e.computed||e.static||"constructor"!==e.key.name&&"constructor"!==e.key.value)}parseClassBody(e,t){this.classScope.enter();const n={hadConstructor:!1,hadSuperClass:e};let i=[];const s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext((()=>{for(;!this.match(8);){if(this.eat(13)){if(i.length>0)throw this.raise(this.state.lastTokEnd,Hg.DecoratorSemicolon);continue}if(this.match(24)){i.push(this.parseDecorator());continue}const e=this.startNode();i.length&&(e.decorators=i,this.resetStartLocationFromNode(e,i[0]),i=[]),this.parseClassMember(s,e,n),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&this.raise(e.start,Hg.DecoratorConstructor)}})),this.state.strict=t,this.next(),i.length)throw this.raise(this.state.start,Hg.TrailingDecorator);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(e,t){const n=this.parseIdentifier(!0);if(this.isClassMethod()){const i=t;return i.kind="method",i.computed=!1,i.key=n,i.static=!1,this.pushClassMethod(e,i,!1,!1,!1,!1),!0}if(this.isClassProperty()){const i=t;return i.computed=!1,i.key=n,i.static=!1,e.body.push(this.parseClassProperty(i)),!0}return this.resetPreviousNodeTrailingComments(n),!1}parseClassMember(e,t,n){const i=this.isContextual(98);if(i){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5))return void this.parseClassStaticBlock(e,t)}this.parseClassMemberWithIsStatic(e,t,n,i)}parseClassMemberWithIsStatic(e,t,n,i){const s=t,r=t,o=t,a=t,l=s,c=s;if(t.static=i,this.parsePropertyNamePrefixOperator(t),this.eat(49)){l.kind="method";const t=this.match(128);return this.parseClassElementName(l),t?void this.pushClassPrivateMethod(e,r,!0,!1):(this.isNonstaticConstructor(s)&&this.raise(s.key.start,Hg.ConstructorIsGenerator),void this.pushClassMethod(e,s,!0,!1,!1,!1))}const d=lf(this.state.type)&&!this.state.containsEsc,h=this.match(128),u=this.parseClassElementName(t),p=this.state.start;if(this.parsePostMemberNameModifiers(c),this.isClassMethod()){if(l.kind="method",h)return void this.pushClassPrivateMethod(e,r,!1,!1);const i=this.isNonstaticConstructor(s);let o=!1;i&&(s.kind="constructor",n.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(u.start,Hg.DuplicateConstructor),i&&this.hasPlugin("typescript")&&t.override&&this.raise(u.start,Hg.OverrideOnConstructor),n.hadConstructor=!0,o=n.hadSuperClass),this.pushClassMethod(e,s,!1,!1,i,o)}else if(this.isClassProperty())h?this.pushClassPrivateProperty(e,a):this.pushClassProperty(e,o);else if(d&&"async"===u.name&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(u);const t=this.eat(49);c.optional&&this.unexpected(p),l.kind="method";const n=this.match(128);this.parseClassElementName(l),this.parsePostMemberNameModifiers(c),n?this.pushClassPrivateMethod(e,r,t,!0):(this.isNonstaticConstructor(s)&&this.raise(s.key.start,Hg.ConstructorIsAsync),this.pushClassMethod(e,s,t,!0,!1,!1))}else if(!d||"get"!==u.name&&"set"!==u.name||this.match(49)&&this.isLineTerminator())this.isLineTerminator()?h?this.pushClassPrivateProperty(e,a):this.pushClassProperty(e,o):this.unexpected();else{this.resetPreviousNodeTrailingComments(u),l.kind=u.name;const t=this.match(128);this.parseClassElementName(s),t?this.pushClassPrivateMethod(e,r,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(s.key.start,Hg.ConstructorIsAccessor),this.pushClassMethod(e,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}}parseClassElementName(e){const{type:t,value:n,start:i}=this.state;if(122!==t&&123!==t||!e.static||"prototype"!==n||this.raise(i,Hg.StaticPrototype),128===t){"constructor"===n&&this.raise(i,Hg.ConstructorClassPrivateField);const t=this.parsePrivateName();return e.key=t,t}return this.parsePropertyName(e)}parseClassStaticBlock(e,t){var n;this.scope.enter(208);const i=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=i,e.body.push(this.finishNode(t,"StaticBlock")),null!=(n=t.decorators)&&n.length&&this.raise(t.start,Hg.DecoratorStaticBlock)}pushClassProperty(e,t){t.computed||"constructor"!==t.key.name&&"constructor"!==t.key.value||this.raise(t.key.start,Hg.ConstructorClassField),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const n=this.parseClassPrivateProperty(t);e.body.push(n),this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.start)}pushClassMethod(e,t,n,i,s,r){e.body.push(this.parseMethod(t,n,i,s,r,"ClassMethod",!0))}pushClassPrivateMethod(e,t,n,i){const s=this.parseMethod(t,n,i,!1,!1,"ClassPrivateMethod",!0);e.body.push(s);const r="get"===s.kind?s.static?6:2:"set"===s.kind?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,r)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(Xf()),this.prodParam.enter(0),e.value=this.eat(27)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,n,i=139){lf(this.state.type)?(e.id=this.parseIdentifier(),t&&this.checkLVal(e.id,"class name",i)):n||!t?e.id=null:this.unexpected(null,Hg.MissingClassName)}parseClassSuper(e){e.superClass=this.eat(75)?this.parseExprSubscripts():null}parseExport(e){const t=this.maybeParseExportDefaultSpecifier(e),n=!t||this.eat(12),i=n&&this.eatExportStar(e),s=i&&this.maybeParseExportNamespaceSpecifier(e),r=n&&(!s||this.eat(12)),o=t||i;if(i&&!s)return t&&this.unexpected(),this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration");const a=this.maybeParseExportNamedSpecifiers(e);if(t&&n&&!i&&!a||s&&r&&!a)throw this.unexpected(null,5);let l;if(o||a?(l=!1,this.parseExportFrom(e,o)):l=this.maybeParseExportDeclaration(e),o||a||l)return this.checkExport(e,!0,!1,!!e.source),this.finishNode(e,"ExportNamedDeclaration");if(this.eat(59))return e.declaration=this.parseExportDefaultExpression(),this.checkExport(e,!0,!0),this.finishNode(e,"ExportDefaultDeclaration");throw this.unexpected(null,5)}eatExportStar(e){return this.eat(49)}maybeParseExportDefaultSpecifier(e){if(this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom");const t=this.startNode();return t.exported=this.parseIdentifier(!0),e.specifiers=[this.finishNode(t,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(87)){e.specifiers||(e.specifiers=[]);const t=this.startNodeAt(this.state.lastTokStart,this.state.lastTokStartLoc);return this.next(),t.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(t,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){e.specifiers||(e.specifiers=[]);const t="type"===e.exportKind;return e.specifiers.push(...this.parseExportSpecifiers(t)),e.source=null,e.declaration=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0)}isAsyncFunction(){if(!this.isContextual(89))return!1;const e=this.nextTokenStart();return!Lg.test(this.input.slice(this.state.pos,e))&&this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode(),t=this.isAsyncFunction();if(this.match(62)||t)return this.next(),t&&this.next(),this.parseFunction(e,5,t);if(this.match(74))return this.parseClass(e,!0,!0);if(this.match(24))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,Hg.DecoratorBeforeExport),this.parseDecorators(!1),this.parseClass(e,!0,!0);if(this.match(69)||this.match(68)||this.isLet())throw this.raise(this.state.start,Hg.UnsupportedDefaultExport);{const e=this.parseMaybeAssignAllowIn();return this.semicolon(),e}}parseExportDeclaration(e){return this.parseStatement(null)}isExportDefaultSpecifier(){const{type:e}=this.state;if(lf(e)){if(89===e&&!this.state.containsEsc||93===e)return!1;if((120===e||119===e)&&!this.state.containsEsc){const{type:e}=this.lookahead();if(lf(e)&&91!==e||5===e)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(59))return!1;const t=this.nextTokenStart(),n=this.isUnparsedContextual(t,"from");if(44===this.input.charCodeAt(t)||lf(this.state.type)&&n)return!0;if(this.match(59)&&n){const e=this.input.charCodeAt(this.nextTokenStartSince(t+4));return 34===e||39===e}return!1}parseExportFrom(e,t){if(this.eatContextual(91)){e.source=this.parseImportSource(),this.checkExport(e);const t=this.maybeParseImportAssertions();t&&(e.assertions=t)}else t&&this.unexpected();this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;if(24===e&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))){if(!this.getPluginOption("decorators","decoratorsBeforeExport"))return!0;this.unexpected(this.state.start,Hg.DecoratorBeforeExport)}return 68===e||69===e||62===e||74===e||this.isLet()||this.isAsyncFunction()}checkExport(e,t,n,i){if(t)if(n){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var s;const t=e.declaration;"Identifier"!==t.type||"from"!==t.name||t.end-t.start!=4||null!=(s=t.extra)&&s.parenthesized||this.raise(t.start,Hg.ExportDefaultFromAsIdentifier)}}else if(e.specifiers&&e.specifiers.length)for(const r of e.specifiers){const{exported:e}=r,t="Identifier"===e.type?e.name:e.value;if(this.checkDuplicateExports(r,t),!i&&r.local){const{local:e}=r;"Identifier"!==e.type?this.raise(r.start,Hg.ExportBindingIsString,e.value,t):(this.checkReservedWord(e.name,e.start,!0,!1),this.scope.checkLocalExport(e))}}else if(e.declaration)if("FunctionDeclaration"===e.declaration.type||"ClassDeclaration"===e.declaration.type){const t=e.declaration.id;if(!t)throw new Error("Assertion failure");this.checkDuplicateExports(e,t.name)}else if("VariableDeclaration"===e.declaration.type)for(const r of e.declaration.declarations)this.checkDeclaration(r.id);if(this.state.decoratorStack[this.state.decoratorStack.length-1].length)throw this.raise(e.start,Hg.UnsupportedDecoratorExport)}checkDeclaration(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(const t of e.properties)this.checkDeclaration(t);else if("ArrayPattern"===e.type)for(const t of e.elements)t&&this.checkDeclaration(t);else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&this.raise(e.start,"default"===t?Hg.DuplicateDefaultExport:Hg.DuplicateExport,t),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let n=!0;for(this.expect(5);!this.eat(8);){if(n)n=!1;else if(this.expect(12),this.eat(8))break;const i=this.isContextual(120),s=this.match(123),r=this.startNode();r.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(r,s,e,i))}return t}parseExportSpecifier(e,t,n,i){return this.eatContextual(87)?e.exported=this.parseModuleExportName():t?e.exported=sm(e.local):e.exported||(e.exported=im(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(123)){const e=this.parseStringLiteral(this.state.value),t=e.value.match(Am);return t&&this.raise(e.start,Hg.ModuleExportNameHasLoneSurrogate,t[0].charCodeAt(0).toString(16)),e}return this.parseIdentifier(!0)}parseImport(e){if(e.specifiers=[],!this.match(123)){const t=!this.maybeParseDefaultImportSpecifier(e)||this.eat(12),n=t&&this.maybeParseStarImportSpecifier(e);t&&!n&&this.parseNamedImportSpecifiers(e),this.expectContextual(91)}e.source=this.parseImportSource();const t=this.maybeParseImportAssertions();if(t)e.assertions=t;else{const t=this.maybeParseModuleAttributes();t&&(e.attributes=t)}return this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(123)||this.unexpected(),this.parseExprAtom()}shouldParseDefaultImport(e){return lf(this.state.type)}parseImportSpecifierLocal(e,t,n,i){t.local=this.parseIdentifier(),this.checkLVal(t.local,i,9),e.specifiers.push(this.finishNode(t,n))}parseAssertEntries(){const e=[],t=new Set;do{if(this.match(8))break;const n=this.startNode(),i=this.state.value;if(t.has(i)&&this.raise(this.state.start,Hg.ModuleAttributesWithDuplicateKeys,i),t.add(i),this.match(123)?n.key=this.parseStringLiteral(i):n.key=this.parseIdentifier(!0),this.expect(14),!this.match(123))throw this.unexpected(this.state.start,Hg.ModuleAttributeInvalidValue);n.value=this.parseStringLiteral(this.state.value),this.finishNode(n,"ImportAttribute"),e.push(n)}while(this.eat(12));return e}maybeParseModuleAttributes(){if(!this.match(70)||this.hasPrecedingLineBreak())return this.hasPlugin("moduleAttributes")?[]:null;this.expectPlugin("moduleAttributes"),this.next();const e=[],t=new Set;do{const n=this.startNode();if(n.key=this.parseIdentifier(!0),"type"!==n.key.name&&this.raise(n.key.start,Hg.ModuleAttributeDifferentFromType,n.key.name),t.has(n.key.name)&&this.raise(n.key.start,Hg.ModuleAttributesWithDuplicateKeys,n.key.name),t.add(n.key.name),this.expect(14),!this.match(123))throw this.unexpected(this.state.start,Hg.ModuleAttributeInvalidValue);n.value=this.parseStringLiteral(this.state.value),this.finishNode(n,"ImportAttribute"),e.push(n)}while(this.eat(12));return e}maybeParseImportAssertions(){if(!this.isContextual(88)||this.hasPrecedingLineBreak())return this.hasPlugin("importAssertions")?[]:null;this.expectPlugin("importAssertions"),this.next(),this.eat(5);const e=this.parseAssertEntries();return this.eat(8),e}maybeParseDefaultImportSpecifier(e){return!!this.shouldParseDefaultImport(e)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier","default import specifier"),!0)}maybeParseStarImportSpecifier(e){if(this.match(49)){const t=this.startNode();return this.next(),this.expectContextual(87),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier","import namespace specifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(this.state.start,Hg.DestructureNamedImport);if(this.expect(12),this.eat(8))break}const n=this.startNode(),i=this.match(123),s=this.isContextual(120);n.imported=this.parseModuleExportName();const r=this.parseImportSpecifier(n,i,"type"===e.importKind||"typeof"===e.importKind,s);e.specifiers.push(r)}}parseImportSpecifier(e,t,n,i){if(this.eatContextual(87))e.local=this.parseIdentifier();else{const{imported:n}=e;if(t)throw this.raise(e.start,Hg.ImportBindingIsString,n.value);this.checkReservedWord(n.name,e.start,!0,!0),e.local||(e.local=im(n))}return this.checkLVal(e.local,"import specifier",9),this.finishNode(e,"ImportSpecifier")}isThisParam(e){return"Identifier"===e.type&&"this"===e.name}}{constructor(e,t){super(e=function(e){const t={};for(const n of Object.keys(Nm))t[n]=e&&null!=e[n]?e[n]:Nm[n];return t}(e),t),this.options=e,this.initializeScopes(),this.plugins=function(e){const t=new Map;for(const n of e){const[e,i]=Array.isArray(n)?n:[n,{}];t.has(e)||t.set(e,i||{})}return t}(this.options.plugins),this.filename=e.sourceFilename}getScopeHandler(){return Ff}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e}}function Bm(e,t){let n=Fm;return null!=e&&e.plugins&&(!function(e){if(Sm(e,"decorators")){if(Sm(e,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=xm(e,"decorators","decoratorsBeforeExport");if(null==t)throw new Error("The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'.");if("boolean"!=typeof t)throw new Error("'decoratorsBeforeExport' must be a boolean.")}if(Sm(e,"flow")&&Sm(e,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(Sm(e,"placeholders")&&Sm(e,"v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(Sm(e,"pipelineOperator")){const t=xm(e,"pipelineOperator","proposal");if(!km.includes(t)){const e=km.map((e=>`"${e}"`)).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${e}.`)}const n=Sm(e,"recordAndTuple")&&"hash"===xm(e,"recordAndTuple","syntaxType");if("hack"===t){if(Sm(e,"placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(Sm(e,"v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const t=xm(e,"pipelineOperator","topicToken");if(!Em.includes(t)){const e=Em.map((e=>`"${e}"`)).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${e}.`)}if("#"===t&&n)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "hack", topicToken: "#" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}else if("smart"===t&&n)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "smart" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}if(Sm(e,"moduleAttributes")){if(Sm(e,"importAssertions"))throw new Error("Cannot combine importAssertions and moduleAttributes plugins.");if("may-2020"!==xm(e,"moduleAttributes","version"))throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(Sm(e,"recordAndTuple")&&!Dm.includes(xm(e,"recordAndTuple","syntaxType")))throw new Error("'recordAndTuple' requires 'syntaxType' option whose value should be one of: "+Dm.map((e=>`'${e}'`)).join(", "));if(Sm(e,"asyncDoExpressions")&&!Sm(e,"doExpressions")){const e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}}(e.plugins),n=function(e){const t=Lm.filter((t=>Sm(e,t))),n=t.join("/");let i=Vm[n];if(!i){i=Fm;for(const e of t)i=Tm[e](i);Vm[n]=i}return i}(e.plugins)),new n(e,t)}!function(e){const t={};for(const n of Object.keys(e))t[n]=mf(e[n])}(af);const Vm={};var Wm=function(e,t){var n;if("unambiguous"!==(null==(n=t)?void 0:n.sourceType))return Bm(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";const n=Bm(t,e),s=n.parse();if(n.sawUnambiguousESM)return s;if(n.ambiguousScriptDifferentAst)try{return t.sourceType="script",Bm(t,e).parse()}catch(i){}else s.program.sourceType="script";return s}catch(s){try{return t.sourceType="script",Bm(t,e).parse()}catch(r){}throw s}},Hm=function(e,t){const n=Bm(t,e);return n.options.strictMode&&(n.state.strict=!0),n.getExpression()};const Um=e=>4===e.type&&e.isStatic,zm=(e,t)=>e===t||e===gp(t);function jm(e){return zm(e,"Teleport")?xp:zm(e,"Suspense")?kp:zm(e,"KeepAlive")?Ep:zm(e,"BaseTransition")?Dp:void 0}const $m=/^\d|[^\$\w]/,Km=e=>!$m.test(e),qm=/[A-Za-z_$\xA0-\uFFFF]/,Gm=/[\.\?\w$\xA0-\uFFFF]/,Ym=/\s+[.[]\s*|\s*[.[]\s+/g,Zm=(e,t)=>{try{let n=Hm(e,{plugins:t.expressionPlugins});return"TSAsExpression"!==n.type&&"TSTypeAssertion"!==n.type||(n=n.expression),"MemberExpression"===n.type||"OptionalMemberExpression"===n.type||"Identifier"===n.type}catch(n){return!1}},Xm=Zm;function Jm(e,t,n){const i={source:e.source.slice(t,t+n),start:Qm(e.start,e.source,t),end:e.end};return null!=n&&(i.end=Qm(e.start,e.source,t+n)),i}function Qm(e,t,n=t.length){return e_(Yu({},e),t,n)}function e_(e,t,n=t.length){let i=0,s=-1;for(let r=0;r<n;r++)10===t.charCodeAt(r)&&(i++,s=r);return e.offset+=n,e.line+=i,e.column=-1===s?e.column+n:n-s,e}function t_(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function n_(e,t,n=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(7===s.type&&(n||s.exp)&&(np(t)?s.name===t:t.test(s.name)))return s}}function i_(e,t,n=!1,i=!1){for(let s=0;s<e.props.length;s++){const r=e.props[s];if(6===r.type){if(n)continue;if(r.name===t&&(r.value||i))return r}else if("bind"===r.name&&(r.exp||i)&&s_(r.arg,t))return r}}function s_(e,t){return!(!e||!Um(e)||e.content!==t)}function r_(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))}function o_(e){return 5===e.type||2===e.type}function a_(e){return 7===e.type&&"slot"===e.name}function l_(e){return 1===e.type&&3===e.tagType}function c_(e){return 1===e.type&&2===e.tagType}function d_(e,t){return e||t?Ip:Pp}function h_(e,t){return e||t?Lp:Np}const u_=new Set([Gp,Yp]);function p_(e,t=[]){if(e&&!np(e)&&14===e.type){const n=e.callee;if(!np(n)&&u_.has(n))return p_(e.arguments[0],t.concat(e))}return[e,t]}function g_(e,t,n){let i,s,r=13===e.type?e.props:e.arguments[2],o=[];if(r&&!np(r)&&14===r.type){const e=p_(r);r=e[0],o=e[1],s=o[o.length-1]}if(null==r||np(r))i=gg([t]);else if(14===r.type){const e=r.arguments[0];np(e)||15!==e.type?r.callee===Zp?i=bg(n.helper($p),[gg([t]),r]):r.arguments.unshift(gg([t])):e.properties.unshift(t),!i&&(i=r)}else if(15===r.type){let e=!1;if(4===t.key.type){const n=t.key.content;e=r.properties.some((e=>4===e.key.type&&e.key.content===n))}e||r.properties.unshift(t),i=r}else i=bg(n.helper($p),[gg([t]),r]),s&&s.callee===Yp&&(s=o[o.length-2]);13===e.type?s?s.arguments[0]=i:e.props=i:s?s.arguments[0]=i:e.arguments[2]=i}function f_(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}`}function m_(e,t){if(!e||0===Object.keys(t).length)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const i=e.props[n];if(7===i.type&&(m_(i.arg,t)||m_(i.exp,t)))return!0}return e.children.some((e=>m_(e,t)));case 11:return!!m_(e.source,t)||e.children.some((e=>m_(e,t)));case 9:return e.branches.some((e=>m_(e,t)));case 10:return!!m_(e.condition,t)||e.children.some((e=>m_(e,t)));case 4:return!e.isStatic&&Km(e.content)&&!!t[e.content];case 8:return e.children.some((e=>sp(e)&&m_(e,t)));case 5:case 12:return m_(e.content,t);case 2:case 3:default:return!1}}function __(e){return 14===e.type&&e.callee===og?e.arguments[1].returns:e}function v_(e,{helper:t,removeHelper:n,inSSR:i}){e.isBlock||(e.isBlock=!0,n(d_(i,e.isComponent)),t(Tp),t(h_(i,e.isComponent)))}const b_={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function y_(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,i=n&&n[e];return"MODE"===e?i||3:i}function w_(e,t,n,...i){if("suppress-warning"===y_(e,t))return;const{message:s,link:r}=b_[e],o=`(deprecation ${e}) ${"function"==typeof s?s(...i):s}${r?`\n  Details: ${r}`:""}`,a=new SyntaxError(o);a.code=e,n&&(a.loc=n),t.onWarn(a)}const C_=/&(gt|lt|amp|apos|quot);/g,S_={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},x_={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Ku,isPreTag:Ku,isCustomElement:Ku,decodeEntities:e=>e.replace(C_,((e,t)=>S_[t])),onError:bp,onWarn:yp,comments:!0};function k_(e,t={}){const n=function(e,t){const n=Yu({},x_);let i;for(i in t)n[i]=void 0===t[i]?x_[i]:t[i];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(e,t),i=V_(n);return hg(E_(n,0,[]),W_(n,i))}function E_(e,t,n){const i=H_(n),s=i?i.ns:0,r=[];for(;!q_(e,t,n);){const o=e.source;let a;if(0===t||1===t)if(!e.inVPre&&U_(o,e.options.delimiters[0]))a=M_(e,t);else if(0===t&&"<"===o[0])if(1===o.length)K_(e,5,1);else if("!"===o[1])U_(o,"\x3c!--")?a=L_(e):U_(o,"<!DOCTYPE")?a=N_(e):U_(o,"<![CDATA[")?0!==s?a=T_(e,n):(K_(e,1),a=N_(e)):(K_(e,11),a=N_(e));else if("/"===o[1])if(2===o.length)K_(e,5,2);else{if(">"===o[2]){K_(e,14,2),z_(e,3);continue}if(/[a-z]/i.test(o[2])){K_(e,23),O_(e,1,i);continue}K_(e,12,2),a=N_(e)}else/[a-z]/i.test(o[1])?a=I_(e,n):"?"===o[1]?(K_(e,21,1),a=N_(e)):K_(e,12,1);if(a||(a=F_(e,t)),Ju(a))for(let e=0;e<a.length;e++)D_(r,a[e]);else D_(r,a)}let o=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let n=0;n<r.length;n++){const i=r[n];if(e.inPre||2!==i.type)3!==i.type||e.options.comments||(o=!0,r[n]=null);else if(/[^\t\r\n\f ]/.test(i.content))t&&(i.content=i.content.replace(/[\t\r\n\f ]+/g," "));else{const e=r[n-1],s=r[n+1];!e||!s||t&&(3===e.type||3===s.type||1===e.type&&1===s.type&&/[\r\n]/.test(i.content))?(o=!0,r[n]=null):i.content=" "}}if(e.inPre&&i&&e.options.isPreTag(i.tag)){const e=r[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return o?r.filter(Boolean):r}function D_(e,t){if(2===t.type){const n=H_(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset)return n.content+=t.content,n.loc.end=t.loc.end,void(n.loc.source+=t.loc.source)}e.push(t)}function T_(e,t){z_(e,9);const n=E_(e,3,t);return 0===e.source.length?K_(e,6):z_(e,3),n}function L_(e){const t=V_(e);let n;const i=/--(\!)?>/.exec(e.source);if(i){i.index<=3&&K_(e,0),i[1]&&K_(e,10),n=e.source.slice(4,i.index);const t=e.source.slice(0,i.index);let s=1,r=0;for(;-1!==(r=t.indexOf("\x3c!--",s));)z_(e,r-s+1),r+4<t.length&&K_(e,16),s=r+1;z_(e,i.index+i[0].length-s+1)}else n=e.source.slice(4),z_(e,e.source.length),K_(e,7);return{type:3,content:n,loc:W_(e,t)}}function N_(e){const t=V_(e),n="?"===e.source[1]?1:2;let i;const s=e.source.indexOf(">");return-1===s?(i=e.source.slice(n),z_(e,e.source.length)):(i=e.source.slice(n,s),z_(e,s+1)),{type:3,content:i,loc:W_(e,t)}}function I_(e,t){const n=e.inPre,i=e.inVPre,s=H_(t),r=O_(e,0,s),o=e.inPre&&!n,a=e.inVPre&&!i;if(r.isSelfClosing||e.options.isVoidTag(r.tag))return o&&(e.inPre=!1),a&&(e.inVPre=!1),r;t.push(r);const l=e.options.getTextMode(r,s),c=E_(e,l,t);if(t.pop(),r.children=c,G_(e.source,r.tag))O_(e,1,s);else if(K_(e,24,0,r.loc.start),0===e.source.length&&"script"===r.tag.toLowerCase()){const t=c[0];t&&U_(t.loc.source,"\x3c!--")&&K_(e,8)}return r.loc=W_(e,r.loc.start),o&&(e.inPre=!1),a&&(e.inVPre=!1),r}const P_=vu("if,else,else-if,for,slot");function O_(e,t,n){const i=V_(e),s=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),r=s[1],o=e.options.getNamespace(r,n);z_(e,s[0].length),j_(e);const a=V_(e),l=e.source;e.options.isPreTag(r)&&(e.inPre=!0);let c=R_(e,t);0===t&&!e.inVPre&&c.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,Yu(e,a),e.source=l,c=R_(e,t).filter((e=>"v-pre"!==e.name)));let d=!1;if(0===e.source.length?K_(e,9):(d=U_(e.source,"/>"),1===t&&d&&K_(e,4),z_(e,d?2:1)),1===t)return;let h=0;return e.inVPre||("slot"===r?h=2:"template"===r?c.some((e=>7===e.type&&P_(e.name)))&&(h=3):function(e,t,n){const i=n.options;if(i.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||jm(e)||i.isBuiltInComponent&&i.isBuiltInComponent(e)||i.isNativeTag&&!i.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const e=t[s];if(6===e.type){if("is"===e.name&&e.value&&e.value.content.startsWith("vue:"))return!0}else{if("is"===e.name)return!0;"bind"===e.name&&s_(e.arg,"is")}}}(r,c,e)&&(h=1)),{type:1,ns:o,tag:r,tagType:h,props:c,isSelfClosing:d,children:[],loc:W_(e,i),codegenNode:void 0}}function R_(e,t){const n=[],i=new Set;for(;e.source.length>0&&!U_(e.source,">")&&!U_(e.source,"/>");){if(U_(e.source,"/")){K_(e,22),z_(e,1),j_(e);continue}1===t&&K_(e,3);const s=A_(e,i);6===s.type&&s.value&&"class"===s.name&&(s.value.content=s.value.content.replace(/\s+/g," ").trim()),0===t&&n.push(s),/^[^\t\r\n\f />]/.test(e.source)&&K_(e,15),j_(e)}return n}function A_(e,t){const n=V_(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&K_(e,2),t.add(i),"="===i[0]&&K_(e,19);{const t=/["'<]/g;let n;for(;n=t.exec(i);)K_(e,17,n.index)}let s;z_(e,i.length),/^[\t\r\n\f ]*=/.test(e.source)&&(j_(e),z_(e,1),j_(e),s=function(e){const t=V_(e);let n;const i=e.source[0],s='"'===i||"'"===i;if(s){z_(e,1);const t=e.source.indexOf(i);-1===t?n=B_(e,e.source.length,4):(n=B_(e,t,4),z_(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const i=/["'<=`]/g;let s;for(;s=i.exec(t[0]);)K_(e,18,s.index);n=B_(e,t[0].length,4)}return{content:n,isQuoted:s,loc:W_(e,t)}}(e),s||K_(e,13));const r=W_(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let o,a=U_(i,"."),l=t[1]||(a||U_(i,":")?"bind":U_(i,"@")?"on":"slot");if(t[2]){const s="slot"===l,r=i.lastIndexOf(t[2]),a=W_(e,$_(e,n,r),$_(e,n,r+t[2].length+(s&&t[3]||"").length));let c=t[2],d=!0;c.startsWith("[")?(d=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(K_(e,27),c=c.slice(1))):s&&(c+=t[3]||""),o={type:4,content:c,isStatic:d,constType:d?3:0,loc:a}}if(s&&s.isQuoted){const e=s.loc;e.start.offset++,e.start.column++,e.end=Qm(e.start,s.content),e.source=e.source.slice(1,-1)}const c=t[3]?t[3].slice(1).split("."):[];return a&&c.push("prop"),{type:7,name:l,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:o,modifiers:c,loc:r}}return!e.inVPre&&U_(i,"v-")&&K_(e,26),{type:6,name:i,value:s&&{type:2,content:s.content,loc:s.loc},loc:r}}function M_(e,t){const[n,i]=e.options.delimiters,s=e.source.indexOf(i,n.length);if(-1===s)return void K_(e,25);const r=V_(e);z_(e,n.length);const o=V_(e),a=V_(e),l=s-n.length,c=e.source.slice(0,l),d=B_(e,l,t),h=d.trim(),u=d.indexOf(h);u>0&&e_(o,c,u);return e_(a,c,l-(d.length-h.length-u)),z_(e,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:W_(e,o,a)},loc:W_(e,r)}}function F_(e,t){const n=3===t?["]]>"]:["<",e.options.delimiters[0]];let i=e.source.length;for(let r=0;r<n.length;r++){const t=e.source.indexOf(n[r],1);-1!==t&&i>t&&(i=t)}const s=V_(e);return{type:2,content:B_(e,i,t),loc:W_(e,s)}}function B_(e,t,n){const i=e.source.slice(0,t);return z_(e,t),2!==n&&3!==n&&i.includes("&")?e.options.decodeEntities(i,4===n):i}function V_(e){const{column:t,line:n,offset:i}=e;return{column:t,line:n,offset:i}}function W_(e,t,n){return{start:t,end:n=n||V_(e),source:e.originalSource.slice(t.offset,n.offset)}}function H_(e){return e[e.length-1]}function U_(e,t){return e.startsWith(t)}function z_(e,t){const{source:n}=e;e_(e,n,t),e.source=n.slice(t)}function j_(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&z_(e,t[0].length)}function $_(e,t,n){return Qm(t,e.originalSource.slice(t.offset,n),n)}function K_(e,t,n,i=V_(e)){n&&(i.offset+=n,i.column+=n),e.options.onError(wp(t,{start:i,end:i,source:""}))}function q_(e,t,n){const i=e.source;switch(t){case 0:if(U_(i,"</"))for(let e=n.length-1;e>=0;--e)if(G_(i,n[e].tag))return!0;break;case 1:case 2:{const e=H_(n);if(e&&G_(i,e.tag))return!0;break}case 3:if(U_(i,"]]>"))return!0}return!i}function G_(e,t){return U_(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function Y_(e,t){X_(e,t,Z_(e,e.children[0]))}function Z_(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!c_(t)}function X_(e,t,n=!1){const{children:i}=e,s=i.length;let r=0;for(let o=0;o<i.length;o++){const e=i[o];if(1===e.type&&0===e.tagType){const i=n?0:J_(e,t);if(i>0){if(i>=2){e.codegenNode.patchFlag="-1 /* HOISTED */",e.codegenNode=t.hoist(e.codegenNode),r++;continue}}else{const n=e.codegenNode;if(13===n.type){const i=iv(n);if((!i||512===i||1===i)&&tv(e,t)>=2){const i=nv(e);i&&(n.props=t.hoist(i))}n.dynamicProps&&(n.dynamicProps=t.hoist(n.dynamicProps))}}}else 12===e.type&&J_(e.content,t)>=2&&(e.codegenNode=t.hoist(e.codegenNode),r++);if(1===e.type){const n=1===e.tagType;n&&t.scopes.vSlot++,X_(e,t),n&&t.scopes.vSlot--}else if(11===e.type)X_(e,t,1===e.children.length);else if(9===e.type)for(let n=0;n<e.branches.length;n++)X_(e.branches[n],t,1===e.branches[n].children.length)}r&&t.transformHoist&&t.transformHoist(i,t,e),r&&r===s&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&Ju(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(pg(e.codegenNode.children)))}function J_(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const i=n.get(e);if(void 0!==i)return i;const s=e.codegenNode;if(13!==s.type)return 0;if(s.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(iv(s))return n.set(e,0),0;{let i=3;const r=tv(e,t);if(0===r)return n.set(e,0),0;r<i&&(i=r);for(let s=0;s<e.children.length;s++){const r=J_(e.children[s],t);if(0===r)return n.set(e,0),0;r<i&&(i=r)}if(i>1)for(let s=0;s<e.props.length;s++){const r=e.props[s];if(7===r.type&&"bind"===r.name&&r.exp){const s=J_(r.exp,t);if(0===s)return n.set(e,0),0;s<i&&(i=s)}}if(s.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return n.set(e,0),0}t.removeHelper(Tp),t.removeHelper(h_(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(d_(t.inSSR,s.isComponent))}return n.set(e,i),i}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return J_(e.content,t);case 4:return e.constType;case 8:let r=3;for(let n=0;n<e.children.length;n++){const i=e.children[n];if(np(i)||ip(i))continue;const s=J_(i,t);if(0===s)return 0;s<r&&(r=s)}return r;default:return 0}}const Q_=new Set([Kp,qp,Gp,Yp]);function ev(e,t){if(14===e.type&&!np(e.callee)&&Q_.has(e.callee)){const n=e.arguments[0];if(4===n.type)return J_(n,t);if(14===n.type)return ev(n,t)}return 0}function tv(e,t){let n=3;const i=nv(e);if(i&&15===i.type){const{properties:e}=i;for(let i=0;i<e.length;i++){const{key:s,value:r}=e[i],o=J_(s,t);if(0===o)return o;let a;if(o<n&&(n=o),a=4===r.type?J_(r,t):14===r.type?ev(r,t):0,0===a)return a;a<n&&(n=a)}}return n}function nv(e){const t=e.codegenNode;if(13===t.type)return t.props}function iv(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function sv(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:i=!1,cacheHandlers:s=!1,nodeTransforms:r=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:l=$u,isCustomElement:c=$u,expressionPlugins:d=[],scopeId:h=null,slotted:u=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:f="",bindingMetadata:m=ju,inline:_=!1,isTS:v=!1,onError:b=bp,onWarn:y=yp,compatConfig:w}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:C&&fp(up(C[1])),prefixIdentifiers:n,hoistStatic:i,cacheHandlers:s,nodeTransforms:r,directiveTransforms:o,transformHoist:a,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:d,scopeId:h,slotted:u,ssr:p,inSSR:g,ssrCssVars:f,bindingMetadata:m,inline:_,isTS:v,onError:b,onWarn:y,compatConfig:w,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=S.helpers.get(e)||0;return S.helpers.set(e,t+1),e},removeHelper(e){const t=S.helpers.get(e);if(t){const n=t-1;n?S.helpers.set(e,n):S.helpers.delete(e)}},helperString:e=>`_${lg[S.helper(e)]}`,replaceNode(e){if(!S.currentNode)throw new Error("Node being replaced is already removed.");if(!S.parent)throw new Error("Cannot replace root node.");S.parent.children[S.childIndex]=S.currentNode=e},removeNode(e){if(!S.parent)throw new Error("Cannot remove root node.");const t=S.parent.children,n=e?t.indexOf(e):S.currentNode?S.childIndex:-1;if(n<0)throw new Error("node being removed is not a child of current parent");e&&e!==S.currentNode?S.childIndex>n&&(S.childIndex--,S.onNodeRemoved()):(S.currentNode=null,S.onNodeRemoved()),S.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){np(e)?x(e):e.identifiers?e.identifiers.forEach(x):4===e.type&&x(e.content)},removeIdentifiers(e){np(e)?k(e):e.identifiers?e.identifiers.forEach(k):4===e.type&&k(e.content)},hoist(e){np(e)&&(e=mg(e)),S.hoists.push(e);const t=mg(`_hoisted_${S.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>Cg(S.cached++,e,t)};function x(e){const{identifiers:t}=S;void 0===t[e]&&(t[e]=0),t[e]++}function k(e){S.identifiers[e]--}return S}function rv(e,t){const n=sv(e,t);ov(e,n),t.hoistStatic&&Y_(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:i}=e;if(1===i.length){const n=i[0];if(Z_(e,n)&&n.codegenNode){const i=n.codegenNode;13===i.type&&v_(i,t),e.codegenNode=i}else e.codegenNode=n}else if(i.length>1){let s=64,r=bu[64];1===i.filter((e=>3!==e.type)).length&&(s|=2048,r+=`, ${bu[2048]}`),e.codegenNode=ug(t,n(Sp),void 0,e.children,s+` /* ${r} */`,void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached}function ov(e,t){t.currentNode=e;const{nodeTransforms:n}=t,i=[];for(let r=0;r<n.length;r++){const s=n[r](e,t);if(s&&(Ju(s)?i.push(...s):i.push(s)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(Op);break;case 5:t.ssr||t.helper(jp);break;case 9:for(let n=0;n<e.branches.length;n++)ov(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const i=()=>{n--};for(;n<e.children.length;n++){const s=e.children[n];np(s)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=i,ov(s,t))}}(e,t)}t.currentNode=e;let s=i.length;for(;s--;)i[s]()}function av(e,t){const n=np(e)?t=>t===e:t=>e.test(t);return(e,i)=>{if(1===e.type){const{props:s}=e;if(3===e.tagType&&s.some(a_))return;const r=[];for(let o=0;o<s.length;o++){const a=s[o];if(7===a.type&&n(a.name)){s.splice(o,1),o--;const n=t(e,a,i);n&&r.push(n)}}return r}}}var lv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),cv=function(e){if(0<=e&&e<lv.length)return lv[e];throw new TypeError("Must be between 0 and 63: "+e)},dv=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var hv=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=cv(t)}while(i>0);return n},uv=function(e,t,n){var i,s,r,o,a=e.length,l=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=dv(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&s),l+=(s&=31)<<c,c+=5}while(i);n.value=(o=(r=l)>>1,1==(1&r)?-o:o),n.rest=t};function pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gv(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})})),t}function fv(e){var t={exports:{}};return e(t,t.exports),t.exports}var mv=fv((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function r(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(e){var n=e,i=s(e);if(i){if(!i.path)return e;n=i.path}for(var o,a=t.isAbsolute(n),l=n.split(/\/+/),c=0,d=l.length-1;d>=0;d--)"."===(o=l[d])?l.splice(d,1):".."===o?c++:c>0&&(""===o?(l.splice(d+1,c),c=0):(l.splice(d,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),i?(i.path=n,r(i)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),a=s(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),r(n);if(n||t.match(i))return t;if(a&&!a.host&&!a.path)return a.host=t,r(a);var l="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,r(a)):l}t.urlParse=s,t.urlGenerate=r,t.normalize=o,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var l=!("__proto__"in Object.create(null));function c(e){return e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?c:function(e){return d(e)?"$"+e:e},t.fromSetString=l?c:function(e){return d(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var i=h(e.source,t.source);return 0!==i||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)||n||0!==(i=e.generatedColumn-t.generatedColumn)||0!==(i=e.generatedLine-t.generatedLine)?i:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var i=e.generatedLine-t.generatedLine;return 0!==i||0!==(i=e.generatedColumn-t.generatedColumn)||n||0!==(i=h(e.source,t.source))||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)?i:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=h(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var i=s(n);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var l=i.path.lastIndexOf("/");l>=0&&(i.path=i.path.substring(0,l+1))}t=a(r(i),t)}return o(t)}})),_v=Object.prototype.hasOwnProperty,vv="undefined"!=typeof Map;function bv(){this._array=[],this._set=vv?new Map:Object.create(null)}bv.fromArray=function(e,t){for(var n=new bv,i=0,s=e.length;i<s;i++)n.add(e[i],t);return n},bv.prototype.size=function(){return vv?this._set.size:Object.getOwnPropertyNames(this._set).length},bv.prototype.add=function(e,t){var n=vv?e:mv.toSetString(e),i=vv?this.has(e):_v.call(this._set,n),s=this._array.length;i&&!t||this._array.push(e),i||(vv?this._set.set(e,s):this._set[n]=s)},bv.prototype.has=function(e){if(vv)return this._set.has(e);var t=mv.toSetString(e);return _v.call(this._set,t)},bv.prototype.indexOf=function(e){if(vv){var t=this._set.get(e);if(t>=0)return t}else{var n=mv.toSetString(e);if(_v.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},bv.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},bv.prototype.toArray=function(){return this._array.slice()};var yv={ArraySet:bv};function wv(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}wv.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},wv.prototype.add=function(e){var t,n,i,s,r,o;t=this._last,n=e,i=t.generatedLine,s=n.generatedLine,r=t.generatedColumn,o=n.generatedColumn,s>i||s==i&&o>=r||mv.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},wv.prototype.toArray=function(){return this._sorted||(this._array.sort(mv.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var Cv=yv.ArraySet,Sv={MappingList:wv}.MappingList;function xv(e){e||(e={}),this._file=mv.getArg(e,"file",null),this._sourceRoot=mv.getArg(e,"sourceRoot",null),this._skipValidation=mv.getArg(e,"skipValidation",!1),this._sources=new Cv,this._names=new Cv,this._mappings=new Sv,this._sourcesContents=null}xv.prototype._version=3,xv.fromSourceMap=function(e){var t=e.sourceRoot,n=new xv({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=mv.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(i){var s=i;null!==t&&(s=mv.relative(t,i)),n._sources.has(s)||n._sources.add(s);var r=e.sourceContentFor(i);null!=r&&n.setSourceContent(i,r)})),n},xv.prototype.addMapping=function(e){var t=mv.getArg(e,"generated"),n=mv.getArg(e,"original",null),i=mv.getArg(e,"source",null),s=mv.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,s),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:s})},xv.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=mv.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[mv.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[mv.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},xv.prototype.applySourceMap=function(e,t,n){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var s=this._sourceRoot;null!=s&&(i=mv.relative(s,i));var r=new Cv,o=new Cv;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=mv.join(n,t.source)),null!=s&&(t.source=mv.relative(s,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var l=t.source;null==l||r.has(l)||r.add(l);var c=t.name;null==c||o.has(c)||o.add(c)}),this),this._sources=r,this._names=o,e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=mv.join(n,t)),null!=s&&(t=mv.relative(s,t)),this.setSourceContent(t,i))}),this)},xv.prototype._validateMapping=function(e,t,n,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))},xv.prototype._serializeMappings=function(){for(var e,t,n,i,s=0,r=1,o=0,a=0,l=0,c=0,d="",h=this._mappings.toArray(),u=0,p=h.length;u<p;u++){if(e="",(t=h[u]).generatedLine!==r)for(s=0;t.generatedLine!==r;)e+=";",r++;else if(u>0){if(!mv.compareByGeneratedPositionsInflated(t,h[u-1]))continue;e+=","}e+=hv(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=hv(i-c),c=i,e+=hv(t.originalLine-1-a),a=t.originalLine-1,e+=hv(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=hv(n-l),l=n)),d+=e}return d},xv.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=mv.relative(t,e));var n=mv.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},xv.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},xv.prototype.toString=function(){return JSON.stringify(this.toJSON())};var kv={SourceMapGenerator:xv},Ev=fv((function(e,t){function n(e,i,s,r,o,a){var l=Math.floor((i-e)/2)+e,c=o(s,r[l],!0);return 0===c?l:c>0?i-l>1?n(l,i,s,r,o,a):a==t.LEAST_UPPER_BOUND?i<r.length?i:-1:l:l-e>1?n(e,l,s,r,o,a):a==t.LEAST_UPPER_BOUND?l:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,s,r){if(0===i.length)return-1;var o=n(-1,i.length,e,i,s,r||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===s(i[o],i[o-1],!0);)--o;return o}}));function Dv(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Tv(e,t,n,i){if(n<i){var s=n-1;Dv(e,(l=n,c=i,Math.round(l+Math.random()*(c-l))),i);for(var r=e[i],o=n;o<i;o++)t(e[o],r)<=0&&Dv(e,s+=1,o);Dv(e,s+1,o);var a=s+1;Tv(e,t,n,a-1),Tv(e,t,a+1,i)}var l,c}var Lv=yv.ArraySet,Nv=function(e,t){Tv(e,t,0,e.length-1)};function Iv(e,t){var n=e;return"string"==typeof e&&(n=mv.parseSourceMapInput(e)),null!=n.sections?new Mv(n,t):new Ov(n,t)}Iv.fromSourceMap=function(e,t){return Ov.fromSourceMap(e,t)},Iv.prototype._version=3,Iv.prototype.__generatedMappings=null,Object.defineProperty(Iv.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),Iv.prototype.__originalMappings=null,Object.defineProperty(Iv.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),Iv.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},Iv.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},Iv.GENERATED_ORDER=1,Iv.ORIGINAL_ORDER=2,Iv.GREATEST_LOWER_BOUND=1,Iv.LEAST_UPPER_BOUND=2,Iv.prototype.eachMapping=function(e,t,n){var i,s=t||null;switch(n||Iv.GENERATED_ORDER){case Iv.GENERATED_ORDER:i=this._generatedMappings;break;case Iv.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var r=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=mv.computeSourceURL(r,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)},Iv.prototype.allGeneratedPositionsFor=function(e){var t=mv.getArg(e,"line"),n={source:mv.getArg(e,"source"),originalLine:t,originalColumn:mv.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",mv.compareByOriginalPositions,Ev.LEAST_UPPER_BOUND);if(s>=0){var r=this._originalMappings[s];if(void 0===e.column)for(var o=r.originalLine;r&&r.originalLine===o;)i.push({line:mv.getArg(r,"generatedLine",null),column:mv.getArg(r,"generatedColumn",null),lastColumn:mv.getArg(r,"lastGeneratedColumn",null)}),r=this._originalMappings[++s];else for(var a=r.originalColumn;r&&r.originalLine===t&&r.originalColumn==a;)i.push({line:mv.getArg(r,"generatedLine",null),column:mv.getArg(r,"generatedColumn",null),lastColumn:mv.getArg(r,"lastGeneratedColumn",null)}),r=this._originalMappings[++s]}return i};var Pv=Iv;function Ov(e,t){var n=e;"string"==typeof e&&(n=mv.parseSourceMapInput(e));var i=mv.getArg(n,"version"),s=mv.getArg(n,"sources"),r=mv.getArg(n,"names",[]),o=mv.getArg(n,"sourceRoot",null),a=mv.getArg(n,"sourcesContent",null),l=mv.getArg(n,"mappings"),c=mv.getArg(n,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);o&&(o=mv.normalize(o)),s=s.map(String).map(mv.normalize).map((function(e){return o&&mv.isAbsolute(o)&&mv.isAbsolute(e)?mv.relative(o,e):e})),this._names=Lv.fromArray(r.map(String),!0),this._sources=Lv.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return mv.computeSourceURL(o,e,t)})),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=t,this.file=c}function Rv(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Ov.prototype=Object.create(Iv.prototype),Ov.prototype.consumer=Iv,Ov.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=mv.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},Ov.fromSourceMap=function(e,t){var n=Object.create(Ov.prototype),i=n._names=Lv.fromArray(e._names.toArray(),!0),s=n._sources=Lv.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return mv.computeSourceURL(n.sourceRoot,e,t)}));for(var r=e._mappings.toArray().slice(),o=n.__generatedMappings=[],a=n.__originalMappings=[],l=0,c=r.length;l<c;l++){var d=r[l],h=new Rv;h.generatedLine=d.generatedLine,h.generatedColumn=d.generatedColumn,d.source&&(h.source=s.indexOf(d.source),h.originalLine=d.originalLine,h.originalColumn=d.originalColumn,d.name&&(h.name=i.indexOf(d.name)),a.push(h)),o.push(h)}return Nv(n.__originalMappings,mv.compareByOriginalPositions),n},Ov.prototype._version=3,Object.defineProperty(Ov.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),Ov.prototype._parseMappings=function(e,t){for(var n,i,s,r,o,a=1,l=0,c=0,d=0,h=0,u=0,p=e.length,g=0,f={},m={},_=[],v=[];g<p;)if(";"===e.charAt(g))a++,g++,l=0;else if(","===e.charAt(g))g++;else{for((n=new Rv).generatedLine=a,r=g;r<p&&!this._charIsMappingSeparator(e,r);r++);if(s=f[i=e.slice(g,r)])g+=i.length;else{for(s=[];g<r;)uv(e,g,m),o=m.value,g=m.rest,s.push(o);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");f[i]=s}n.generatedColumn=l+s[0],l=n.generatedColumn,s.length>1&&(n.source=h+s[1],h+=s[1],n.originalLine=c+s[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=d+s[3],d=n.originalColumn,s.length>4&&(n.name=u+s[4],u+=s[4])),v.push(n),"number"==typeof n.originalLine&&_.push(n)}Nv(v,mv.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,Nv(_,mv.compareByOriginalPositions),this.__originalMappings=_},Ov.prototype._findMapping=function(e,t,n,i,s,r){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return Ev.search(e,t,s,r)},Ov.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},Ov.prototype.originalPositionFor=function(e){var t={generatedLine:mv.getArg(e,"line"),generatedColumn:mv.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",mv.compareByGeneratedPositionsDeflated,mv.getArg(e,"bias",Iv.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var s=mv.getArg(i,"source",null);null!==s&&(s=this._sources.at(s),s=mv.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var r=mv.getArg(i,"name",null);return null!==r&&(r=this._names.at(r)),{source:s,line:mv.getArg(i,"originalLine",null),column:mv.getArg(i,"originalColumn",null),name:r}}}return{source:null,line:null,column:null,name:null}},Ov.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},Ov.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i,s=e;if(null!=this.sourceRoot&&(s=mv.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(i=mv.urlParse(this.sourceRoot))){var r=s.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!i.path||"/"==i.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},Ov.prototype.generatedPositionFor=function(e){var t=mv.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:mv.getArg(e,"line"),originalColumn:mv.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",mv.compareByOriginalPositions,mv.getArg(e,"bias",Iv.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:mv.getArg(s,"generatedLine",null),column:mv.getArg(s,"generatedColumn",null),lastColumn:mv.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var Av=Ov;function Mv(e,t){var n=e;"string"==typeof e&&(n=mv.parseSourceMapInput(e));var i=mv.getArg(n,"version"),s=mv.getArg(n,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new Lv,this._names=new Lv;var r={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=mv.getArg(e,"offset"),i=mv.getArg(n,"line"),s=mv.getArg(n,"column");if(i<r.line||i===r.line&&s<r.column)throw new Error("Section offsets must be ordered and non-overlapping.");return r=n,{generatedOffset:{generatedLine:i+1,generatedColumn:s+1},consumer:new Iv(mv.getArg(e,"map"),t)}}))}Mv.prototype=Object.create(Iv.prototype),Mv.prototype.constructor=Iv,Mv.prototype._version=3,Object.defineProperty(Mv.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),Mv.prototype.originalPositionFor=function(e){var t={generatedLine:mv.getArg(e,"line"),generatedColumn:mv.getArg(e,"column")},n=Ev.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},Mv.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},Mv.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},Mv.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(mv.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},Mv.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,r=0;r<s.length;r++){var o=s[r],a=i.consumer._sources.at(o.source);a=mv.computeSourceURL(i.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var l=null;o.name&&(l=i.consumer._names.at(o.name),this._names.add(l),l=this._names.indexOf(l));var c={source:a,generatedLine:o.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(i.generatedOffset.generatedLine===o.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}Nv(this.__generatedMappings,mv.compareByGeneratedPositionsDeflated),Nv(this.__originalMappings,mv.compareByOriginalPositions)};var Fv={SourceMapConsumer:Pv,BasicSourceMapConsumer:Av,IndexedSourceMapConsumer:Mv},Bv=kv.SourceMapGenerator,Vv=/(\r?\n)/,Wv="$$$isSourceNode$$$";function Hv(e,t,n,i,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==s?null:s,this[Wv]=!0,null!=i&&this.add(i)}Hv.fromStringWithSourceMap=function(e,t,n){var i=new Hv,s=e.split(Vv),r=0,o=function(){return e()+(e()||"");function e(){return r<s.length?s[r++]:void 0}},a=1,l=0,c=null;return t.eachMapping((function(e){if(null!==c){if(!(a<e.generatedLine)){var t=(n=s[r]||"").substr(0,e.generatedColumn-l);return s[r]=n.substr(e.generatedColumn-l),l=e.generatedColumn,d(c,t),void(c=e)}d(c,o()),a++,l=0}for(;a<e.generatedLine;)i.add(o()),a++;if(l<e.generatedColumn){var n=s[r]||"";i.add(n.substr(0,e.generatedColumn)),s[r]=n.substr(e.generatedColumn),l=e.generatedColumn}c=e}),this),r<s.length&&(c&&d(c,o()),i.add(s.splice(r).join(""))),t.sources.forEach((function(e){var s=t.sourceContentFor(e);null!=s&&(null!=n&&(e=mv.join(n,e)),i.setSourceContent(e,s))})),i;function d(e,t){if(null===e||void 0===e.source)i.add(t);else{var s=n?mv.join(n,e.source):e.source;i.add(new Hv(e.originalLine,e.originalColumn,s,t,e.name))}}},Hv.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[Wv]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},Hv.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[Wv]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},Hv.prototype.walk=function(e){for(var t,n=0,i=this.children.length;n<i;n++)(t=this.children[n])[Wv]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},Hv.prototype.join=function(e){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},Hv.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[Wv]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},Hv.prototype.setSourceContent=function(e,t){this.sourceContents[mv.toSetString(e)]=t},Hv.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][Wv]&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,n=i.length;t<n;t++)e(mv.fromSetString(i[t]),this.sourceContents[i[t]])},Hv.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},Hv.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new Bv(e),i=!1,s=null,r=null,o=null,a=null;return this.walk((function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(s===l.source&&r===l.line&&o===l.column&&a===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),s=l.source,r=l.line,o=l.column,a=l.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var c=0,d=e.length;c<d;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===d?(s=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}};var Uv=kv.SourceMapGenerator,zv=Fv.SourceMapConsumer,jv={SourceMapGenerator:Uv,SourceMapConsumer:zv,SourceNode:{SourceNode:Hv}.SourceNode};const $v=e=>`${lg[e]}: _${lg[e]}`;function Kv(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:i=!1,filename:s="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:d=!1,isTS:h=!1,inSSR:u=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:i,filename:s,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:d,isTS:h,inSSR:u,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${lg[e]}`,push(e,t){if(p.code+=e,p.map){if(t){let e;if(4===t.type&&!t.isStatic){const n=t.content.replace(/^_ctx\./,"");n!==t.content&&Km(n)&&(e=n)}f(t.loc.start,e)}e_(p,e),t&&t.loc!==dg&&f(t.loc.end)}},indent(){g(++p.indentLevel)},deindent(e=!1){e?--p.indentLevel:g(--p.indentLevel)},newline(){g(p.indentLevel)}};function g(e){p.push("\n"+"  ".repeat(e))}function f(e,t){p.map.addMapping({name:t,source:p.filename,original:{line:e.line,column:e.column-1},generated:{line:p.line,column:p.column-1}})}return i&&(p.map=new Uv,p.map.setSourceContent(s,p.source)),p}function qv(e,t={}){const n=Kv(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:i,push:s,prefixIdentifiers:r,indent:o,deindent:a,newline:l,scopeId:c,ssr:d}=n,h=e.helpers.length>0,u=!r&&"module"!==i,p=null!=c&&"module"===i,g=!!t.inline,f=g?Kv(e,t):n;"module"===i?function(e,t,n,i){const{push:s,newline:r,optimizeImports:o,runtimeModuleName:a,ssrRuntimeModuleName:l}=t;n&&e.hoists.length&&e.helpers.push(tg,ng);e.helpers.length&&(o?(s(`import { ${e.helpers.map((e=>lg[e])).join(", ")} } from ${JSON.stringify(a)}\n`),s(`\n// Binding optimization for webpack code-split\nconst ${e.helpers.map((e=>`_${lg[e]} = ${lg[e]}`)).join(", ")}\n`)):s(`import { ${e.helpers.map((e=>`${lg[e]} as _${lg[e]}`)).join(", ")} } from ${JSON.stringify(a)}\n`));e.ssrHelpers&&e.ssrHelpers.length&&s(`import { ${e.ssrHelpers.map((e=>`${lg[e]} as _${lg[e]}`)).join(", ")} } from "${l}"\n`);e.imports.length&&(!function(e,t){if(!e.length)return;e.forEach((e=>{t.push("import "),Jv(e.exp,t),t.push(` from '${e.path}'`),t.newline()}))}(e.imports,t),r());Yv(e.hoists,t),r(),i||s("export ")}(e,f,p,g):function(e,t){const{ssr:n,prefixIdentifiers:i,push:s,newline:r,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=n?`require(${JSON.stringify(o)})`:a;if(e.helpers.length>0)if(i)s(`const { ${e.helpers.map($v).join(", ")} } = ${c}\n`);else if(s(`const _Vue = ${c}\n`),e.hoists.length){s(`const { ${[Ip,Pp,Op,Rp,Ap].filter((t=>e.helpers.includes(t))).map($v).join(", ")} } = _Vue\n`)}e.ssrHelpers&&e.ssrHelpers.length&&s(`const { ${e.ssrHelpers.map($v).join(", ")} } = require("${l}")\n`);Yv(e.hoists,t),r(),s("return ")}(e,f);const m=d?"ssrRender":"render",_=d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"];t.bindingMetadata&&!t.inline&&_.push("$props","$setup","$data","$options");const v=t.isTS?_.map((e=>`${e}: any`)).join(","):_.join(", ");if(s(g?`(${v}) => {`:`function ${m}(${v}) {`),o(),u&&(s("with (_ctx) {"),o(),h&&(s(`const { ${e.helpers.map($v).join(", ")} } = _Vue`),s("\n"),l())),e.components.length&&(Gv(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(Gv(e.directives,"directive",n),e.temps>0&&l()),e.temps>0){s("let ");for(let t=0;t<e.temps;t++)s(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(s("\n"),l()),d||s("return "),e.codegenNode?Jv(e.codegenNode,n):s("null"),u&&(a(),s("}")),a(),s("}"),{ast:e,code:n.code,preamble:g?f.code:"",map:n.map?n.map.toJSON():void 0}}function Gv(e,t,{helper:n,push:i,newline:s,isTS:r}){const o=n("component"===t?Mp:Bp);for(let a=0;a<e.length;a++){let n=e[a];const l=n.endsWith("__self");l&&(n=n.slice(0,-6)),i(`const ${f_(n,t)} = ${o}(${JSON.stringify(n)}${l?", true":""})${r?"!":""}`),a<e.length-1&&s()}}function Yv(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:i,helper:s,scopeId:r,mode:o}=t,a=null!=r&&"function"!==o;i(),a&&(n(`const _withScopeId = n => (${s(tg)}("${r}"),n=n(),${s(ng)}(),n)`),i());for(let l=0;l<e.length;l++){const s=e[l];if(s){const e=a&&13===s.type;n(`const _hoisted_${l+1} = ${e?"/*#__PURE__*/ _withScopeId(() => ":""}`),Jv(s,t),e&&n(")"),i()}}t.pure=!1}function Zv(e,t){const n=e.length>3||e.some((e=>Ju(e)||!function(e){return np(e)||4===e.type||2===e.type||5===e.type||8===e.type}(e)));t.push("["),n&&t.indent(),Xv(e,t,n),n&&t.deindent(),t.push("]")}function Xv(e,t,n=!1,i=!0){const{push:s,newline:r}=t;for(let o=0;o<e.length;o++){const a=e[o];np(a)?s(a):Ju(a)?Zv(a,t):Jv(a,t),o<e.length-1&&(n?(i&&s(","),r()):i&&s(", "))}}function Jv(e,t){if(np(e))t.push(e);else if(ip(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:t_(null!=e.codegenNode,"Codegen node is missing for element/if/for node. Apply appropriate transforms first."),Jv(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:Qv(e,t);break;case 5:!function(e,t){const{push:n,helper:i,pure:s}=t;s&&n("/*#__PURE__*/");n(`${i(jp)}(`),Jv(e.content,t),n(")")}(e,t);break;case 12:Jv(e.codegenNode,t);break;case 8:eb(e,t);break;case 3:!function(e,t){const{push:n,helper:i,pure:s}=t;s&&n("/*#__PURE__*/");n(`${i(Op)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:i,pure:s}=t,{tag:r,props:o,children:a,patchFlag:l,dynamicProps:c,directives:d,isBlock:h,disableTracking:u,isComponent:p}=e;d&&n(i(Wp)+"(");h&&n(`(${i(Tp)}(${u?"true":""}), `);s&&n("/*#__PURE__*/");const g=h?h_(t.inSSR,p):d_(t.inSSR,p);n(i(g)+"(",e),Xv(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([r,o,a,l,c]),t),n(")"),h&&n(")");d&&(n(", "),Jv(d,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:i,pure:s}=t,r=np(e.callee)?e.callee:i(e.callee);s&&n("/*#__PURE__*/");n(r+"(",e),Xv(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:i,deindent:s,newline:r}=t,{properties:o}=e;if(!o.length)return void n("{}",e);const a=o.length>1||o.some((e=>4!==e.value.type));n(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:e,value:i}=o[l];tb(e,t),n(": "),Jv(i,t),l<o.length-1&&(n(","),r())}a&&s(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){Zv(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:i,deindent:s}=t,{params:r,returns:o,body:a,newline:l,isSlot:c}=e;c&&n(`_${lg[ig]}(`);n("(",e),Ju(r)?Xv(r,t):r&&Jv(r,t);n(") => "),(l||a)&&(n("{"),i());o?(l&&n("return "),Ju(o)?Zv(o,t):Jv(o,t)):a&&Jv(a,t);(l||a)&&(s(),n("}"));c&&n(")")}(e,t);break;case 19:!function(e,t){const{test:n,consequent:i,alternate:s,newline:r}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(4===n.type){const e=!Km(n.content);e&&o("("),Qv(n,t),e&&o(")")}else o("("),Jv(n,t),o(")");r&&a(),t.indentLevel++,r||o(" "),o("? "),Jv(i,t),t.indentLevel--,r&&c(),r||o(" "),o(": ");const d=19===s.type;d||t.indentLevel++;Jv(s,t),d||t.indentLevel--;r&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:i,indent:s,deindent:r,newline:o}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(s(),n(`${i(eg)}(-1),`),o());n(`_cache[${e.index}] = `),Jv(e.value,t),e.isVNode&&(n(","),o(),n(`${i(eg)}(1),`),o(),n(`_cache[${e.index}]`),r());n(")")}(e,t);break;case 21:Xv(e.body,t,!0,!1);break;case 22:!function(e,t){const{push:n,indent:i,deindent:s}=t;n("`");const r=e.elements.length,o=r>3;for(let a=0;a<r;a++){const r=e.elements[a];np(r)?n(r.replace(/(`|\$|\\)/g,"\\$1")):(n("${"),o&&i(),Jv(r,t),o&&s(),n("}"))}n("`")}(e,t);break;case 23:nb(e,t);break;case 24:!function(e,t){Jv(e.left,t),t.push(" = "),Jv(e.right,t)}(e,t);break;case 25:!function(e,t){t.push("("),Xv(e.expressions,t),t.push(")")}(e,t);break;case 26:!function({returns:e},t){t.push("return "),Ju(e)?Zv(e,t):Jv(e,t)}(e,t);break;case 10:break;default:t_(!1,`unhandled codegen node type: ${e.type}`);return e}}function Qv(e,t){const{content:n,isStatic:i}=e;t.push(i?JSON.stringify(n):n,e)}function eb(e,t){for(let n=0;n<e.children.length;n++){const i=e.children[n];np(i)?t.push(i):Jv(i,t)}}function tb(e,t){const{push:n}=t;if(8===e.type)n("["),eb(e,t),n("]");else if(e.isStatic){n(Km(e.content)?e.content:JSON.stringify(e.content),e)}else n(`[${e.content}]`,e)}function nb(e,t){const{push:n,indent:i,deindent:s}=t,{test:r,consequent:o,alternate:a}=e;n("if ("),Jv(r,t),n(") {"),i(),Jv(o,t),s(),n("}"),a&&(n(" else "),23===a.type?nb(a,t):(n("{"),i(),Jv(a,t),s(),n("}")))}class ib extends class{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,t,n,i){e&&(null!==n?e[t][n]=i:e[t]=i)}remove(e,t,n){e&&(null!==n?e[t].splice(n,1):delete e[t])}}{constructor(e,t){super(),this.enter=e,this.leave=t}visit(e,t,n,i){if(e){if(this.enter){const s=this.should_skip,r=this.should_remove,o=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,t,n,i),this.replacement&&(e=this.replacement,this.replace(t,n,i,e)),this.should_remove&&this.remove(t,n,i);const a=this.should_skip,l=this.should_remove;if(this.should_skip=s,this.should_remove=r,this.replacement=o,a)return e;if(l)return null}for(const t in e){const n=e[t];if("object"==typeof n)if(Array.isArray(n))for(let i=0;i<n.length;i+=1)null!==n[i]&&"string"==typeof n[i].type&&(this.visit(n[i],e,t,i)||i--);else null!==n&&"string"==typeof n.type&&this.visit(n,e,t,null)}if(this.leave){const s=this.replacement,r=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,t,n,i),this.replacement&&(e=this.replacement,this.replace(t,n,i,e)),this.should_remove&&this.remove(t,n,i);const o=this.should_remove;if(this.replacement=s,this.should_remove=r,o)return null}}return e}}function sb(e,{enter:t,leave:n}){return new ib(t,n).visit(e,null)}function rb(e,t,n=!1,i=[],s=Object.create(null)){const r="Program"===e.type&&"ExpressionStatement"===e.body[0].type&&e.body[0].expression;sb(e,{enter(e,r){if(r&&i.push(r),r&&r.type.startsWith("TS")&&"TSAsExpression"!==r.type&&"TSNonNullExpression"!==r.type&&"TSTypeAssertion"!==r.type)return this.skip();if("Identifier"===e.type){const o=!!s[e.name],a=ob(e,r,i);(n||a&&!o)&&t(e,r,i,a,o)}else"ObjectProperty"===e.type&&"ObjectPattern"===r.type?e.inPattern=!0:ub(e)?lb(e,(t=>hb(e,t,s))):"BlockStatement"===e.type&&cb(e,(t=>hb(e,t,s)))},leave(e,t){if(t&&i.pop(),e!==r&&e.scopeIds)for(const n of e.scopeIds)s[n]--,0===s[n]&&delete s[n]}})}function ob(e,t,n){if(!t)return!0;if("arguments"===e.name)return!1;if(function(e,t,n){switch(t.type){case"MemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"JSXMemberExpression":return t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"PrivateName":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return t.key===e&&!!t.computed;case"ObjectProperty":return t.key===e?!!t.computed:!n||"ObjectPattern"!==n.type;case"ClassProperty":return t.key!==e||!!t.computed;case"ClassPrivateProperty":return t.key!==e;case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":case"AssignmentPattern":return t.right===e;case"LabeledStatement":case"CatchClause":case"RestElement":return!1;case"BreakStatement":case"ContinueStatement":return!1;case"FunctionDeclaration":case"FunctionExpression":return!1;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"ExportSpecifier":return!(null==n?void 0:n.source)&&t.local===e;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportAttribute":case"JSXAttribute":return!1;case"ObjectPattern":case"ArrayPattern":case"MetaProperty":return!1;case"ObjectTypeProperty":return t.key!==e;case"TSEnumMember":return t.id!==e;case"TSPropertySignature":return t.key!==e||!!t.computed}return!0}(e,t))return!0;switch(t.type){case"AssignmentExpression":case"AssignmentPattern":return!0;case"ObjectPattern":case"ArrayPattern":return ab(t,n)}return!1}function ab(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1}function lb(e,t){for(const n of e.params)for(const e of db(n))t(e)}function cb(e,t){for(const n of e.body)if("VariableDeclaration"===n.type){if(n.declare)continue;for(const e of n.declarations)for(const n of db(e.id))t(n)}else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;t(n.id)}}function db(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":for(const i of e.properties)"RestElement"===i.type?db(i.argument,t):db(i.value,t);break;case"ArrayPattern":e.elements.forEach((e=>{e&&db(e,t)}));break;case"RestElement":db(e.argument,t);break;case"AssignmentPattern":db(e.left,t)}return t}function hb(e,t,n){const{name:i}=t;e.scopeIds&&e.scopeIds.has(i)||(i in n?n[i]++:n[i]=1,(e.scopeIds||(e.scopeIds=new Set)).add(i))}const ub=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),pb=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed,gb=(e,t)=>pb(t)&&t.key===e;const fb=vu("true,false,null,this"),mb=(e,t)=>{if(5===e.type)e.content=_b(e.content,t);else if(1===e.type)for(let n=0;n<e.props.length;n++){const i=e.props[n];if(7===i.type&&"for"!==i.name){const e=i.exp,n=i.arg;!e||4!==e.type||"on"===i.name&&n||(i.exp=_b(e,t,"slot"===i.name)),n&&4===n.type&&!n.isStatic&&(i.arg=_b(n,t))}}};function _b(e,t,n=!1,i=!1,s=Object.create(t.identifiers)){if(!t.prefixIdentifiers||!e.content.trim())return e;const{inline:r,bindingMetadata:o}=t,a=(e,n,i)=>{const a=Xu(o,e)&&o[e];if(r){const r=n&&"AssignmentExpression"===n.type&&n.left===i,c=n&&"UpdateExpression"===n.type&&n.argument===i,d=n&&ab(n,p);if("setup-const"===a||"setup-reactive-const"===a||s[e])return e;if("setup-ref"===a)return`${e}.value`;if("setup-maybe-ref"===a)return r||c||d?`${e}.value`:`${t.helperString(sg)}(${e})`;if("setup-let"===a){if(r){const{right:i,operator:s}=n,r=vb(_b(mg(l.slice(i.start-1,i.end-1),!1),t,!1,!1,g));return`${t.helperString(rg)}(${e})${t.isTS?" //@ts-ignore\n":""} ? ${e}.value ${s} ${r} : ${e}`}if(c){i.start=n.start,i.end=n.end;const{prefix:s,operator:r}=n,o=s?r:"",a=s?"":r;return`${t.helperString(rg)}(${e})${t.isTS?" //@ts-ignore\n":""} ? ${o}${e}.value${a} : ${o}${e}${a}`}return d?e:`${t.helperString(sg)}(${e})`}if("props"===a)return vp(e);if("props-aliased"===a)return vp(o.__propsAliases[e])}else{if(a&&a.startsWith("setup"))return`$setup.${e}`;if("props-aliased"===a)return`$props['${o.__propsAliases[e]}']`;if(a)return`$${a}.${e}`}return`_ctx.${e}`},l=e.content,c=l.indexOf("(")>-1||l.indexOf(".")>0;if(Km(l)){const i=t.identifiers[l],s=wu(l),r=fb(l);return n||i||s||r?i||(e.constType=r?3:2):("setup-const"===o[e.content]&&(e.constType=1),e.content=a(l)),e}let d;const h=i?` ${l} `:`(${l})${n?"=>{}":""}`;try{d=Wm(h,{plugins:t.expressionPlugins}).program}catch(_){return t.onError(wp(44,e.loc,void 0,_.message)),e}const u=[],p=[],g=Object.create(t.identifiers);rb(d,((e,t,n,i,s)=>{if(gb(e,t))return;const r=i&&function(e){if(wu(e.name))return!1;if("require"===e.name)return!1;return!0}(e);r&&!s?(pb(t)&&t.shorthand&&(e.prefix=`${e.name}: `),e.name=a(e.name,t,e),u.push(e)):(r&&s||c||(e.isConstant=!0),u.push(e))}),!0,p,g);const f=[];let m;return u.sort(((e,t)=>e.start-t.start)),u.forEach(((t,n)=>{const i=t.start-1,s=t.end-1,r=u[n-1],o=l.slice(r?r.end-1:0,i);(o.length||t.prefix)&&f.push(o+(t.prefix||""));const a=l.slice(i,s);f.push(mg(t.name,!1,{source:a,start:Qm(e.loc.start,a,i),end:Qm(e.loc.start,a,s)},t.isConstant?3:0)),n===u.length-1&&s<l.length&&f.push(l.slice(s))})),f.length?m=vg(f,e.loc):(m=e,m.constType=c?0:3),m.identifiers=Object.keys(g),m}function vb(e){return np(e)?e:4===e.type?e.content:e.children.map(vb).join("")}const bb=av(/^(if|else|else-if)$/,((e,t,n)=>yb(e,t,n,((e,t,i)=>{const s=n.parent.children;let r=s.indexOf(e),o=0;for(;r-- >=0;){const e=s[r];e&&9===e.type&&(o+=e.branches.length)}return()=>{if(i)e.codegenNode=Cb(t,o,n);else{(function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode)).alternate=Cb(t,o+e.branches.length-1,n)}}}))));function yb(e,t,n,i){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(wp(28,t.loc)),t.exp=mg("true",!1,i)}if(n.prefixIdentifiers&&t.exp&&(t.exp=_b(t.exp,n)),"if"===t.name){const s=wb(e,t),r={type:9,loc:e.loc,branches:[s]};if(n.replaceNode(r),i)return i(r,s,!0)}else{const s=n.parent.children,r=[];let o=s.indexOf(e);for(;o-- >=-1;){const a=s[o];if(a&&3===a.type)n.removeNode(a),r.unshift(a);else{if(!a||2!==a.type||a.content.trim().length){if(a&&9===a.type){"else-if"===t.name&&void 0===a.branches[a.branches.length-1].condition&&n.onError(wp(30,e.loc)),n.removeNode();const s=wb(e,t);!r.length||n.parent&&1===n.parent.type&&zm(n.parent.tag,"transition")||(s.children=[...r,...s.children]);{const e=s.userKey;e&&a.branches.forEach((({userKey:t})=>{xb(t,e)&&n.onError(wp(29,s.userKey.loc))}))}a.branches.push(s);const o=i&&i(a,s,!1);ov(s,n),o&&o(),n.currentNode=null}else n.onError(wp(30,e.loc));break}n.removeNode(a)}}}}function wb(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!n_(e,"for")?e.children:[e],userKey:i_(e,"key"),isTemplateIf:n}}function Cb(e,t,n){return e.condition?wg(e.condition,Sb(e,t,n),bg(n.helper(Op),['"v-if"',"true"])):Sb(e,t,n)}function Sb(e,t,n){const{helper:i}=n,s=fg("key",mg(`${t}`,!1,dg,2)),{children:r}=e,o=r[0];if(1!==r.length||1!==o.type){if(1===r.length&&11===o.type){const e=o.codegenNode;return g_(e,s,n),e}{let t=64,o=bu[64];return e.isTemplateIf||1!==r.filter((e=>3!==e.type)).length||(t|=2048,o+=`, ${bu[2048]}`),ug(n,i(Sp),gg([s]),r,t+` /* ${o} */`,void 0,void 0,!0,!1,!1,e.loc)}}{const e=o.codegenNode,t=__(e);return 13===t.type&&v_(t,n),g_(t,s,n),e}}function xb(e,t){if(!e||e.type!==t.type)return!1;if(6===e.type){if(e.value.content!==t.value.content)return!1}else{const n=e.exp,i=t.exp;if(n.type!==i.type)return!1;if(4!==n.type||n.isStatic!==i.isStatic||n.content!==i.content)return!1}return!0}const kb=av("for",((e,t,n)=>{const{helper:i,removeHelper:s}=n;return Eb(e,t,n,(t=>{const r=bg(i(Hp),[t.source]),o=l_(e),a=n_(e,"memo"),l=i_(e,"key"),c=l&&(6===l.type?mg(l.value.content,!0):l.exp),d=l?fg("key",c):null;o&&(a&&(a.exp=_b(a.exp,n)),d&&6!==l.type&&(d.value=_b(d.value,n)));const h=4===t.source.type&&t.source.constType>0,u=h?64:l?128:256;return t.codegenNode=ug(n,i(Sp),void 0,r,u+` /* ${bu[u]} */`,void 0,void 0,!0,!h,!1,e.loc),()=>{let l;const{children:u}=t;o&&e.children.some((e=>{if(1===e.type){const t=i_(e,"key");if(t)return n.onError(wp(33,t.loc)),!0}}));const p=1!==u.length||1!==u[0].type,g=c_(e)?e:o&&1===e.children.length&&c_(e.children[0])?e.children[0]:null;if(g?(l=g.codegenNode,o&&d&&g_(l,d,n)):p?l=ug(n,i(Sp),d?gg([d]):void 0,e.children,`64 /* ${bu[64]} */`,void 0,void 0,!0,void 0,!1):(l=u[0].codegenNode,o&&d&&g_(l,d,n),l.isBlock!==!h&&(l.isBlock?(s(Tp),s(h_(n.inSSR,l.isComponent))):s(d_(n.inSSR,l.isComponent))),l.isBlock=!h,l.isBlock?(i(Tp),i(h_(n.inSSR,l.isComponent))):i(d_(n.inSSR,l.isComponent))),a){const e=yg(Pb(t.parseResult,[mg("_cached")]));e.body=Sg([vg(["const _memo = (",a.exp,")"]),vg(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(ag)}(_cached, _memo)) return _cached`]),vg(["const _item = ",l]),mg("_item.memo = _memo"),mg("return _item")]),r.arguments.push(e,mg("_cache"),mg(String(n.cached++)))}else r.arguments.push(yg(Pb(t.parseResult),l,!0))}}))}));function Eb(e,t,n,i){if(!t.exp)return void n.onError(wp(31,t.loc));const s=Nb(t.exp,n);if(!s)return void n.onError(wp(32,t.loc));const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:d,index:h}=s,u={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:d,objectIndexAlias:h,parseResult:s,children:l_(e)?e.children:[e]};n.replaceNode(u),a.vFor++,n.prefixIdentifiers&&(c&&r(c),d&&r(d),h&&r(h));const p=i&&i(u);return()=>{a.vFor--,n.prefixIdentifiers&&(c&&o(c),d&&o(d),h&&o(h)),p&&p()}}const Db=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Tb=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Lb=/^\(|\)$/g;function Nb(e,t){const n=e.loc,i=e.content,s=i.match(Db);if(!s)return;const[,r,o]=s,a={source:Ib(n,o.trim(),i.indexOf(o,r.length)),value:void 0,key:void 0,index:void 0};t.prefixIdentifiers&&(a.source=_b(a.source,t));let l=r.trim().replace(Lb,"").trim();const c=r.indexOf(l),d=l.match(Tb);if(d){l=l.replace(Tb,"").trim();const e=d[1].trim();let s;if(e&&(s=i.indexOf(e,c+l.length),a.key=Ib(n,e,s),t.prefixIdentifiers&&(a.key=_b(a.key,t,!0))),d[2]){const r=d[2].trim();r&&(a.index=Ib(n,r,i.indexOf(r,a.key?s+e.length:c+l.length)),t.prefixIdentifiers&&(a.index=_b(a.index,t,!0)))}}return l&&(a.value=Ib(n,l,c),t.prefixIdentifiers&&(a.value=_b(a.value,t,!0))),a}function Ib(e,t,n){return mg(t,!1,Jm(e,n,t.length))}function Pb({value:e,key:t,index:n},i=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||mg("_".repeat(t+1),!1)))}([e,t,n,...i])}const Ob=mg("undefined",!1),Rb=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=n_(e,"slot");if(n){const e=n.exp;return t.prefixIdentifiers&&e&&t.addIdentifiers(e),t.scopes.vSlot++,()=>{t.prefixIdentifiers&&e&&t.removeIdentifiers(e),t.scopes.vSlot--}}}},Ab=(e,t)=>{let n;if(l_(e)&&e.props.some(a_)&&(n=n_(e,"for"))){const e=n.parseResult=Nb(n.exp,t);if(e){const{value:n,key:i,index:s}=e,{addIdentifiers:r,removeIdentifiers:o}=t;return n&&r(n),i&&r(i),s&&r(s),()=>{n&&o(n),i&&o(i),s&&o(s)}}}},Mb=(e,t,n)=>yg(e,t,!1,!0,t.length?t[0].loc:n);function Fb(e,t,n=Mb){t.helper(ig);const{children:i,loc:s}=e,r=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;!t.ssr&&t.prefixIdentifiers&&(a=m_(e,t.identifiers));const l=n_(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!Um(e)&&(a=!0),r.push(fg(e||mg("default",!0),n(t,i,s)))}let c=!1,d=!1;const h=[],u=new Set;for(let f=0;f<i.length;f++){const e=i[f];let s;if(!l_(e)||!(s=n_(e,"slot",!0))){3!==e.type&&h.push(e);continue}if(l){t.onError(wp(37,s.loc));break}c=!0;const{children:p,loc:g}=e,{arg:m=mg("default",!0),exp:_,loc:v}=s;let b;Um(m)?b=m?m.content:"default":a=!0;const y=n(_,p,g);let w,C,S;if(w=n_(e,"if"))a=!0,o.push(wg(w.exp,Bb(m,y),Ob));else if(C=n_(e,/^else(-if)?$/,!0)){let e,n=f;for(;n--&&(e=i[n],3===e.type););if(e&&l_(e)&&n_(e,"if")){i.splice(f,1),f--;let e=o[o.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=C.exp?wg(C.exp,Bb(m,y),Ob):Bb(m,y)}else t.onError(wp(30,C.loc))}else if(S=n_(e,"for")){a=!0;const e=S.parseResult||Nb(S.exp,t);e?o.push(bg(t.helper(Hp),[e.source,yg(Pb(e),Bb(m,y),!0)])):t.onError(wp(32,S.loc))}else{if(b){if(u.has(b)){t.onError(wp(38,v));continue}u.add(b),"default"===b&&(d=!0)}r.push(fg(m,y))}}if(!l){const e=(e,t)=>fg("default",n(e,t,s));c?h.length&&h.some((e=>Wb(e)))&&(d?t.onError(wp(39,h[0].loc)):r.push(e(void 0,h))):r.push(e(void 0,i))}const p=a?2:Vb(e.children)?3:1;let g=gg(r.concat(fg("_",mg(p+` /* ${yu[p]} */`,!1))),s);return o.length&&(g=bg(t.helper(zp),[g,pg(o)])),{slots:g,hasDynamicSlots:a}}function Bb(e,t){return gg([fg("name",e),fg("fn",t)])}function Vb(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||Vb(n.children))return!0;break;case 9:if(Vb(n.branches))return!0;break;case 10:case 11:if(Vb(n.children))return!0}}return!1}function Wb(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():Wb(e.content))}const Hb=new WeakMap,Ub=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:i}=e,s=1===e.tagType;let r=s?zb(e,t):`"${n}"`;const o=sp(r)&&r.callee===Fp;let a,l,c,d,h,u,p=0,g=o||r===xp||r===kp||!s&&("svg"===n||"foreignObject"===n);if(i.length>0){const n=$b(e,t,void 0,s,o);a=n.props,p=n.patchFlag,h=n.dynamicPropNames;const i=n.directives;u=i&&i.length?pg(i.map((e=>Gb(e,t)))):void 0,n.shouldUseBlock&&(g=!0)}if(e.children.length>0){r===Ep&&(g=!0,p|=1024,e.children.length>1&&t.onError(wp(45,{start:e.children[0].loc.start,end:e.children[e.children.length-1].loc.end,source:""})));if(s&&r!==xp&&r!==Ep){const{slots:n,hasDynamicSlots:i}=Fb(e,t);l=n,i&&(p|=1024)}else if(1===e.children.length&&r!==xp){const n=e.children[0],i=n.type,s=5===i||8===i;s&&0===J_(n,t)&&(p|=1),l=s||2===i?n:e.children}else l=e.children}if(0!==p){if(p<0)c=p+` /* ${bu[p]} */`;else{const e=Object.keys(bu).map(Number).filter((e=>e>0&&p&e)).map((e=>bu[e])).join(", ");c=p+` /* ${e} */`}h&&h.length&&(d=function(e){let t="[";for(let n=0,i=e.length;n<i;n++)t+=JSON.stringify(e[n]),n<i-1&&(t+=", ");return t+"]"}(h))}e.codegenNode=ug(t,r,a,l,c,d,u,!!g,!1,s,e.loc)};function zb(e,t,n=!1){let{tag:i}=e;const s=Yb(i),r=i_(e,"is");if(r)if(s){const e=6===r.type?r.value&&mg(r.value.content,!0):r.exp;if(e)return bg(t.helper(Fp),[e])}else 6===r.type&&r.value.content.startsWith("vue:")&&(i=r.value.content.slice(4));const o=!s&&n_(e,"is");if(o&&o.exp)return bg(t.helper(Fp),[o.exp]);const a=jm(i)||t.isBuiltInComponent(i);if(a)return n||t.helper(a),a;{const e=jb(i,t);if(e)return e;const n=i.indexOf(".");if(n>0){const e=jb(i.slice(0,n),t);if(e)return e+i.slice(n)}}return t.selfName&&fp(up(i))===t.selfName?(t.helper(Mp),t.components.add(i+"__self"),f_(i,"component")):(t.helper(Mp),t.components.add(i),f_(i,"component"))}function jb(e,t){const n=t.bindingMetadata;if(!n||!1===n.__isScriptSetup)return;const i=up(e),s=fp(i),r=t=>n[e]===t?e:n[i]===t?i:n[s]===t?s:void 0,o=r("setup-const")||r("setup-reactive-const");if(o)return t.inline?o:`$setup[${JSON.stringify(o)}]`;const a=r("setup-let")||r("setup-ref")||r("setup-maybe-ref");return a?t.inline?`${t.helperString(sg)}(${a})`:`$setup[${JSON.stringify(a)}]`:void 0}function $b(e,t,n=e.props,i,s,r=!1){const{tag:o,loc:a,children:l}=e;let c=[];const d=[],h=[],u=l.length>0;let p=!1,g=0,f=!1,m=!1,_=!1,v=!1,b=!1,y=!1;const w=[],C=({key:e,value:n})=>{if(Um(e)){const r=e.content,o=Gu(r);if(!o||i&&!s||"onclick"===r.toLowerCase()||"onUpdate:modelValue"===r||lp(r)||(v=!0),o&&lp(r)&&(y=!0),20===n.type||(4===n.type||8===n.type)&&J_(n,t)>0)return;"ref"===r?f=!0:"class"===r?m=!0:"style"===r?_=!0:"key"===r||w.includes(r)||w.push(r),!i||"class"!==r&&"style"!==r||w.includes(r)||w.push(r)}else b=!0};for(let x=0;x<n.length;x++){const s=n[x];if(6===s.type){const{loc:e,name:n,value:i}=s;let r=!0;if("ref"===n&&(f=!0,t.scopes.vFor>0&&c.push(fg(mg("ref_for",!0),mg("true"))),i&&t.inline&&t.bindingMetadata[i.content]&&(r=!1,c.push(fg(mg("ref_key",!0),mg(i.content,!0,i.loc))))),"is"===n&&(Yb(o)||i&&i.content.startsWith("vue:")))continue;c.push(fg(mg(n,!0,Jm(e,0,n.length)),mg(i?i.content:"",r,i?i.loc:e)))}else{const{name:n,arg:l,exp:g,loc:f}=s,m="bind"===n,_="on"===n;if("slot"===n){i||t.onError(wp(40,f));continue}if("once"===n||"memo"===n)continue;if("is"===n||m&&s_(l,"is")&&Yb(o))continue;if(_&&r)continue;if((m&&s_(l,"key")||_&&u&&s_(l,"vue:before-update"))&&(p=!0),m&&s_(l,"ref")&&t.scopes.vFor>0&&c.push(fg(mg("ref_for",!0),mg("true"))),!l&&(m||_)){b=!0,g?(c.length&&(d.push(gg(Kb(c),a)),c=[]),m?d.push(g):d.push({type:14,loc:f,callee:t.helper(Zp),arguments:[g]})):t.onError(wp(m?34:35,f));continue}const v=t.directiveTransforms[n];if(v){const{props:n,needRuntime:i}=v(s,e,t);!r&&n.forEach(C),c.push(...n),i&&(h.push(s),ip(i)&&Hb.set(s,i))}else cp(n)||(h.push(s),u&&(p=!0))}}let S;if(d.length?(c.length&&d.push(gg(Kb(c),a)),S=d.length>1?bg(t.helper($p),d,a):d[0]):c.length&&(S=gg(Kb(c),a)),b?g|=16:(m&&!i&&(g|=2),_&&!i&&(g|=4),w.length&&(g|=8),v&&(g|=32)),p||0!==g&&32!==g||!(f||y||h.length>0)||(g|=512),!t.inSSR&&S)switch(S.type){case 15:let e=-1,n=-1,i=!1;for(let t=0;t<S.properties.length;t++){const s=S.properties[t].key;Um(s)?"class"===s.content?e=t:"style"===s.content&&(n=t):s.isHandlerKey||(i=!0)}const s=S.properties[e],r=S.properties[n];i?S=bg(t.helper(Gp),[S]):(s&&!Um(s.value)&&(s.value=bg(t.helper(Kp),[s.value])),r&&(_||4===r.value.type&&"["===r.value.content.trim()[0]||17===r.value.type)&&(r.value=bg(t.helper(qp),[r.value])));break;case 14:break;default:S=bg(t.helper(Gp),[bg(t.helper(Yp),[S])])}return{props:S,directives:h,patchFlag:g,dynamicPropNames:w,shouldUseBlock:p}}function Kb(e){const t=new Map,n=[];for(let i=0;i<e.length;i++){const s=e[i];if(8===s.key.type||!s.key.isStatic){n.push(s);continue}const r=s.key.content,o=t.get(r);o?("style"===r||"class"===r||Gu(r))&&qb(o,s):(t.set(r,s),n.push(s))}return n}function qb(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=pg([e.value,t.value],e.loc)}function Gb(e,t){const n=[],i=Hb.get(e);if(i)n.push(t.helperString(i));else{const i=jb("v-"+e.name,t);i?n.push(i):(t.helper(Bp),t.directives.add(e.name),n.push(f_(e.name,"directive")))}const{loc:s}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=mg("true",!1,s);n.push(gg(e.modifiers.map((e=>fg(e,t))),s))}return pg(n,e.loc)}function Yb(e){return"component"===e||"Component"===e}const Zb=(e,t)=>{if(c_(e)){const{children:n,loc:i}=e,{slotName:s,slotProps:r}=Xb(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;r&&(o[2]=r,a=3),n.length&&(o[3]=yg([],n,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=bg(t.helper(Up),o,i)}};function Xb(e,t){let n,i='"default"';const s=[];for(let r=0;r<e.props.length;r++){const t=e.props[r];6===t.type?t.value&&("name"===t.name?i=JSON.stringify(t.value.content):(t.name=up(t.name),s.push(t))):"bind"===t.name&&s_(t.arg,"name")?t.exp&&(i=t.exp):("bind"===t.name&&t.arg&&Um(t.arg)&&(t.arg.content=up(t.arg.content)),s.push(t))}if(s.length>0){const{props:i,directives:r}=$b(e,t,s,!1,!1);n=i,r.length&&t.onError(wp(36,r[0].loc))}return{slotName:i,slotProps:n}}const Jb=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Qb=(e,t,n,i)=>{const{loc:s,modifiers:r,arg:o}=e;let a;if(e.exp||r.length||n.onError(wp(35,s)),4===o.type)if(o.isStatic){let e=o.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`),a=mg(mp(up(e)),!0,o.loc)}else a=vg([`${n.helperString(Qp)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(Qp)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const i=Xm(l.content,n),s=!(i||Jb.test(l.content)),r=l.content.includes(";");n.prefixIdentifiers&&(s&&n.addIdentifiers("$event"),l=e.exp=_b(l,n,!1,r),s&&n.removeIdentifiers("$event"),c=n.cacheHandlers&&!n.inVOnce&&!(4===l.type&&l.constType>0)&&!(i&&1===t.tagType)&&!m_(l,n.identifiers),c&&i&&(4===l.type?l.content=`${l.content} && ${l.content}(...args)`:l.children=[...l.children," && ",...l.children,"(...args)"])),(s||c&&i)&&(l=vg([`${s?n.isTS?"($event: any)":"$event":(n.isTS?"\n//@ts-ignore\n":"")+"(...args)"} => ${r?"{":"("}`,l,r?"}":")"]))}let d={props:[fg(a,l||mg("() => {}",!1,s))]};return i&&(d=i(d)),c&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach((e=>e.key.isHandlerKey=!0)),d},ey=(e,t,n)=>{const{exp:i,modifiers:s,loc:r}=e,o=e.arg;return 4!==o.type?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),s.includes("camel")&&(4===o.type?o.isStatic?o.content=up(o.content):o.content=`${n.helperString(Xp)}(${o.content})`:(o.children.unshift(`${n.helperString(Xp)}(`),o.children.push(")"))),n.inSSR||(s.includes("prop")&&ty(o,"."),s.includes("attr")&&ty(o,"^")),!i||4===i.type&&!i.content.trim()?(n.onError(wp(34,r)),{props:[fg(o,mg("",!0,r))]}):{props:[fg(o,i)]}},ty=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},ny=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let i,s=!1;for(let e=0;e<n.length;e++){const t=n[e];if(o_(t)){s=!0;for(let s=e+1;s<n.length;s++){const r=n[s];if(!o_(r)){i=void 0;break}i||(i=n[e]=vg([t],t.loc)),i.children.push(" + ",r),n.splice(s,1),s--}}}if(s&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name])))))for(let e=0;e<n.length;e++){const i=n[e];if(o_(i)||8===i.type){const s=[];2===i.type&&" "===i.content||s.push(i),t.ssr||0!==J_(i,t)||s.push(`1 /* ${bu[1]} */`),n[e]={type:12,content:i,loc:i.loc,codegenNode:bg(t.helper(Rp),s)}}}}},iy=new WeakSet,sy=(e,t)=>{if(1===e.type&&n_(e,"once",!0)){if(iy.has(e)||t.inVOnce)return;return iy.add(e),t.inVOnce=!0,t.helper(eg),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},ry=(e,t,n)=>{const{exp:i,arg:s}=e;if(!i)return n.onError(wp(41,e.loc)),oy();const r=i.loc.source,o=4===i.type?i.content:r,a=n.bindingMetadata[r],l=n.inline&&a&&"setup-const"!==a;if(!o.trim()||!Xm(o,n)&&!l)return n.onError(wp(42,i.loc)),oy();if(n.prefixIdentifiers&&Km(o)&&n.identifiers[o])return n.onError(wp(43,i.loc)),oy();const c=s||mg("modelValue",!0),d=s?Um(s)?`onUpdate:${s.content}`:vg(['"onUpdate:" + ',s]):"onUpdate:modelValue";let h;const u=n.isTS?"($event: any)":"$event";if(l)if("setup-ref"===a)h=vg([`${u} => ((`,mg(r,!1,i.loc),").value = $event)"]);else{const e="setup-let"===a?`${r} = $event`:"null";h=vg([`${u} => (${n.helperString(rg)}(${r}) ? (`,mg(r,!1,i.loc),`).value = $event : ${e})`])}else h=vg([`${u} => ((`,i,") = $event)"]);const p=[fg(c,e.exp),fg(d,h)];if(n.prefixIdentifiers&&!n.inVOnce&&n.cacheHandlers&&!m_(i,n.identifiers)&&(p[1].value=n.cache(p[1].value)),e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(Km(e)?e:JSON.stringify(e))+": true")).join(", "),n=s?Um(s)?`${s.content}Modifiers`:vg([s,' + "Modifiers"']):"modelModifiers";p.push(fg(n,mg(`{ ${t} }`,!1,e.loc,2)))}return oy(p)};function oy(e=[]){return{props:e}}const ay=new WeakSet,ly=(e,t)=>{if(1===e.type){const n=n_(e,"memo");if(!n||ay.has(e))return;return ay.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&13===i.type&&(1!==e.tagType&&v_(i,t),e.codegenNode=bg(t.helper(og),[n.exp,yg(void 0,i),"_cache",String(t.cached++)]))}}};function cy(e){return[[sy,bb,ly,kb,...e?[Ab,mb]:[],Zb,Ub,Rb,ny],{on:Qb,bind:ey,model:ry}]}function dy(e,t={}){const n=t.onError||bp,i="module"===t.mode,s=!0===t.prefixIdentifiers||i;!s&&t.cacheHandlers&&n(wp(48)),t.scopeId&&!i&&n(wp(49));const r=np(e)?k_(e,t):e,[o,a]=cy(s);if(t.isTS){const{expressionPlugins:e}=t;e&&e.includes("typescript")||(t.expressionPlugins=[...e||[],"typescript"])}return rv(r,Yu({},t,{prefixIdentifiers:s,nodeTransforms:[...o,...t.nodeTransforms||[]],directiveTransforms:Yu({},a,t.directiveTransforms||{})})),qv(r,Yu({},t,{prefixIdentifiers:s}))}const hy=()=>({props:[]}),uy=Symbol("vModelRadio"),py=Symbol("vModelCheckbox"),gy=Symbol("vModelText"),fy=Symbol("vModelSelect"),my=Symbol("vModelDynamic"),_y=Symbol("vOnModifiersGuard"),vy=Symbol("vOnKeysGuard"),by=Symbol("vShow"),yy=Symbol("Transition"),wy=Symbol("TransitionGroup");cg({[uy]:"vModelRadio",[py]:"vModelCheckbox",[gy]:"vModelText",[fy]:"vModelSelect",[my]:"vModelDynamic",[_y]:"withModifiers",[vy]:"withKeys",[by]:"vShow",[yy]:"Transition",[wy]:"TransitionGroup"});var Cy={GT:">",gt:">",LT:"<",lt:"<","ac;":"","af;":"",AMP:"&",amp:"&","ap;":"","DD;":"","dd;":"",deg:"","ee;":"","eg;":"","el;":"",ETH:"",eth:"","gE;":"","ge;":"","Gg;":"","gg;":"","gl;":"","GT;":">","Gt;":"","gt;":">","ic;":"","ii;":"","Im;":"","in;":"","it;":"","lE;":"","le;":"","lg;":"","Ll;":"","ll;":"","LT;":"<","Lt;":"","lt;":"<","mp;":"","Mu;":"","mu;":"","ne;":"","ni;":"",not:"","Nu;":"","nu;":"","Or;":"","or;":"","oS;":"","Pi;":"","pi;":"","pm;":"","Pr;":"","pr;":"","Re;":"",REG:"",reg:"","rx;":"","Sc;":"","sc;":"",shy:"",uml:"","wp;":"","wr;":"","Xi;":"","xi;":"",yen:"","acd;":"","acE;":"","Acy;":"","acy;":"","Afr;":"","afr;":"","AMP;":"&","amp;":"&","And;":"","and;":"","ang;":"","apE;":"","ape;":"","ast;":"*",Auml:"",auml:"","Bcy;":"","bcy;":"","Bfr;":"","bfr;":"","bne;":"=","bot;":"","Cap;":"","cap;":"",cent:"","Cfr;":"","cfr;":"","Chi;":"","chi;":"","cir;":"",COPY:"",copy:"","Cup;":"","cup;":"","Dcy;":"","dcy;":"","deg;":"","Del;":"","Dfr;":"","dfr;":"","die;":"","div;":"","Dot;":"","dot;":"","Ecy;":"","ecy;":"","Efr;":"","efr;":"","egs;":"","ell;":"","els;":"","ENG;":"","eng;":"","Eta;":"","eta;":"","ETH;":"","eth;":"",Euml:"",euml:"","Fcy;":"","fcy;":"","Ffr;":"","ffr;":"","gap;":"","Gcy;":"","gcy;":"","gEl;":"","gel;":"","geq;":"","ges;":"","Gfr;":"","gfr;":"","ggg;":"","gla;":"","glE;":"","glj;":"","gnE;":"","gne;":"","Hat;":"^","Hfr;":"","hfr;":"","Icy;":"","icy;":"","iff;":"","Ifr;":"","ifr;":"","Int;":"","int;":"",Iuml:"",iuml:"","Jcy;":"","jcy;":"","Jfr;":"","jfr;":"","Kcy;":"","kcy;":"","Kfr;":"","kfr;":"","lap;":"","lat;":"","Lcy;":"","lcy;":"","lEg;":"","leg;":"","leq;":"","les;":"","Lfr;":"","lfr;":"","lgE;":"","lnE;":"","lne;":"","loz;":"","lrm;":"","Lsh;":"","lsh;":"",macr:"","Map;":"","map;":"","Mcy;":"","mcy;":"","Mfr;":"","mfr;":"","mho;":"","mid;":"","nap;":"",nbsp:"","Ncy;":"","ncy;":"","Nfr;":"","nfr;":"","ngE;":"","nge;":"","nGg;":"","nGt;":"","ngt;":"","nis;":"","niv;":"","nlE;":"","nle;":"","nLl;":"","nLt;":"","nlt;":"","Not;":"","not;":"","npr;":"","nsc;":"","num;":"#","Ocy;":"","ocy;":"","Ofr;":"","ofr;":"","ogt;":"","ohm;":"","olt;":"","ord;":"",ordf:"",ordm:"","orv;":"",Ouml:"",ouml:"","par;":"",para:"","Pcy;":"","pcy;":"","Pfr;":"","pfr;":"","Phi;":"","phi;":"","piv;":"","prE;":"","pre;":"","Psi;":"","psi;":"","Qfr;":"","qfr;":"",QUOT:'"',quot:'"',"Rcy;":"","rcy;":"","REG;":"","reg;":"","Rfr;":"","rfr;":"","Rho;":"","rho;":"","rlm;":"","Rsh;":"","rsh;":"","scE;":"","sce;":"","Scy;":"","scy;":"",sect:"","Sfr;":"","sfr;":"","shy;":"","sim;":"","smt;":"","sol;":"/","squ;":"","Sub;":"","sub;":"","Sum;":"","sum;":"","Sup;":"","sup;":"",sup1:"",sup2:"",sup3:"","Tab;":"\t","Tau;":"","tau;":"","Tcy;":"","tcy;":"","Tfr;":"","tfr;":"","top;":"","Ucy;":"","ucy;":"","Ufr;":"","ufr;":"","uml;":"",Uuml:"",uuml:"","Vcy;":"","vcy;":"","Vee;":"","vee;":"","Vfr;":"","vfr;":"","Wfr;":"","wfr;":"","Xfr;":"","xfr;":"","Ycy;":"","ycy;":"","yen;":"","Yfr;":"","yfr;":"",yuml:"","Zcy;":"","zcy;":"","Zfr;":"","zfr;":"","zwj;":"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"","andd;":"","andv;":"","ange;":"","Aopf;":"","aopf;":"","apid;":"","apos;":"'",Aring:"",aring:"","Ascr;":"","ascr;":"","Auml;":"","auml;":"","Barv;":"","bbrk;":"","Beta;":"","beta;":"","beth;":"","bNot;":"","bnot;":"","Bopf;":"","bopf;":"","boxH;":"","boxh;":"","boxV;":"","boxv;":"","Bscr;":"","bscr;":"","bsim;":"","bsol;":"\\","bull;":"","bump;":"","caps;":"","Cdot;":"","cdot;":"",cedil:"","cent;":"","CHcy;":"","chcy;":"","circ;":"","cirE;":"","cire;":"","comp;":"","cong;":"","Copf;":"","copf;":"","COPY;":"","copy;":"","Cscr;":"","cscr;":"","csub;":"","csup;":"","cups;":"","Darr;":"","dArr;":"","darr;":"","dash;":"","dHar;":"","diam;":"","DJcy;":"","djcy;":"","Dopf;":"","dopf;":"","Dscr;":"","dscr;":"","DScy;":"","dscy;":"","dsol;":"","dtri;":"","DZcy;":"","dzcy;":"","ecir;":"",Ecirc:"",ecirc:"","Edot;":"","eDot;":"","edot;":"","emsp;":"","ensp;":"","Eopf;":"","eopf;":"","epar;":"","epsi;":"","Escr;":"","escr;":"","Esim;":"","esim;":"","Euml;":"","euml;":"","euro;":"","excl;":"!","flat;":"","fnof;":"","Fopf;":"","fopf;":"","fork;":"","Fscr;":"","fscr;":"","Gdot;":"","gdot;":"","geqq;":"","gesl;":"","GJcy;":"","gjcy;":"","gnap;":"","gneq;":"","Gopf;":"","gopf;":"","Gscr;":"","gscr;":"","gsim;":"","gtcc;":"","gvnE;":"","half;":"","hArr;":"","harr;":"","hbar;":"","Hopf;":"","hopf;":"","Hscr;":"","hscr;":"",Icirc:"",icirc:"","Idot;":"","IEcy;":"","iecy;":"",iexcl:"","imof;":"","IOcy;":"","iocy;":"","Iopf;":"","iopf;":"","Iota;":"","iota;":"","Iscr;":"","iscr;":"","isin;":"","Iuml;":"","iuml;":"","Jopf;":"","jopf;":"","Jscr;":"","jscr;":"","KHcy;":"","khcy;":"","KJcy;":"","kjcy;":"","Kopf;":"","kopf;":"","Kscr;":"","kscr;":"","Lang;":"","lang;":"",laquo:"","Larr;":"","lArr;":"","larr;":"","late;":"","lcub;":"{","ldca;":"","ldsh;":"","leqq;":"","lesg;":"","lHar;":"","LJcy;":"","ljcy;":"","lnap;":"","lneq;":"","Lopf;":"","lopf;":"","lozf;":"","lpar;":"(","Lscr;":"","lscr;":"","lsim;":"","lsqb;":"[","ltcc;":"","ltri;":"","lvnE;":"","macr;":"","male;":"","malt;":"",micro:"","mlcp;":"","mldr;":"","Mopf;":"","mopf;":"","Mscr;":"","mscr;":"","nang;":"","napE;":"","nbsp;":"","ncap;":"","ncup;":"","ngeq;":"","nges;":"","ngtr;":"","nGtv;":"","nisd;":"","NJcy;":"","njcy;":"","nldr;":"","nleq;":"","nles;":"","nLtv;":"","nmid;":"","Nopf;":"","nopf;":"","npar;":"","npre;":"","nsce;":"","Nscr;":"","nscr;":"","nsim;":"","nsub;":"","nsup;":"","ntgl;":"","ntlg;":"","nvap;":"","nvge;":"","nvgt;":">","nvle;":"","nvlt;":"<","oast;":"","ocir;":"",Ocirc:"",ocirc:"","odiv;":"","odot;":"","ogon;":"","oint;":"","omid;":"","Oopf;":"","oopf;":"","opar;":"","ordf;":"","ordm;":"","oror;":"","Oscr;":"","oscr;":"","osol;":"","Ouml;":"","ouml;":"","para;":"","part;":"","perp;":"","phiv;":"","plus;":"+","Popf;":"","popf;":"",pound:"","prap;":"","prec;":"","prnE;":"","prod;":"","prop;":"","Pscr;":"","pscr;":"","qint;":"","Qopf;":"","qopf;":"","Qscr;":"","qscr;":"","QUOT;":'"',"quot;":'"',"race;":"","Rang;":"","rang;":"",raquo:"","Rarr;":"","rArr;":"","rarr;":"","rcub;":"}","rdca;":"","rdsh;":"","real;":"","rect;":"","rHar;":"","rhov;":"","ring;":"","Ropf;":"","ropf;":"","rpar;":")","Rscr;":"","rscr;":"","rsqb;":"]","rtri;":"","scap;":"","scnE;":"","sdot;":"","sect;":"","semi;":";","sext;":"","SHcy;":"","shcy;":"","sime;":"","simg;":"","siml;":"","smid;":"","smte;":"","solb;":"","Sopf;":"","sopf;":"","spar;":"","Sqrt;":"","squf;":"","Sscr;":"","sscr;":"","Star;":"","star;":"","subE;":"","sube;":"","succ;":"","sung;":"","sup1;":"","sup2;":"","sup3;":"","supE;":"","supe;":"",szlig:"","tbrk;":"","tdot;":"",THORN:"",thorn:"",times:"","tint;":"","toea;":"","Topf;":"","topf;":"","tosa;":"","trie;":"","Tscr;":"","tscr;":"","TScy;":"","tscy;":"","Uarr;":"","uArr;":"","uarr;":"",Ucirc:"",ucirc:"","uHar;":"","Uopf;":"","uopf;":"","Upsi;":"","upsi;":"","Uscr;":"","uscr;":"","utri;":"","Uuml;":"","uuml;":"","vArr;":"","varr;":"","Vbar;":"","vBar;":"","Vert;":"","vert;":"|","Vopf;":"","vopf;":"","Vscr;":"","vscr;":"","Wopf;":"","wopf;":"","Wscr;":"","wscr;":"","xcap;":"","xcup;":"","xmap;":"","xnis;":"","Xopf;":"","xopf;":"","Xscr;":"","xscr;":"","xvee;":"","YAcy;":"","yacy;":"","YIcy;":"","yicy;":"","Yopf;":"","yopf;":"","Yscr;":"","yscr;":"","YUcy;":"","yucy;":"","Yuml;":"","yuml;":"","Zdot;":"","zdot;":"","Zeta;":"","zeta;":"","ZHcy;":"","zhcy;":"","Zopf;":"","zopf;":"","Zscr;":"","zscr;":"","zwnj;":"",Aacute:"",aacute:"","Acirc;":"","acirc;":"","acute;":"","AElig;":"","aelig;":"",Agrave:"",agrave:"","aleph;":"","Alpha;":"","alpha;":"","Amacr;":"","amacr;":"","amalg;":"","angle;":"","angrt;":"","angst;":"","Aogon;":"","aogon;":"","Aring;":"","aring;":"","asymp;":"",Atilde:"",atilde:"","awint;":"","bcong;":"","bdquo;":"","bepsi;":"","blank;":"","blk12;":"","blk14;":"","blk34;":"","block;":"","boxDL;":"","boxDl;":"","boxdL;":"","boxdl;":"","boxDR;":"","boxDr;":"","boxdR;":"","boxdr;":"","boxHD;":"","boxHd;":"","boxhD;":"","boxhd;":"","boxHU;":"","boxHu;":"","boxhU;":"","boxhu;":"","boxUL;":"","boxUl;":"","boxuL;":"","boxul;":"","boxUR;":"","boxUr;":"","boxuR;":"","boxur;":"","boxVH;":"","boxVh;":"","boxvH;":"","boxvh;":"","boxVL;":"","boxVl;":"","boxvL;":"","boxvl;":"","boxVR;":"","boxVr;":"","boxvR;":"","boxvr;":"","Breve;":"","breve;":"",brvbar:"","bsemi;":"","bsime;":"","bsolb;":"","bumpE;":"","bumpe;":"","caret;":"","caron;":"","ccaps;":"",Ccedil:"",ccedil:"","Ccirc;":"","ccirc;":"","ccups;":"","cedil;":"","check;":"","clubs;":"","Colon;":"","colon;":":","comma;":",","crarr;":"","Cross;":"","cross;":"","csube;":"","csupe;":"","ctdot;":"","cuepr;":"","cuesc;":"","cupor;":"",curren:"","cuvee;":"","cuwed;":"","cwint;":"","Dashv;":"","dashv;":"","dblac;":"","ddarr;":"","Delta;":"","delta;":"","dharl;":"","dharr;":"","diams;":"","disin;":"",divide:"","doteq;":"","dtdot;":"","dtrif;":"","duarr;":"","duhar;":"",Eacute:"",eacute:"","Ecirc;":"","ecirc;":"","eDDot;":"","efDot;":"",Egrave:"",egrave:"","Emacr;":"","emacr;":"","empty;":"","Eogon;":"","eogon;":"","eplus;":"","epsiv;":"","eqsim;":"","Equal;":"","equiv;":"","erarr;":"","erDot;":"","esdot;":"","exist;":"","fflig;":"","filig;":"","fjlig;":"fj","fllig;":"","fltns;":"","forkv;":"",frac12:"",frac14:"",frac34:"","frasl;":"","frown;":"","Gamma;":"","gamma;":"","Gcirc;":"","gcirc;":"","gescc;":"","gimel;":"","gneqq;":"","gnsim;":"","grave;":"`","gsime;":"","gsiml;":"","gtcir;":"","gtdot;":"","Hacek;":"","harrw;":"","Hcirc;":"","hcirc;":"","hoarr;":"",Iacute:"",iacute:"","Icirc;":"","icirc;":"","iexcl;":"",Igrave:"",igrave:"","iiint;":"","iiota;":"","IJlig;":"","ijlig;":"","Imacr;":"","imacr;":"","image;":"","imath;":"","imped;":"","infin;":"","Iogon;":"","iogon;":"","iprod;":"",iquest:"","isinE;":"","isins;":"","isinv;":"","Iukcy;":"","iukcy;":"","Jcirc;":"","jcirc;":"","jmath;":"","Jukcy;":"","jukcy;":"","Kappa;":"","kappa;":"","lAarr;":"","langd;":"","laquo;":"","larrb;":"","lates;":"","lBarr;":"","lbarr;":"","lbbrk;":"","lbrke;":"","lceil;":"","ldquo;":"","lescc;":"","lhard;":"","lharu;":"","lhblk;":"","llarr;":"","lltri;":"","lneqq;":"","lnsim;":"","loang;":"","loarr;":"","lobrk;":"","lopar;":"","lrarr;":"","lrhar;":"","lrtri;":"","lsime;":"","lsimg;":"","lsquo;":"","ltcir;":"","ltdot;":"","ltrie;":"","ltrif;":"","mdash;":"","mDDot;":"","micro;":"",middot:"","minus;":"","mumap;":"","nabla;":"","napid;":"","napos;":"","natur;":"","nbump;":"","ncong;":"","ndash;":"","neArr;":"","nearr;":"","nedot;":"","nesim;":"","ngeqq;":"","ngsim;":"","nhArr;":"","nharr;":"","nhpar;":"","nlArr;":"","nlarr;":"","nleqq;":"","nless;":"","nlsim;":"","nltri;":"","notin;":"","notni;":"","npart;":"","nprec;":"","nrArr;":"","nrarr;":"","nrtri;":"","nsime;":"","nsmid;":"","nspar;":"","nsubE;":"","nsube;":"","nsucc;":"","nsupE;":"","nsupe;":"",Ntilde:"",ntilde:"","numsp;":"","nvsim;":"","nwArr;":"","nwarr;":"",Oacute:"",oacute:"","Ocirc;":"","ocirc;":"","odash;":"","OElig;":"","oelig;":"","ofcir;":"",Ograve:"",ograve:"","ohbar;":"","olarr;":"","olcir;":"","oline;":"","Omacr;":"","omacr;":"","Omega;":"","omega;":"","operp;":"","oplus;":"","orarr;":"","order;":"",Oslash:"",oslash:"",Otilde:"",otilde:"","ovbar;":"","parsl;":"","phone;":"","plusb;":"","pluse;":"",plusmn:"","pound;":"","prcue;":"","Prime;":"","prime;":"","prnap;":"","prsim;":"","quest;":"?","rAarr;":"","radic;":"","rangd;":"","range;":"","raquo;":"","rarrb;":"","rarrc;":"","rarrw;":"","ratio;":"","RBarr;":"","rBarr;":"","rbarr;":"","rbbrk;":"","rbrke;":"","rceil;":"","rdquo;":"","reals;":"","rhard;":"","rharu;":"","rlarr;":"","rlhar;":"","rnmid;":"","roang;":"","roarr;":"","robrk;":"","ropar;":"","rrarr;":"","rsquo;":"","rtrie;":"","rtrif;":"","sbquo;":"","sccue;":"","Scirc;":"","scirc;":"","scnap;":"","scsim;":"","sdotb;":"","sdote;":"","seArr;":"","searr;":"","setmn;":"","sharp;":"","Sigma;":"","sigma;":"","simeq;":"","simgE;":"","simlE;":"","simne;":"","slarr;":"","smile;":"","smtes;":"","sqcap;":"","sqcup;":"","sqsub;":"","sqsup;":"","srarr;":"","starf;":"","strns;":"","subnE;":"","subne;":"","supnE;":"","supne;":"","swArr;":"","swarr;":"","szlig;":"","Theta;":"","theta;":"","thkap;":"","THORN;":"","thorn;":"","Tilde;":"","tilde;":"","times;":"","TRADE;":"","trade;":"","trisb;":"","TSHcy;":"","tshcy;":"","twixt;":"",Uacute:"",uacute:"","Ubrcy;":"","ubrcy;":"","Ucirc;":"","ucirc;":"","udarr;":"","udhar;":"",Ugrave:"",ugrave:"","uharl;":"","uharr;":"","uhblk;":"","ultri;":"","Umacr;":"","umacr;":"","Union;":"","Uogon;":"","uogon;":"","uplus;":"","upsih;":"","UpTee;":"","Uring;":"","uring;":"","urtri;":"","utdot;":"","utrif;":"","uuarr;":"","varpi;":"","vBarv;":"","VDash;":"","Vdash;":"","vDash;":"","vdash;":"","veeeq;":"","vltri;":"","vnsub;":"","vnsup;":"","vprop;":"","vrtri;":"","Wcirc;":"","wcirc;":"","Wedge;":"","wedge;":"","xcirc;":"","xdtri;":"","xhArr;":"","xharr;":"","xlArr;":"","xlarr;":"","xodot;":"","xrArr;":"","xrarr;":"","xutri;":"",Yacute:"",yacute:"","Ycirc;":"","ycirc;":"","Aacute;":"","aacute;":"","Abreve;":"","abreve;":"","Agrave;":"","agrave;":"","andand;":"","angmsd;":"","angsph;":"","apacir;":"","approx;":"","Assign;":"","Atilde;":"","atilde;":"","barvee;":"","Barwed;":"","barwed;":"","becaus;":"","bernou;":"","bigcap;":"","bigcup;":"","bigvee;":"","bkarow;":"","bottom;":"","bowtie;":"","boxbox;":"","bprime;":"","brvbar;":"","bullet;":"","Bumpeq;":"","bumpeq;":"","Cacute;":"","cacute;":"","capand;":"","capcap;":"","capcup;":"","capdot;":"","Ccaron;":"","ccaron;":"","Ccedil;":"","ccedil;":"","circeq;":"","cirmid;":"","Colone;":"","colone;":"","commat;":"@","compfn;":"","Conint;":"","conint;":"","coprod;":"","copysr;":"","cularr;":"","CupCap;":"","cupcap;":"","cupcup;":"","cupdot;":"","curarr;":"","curren;":"","cylcty;":"","Dagger;":"","dagger;":"","daleth;":"","Dcaron;":"","dcaron;":"","dfisht;":"","divide;":"","divonx;":"","dlcorn;":"","dlcrop;":"","dollar;":"$","DotDot;":"","drcorn;":"","drcrop;":"","Dstrok;":"","dstrok;":"","Eacute;":"","eacute;":"","easter;":"","Ecaron;":"","ecaron;":"","ecolon;":"","Egrave;":"","egrave;":"","egsdot;":"","elsdot;":"","emptyv;":"","emsp13;":"","emsp14;":"","eparsl;":"","eqcirc;":"","equals;":"=","equest;":"","Exists;":"","female;":"","ffilig;":"","ffllig;":"","ForAll;":"","forall;":"","frac12;":"","frac13;":"","frac14;":"","frac15;":"","frac16;":"","frac18;":"","frac23;":"","frac25;":"","frac34;":"","frac35;":"","frac38;":"","frac45;":"","frac56;":"","frac58;":"","frac78;":"","gacute;":"","Gammad;":"","gammad;":"","Gbreve;":"","gbreve;":"","Gcedil;":"","gesdot;":"","gesles;":"","gtlPar;":"","gtrarr;":"","gtrdot;":"","gtrsim;":"","hairsp;":"","hamilt;":"","HARDcy;":"","hardcy;":"","hearts;":"","hellip;":"","hercon;":"","homtht;":"","horbar;":"","hslash;":"","Hstrok;":"","hstrok;":"","hybull;":"","hyphen;":"","Iacute;":"","iacute;":"","Igrave;":"","igrave;":"","iiiint;":"","iinfin;":"","incare;":"","inodot;":"","intcal;":"","iquest;":"","isinsv;":"","Itilde;":"","itilde;":"","Jsercy;":"","jsercy;":"","kappav;":"","Kcedil;":"","kcedil;":"","kgreen;":"","Lacute;":"","lacute;":"","lagran;":"","Lambda;":"","lambda;":"","langle;":"","larrfs;":"","larrhk;":"","larrlp;":"","larrpl;":"","larrtl;":"","lAtail;":"","latail;":"","lbrace;":"{","lbrack;":"[","Lcaron;":"","lcaron;":"","Lcedil;":"","lcedil;":"","ldquor;":"","lesdot;":"","lesges;":"","lfisht;":"","lfloor;":"","lharul;":"","llhard;":"","Lmidot;":"","lmidot;":"","lmoust;":"","loplus;":"","lowast;":"","lowbar;":"_","lparlt;":"","lrhard;":"","lsaquo;":"","lsquor;":"","Lstrok;":"","lstrok;":"","lthree;":"","ltimes;":"","ltlarr;":"","ltrPar;":"","mapsto;":"","marker;":"","mcomma;":"","midast;":"*","midcir;":"","middot;":"","minusb;":"","minusd;":"","mnplus;":"","models;":"","mstpos;":"","Nacute;":"","nacute;":"","nbumpe;":"","Ncaron;":"","ncaron;":"","Ncedil;":"","ncedil;":"","nearhk;":"","nequiv;":"","nesear;":"","nexist;":"","nltrie;":"","notinE;":"","nparsl;":"","nprcue;":"","nrarrc;":"","nrarrw;":"","nrtrie;":"","nsccue;":"","nsimeq;":"","Ntilde;":"","ntilde;":"","numero;":"","nVDash;":"","nVdash;":"","nvDash;":"","nvdash;":"","nvHarr;":"","nvlArr;":"","nvrArr;":"","nwarhk;":"","nwnear;":"","Oacute;":"","oacute;":"","Odblac;":"","odblac;":"","odsold;":"","Ograve;":"","ograve;":"","ominus;":"","origof;":"","Oslash;":"","oslash;":"","Otilde;":"","otilde;":"","Otimes;":"","otimes;":"","parsim;":"","percnt;":"%","period;":".","permil;":"","phmmat;":"","planck;":"","plankv;":"","plusdo;":"","plusdu;":"","plusmn;":"","preceq;":"","primes;":"","prnsim;":"","propto;":"","prurel;":"","puncsp;":"","qprime;":"","Racute;":"","racute;":"","rangle;":"","rarrap;":"","rarrfs;":"","rarrhk;":"","rarrlp;":"","rarrpl;":"","Rarrtl;":"","rarrtl;":"","rAtail;":"","ratail;":"","rbrace;":"}","rbrack;":"]","Rcaron;":"","rcaron;":"","Rcedil;":"","rcedil;":"","rdquor;":"","rfisht;":"","rfloor;":"","rharul;":"","rmoust;":"","roplus;":"","rpargt;":"","rsaquo;":"","rsquor;":"","rthree;":"","rtimes;":"","Sacute;":"","sacute;":"","Scaron;":"","scaron;":"","Scedil;":"","scedil;":"","scnsim;":"","searhk;":"","seswar;":"","sfrown;":"","SHCHcy;":"","shchcy;":"","sigmaf;":"","sigmav;":"","simdot;":"","smashp;":"","SOFTcy;":"","softcy;":"","solbar;":"","spades;":"","sqcaps;":"","sqcups;":"","sqsube;":"","sqsupe;":"","Square;":"","square;":"","squarf;":"","ssetmn;":"","ssmile;":"","sstarf;":"","subdot;":"","Subset;":"","subset;":"","subsim;":"","subsub;":"","subsup;":"","succeq;":"","supdot;":"","Supset;":"","supset;":"","supsim;":"","supsub;":"","supsup;":"","swarhk;":"","swnwar;":"","target;":"","Tcaron;":"","tcaron;":"","Tcedil;":"","tcedil;":"","telrec;":"","there4;":"","thetav;":"","thinsp;":"","thksim;":"","timesb;":"","timesd;":"","topbot;":"","topcir;":"","tprime;":"","tridot;":"","Tstrok;":"","tstrok;":"","Uacute;":"","uacute;":"","Ubreve;":"","ubreve;":"","Udblac;":"","udblac;":"","ufisht;":"","Ugrave;":"","ugrave;":"","ulcorn;":"","ulcrop;":"","urcorn;":"","urcrop;":"","Utilde;":"","utilde;":"","vangrt;":"","varphi;":"","varrho;":"","Vdashl;":"","veebar;":"","vellip;":"","Verbar;":"","verbar;":"|","vsubnE;":"","vsubne;":"","vsupnE;":"","vsupne;":"","Vvdash;":"","wedbar;":"","wedgeq;":"","weierp;":"","wreath;":"","xoplus;":"","xotime;":"","xsqcup;":"","xuplus;":"","xwedge;":"","Yacute;":"","yacute;":"","Zacute;":"","zacute;":"","Zcaron;":"","zcaron;":"","zeetrf;":"","alefsym;":"","angrtvb;":"","angzarr;":"","asympeq;":"","backsim;":"","Because;":"","because;":"","bemptyv;":"","between;":"","bigcirc;":"","bigodot;":"","bigstar;":"","bnequiv;":"","boxplus;":"","Cayleys;":"","Cconint;":"","ccupssm;":"","Cedilla;":"","cemptyv;":"","cirscir;":"","coloneq;":"","congdot;":"","cudarrl;":"","cudarrr;":"","cularrp;":"","curarrm;":"","dbkarow;":"","ddagger;":"","ddotseq;":"","demptyv;":"","Diamond;":"","diamond;":"","digamma;":"","dotplus;":"","DownTee;":"","dwangle;":"","Element;":"","Epsilon;":"","epsilon;":"","eqcolon;":"","equivDD;":"","gesdoto;":"","gtquest;":"","gtrless;":"","harrcir;":"","Implies;":"","intprod;":"","isindot;":"","larrbfs;":"","larrsim;":"","lbrksld;":"","lbrkslu;":"","ldrdhar;":"","LeftTee;":"","lesdoto;":"","lessdot;":"","lessgtr;":"","lesssim;":"","lotimes;":"","lozenge;":"","ltquest;":"","luruhar;":"","maltese;":"","minusdu;":"","napprox;":"","natural;":"","nearrow;":"","NewLine;":"\n","nexists;":"","NoBreak;":"","notinva;":"","notinvb;":"","notinvc;":"","NotLess;":"","notniva;":"","notnivb;":"","notnivc;":"","npolint;":"","npreceq;":"","nsqsube;":"","nsqsupe;":"","nsubset;":"","nsucceq;":"","nsupset;":"","nvinfin;":"","nvltrie;":"","nvrtrie;":"","nwarrow;":"","olcross;":"","Omicron;":"","omicron;":"","orderof;":"","orslope;":"","OverBar;":"","pertenk;":"","planckh;":"","pluscir;":"","plussim;":"","plustwo;":"","precsim;":"","Product;":"","quatint;":"","questeq;":"","rarrbfs;":"","rarrsim;":"","rbrksld;":"","rbrkslu;":"","rdldhar;":"","realine;":"","rotimes;":"","ruluhar;":"","searrow;":"","simplus;":"","simrarr;":"","subedot;":"","submult;":"","subplus;":"","subrarr;":"","succsim;":"","supdsub;":"","supedot;":"","suphsol;":"","suphsub;":"","suplarr;":"","supmult;":"","supplus;":"","swarrow;":"","topfork;":"","triplus;":"","tritime;":"","UpArrow;":"","Uparrow;":"","uparrow;":"","Upsilon;":"","upsilon;":"","uwangle;":"","vzigzag;":"","zigrarr;":"","andslope;":"","angmsdaa;":"","angmsdab;":"","angmsdac;":"","angmsdad;":"","angmsdae;":"","angmsdaf;":"","angmsdag;":"","angmsdah;":"","angrtvbd;":"","approxeq;":"","awconint;":"","backcong;":"","barwedge;":"","bbrktbrk;":"","bigoplus;":"","bigsqcup;":"","biguplus;":"","bigwedge;":"","boxminus;":"","boxtimes;":"","bsolhsub;":"","capbrcup;":"","circledR;":"","circledS;":"","cirfnint;":"","clubsuit;":"","cupbrcap;":"","curlyvee;":"","cwconint;":"","DDotrahd;":"","doteqdot;":"","DotEqual;":"","dotminus;":"","drbkarow;":"","dzigrarr;":"","elinters;":"","emptyset;":"","eqvparsl;":"","fpartint;":"","geqslant;":"","gesdotol;":"","gnapprox;":"","hksearow;":"","hkswarow;":"","imagline;":"","imagpart;":"","infintie;":"","integers;":"","Integral;":"","intercal;":"","intlarhk;":"","laemptyv;":"","ldrushar;":"","leqslant;":"","lesdotor;":"","LessLess;":"","llcorner;":"","lnapprox;":"","lrcorner;":"","lurdshar;":"","mapstoup;":"","multimap;":"","naturals;":"","ncongdot;":"","NotEqual;":"","notindot;":"","NotTilde;":"","otimesas;":"","parallel;":"","PartialD;":"","plusacir;":"","pointint;":"","Precedes;":"","precneqq;":"","precnsim;":"","profalar;":"","profline;":"","profsurf;":"","raemptyv;":"","realpart;":"","RightTee;":"","rppolint;":"","rtriltri;":"","scpolint;":"","setminus;":"","shortmid;":"","smeparsl;":"","sqsubset;":"","sqsupset;":"","subseteq;":"","Succeeds;":"","succneqq;":"","succnsim;":"","SuchThat;":"","Superset;":"","supseteq;":"","thetasym;":"","thicksim;":"","timesbar;":"","triangle;":"","triminus;":"","trpezium;":"","Uarrocir;":"","ulcorner;":"","UnderBar;":"_","urcorner;":"","varkappa;":"","varsigma;":"","vartheta;":"","backprime;":"","backsimeq;":"","Backslash;":"","bigotimes;":"","CenterDot;":"","centerdot;":"","checkmark;":"","CircleDot;":"","complexes;":"","Congruent;":"","Coproduct;":"","dotsquare;":"","DoubleDot;":"","DownArrow;":"","Downarrow;":"","downarrow;":"","DownBreve;":"","gtrapprox;":"","gtreqless;":"","gvertneqq;":"","heartsuit;":"","HumpEqual;":"","LeftArrow;":"","Leftarrow;":"","leftarrow;":"","LeftFloor;":"","lesseqgtr;":"","LessTilde;":"","lvertneqq;":"","Mellintrf;":"","MinusPlus;":"","ngeqslant;":"","nleqslant;":"","NotCupCap;":"","NotExists;":"","NotSubset;":"","nparallel;":"","nshortmid;":"","nsubseteq;":"","nsupseteq;":"","OverBrace;":"","pitchfork;":"","PlusMinus;":"","rationals;":"","spadesuit;":"","subseteqq;":"","subsetneq;":"","supseteqq;":"","supsetneq;":"","Therefore;":"","therefore;":"","ThinSpace;":"","triangleq;":"","TripleDot;":"","UnionPlus;":"","varpropto;":"","Bernoullis;":"","circledast;":"","CirclePlus;":"","complement;":"","curlywedge;":"","eqslantgtr;":"","EqualTilde;":"","Fouriertrf;":"","gtreqqless;":"","ImaginaryI;":"","Laplacetrf;":"","LeftVector;":"","lessapprox;":"","lesseqqgtr;":"","Lleftarrow;":"","lmoustache;":"","longmapsto;":"","mapstodown;":"","mapstoleft;":"","nLeftarrow;":"","nleftarrow;":"","NotElement;":"","NotGreater;":"","nsubseteqq;":"","nsupseteqq;":"","precapprox;":"","Proportion;":"","RightArrow;":"","Rightarrow;":"","rightarrow;":"","RightFloor;":"","rmoustache;":"","sqsubseteq;":"","sqsupseteq;":"","subsetneqq;":"","succapprox;":"","supsetneqq;":"","ThickSpace;":"","TildeEqual;":"","TildeTilde;":"","UnderBrace;":"","UpArrowBar;":"","UpTeeArrow;":"","upuparrows;":"","varepsilon;":"","varnothing;":"","backepsilon;":"","blacksquare;":"","circledcirc;":"","circleddash;":"","CircleMinus;":"","CircleTimes;":"","curlyeqprec;":"","curlyeqsucc;":"","diamondsuit;":"","eqslantless;":"","Equilibrium;":"","expectation;":"","GreaterLess;":"","LeftCeiling;":"","LessGreater;":"","MediumSpace;":"","NotLessLess;":"","NotPrecedes;":"","NotSucceeds;":"","NotSuperset;":"","nRightarrow;":"","nrightarrow;":"","OverBracket;":"","preccurlyeq;":"","precnapprox;":"","quaternions;":"","RightVector;":"","Rrightarrow;":"","RuleDelayed;":"","SmallCircle;":"","SquareUnion;":"","straightphi;":"","SubsetEqual;":"","succcurlyeq;":"","succnapprox;":"","thickapprox;":"","UpDownArrow;":"","Updownarrow;":"","updownarrow;":"","VerticalBar;":"","blacklozenge;":"","DownArrowBar;":"","DownTeeArrow;":"","ExponentialE;":"","exponentiale;":"","GreaterEqual;":"","GreaterTilde;":"","HilbertSpace;":"","HumpDownHump;":"","Intersection;":"","LeftArrowBar;":"","LeftTeeArrow;":"","LeftTriangle;":"","LeftUpVector;":"","NotCongruent;":"","NotHumpEqual;":"","NotLessEqual;":"","NotLessTilde;":"","Proportional;":"","RightCeiling;":"","risingdotseq;":"","RoundImplies;":"","ShortUpArrow;":"","SquareSubset;":"","triangledown;":"","triangleleft;":"","UnderBracket;":"","varsubsetneq;":"","varsupsetneq;":"","VerticalLine;":"|","ApplyFunction;":"","bigtriangleup;":"","blacktriangle;":"","DifferentialD;":"","divideontimes;":"","DoubleLeftTee;":"","DoubleUpArrow;":"","fallingdotseq;":"","hookleftarrow;":"","leftarrowtail;":"","leftharpoonup;":"","LeftTeeVector;":"","LeftVectorBar;":"","LessFullEqual;":"","LongLeftArrow;":"","Longleftarrow;":"","longleftarrow;":"","looparrowleft;":"","measuredangle;":"","NotEqualTilde;":"","NotTildeEqual;":"","NotTildeTilde;":"","ntriangleleft;":"","Poincareplane;":"","PrecedesEqual;":"","PrecedesTilde;":"","RightArrowBar;":"","RightTeeArrow;":"","RightTriangle;":"","RightUpVector;":"","shortparallel;":"","smallsetminus;":"","SucceedsEqual;":"","SucceedsTilde;":"","SupersetEqual;":"","triangleright;":"","UpEquilibrium;":"","upharpoonleft;":"","varsubsetneqq;":"","varsupsetneqq;":"","VerticalTilde;":"","VeryThinSpace;":"","curvearrowleft;":"","DiacriticalDot;":"","doublebarwedge;":"","DoubleRightTee;":"","downdownarrows;":"","DownLeftVector;":"","GreaterGreater;":"","hookrightarrow;":"","HorizontalLine;":"","InvisibleComma;":"","InvisibleTimes;":"","LeftDownVector;":"","leftleftarrows;":"","LeftRightArrow;":"","Leftrightarrow;":"","leftrightarrow;":"","leftthreetimes;":"","LessSlantEqual;":"","LongRightArrow;":"","Longrightarrow;":"","longrightarrow;":"","looparrowright;":"","LowerLeftArrow;":"","NestedLessLess;":"","NotGreaterLess;":"","NotLessGreater;":"","NotSubsetEqual;":"","NotVerticalBar;":"","nshortparallel;":"","ntriangleright;":"","OpenCurlyQuote;":"","ReverseElement;":"","rightarrowtail;":"","rightharpoonup;":"","RightTeeVector;":"","RightVectorBar;":"","ShortDownArrow;":"","ShortLeftArrow;":"","SquareSuperset;":"","TildeFullEqual;":"","trianglelefteq;":"","upharpoonright;":"","UpperLeftArrow;":"","ZeroWidthSpace;":"","bigtriangledown;":"","circlearrowleft;":"","CloseCurlyQuote;":"","ContourIntegral;":"","curvearrowright;":"","DoubleDownArrow;":"","DoubleLeftArrow;":"","downharpoonleft;":"","DownRightVector;":"","leftharpoondown;":"","leftrightarrows;":"","LeftRightVector;":"","LeftTriangleBar;":"","LeftUpTeeVector;":"","LeftUpVectorBar;":"","LowerRightArrow;":"","nLeftrightarrow;":"","nleftrightarrow;":"","NotGreaterEqual;":"","NotGreaterTilde;":"","NotHumpDownHump;":"","NotLeftTriangle;":"","NotSquareSubset;":"","ntrianglelefteq;":"","OverParenthesis;":"","RightDownVector;":"","rightleftarrows;":"","rightsquigarrow;":"","rightthreetimes;":"","ShortRightArrow;":"","straightepsilon;":"","trianglerighteq;":"","UpperRightArrow;":"","vartriangleleft;":"","circlearrowright;":"","DiacriticalAcute;":"","DiacriticalGrave;":"`","DiacriticalTilde;":"","DoubleRightArrow;":"","DownArrowUpArrow;":"","downharpoonright;":"","EmptySmallSquare;":"","GreaterEqualLess;":"","GreaterFullEqual;":"","LeftAngleBracket;":"","LeftUpDownVector;":"","LessEqualGreater;":"","NonBreakingSpace;":"","NotPrecedesEqual;":"","NotRightTriangle;":"","NotSucceedsEqual;":"","NotSucceedsTilde;":"","NotSupersetEqual;":"","ntrianglerighteq;":"","rightharpoondown;":"","rightrightarrows;":"","RightTriangleBar;":"","RightUpTeeVector;":"","RightUpVectorBar;":"","twoheadleftarrow;":"","UnderParenthesis;":"","UpArrowDownArrow;":"","vartriangleright;":"","blacktriangledown;":"","blacktriangleleft;":"","DoubleUpDownArrow;":"","DoubleVerticalBar;":"","DownLeftTeeVector;":"","DownLeftVectorBar;":"","FilledSmallSquare;":"","GreaterSlantEqual;":"","LeftDoubleBracket;":"","LeftDownTeeVector;":"","LeftDownVectorBar;":"","leftrightharpoons;":"","LeftTriangleEqual;":"","NegativeThinSpace;":"","NotGreaterGreater;":"","NotLessSlantEqual;":"","NotNestedLessLess;":"","NotReverseElement;":"","NotSquareSuperset;":"","NotTildeFullEqual;":"","RightAngleBracket;":"","rightleftharpoons;":"","RightUpDownVector;":"","SquareSubsetEqual;":"","twoheadrightarrow;":"","VerticalSeparator;":"","blacktriangleright;":"","DownRightTeeVector;":"","DownRightVectorBar;":"","LongLeftRightArrow;":"","Longleftrightarrow;":"","longleftrightarrow;":"","NegativeThickSpace;":"","NotLeftTriangleBar;":"","PrecedesSlantEqual;":"","ReverseEquilibrium;":"","RightDoubleBracket;":"","RightDownTeeVector;":"","RightDownVectorBar;":"","RightTriangleEqual;":"","SquareIntersection;":"","SucceedsSlantEqual;":"","DoubleLongLeftArrow;":"","DownLeftRightVector;":"","LeftArrowRightArrow;":"","leftrightsquigarrow;":"","NegativeMediumSpace;":"","NotGreaterFullEqual;":"","NotRightTriangleBar;":"","RightArrowLeftArrow;":"","SquareSupersetEqual;":"","CapitalDifferentialD;":"","DoubleLeftRightArrow;":"","DoubleLongRightArrow;":"","EmptyVerySmallSquare;":"","NestedGreaterGreater;":"","NotDoubleVerticalBar;":"","NotGreaterSlantEqual;":"","NotLeftTriangleEqual;":"","NotSquareSubsetEqual;":"","OpenCurlyDoubleQuote;":"","ReverseUpEquilibrium;":"","CloseCurlyDoubleQuote;":"","DoubleContourIntegral;":"","FilledVerySmallSquare;":"","NegativeVeryThinSpace;":"","NotPrecedesSlantEqual;":"","NotRightTriangleEqual;":"","NotSucceedsSlantEqual;":"","DiacriticalDoubleAcute;":"","NotSquareSupersetEqual;":"","NotNestedGreaterGreater;":"","ClockwiseContourIntegral;":"","DoubleLongLeftRightArrow;":"","CounterClockwiseContourIntegral;":""};let Sy;const xy={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},ky=vu("style,iframe,script,noscript",!0),Ey={isVoidTag:Vu,isNativeTag:e=>Fu(e)||Bu(e),isPreTag:e=>"pre"===e,decodeEntities:(e,t)=>{let n=0;const i=e.length;let s="";function r(t){n+=t,e=e.slice(t)}for(;n<i;){const o=/&(?:#x?)?/i.exec(e);if(!o||n+o.index>=i){const t=i-n;s+=e.slice(0,t),r(t);break}if(s+=e.slice(0,o.index),r(o.index),"&"===o[0]){let n,i="";if(/[0-9a-z]/i.test(e[1])){Sy||(Sy=Object.keys(Cy).reduce(((e,t)=>Math.max(e,t.length)),0));for(let t=Sy;!n&&t>0;--t)i=e.slice(1,1+t),n=Cy[i];if(n){const o=i.endsWith(";");t&&!o&&/[=a-z0-9]/i.test(e[i.length+1]||"")?(s+="&"+i,r(1+i.length)):(s+=n,r(1+i.length))}else s+="&"+i,r(1+i.length)}else s+="&",r(1)}else{const t="&#x"===o[0],n=(t?/^&#x([0-9a-f]+);?/i:/^&#([0-9]+);?/).exec(e);if(n){let e=Number.parseInt(n[1],t?16:10);0===e||e>1114111||e>=55296&&e<=57343?e=65533:e>=64976&&e<=65007||65534==(65534&e)||(e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159)&&(e=xy[e]||e),s+=String.fromCodePoint(e),r(n[0].length)}else s+=o[0],r(o[0].length)}}return s},isBuiltInComponent:e=>zm(e,"Transition")?yy:zm(e,"TransitionGroup")?wy:void 0,getNamespace(e,t){let n=t?t.ns:0;if(t&&2===n)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(n=0);else t&&1===n&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(n=0));if(0===n){if("svg"===e)return 1;if("math"===e)return 2}return n},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(ky(e))return 2}return 0}},Dy=e=>{1===e.type&&e.props.forEach(((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:mg("style",!0,t.loc),exp:Ty(t.value.content,t.loc),modifiers:[],loc:t.loc})}))},Ty=(e,t)=>{const n=Ru(e);return mg(JSON.stringify(n),!1,t,3)};function Ly(e,t){return wp(e,t,Ny)}const Ny={50:"v-html is missing expression.",51:"v-html will override element children.",52:"v-text is missing expression.",53:"v-text will override element children.",54:"v-model can only be used on <input>, <textarea> and <select> elements.",55:"v-model argument is not supported on plain elements.",56:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",57:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",58:"v-show is missing expression.",59:"<Transition> expects exactly one child element or component.",60:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Iy=vu("passive,once,capture"),Py=vu("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Oy=vu("left,right"),Ry=vu("onkeyup,onkeydown,onkeypress",!0),Ay=(e,t)=>Um(e)&&"onclick"===e.content.toLowerCase()?mg(t,!0):4!==e.type?vg(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e;function My(e){const t=e.children=e.children.filter((e=>3!==e.type&&!(2===e.type&&!e.content.trim()))),n=t[0];return 1!==t.length||11===n.type||9===n.type&&n.branches.some(My)}const Fy=/__VUE_EXP_START__(.*?)__VUE_EXP_END__/g,By=(e,t,n)=>{if(t.scopes.vSlot>0)return;let i=0,s=0;const r=[],o=n=>{if(i>=20||s>=5){const i=bg(t.helper(Ap),[JSON.stringify(r.map((e=>$y(e,t))).join("")).replace(Fy,'" + $1 + "'),String(r.length)]);if(Uy(r[0],i,t),r.length>1){for(let e=1;e<r.length;e++)Uy(r[e],null,t);const i=r.length-1;return e.splice(n-r.length+1,i),i}}return 0};let a=0;for(;a<e.length;a++){const t=e[a];if(Vy(t)){const e=t,n=jy(e);if(n){i+=n[0],s+=n[1],r.push(e);continue}}a-=o(a),i=0,s=0,r.length=0}o(a)},Vy=e=>(1===e.type&&0===e.tagType||12==e.type)&&e.codegenNode&&4===e.codegenNode.type&&e.codegenNode.hoisted,Wy=/^(data|aria)-/,Hy=(e,t)=>(0===t?Lu(e):1===t&&Nu(e))||Wy.test(e),Uy=(e,t,n)=>{const i=e.codegenNode.hoisted;n.hoists[n.hoists.indexOf(i)]=t},zy=vu("caption,thead,tr,th,tbody,td,tfoot,colgroup,col");function jy(e){if(1===e.type&&zy(e.tag))return!1;if(12===e.type)return[1,0];let t=1,n=e.props.length>0?1:0,i=!1;const s=()=>(i=!0,!1);return!!function e(r){for(let t=0;t<r.props.length;t++){const e=r.props[t];if(6===e.type&&!Hy(e.name,r.ns))return s();if(7===e.type&&"bind"===e.name){if(e.arg&&(8===e.arg.type||e.arg.isStatic&&!Hy(e.arg.content,r.ns)))return s();if(e.exp&&(8===e.exp.type||e.exp.constType<3))return s()}}for(let s=0;s<r.children.length;s++){t++;const o=r.children[s];if(1===o.type&&(o.props.length>0&&n++,e(o),i))return!1}return!0}(e)&&[t,n]}function $y(e,t){if(np(e))return e;if(ip(e))return"";switch(e.type){case 1:return function(e,t){let n=`<${e.tag}`,i="";for(let s=0;s<e.props.length;s++){const t=e.props[s];if(6===t.type)n+=` ${t.name}`,t.value&&(n+=`="${Hu(t.value.content)}"`);else if(7===t.type)if("bind"===t.name){const e=t.exp;if("_"===e.content[0]){n+=` ${t.arg.content}="__VUE_EXP_START__${e.content}__VUE_EXP_END__"`;continue}let i=Ky(e);if(null!=i){const e=t.arg&&t.arg.content;"class"===e?i=Mu(i):"style"===e&&(i=Au(Iu(i))),n+=` ${t.arg.content}="${Hu(i)}"`}}else"html"===t.name?i=Ky(t.exp):"text"===t.name&&(i=Hu(Uu(Ky(t.exp))))}t.scopeId&&(n+=` ${t.scopeId}`);if(n+=">",i)n+=i;else for(let s=0;s<e.children.length;s++)n+=$y(e.children[s],t);Vu(e.tag)||(n+=`</${e.tag}>`);return n}(e,t);case 2:return Hu(e.content);case 3:return`\x3c!--${Hu(e.content)}--\x3e`;case 5:return Hu(Uu(Ky(e.content)));case 8:return Hu(Ky(e));case 12:return $y(e.content,t);default:return""}}function Ky(e){if(4===e.type)return new Function(`return ${e.content}`)();{let t="";return e.children.forEach((e=>{np(e)||ip(e)||(2===e.type?t+=e.content:5===e.type?t+=Uu(Ky(e.content)):t+=Ky(e))})),t}}const qy=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||(t.onError(Ly(60,e.loc)),t.removeNode())},Gy=[Dy,(e,t)=>{if(1===e.type&&1===e.tagType){if(t.isBuiltInComponent(e.tag)===yy)return()=>{if(!e.children.length)return;My(e)&&t.onError(Ly(59,{start:e.children[0].loc.start,end:e.children[e.children.length-1].loc.end,source:""}));const n=e.children[0];if(1===n.type)for(const t of n.props)7===t.type&&"show"===t.name&&e.props.push({type:6,name:"persisted",value:void 0,loc:e.loc})}}}],Yy={cloak:hy,html:(e,t,n)=>{const{exp:i,loc:s}=e;return i||n.onError(Ly(50,s)),t.children.length&&(n.onError(Ly(51,s)),t.children.length=0),{props:[fg(mg("innerHTML",!0,s),i||mg("",!0))]}},text:(e,t,n)=>{const{exp:i,loc:s}=e;return i||n.onError(Ly(52,s)),t.children.length&&(n.onError(Ly(53,s)),t.children.length=0),{props:[fg(mg("textContent",!0),i?J_(i,n)>0?i:bg(n.helperString(jp),[i],s):mg("",!0))]}},model:(e,t,n)=>{const i=ry(e,t,n);if(!i.props.length||1===t.tagType)return i;function s(){const e=i_(t,"value");e&&n.onError(Ly(57,e.loc))}e.arg&&n.onError(Ly(55,e.arg.loc));const{tag:r}=t,o=n.isCustomElement(r);if("input"===r||"textarea"===r||"select"===r||o){let a=gy,l=!1;if("input"===r||o){const i=i_(t,"type");if(i){if(7===i.type)a=my;else if(i.value)switch(i.value.content){case"radio":a=uy;break;case"checkbox":a=py;break;case"file":l=!0,n.onError(Ly(56,e.loc));break;default:s()}}else r_(t)?a=my:s()}else"select"===r?a=fy:s();l||(i.needRuntime=n.helper(a))}else n.onError(Ly(54,e.loc));return i.props=i.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),i},on:(e,t,n)=>Qb(e,t,n,(t=>{const{modifiers:i}=e;if(!i.length)return t;let{key:s,value:r}=t.props[0];const{keyModifiers:o,nonKeyModifiers:a,eventOptionModifiers:l}=((e,t,n,i)=>{const s=[],r=[],o=[];for(let a=0;a<t.length;a++){const n=t[a];Iy(n)?o.push(n):Oy(n)?Um(e)?Ry(e.content)?s.push(n):r.push(n):(s.push(n),r.push(n)):Py(n)?r.push(n):s.push(n)}return{keyModifiers:s,nonKeyModifiers:r,eventOptionModifiers:o}})(s,i,0,e.loc);if(a.includes("right")&&(s=Ay(s,"onContextmenu")),a.includes("middle")&&(s=Ay(s,"onMouseup")),a.length&&(r=bg(n.helper(_y),[r,JSON.stringify(a)])),!o.length||Um(s)&&!Ry(s.content)||(r=bg(n.helper(vy),[r,JSON.stringify(o)])),l.length){const e=l.map(fp).join("");s=Um(s)?mg(`${s.content}${e}`,!0):vg(["(",s,`) + "${e}"`])}return{props:[fg(s,r)]}})),show:(e,t,n)=>{const{exp:i,loc:s}=e;return i||n.onError(Ly(58,s)),{props:[],needRuntime:n.helper(by)}}};var Zy=Object.freeze({__proto__:null,parserOptions:Ey,DOMNodeTransforms:Gy,DOMDirectiveTransforms:Yy,compile:function(e,t={}){return dy(e,Yu({},Ey,t,{nodeTransforms:[qy,...Gy,...t.nodeTransforms||[]],directiveTransforms:Yu({},Yy,t.directiveTransforms||{}),transformHoist:By}))},parse:function(e,t={}){return k_(e,Yu({},Ey,t))},transformStyle:Dy,createDOMCompilerError:Ly,V_MODEL_RADIO:uy,V_MODEL_CHECKBOX:py,V_MODEL_TEXT:gy,V_MODEL_SELECT:fy,V_MODEL_DYNAMIC:my,V_ON_WITH_MODIFIERS:_y,V_ON_WITH_KEYS:vy,V_SHOW:by,TRANSITION:yy,TRANSITION_GROUP:wy,baseCompile:dy,baseParse:k_,transform:rv,createTransformContext:sv,traverseNode:ov,createStructuralDirectiveTransform:av,generate:qv,createCompilerError:wp,getBaseTransformPreset:cy,transformModel:ry,transformOn:Qb,transformBind:ey,noopDirectiveTransform:hy,processIf:yb,processFor:Eb,createForLoopParams:Pb,transformExpression:mb,processExpression:_b,buildSlots:Fb,trackVForSlotScopes:Ab,trackSlotScopes:Rb,transformElement:Ub,resolveComponentType:zb,buildProps:$b,buildDirectiveArgs:Gb,processSlotOutlet:Xb,getConstantType:J_,generateCodeFrame:Cu,checkCompatEnabled:function(e,t,n,...i){const s=function(e,t){const n=y_("MODE",t),i=y_(e,t);return 3===n?!0===i:!1!==i}(e,t);return s&&w_(e,t,n,...i),s},warnDeprecation:w_,locStub:dg,createRoot:hg,createVNodeCall:ug,createArrayExpression:pg,createObjectExpression:gg,createObjectProperty:fg,createSimpleExpression:mg,createInterpolation:_g,createCompoundExpression:vg,createCallExpression:bg,createFunctionExpression:yg,createConditionalExpression:wg,createCacheExpression:Cg,createBlockStatement:Sg,createTemplateLiteral:xg,createIfStatement:kg,createAssignmentExpression:Eg,createSequenceExpression:Dg,createReturnStatement:Tg,isStaticExp:Um,isBuiltInType:zm,isCoreComponent:jm,isSimpleIdentifier:Km,isMemberExpressionBrowser:e=>{e=e.trim().replace(Ym,(e=>e.trim()));let t=0,n=[],i=0,s=0,r=null;for(let o=0;o<e.length;o++){const a=e.charAt(o);switch(t){case 0:if("["===a)n.push(t),t=1,i++;else if("("===a)n.push(t),t=2,s++;else if(!(0===o?qm:Gm).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(t),t=3,r=a):"["===a?i++:"]"===a&&(--i||(t=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(t),t=3,r=a;else if("("===a)s++;else if(")"===a){if(o===e.length-1)return!1;--s||(t=n.pop())}break;case 3:a===r&&(t=n.pop(),r=null)}}return!i&&!s},isMemberExpressionNode:Zm,isMemberExpression:Xm,getInnerRange:Jm,advancePositionWithClone:Qm,advancePositionWithMutation:e_,assert:t_,findDir:n_,findProp:i_,isStaticArgOf:s_,hasDynamicKeyVBind:r_,isText:o_,isVSlot:a_,isTemplateNode:l_,isSlotOutlet:c_,getVNodeHelper:d_,getVNodeBlockHelper:h_,injectProp:g_,toValidAssetId:f_,hasScopeRef:m_,getMemoedVNodeCall:__,makeBlock:v_,walkIdentifiers:rb,isReferencedIdentifier:ob,isInDestructureAssignment:ab,walkFunctionParams:lb,walkBlockDeclarations:cb,extractIdentifiers:db,isFunctionType:ub,isStaticProperty:pb,isStaticPropertyKey:gb,FRAGMENT:Sp,TELEPORT:xp,SUSPENSE:kp,KEEP_ALIVE:Ep,BASE_TRANSITION:Dp,OPEN_BLOCK:Tp,CREATE_BLOCK:Lp,CREATE_ELEMENT_BLOCK:Np,CREATE_VNODE:Ip,CREATE_ELEMENT_VNODE:Pp,CREATE_COMMENT:Op,CREATE_TEXT:Rp,CREATE_STATIC:Ap,RESOLVE_COMPONENT:Mp,RESOLVE_DYNAMIC_COMPONENT:Fp,RESOLVE_DIRECTIVE:Bp,RESOLVE_FILTER:Vp,WITH_DIRECTIVES:Wp,RENDER_LIST:Hp,RENDER_SLOT:Up,CREATE_SLOTS:zp,TO_DISPLAY_STRING:jp,MERGE_PROPS:$p,NORMALIZE_CLASS:Kp,NORMALIZE_STYLE:qp,NORMALIZE_PROPS:Gp,GUARD_REACTIVE_PROPS:Yp,TO_HANDLERS:Zp,CAMELIZE:Xp,CAPITALIZE:Jp,TO_HANDLER_KEY:Qp,SET_BLOCK_TRACKING:eg,PUSH_SCOPE_ID:tg,POP_SCOPE_ID:ng,WITH_CTX:ig,UNREF:sg,IS_REF:rg,WITH_MEMO:og,IS_MEMO_SAME:ag,helperNameMap:lg,registerRuntimeHelpers:cg});function Xy(e,t){var n,i;if(0===t.length)return e;for(n=0,i=t.length;n<i;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e<0?-2*e:e}function Jy(e,t,n,i){var s,r=Xy(Xy(Xy(e,n),(s=t,Object.prototype.toString.call(s))),typeof t);if(null===t)return Xy(r,"null");if(void 0===t)return Xy(r,"undefined");if("object"==typeof t||"function"==typeof t){if(-1!==i.indexOf(t))return Xy(r,"[Circular]"+n);i.push(t);var o=function(e,t,n){return Object.keys(t).sort().reduce((function(e,i){return Jy(e,t[i],i,n)}),e)}(r,t,i);if(!("valueOf"in t)||"function"!=typeof t.valueOf)return o;try{return Xy(o,String(t.valueOf()))}catch(a){return Xy(o,"[valueOf exception]"+(a.stack||a.message))}}return Xy(r,t.toString())}var Qy=function(e){return function(e,t){for(;e.length<t;)e="0"+e;return e}(Jy(0,e,"",[]).toString(16),8)};function ew(e,t,n,i=!1){return`{\n  ${e.map((e=>`"${i?"--":""}${tw(t,e,n)}": (${e})`)).join(",\n  ")}\n}`}function tw(e,t,n){return n?Qy(e+t):`${e}-${t.replace(/([^\w-])/g,"_")}`}function nw(e){return"'"===(e=e.trim())[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}const iw=/v-bind\s*\(/g;function sw(e,t){let n=0,i=0;for(let s=t;s<e.length;s++){const t=e.charAt(s);switch(n){case 0:if("'"===t)n=1;else if('"'===t)n=2;else if("("===t)i++;else if(")"===t){if(!(i>0))return s;i--}break;case 1:"'"===t&&(n=0);break;case 2:'"'===t&&(n=0)}}return null}const rw=e=>{const{id:t,isProd:n}=e;return{postcssPlugin:"vue-sfc-vars",Declaration(e){const i=e.value;if(iw.test(i)){iw.lastIndex=0;let s,r="",o=0;for(;s=iw.exec(i);){const e=s.index+s[0].length,a=sw(i,e);if(null!==a){const l=nw(i.slice(e,a));r+=i.slice(o,s.index)+`var(--${tw(t,l,n)})`,o=a+1}}e.value=r+i.slice(o)}}}};function ow(e,t,n,i){const s=_b(mg(ew(e,n,i),!1),sv(hg([]),{prefixIdentifiers:!0,inline:!0,bindingMetadata:!1===t.__isScriptSetup?void 0:t}));return`_useCssVars(_ctx => (${4===s.type?s.content:s.children.map((e=>"string"==typeof e?e:e.content)).join("")}))`}function aw(e=500){return new Map}rw.postcss=!0;var lw=void 0!==lw?lw:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},cw=[],dw=[],hw="undefined"!=typeof Uint8Array?Uint8Array:Array,uw=!1;function pw(){uw=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)cw[t]=e[t],dw[e.charCodeAt(t)]=t;dw["-".charCodeAt(0)]=62,dw["_".charCodeAt(0)]=63}function gw(e,t,n){for(var i,s,r=[],o=t;o<n;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],r.push(cw[(s=i)>>18&63]+cw[s>>12&63]+cw[s>>6&63]+cw[63&s]);return r.join("")}function fw(e){var t;uw||pw();for(var n=e.length,i=n%3,s="",r=[],o=16383,a=0,l=n-i;a<l;a+=o)r.push(gw(e,a,a+o>l?l:a+o));return 1===i?(t=e[n-1],s+=cw[t>>2],s+=cw[t<<4&63],s+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],s+=cw[t>>10],s+=cw[t>>4&63],s+=cw[t<<2&63],s+="="),r.push(s),r.join("")}function mw(e,t,n,i,s){var r,o,a=8*s-i-1,l=(1<<a)-1,c=l>>1,d=-7,h=n?s-1:0,u=n?-1:1,p=e[t+h];for(h+=u,r=p&(1<<-d)-1,p>>=-d,d+=a;d>0;r=256*r+e[t+h],h+=u,d-=8);for(o=r&(1<<-d)-1,r>>=-d,d+=i;d>0;o=256*o+e[t+h],h+=u,d-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),r-=c}return(p?-1:1)*o*Math.pow(2,r-i)}function _w(e,t,n,i,s,r){var o,a,l,c=8*r-s-1,d=(1<<c)-1,h=d>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,g=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?u/l:u*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(t*l-1)*Math.pow(2,s),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&a,p+=g,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[n+p]=255&o,p+=g,o/=256,c-=8);e[n+p-g]|=128*f}var vw={}.toString,bw=Array.isArray||function(e){return"[object Array]"==vw.call(e)};function yw(){return Cw.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ww(e,t){if(yw()<t)throw new RangeError("Invalid typed array length");return Cw.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Cw.prototype:(null===e&&(e=new Cw(t)),e.length=t),e}function Cw(e,t,n){if(!(Cw.TYPED_ARRAY_SUPPORT||this instanceof Cw))return new Cw(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return kw(this,e)}return Sw(this,e,t,n)}function Sw(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);Cw.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Cw.prototype:e=Ew(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Cw.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|Lw(t,n),s=(e=ww(e,i)).write(t,n);s!==i&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(Tw(t)){var n=0|Dw(t.length);return 0===(e=ww(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?ww(e,0):Ew(e,t);if("Buffer"===t.type&&bw(t.data))return Ew(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function xw(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function kw(e,t){if(xw(t),e=ww(e,t<0?0:0|Dw(t)),!Cw.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Ew(e,t){var n=t.length<0?0:0|Dw(t.length);e=ww(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function Dw(e){if(e>=yw())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yw().toString(16)+" bytes");return 0|e}function Tw(e){return!(null==e||!e._isBuffer)}function Lw(e,t){if(Tw(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return tC(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return nC(e).length;default:if(i)return tC(e).length;t=(""+t).toLowerCase(),i=!0}}function Nw(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return jw(this,t,n);case"utf8":case"utf-8":return Hw(this,t,n);case"ascii":return Uw(this,t,n);case"latin1":case"binary":return zw(this,t,n);case"base64":return Ww(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $w(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function Iw(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Pw(e,t,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=Cw.from(t,i)),Tw(t))return 0===t.length?-1:Ow(e,t,n,i,s);if("number"==typeof t)return t&=255,Cw.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Ow(e,[t],n,i,s);throw new TypeError("val must be string, number or Buffer")}function Ow(e,t,n,i,s){var r,o=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var d=-1;for(r=n;r<a;r++)if(c(e,r)===c(t,-1===d?0:r-d)){if(-1===d&&(d=r),r-d+1===l)return d*o}else-1!==d&&(r-=r-d),d=-1}else for(n+l>a&&(n=a-l),r=n;r>=0;r--){for(var h=!0,u=0;u<l;u++)if(c(e,r+u)!==c(t,u)){h=!1;break}if(h)return r}return-1}function Rw(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i))>s&&(i=s):i=s;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var o=0;o<i;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function Aw(e,t,n,i){return iC(tC(t,e.length-n),e,n,i)}function Mw(e,t,n,i){return iC(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function Fw(e,t,n,i){return Mw(e,t,n,i)}function Bw(e,t,n,i){return iC(nC(t),e,n,i)}function Vw(e,t,n,i){return iC(function(e,t){for(var n,i,s,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,s=n%256,r.push(s),r.push(i);return r}(t,e.length-n),e,n,i)}function Ww(e,t,n){return 0===t&&n===e.length?fw(e):fw(e.slice(t,n))}function Hw(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;s<n;){var r,o,a,l,c=e[s],d=null,h=c>239?4:c>223?3:c>191?2:1;if(s+h<=n)switch(h){case 1:c<128&&(d=c);break;case 2:128==(192&(r=e[s+1]))&&(l=(31&c)<<6|63&r)>127&&(d=l);break;case 3:r=e[s+1],o=e[s+2],128==(192&r)&&128==(192&o)&&(l=(15&c)<<12|(63&r)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:r=e[s+1],o=e[s+2],a=e[s+3],128==(192&r)&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&r)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,h=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),s+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}Cw.TYPED_ARRAY_SUPPORT=void 0===lw.TYPED_ARRAY_SUPPORT||lw.TYPED_ARRAY_SUPPORT,Cw.poolSize=8192,Cw._augment=function(e){return e.__proto__=Cw.prototype,e},Cw.from=function(e,t,n){return Sw(null,e,t,n)},Cw.TYPED_ARRAY_SUPPORT&&(Cw.prototype.__proto__=Uint8Array.prototype,Cw.__proto__=Uint8Array),Cw.alloc=function(e,t,n){return function(e,t,n,i){return xw(t),t<=0?ww(e,t):void 0!==n?"string"==typeof i?ww(e,t).fill(n,i):ww(e,t).fill(n):ww(e,t)}(null,e,t,n)},Cw.allocUnsafe=function(e){return kw(null,e)},Cw.allocUnsafeSlow=function(e){return kw(null,e)},Cw.isBuffer=function(e){return null!=e&&(!!e._isBuffer||sC(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&sC(e.slice(0,0))}(e))},Cw.compare=function(e,t){if(!Tw(e)||!Tw(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,s=0,r=Math.min(n,i);s<r;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0},Cw.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Cw.concat=function(e,t){if(!bw(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Cw.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=Cw.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var r=e[n];if(!Tw(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,s),s+=r.length}return i},Cw.byteLength=Lw,Cw.prototype._isBuffer=!0,Cw.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Iw(this,t,t+1);return this},Cw.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Iw(this,t,t+3),Iw(this,t+1,t+2);return this},Cw.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Iw(this,t,t+7),Iw(this,t+1,t+6),Iw(this,t+2,t+5),Iw(this,t+3,t+4);return this},Cw.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Hw(this,0,e):Nw.apply(this,arguments)},Cw.prototype.equals=function(e){if(!Tw(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Cw.compare(this,e)},Cw.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Cw.prototype.compare=function(e,t,n,i,s){if(!Tw(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(this===e)return 0;for(var r=(s>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(r,o),l=this.slice(i,s),c=e.slice(t,n),d=0;d<a;++d)if(l[d]!==c[d]){r=l[d],o=c[d];break}return r<o?-1:o<r?1:0},Cw.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Cw.prototype.indexOf=function(e,t,n){return Pw(this,e,t,n,!0)},Cw.prototype.lastIndexOf=function(e,t,n){return Pw(this,e,t,n,!1)},Cw.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return Rw(this,e,t,n);case"utf8":case"utf-8":return Aw(this,e,t,n);case"ascii":return Mw(this,e,t,n);case"latin1":case"binary":return Fw(this,e,t,n);case"base64":return Bw(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vw(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},Cw.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Uw(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(127&e[s]);return i}function zw(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(e[s]);return i}function jw(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var s="",r=t;r<n;++r)s+=eC(e[r]);return s}function $w(e,t,n){for(var i=e.slice(t,n),s="",r=0;r<i.length;r+=2)s+=String.fromCharCode(i[r]+256*i[r+1]);return s}function Kw(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function qw(e,t,n,i,s,r){if(!Tw(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function Gw(e,t,n,i){t<0&&(t=65535+t+1);for(var s=0,r=Math.min(e.length-n,2);s<r;++s)e[n+s]=(t&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function Yw(e,t,n,i){t<0&&(t=4294967295+t+1);for(var s=0,r=Math.min(e.length-n,4);s<r;++s)e[n+s]=t>>>8*(i?s:3-s)&255}function Zw(e,t,n,i,s,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Xw(e,t,n,i,s){return s||Zw(e,0,n,4),_w(e,t,n,i,23,4),n+4}function Jw(e,t,n,i,s){return s||Zw(e,0,n,8),_w(e,t,n,i,52,8),n+8}Cw.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),Cw.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Cw.prototype;else{var s=t-e;n=new Cw(s,void 0);for(var r=0;r<s;++r)n[r]=this[r+e]}return n},Cw.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Kw(e,t,this.length);for(var i=this[e],s=1,r=0;++r<t&&(s*=256);)i+=this[e+r]*s;return i},Cw.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Kw(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},Cw.prototype.readUInt8=function(e,t){return t||Kw(e,1,this.length),this[e]},Cw.prototype.readUInt16LE=function(e,t){return t||Kw(e,2,this.length),this[e]|this[e+1]<<8},Cw.prototype.readUInt16BE=function(e,t){return t||Kw(e,2,this.length),this[e]<<8|this[e+1]},Cw.prototype.readUInt32LE=function(e,t){return t||Kw(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Cw.prototype.readUInt32BE=function(e,t){return t||Kw(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Cw.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Kw(e,t,this.length);for(var i=this[e],s=1,r=0;++r<t&&(s*=256);)i+=this[e+r]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},Cw.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Kw(e,t,this.length);for(var i=t,s=1,r=this[e+--i];i>0&&(s*=256);)r+=this[e+--i]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},Cw.prototype.readInt8=function(e,t){return t||Kw(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Cw.prototype.readInt16LE=function(e,t){t||Kw(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Cw.prototype.readInt16BE=function(e,t){t||Kw(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Cw.prototype.readInt32LE=function(e,t){return t||Kw(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Cw.prototype.readInt32BE=function(e,t){return t||Kw(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Cw.prototype.readFloatLE=function(e,t){return t||Kw(e,4,this.length),mw(this,e,!0,23,4)},Cw.prototype.readFloatBE=function(e,t){return t||Kw(e,4,this.length),mw(this,e,!1,23,4)},Cw.prototype.readDoubleLE=function(e,t){return t||Kw(e,8,this.length),mw(this,e,!0,52,8)},Cw.prototype.readDoubleBE=function(e,t){return t||Kw(e,8,this.length),mw(this,e,!1,52,8)},Cw.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||qw(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,r=0;for(this[t]=255&e;++r<n&&(s*=256);)this[t+r]=e/s&255;return t+n},Cw.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||qw(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,r=1;for(this[t+s]=255&e;--s>=0&&(r*=256);)this[t+s]=e/r&255;return t+n},Cw.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,1,255,0),Cw.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Cw.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,2,65535,0),Cw.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Gw(this,e,t,!0),t+2},Cw.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,2,65535,0),Cw.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Gw(this,e,t,!1),t+2},Cw.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,4,4294967295,0),Cw.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Yw(this,e,t,!0),t+4},Cw.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,4,4294967295,0),Cw.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Yw(this,e,t,!1),t+4},Cw.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var s=Math.pow(2,8*n-1);qw(this,e,t,n,s-1,-s)}var r=0,o=1,a=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},Cw.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var s=Math.pow(2,8*n-1);qw(this,e,t,n,s-1,-s)}var r=n-1,o=1,a=0;for(this[t+r]=255&e;--r>=0&&(o*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},Cw.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,1,127,-128),Cw.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Cw.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,2,32767,-32768),Cw.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Gw(this,e,t,!0),t+2},Cw.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,2,32767,-32768),Cw.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Gw(this,e,t,!1),t+2},Cw.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,4,2147483647,-2147483648),Cw.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Yw(this,e,t,!0),t+4},Cw.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||qw(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Cw.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Yw(this,e,t,!1),t+4},Cw.prototype.writeFloatLE=function(e,t,n){return Xw(this,e,t,!0,n)},Cw.prototype.writeFloatBE=function(e,t,n){return Xw(this,e,t,!1,n)},Cw.prototype.writeDoubleLE=function(e,t,n){return Jw(this,e,t,!0,n)},Cw.prototype.writeDoubleBE=function(e,t,n){return Jw(this,e,t,!1,n)},Cw.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s,r=i-n;if(this===e&&n<t&&t<i)for(s=r-1;s>=0;--s)e[s+t]=this[s+n];else if(r<1e3||!Cw.TYPED_ARRAY_SUPPORT)for(s=0;s<r;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},Cw.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Cw.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var o=Tw(e)?e:tC(new Cw(e,i).toString()),a=o.length;for(r=0;r<n-t;++r)this[r+t]=o[r%a]}return this};var Qw=/[^+\/0-9A-Za-z-_]/g;function eC(e){return e<16?"0"+e.toString(16):e.toString(16)}function tC(e,t){var n;t=t||1/0;for(var i=e.length,s=null,r=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&r.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&r.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function nC(e){return function(e){var t,n,i,s,r,o;uw||pw();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");r="="===e[a-2]?2:"="===e[a-1]?1:0,o=new hw(3*a/4-r),i=r>0?a-4:a;var l=0;for(t=0,n=0;t<i;t+=4,n+=3)s=dw[e.charCodeAt(t)]<<18|dw[e.charCodeAt(t+1)]<<12|dw[e.charCodeAt(t+2)]<<6|dw[e.charCodeAt(t+3)],o[l++]=s>>16&255,o[l++]=s>>8&255,o[l++]=255&s;return 2===r?(s=dw[e.charCodeAt(t)]<<2|dw[e.charCodeAt(t+1)]>>4,o[l++]=255&s):1===r&&(s=dw[e.charCodeAt(t)]<<10|dw[e.charCodeAt(t+1)]<<4|dw[e.charCodeAt(t+2)]>>2,o[l++]=s>>8&255,o[l++]=255&s),o}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Qw,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function iC(e,t,n,i){for(var s=0;s<i&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function sC(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function rC(e){var t="";e=e<0?-e<<1|1:e<<1;do{var n=31&e;(e>>>=5)>0&&(n|=32),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[n]}while(e>0);return t}var oC=function e(t){this.bits=t instanceof e?t.bits.slice():[]};oC.prototype.add=function(e){this.bits[e>>5]|=1<<(31&e)},oC.prototype.has=function(e){return!!(this.bits[e>>5]&1<<(31&e))};var aC=function(e,t,n){this.start=e,this.end=t,this.original=n,this.intro="",this.outro="",this.content=n,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};aC.prototype.appendLeft=function(e){this.outro+=e},aC.prototype.appendRight=function(e){this.intro=this.intro+e},aC.prototype.clone=function(){var e=new aC(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e},aC.prototype.contains=function(e){return this.start<e&&e<this.end},aC.prototype.eachNext=function(e){for(var t=this;t;)e(t),t=t.next},aC.prototype.eachPrevious=function(e){for(var t=this;t;)e(t),t=t.previous},aC.prototype.edit=function(e,t,n){return this.content=e,n||(this.intro="",this.outro=""),this.storeName=t,this.edited=!0,this},aC.prototype.prependLeft=function(e){this.outro=e+this.outro},aC.prototype.prependRight=function(e){this.intro=e+this.intro},aC.prototype.split=function(e){var t=e-this.start,n=this.original.slice(0,t),i=this.original.slice(t);this.original=n;var s=new aC(e,this.end,i);return s.outro=this.outro,this.outro="",this.end=e,this.edited?(s.edit("",!1),this.content=""):this.content=n,s.next=this.next,s.next&&(s.next.previous=s),s.previous=this,this.next=s,s},aC.prototype.toString=function(){return this.intro+this.content+this.outro},aC.prototype.trimEnd=function(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var t=this.content.replace(e,"");return t.length?(t!==this.content&&this.split(this.start+t.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),!!this.intro.length||void 0)},aC.prototype.trimStart=function(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var t=this.content.replace(e,"");return t.length?(t!==this.content&&(this.split(this.end-t.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),!!this.outro.length||void 0)};var lC=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};lC="undefined"!=typeof window&&"function"==typeof window.btoa?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:function(e){return Cw.from(e,"utf-8").toString("base64")};var cC=function(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=function(e){for(var t=0,n=0,i=0,s=0,r="",o=0;o<e.length;o++){var a=e[o];if(o>0&&(r+=";"),0!==a.length){for(var l=0,c=[],d=0,h=a;d<h.length;d++){var u=h[d],p=rC(u[0]-l);l=u[0],u.length>1&&(p+=rC(u[1]-t)+rC(u[2]-n)+rC(u[3]-i),t=u[1],n=u[2],i=u[3]),5===u.length&&(p+=rC(u[4]-s),s=u[4]),c.push(p)}r+=c.join(",")}}return r}(e.mappings)};function dC(e){var t=e.split("\n"),n=t.filter((function(e){return/^\t+/.test(e)})),i=t.filter((function(e){return/^ {2,}/.test(e)}));if(0===n.length&&0===i.length)return null;if(n.length>=i.length)return"\t";var s=i.reduce((function(e,t){var n=/^ +/.exec(t)[0].length;return Math.min(n,e)}),1/0);return new Array(s+1).join(" ")}function hC(e,t){var n=e.split(/[/\\]/),i=t.split(/[/\\]/);for(n.pop();n[0]===i[0];)n.shift(),i.shift();if(n.length)for(var s=n.length;s--;)n[s]="..";return n.concat(i).join("/")}cC.prototype.toString=function(){return JSON.stringify(this)},cC.prototype.toUrl=function(){return"data:application/json;charset=utf-8;base64,"+lC(this.toString())};var uC=Object.prototype.toString;function pC(e){for(var t=e.split("\n"),n=[],i=0,s=0;i<t.length;i++)n.push(s),s+=t[i].length+1;return function(e){for(var t=0,i=n.length;t<i;){var s=t+i>>1;e<n[s]?i=s:t=s+1}var r=t-1;return{line:r,column:e-n[r]}}}var gC=function(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};gC.prototype.addEdit=function(e,t,n,i){if(t.length){var s=[this.generatedCodeColumn,e,n.line,n.column];i>=0&&s.push(i),this.rawSegments.push(s)}else this.pending&&this.rawSegments.push(this.pending);this.advance(t),this.pending=null},gC.prototype.addUneditedChunk=function(e,t,n,i,s){for(var r=t.start,o=!0;r<t.end;)(this.hires||o||s.has(r))&&this.rawSegments.push([this.generatedCodeColumn,e,i.line,i.column]),"\n"===n[r]?(i.line+=1,i.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,o=!0):(i.column+=1,this.generatedCodeColumn+=1,o=!1),r+=1;this.pending=null},gC.prototype.advance=function(e){if(e){var t=e.split("\n");if(t.length>1){for(var n=0;n<t.length-1;n++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=t[t.length-1].length}};var fC="\n",mC={insertLeft:!1,insertRight:!1,storeName:!1},_C=function(e,t){void 0===t&&(t={});var n=new aC(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:n},lastChunk:{writable:!0,value:n},lastSearchedChunk:{writable:!0,value:n},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:t.filename},indentExclusionRanges:{writable:!0,value:t.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new oC},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:dC(e)}}),this.byStart[0]=n,this.byEnd[e.length]=n};function vC(e,t){for(var n=0,i=e.length-1;i>=0;i--){var s=e[i];"."===s?e.splice(i,1):".."===s?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}_C.prototype.addSourcemapLocation=function(e){this.sourcemapLocations.add(e)},_C.prototype.append=function(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.outro+=e,this},_C.prototype.appendLeft=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var n=this.byEnd[e];return n?n.appendLeft(t):this.intro+=t,this},_C.prototype.appendRight=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var n=this.byStart[e];return n?n.appendRight(t):this.outro+=t,this},_C.prototype.clone=function(){for(var e=new _C(this.original,{filename:this.filename}),t=this.firstChunk,n=e.firstChunk=e.lastSearchedChunk=t.clone();t;){e.byStart[n.start]=n,e.byEnd[n.end]=n;var i=t.next,s=i&&i.clone();s&&(n.next=s,s.previous=n,n=s),t=i}return e.lastChunk=n,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new oC(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e},_C.prototype.generateDecodedMap=function(e){var t=this;e=e||{};var n=Object.keys(this.storedNames),i=new gC(e.hires),s=pC(this.original);return this.intro&&i.advance(this.intro),this.firstChunk.eachNext((function(e){var r=s(e.start);e.intro.length&&i.advance(e.intro),e.edited?i.addEdit(0,e.content,r,e.storeName?n.indexOf(e.original):-1):i.addUneditedChunk(0,e,t.original,r,t.sourcemapLocations),e.outro.length&&i.advance(e.outro)})),{file:e.file?e.file.split(/[/\\]/).pop():null,sources:[e.source?hC(e.file||"",e.source):null],sourcesContent:e.includeContent?[this.original]:[null],names:n,mappings:i.raw}},_C.prototype.generateMap=function(e){return new cC(this.generateDecodedMap(e))},_C.prototype.getIndentString=function(){return null===this.indentStr?"\t":this.indentStr},_C.prototype.indent=function(e,t){var n,i=/^[^\r\n]/gm;if(n=e,"[object Object]"===uC.call(n)&&(t=e,e=void 0),""===(e=void 0!==e?e:this.indentStr||"\t"))return this;var s={};(t=t||{}).exclude&&("number"==typeof t.exclude[0]?[t.exclude]:t.exclude).forEach((function(e){for(var t=e[0];t<e[1];t+=1)s[t]=!0}));var r=!1!==t.indentStart,o=function(t){return r?""+e+t:(r=!0,t)};this.intro=this.intro.replace(i,o);for(var a=0,l=this.firstChunk;l;){var c=l.end;if(l.edited)s[a]||(l.content=l.content.replace(i,o),l.content.length&&(r="\n"===l.content[l.content.length-1]));else for(a=l.start;a<c;){if(!s[a]){var d=this.original[a];"\n"===d?r=!0:"\r"!==d&&r&&(r=!1,a===l.start?l.prependRight(e):(this._splitChunk(l,a),(l=l.next).prependRight(e)))}a+=1}a=l.end,l=l.next}return this.outro=this.outro.replace(i,o),this},_C.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")},_C.prototype.insertLeft=function(e,t){return mC.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),mC.insertLeft=!0),this.appendLeft(e,t)},_C.prototype.insertRight=function(e,t){return mC.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),mC.insertRight=!0),this.prependRight(e,t)},_C.prototype.move=function(e,t,n){if(n>=e&&n<=t)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(t),this._split(n);var i=this.byStart[e],s=this.byEnd[t],r=i.previous,o=s.next,a=this.byStart[n];if(!a&&s===this.lastChunk)return this;var l=a?a.previous:this.lastChunk;return r&&(r.next=o),o&&(o.previous=r),l&&(l.next=i),a&&(a.previous=s),i.previous||(this.firstChunk=s.next),s.next||(this.lastChunk=i.previous,this.lastChunk.next=null),i.previous=l,s.next=a||null,l||(this.firstChunk=i),a||(this.lastChunk=s),this},_C.prototype.overwrite=function(e,t,n,i){if("string"!=typeof n)throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(t>this.original.length)throw new Error("end is out of bounds");if(e===t)throw new Error("Cannot overwrite a zero-length range  use appendLeft or prependRight instead");this._split(e),this._split(t),!0===i&&(mC.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),mC.storeName=!0),i={storeName:!0});var s=void 0!==i&&i.storeName,r=void 0!==i&&i.contentOnly;if(s){var o=this.original.slice(e,t);this.storedNames[o]=!0}var a=this.byStart[e],l=this.byEnd[t];if(a){if(t>a.end&&a.next!==this.byStart[a.end])throw new Error("Cannot overwrite across a split point");if(a.edit(n,s,r),a!==l){for(var c=a.next;c!==l;)c.edit("",!1),c=c.next;c.edit("",!1)}}else{var d=new aC(e,t,"").edit(n,s);l.next=d,d.previous=l}return this},_C.prototype.prepend=function(e){if("string"!=typeof e)throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this},_C.prototype.prependLeft=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var n=this.byEnd[e];return n?n.prependLeft(t):this.intro=t+this.intro,this},_C.prototype.prependRight=function(e,t){if("string"!=typeof t)throw new TypeError("inserted content must be a string");this._split(e);var n=this.byStart[e];return n?n.prependRight(t):this.outro=t+this.outro,this},_C.prototype.remove=function(e,t){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(e===t)return this;if(e<0||t>this.original.length)throw new Error("Character is out of bounds");if(e>t)throw new Error("end must be greater than start");this._split(e),this._split(t);for(var n=this.byStart[e];n;)n.intro="",n.outro="",n.edit(""),n=t>n.end?this.byStart[n.end]:null;return this},_C.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""},_C.prototype.lastLine=function(){var e=this.outro.lastIndexOf(fC);if(-1!==e)return this.outro.substr(e+1);var t=this.outro,n=this.lastChunk;do{if(n.outro.length>0){if(-1!==(e=n.outro.lastIndexOf(fC)))return n.outro.substr(e+1)+t;t=n.outro+t}if(n.content.length>0){if(-1!==(e=n.content.lastIndexOf(fC)))return n.content.substr(e+1)+t;t=n.content+t}if(n.intro.length>0){if(-1!==(e=n.intro.lastIndexOf(fC)))return n.intro.substr(e+1)+t;t=n.intro+t}}while(n=n.previous);return-1!==(e=this.intro.lastIndexOf(fC))?this.intro.substr(e+1)+t:this.intro+t},_C.prototype.slice=function(e,t){for(void 0===e&&(e=0),void 0===t&&(t=this.original.length);e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;for(var n="",i=this.firstChunk;i&&(i.start>e||i.end<=e);){if(i.start<t&&i.end>=t)return n;i=i.next}if(i&&i.edited&&i.start!==e)throw new Error("Cannot use replaced character "+e+" as slice start anchor.");for(var s=i;i;){!i.intro||s===i&&i.start!==e||(n+=i.intro);var r=i.start<t&&i.end>=t;if(r&&i.edited&&i.end!==t)throw new Error("Cannot use replaced character "+t+" as slice end anchor.");var o=s===i?e-i.start:0,a=r?i.content.length+t-i.end:i.content.length;if(n+=i.content.slice(o,a),!i.outro||r&&i.end!==t||(n+=i.outro),r)break;i=i.next}return n},_C.prototype.snip=function(e,t){var n=this.clone();return n.remove(0,e),n.remove(t,n.original.length),n},_C.prototype._split=function(e){if(!this.byStart[e]&&!this.byEnd[e])for(var t=this.lastSearchedChunk,n=e>t.end;t;){if(t.contains(e))return this._splitChunk(t,e);t=n?this.byStart[t.end]:this.byEnd[t.start]}},_C.prototype._splitChunk=function(e,t){if(e.edited&&e.content.length){var n=pC(this.original)(t);throw new Error("Cannot split a chunk that has already been edited ("+n.line+":"+n.column+'  "'+e.original+'")')}var i=e.split(t);return this.byEnd[t]=e,this.byStart[t]=i,this.byEnd[i.end]=i,e===this.lastChunk&&(this.lastChunk=i),this.lastSearchedChunk=e,!0},_C.prototype.toString=function(){for(var e=this.intro,t=this.firstChunk;t;)e+=t.toString(),t=t.next;return e+this.outro},_C.prototype.isEmpty=function(){var e=this.firstChunk;do{if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1}while(e=e.next);return!0},_C.prototype.length=function(){var e=this.firstChunk,t=0;do{t+=e.intro.length+e.content.length+e.outro.length}while(e=e.next);return t},_C.prototype.trimLines=function(){return this.trim("[\\r\\n]")},_C.prototype.trim=function(e){return this.trimStart(e).trimEnd(e)},_C.prototype.trimEndAborted=function(e){var t=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;var n=this.lastChunk;do{var i=n.end,s=n.trimEnd(t);if(n.end!==i&&(this.lastChunk===n&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),s)return!0;n=n.previous}while(n);return!1},_C.prototype.trimEnd=function(e){return this.trimEndAborted(e),this},_C.prototype.trimStartAborted=function(e){var t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;var n=this.firstChunk;do{var i=n.end,s=n.trimStart(t);if(n.end!==i&&(n===this.lastChunk&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),s)return!0;n=n.next}while(n);return!1},_C.prototype.trimStart=function(e){return this.trimStartAborted(e),this};var bC=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,yC=function(e){return bC.exec(e).slice(1)};function wC(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i.charAt(0))}return(t?"/":"")+(e=vC(NC(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function CC(e){var t=SC(e),n="/"===IC(e,-1);return(e=vC(NC(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function SC(e){return"/"===e.charAt(0)}function xC(){var e=Array.prototype.slice.call(arguments,0);return CC(NC(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function kC(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=wC(e).substr(1),t=wC(t).substr(1);for(var i=n(e.split("/")),s=n(t.split("/")),r=Math.min(i.length,s.length),o=r,a=0;a<r;a++)if(i[a]!==s[a]){o=a;break}var l=[];for(a=o;a<i.length;a++)l.push("..");return(l=l.concat(s.slice(o))).join("/")}function EC(e){var t=yC(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."}function DC(e,t){var n=yC(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function TC(e){return yC(e)[3]}var LC={extname:TC,basename:DC,dirname:EC,sep:"/",delimiter:":",relative:kC,join:xC,isAbsolute:SC,normalize:CC,resolve:wC};function NC(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var IC="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},PC=Object.freeze({__proto__:null,resolve:wC,normalize:CC,isAbsolute:SC,join:xC,relative:kC,sep:"/",delimiter:":",dirname:EC,basename:DC,extname:TC,default:LC}),OC=/[^\x20-\x7E]/,RC=/[\x2E\u3002\uFF0E\uFF61]/g,AC={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},MC=Math.floor,FC=String.fromCharCode;function BC(e){throw new RangeError(AC[e])}function VC(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function WC(e,t,n){var i=0;for(e=n?MC(e/700):e>>1,e+=MC(e/t);e>455;i+=36)e=MC(e/35);return MC(i+36*e/(e+38))}function HC(e){return function(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]);var s=function(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}((e=e.replace(RC,".")).split("."),t).join(".");return i+s}(e,(function(e){return OC.test(e)?"xn--"+function(e){var t,n,i,s,r,o,a,l,c,d,h,u,p,g,f,m=[];for(u=(e=function(e){for(var t,n,i=[],s=0,r=e.length;s<r;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r?56320==(64512&(n=e.charCodeAt(s++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),s--):i.push(t);return i}(e)).length,t=128,n=0,r=72,o=0;o<u;++o)(h=e[o])<128&&m.push(FC(h));for(i=s=m.length,s&&m.push("-");i<u;){for(a=2147483647,o=0;o<u;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>MC((2147483647-n)/(p=i+1))&&BC("overflow"),n+=(a-t)*p,t=a,o=0;o<u;++o)if((h=e[o])<t&&++n>2147483647&&BC("overflow"),h==t){for(l=n,c=36;!(l<(d=c<=r?1:c>=r+26?26:c-r));c+=36)f=l-d,g=36-d,m.push(FC(VC(d+f%g,0))),l=MC(f/g);m.push(FC(VC(l,0))),r=WC(n,p,i==s),n=0,++i}++n,++t}return m.join("")}(e):e}))}function UC(){throw new Error("setTimeout has not been defined")}function zC(){throw new Error("clearTimeout has not been defined")}var jC=UC,$C=zC;function KC(e){if(jC===setTimeout)return setTimeout(e,0);if((jC===UC||!jC)&&setTimeout)return jC=setTimeout,setTimeout(e,0);try{return jC(e,0)}catch(t){try{return jC.call(null,e,0)}catch(n){return jC.call(this,e,0)}}}"function"==typeof lw.setTimeout&&(jC=setTimeout),"function"==typeof lw.clearTimeout&&($C=clearTimeout);var qC,GC=[],YC=!1,ZC=-1;function XC(){YC&&qC&&(YC=!1,qC.length?GC=qC.concat(GC):ZC=-1,GC.length&&JC())}function JC(){if(!YC){var e=KC(XC);YC=!0;for(var t=GC.length;t;){for(qC=GC,GC=[];++ZC<t;)qC&&qC[ZC].run();ZC=-1,t=GC.length}qC=null,YC=!1,function(e){if($C===clearTimeout)return clearTimeout(e);if(($C===zC||!$C)&&clearTimeout)return $C=clearTimeout,clearTimeout(e);try{$C(e)}catch(t){try{return $C.call(null,e)}catch(n){return $C.call(this,e)}}}(e)}}function QC(e,t){this.fun=e,this.array=t}QC.prototype.run=function(){this.fun.apply(null,this.array)};function eS(){}var tS=eS,nS=eS,iS=eS,sS=eS,rS=eS,oS=eS,aS=eS;var lS=lw.performance||{},cS=lS.now||lS.mozNow||lS.msNow||lS.oNow||lS.webkitNow||function(){return(new Date).getTime()};var dS=new Date;var hS={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];GC.push(new QC(e,t)),1!==GC.length||YC||KC(JC)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:tS,addListener:nS,once:iS,off:sS,removeListener:rS,removeAllListeners:oS,emit:aS,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*cS.call(lS),n=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(n-=e[0],(i-=e[1])<0&&(n--,i+=1e9)),[n,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-dS)/1e3}},uS="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},pS=/%[sdj%]/g;function gS(e){if(!NS(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(bS(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,s=i.length,r=String(e).replace(pS,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}})),o=i[n];n<s;o=i[++n])DS(o)||!RS(o)?r+=" "+o:r+=" "+bS(o);return r}function fS(e,t){if(PS(lw.process))return function(){return fS(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}}var mS,_S={};function vS(e){if(PS(mS)&&(mS=""),e=e.toUpperCase(),!_S[e])if(new RegExp("\\b"+e+"\\b","i").test(mS)){_S[e]=function(){var t=gS.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else _S[e]=function(){};return _S[e]}function bS(e,t){var n={seen:[],stylize:wS};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),ES(t)?n.showHidden=t:t&&$S(n,t),PS(n.showHidden)&&(n.showHidden=!1),PS(n.depth)&&(n.depth=2),PS(n.colors)&&(n.colors=!1),PS(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=yS),CS(n,e,n.depth)}function yS(e,t){var n=bS.styles[t];return n?"["+bS.colors[n][0]+"m"+e+"["+bS.colors[n][1]+"m":e}function wS(e,t){return e}function CS(e,t,n){if(e.customInspect&&t&&FS(t.inspect)&&t.inspect!==bS&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return NS(i)||(i=CS(e,i,n)),i}var s=function(e,t){if(PS(t))return e.stylize("undefined","undefined");if(NS(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(LS(t))return e.stylize(""+t,"number");if(ES(t))return e.stylize(""+t,"boolean");if(DS(t))return e.stylize("null","null")}(e,t);if(s)return s;var r=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),MS(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return SS(t);if(0===r.length){if(FS(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(OS(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(AS(t))return e.stylize(Date.prototype.toString.call(t),"date");if(MS(t))return SS(t)}var l,c="",d=!1,h=["{","}"];(kS(t)&&(d=!0,h=["[","]"]),FS(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return OS(t)&&(c=" "+RegExp.prototype.toString.call(t)),AS(t)&&(c=" "+Date.prototype.toUTCString.call(t)),MS(t)&&(c=" "+SS(t)),0!==r.length||d&&0!=t.length?n<0?OS(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=d?function(e,t,n,i,s){for(var r=[],o=0,a=t.length;o<a;++o)KS(t,String(o))?r.push(xS(e,t,n,i,String(o),!0)):r.push("");return s.forEach((function(s){s.match(/^\d+$/)||r.push(xS(e,t,n,i,s,!0))})),r}(e,t,n,o,r):r.map((function(i){return xS(e,t,n,o,i,d)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,c,h)):h[0]+c+h[1]}function SS(e){return"["+Error.prototype.toString.call(e)+"]"}function xS(e,t,n,i,s,r){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),KS(i,s)||(o="["+s+"]"),a||(e.seen.indexOf(l.value)<0?(a=DS(n)?CS(e,l.value,null):CS(e,l.value,n-1)).indexOf("\n")>-1&&(a=r?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),PS(o)){if(r&&s.match(/^\d+$/))return a;(o=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function kS(e){return Array.isArray(e)}function ES(e){return"boolean"==typeof e}function DS(e){return null===e}function TS(e){return null==e}function LS(e){return"number"==typeof e}function NS(e){return"string"==typeof e}function IS(e){return"symbol"==typeof e}function PS(e){return void 0===e}function OS(e){return RS(e)&&"[object RegExp]"===WS(e)}function RS(e){return"object"==typeof e&&null!==e}function AS(e){return RS(e)&&"[object Date]"===WS(e)}function MS(e){return RS(e)&&("[object Error]"===WS(e)||e instanceof Error)}function FS(e){return"function"==typeof e}function BS(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function VS(e){return Cw.isBuffer(e)}function WS(e){return Object.prototype.toString.call(e)}function HS(e){return e<10?"0"+e.toString(10):e.toString(10)}bS.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},bS.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var US=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function zS(){var e=new Date,t=[HS(e.getHours()),HS(e.getMinutes()),HS(e.getSeconds())].join(":");return[e.getDate(),US[e.getMonth()],t].join(" ")}function jS(){console.log("%s - %s",zS(),gS.apply(null,arguments))}function $S(e,t){if(!t||!RS(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}function KS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var qS={inherits:uS,_extend:$S,log:jS,isBuffer:VS,isPrimitive:BS,isFunction:FS,isError:MS,isDate:AS,isObject:RS,isRegExp:OS,isUndefined:PS,isSymbol:IS,isString:NS,isNumber:LS,isNullOrUndefined:TS,isNull:DS,isBoolean:ES,isArray:kS,inspect:bS,deprecate:fS,format:gS,debuglog:vS},GS=Object.freeze({__proto__:null,format:gS,deprecate:fS,debuglog:vS,inspect:bS,isArray:kS,isBoolean:ES,isNull:DS,isNullOrUndefined:TS,isNumber:LS,isString:NS,isSymbol:IS,isUndefined:PS,isRegExp:OS,isObject:RS,isDate:AS,isError:MS,isFunction:FS,isPrimitive:BS,isBuffer:VS,log:jS,inherits:uS,_extend:$S,default:qS});function YS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ZS=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function XS(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function JS(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var QS=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};function ex(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var r=/\+/g;e=e.split(t);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c,d,h,u,p=e[l].replace(r,"%20"),g=p.indexOf(n);g>=0?(c=p.substr(0,g),d=p.substr(g+1)):(c=p,d=""),h=decodeURIComponent(c),u=decodeURIComponent(d),YS(s,h)?ZS(s[h])?s[h].push(u):s[h]=[s[h],u]:s[h]=u}return s}var tx={parse:fx,resolve:bx,resolveObject:yx,format:_x,Url:nx};function nx(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ix=/^([a-z0-9.+-]+:)/i,sx=/:[0-9]*$/,rx=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ox=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ax=["'"].concat(ox),lx=["%","/","?",";","#"].concat(ax),cx=["/","?","#"],dx=/^[+a-z0-9A-Z_-]{0,63}$/,hx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ux={javascript:!0,"javascript:":!0},px={javascript:!0,"javascript:":!0},gx={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function fx(e,t,n){if(e&&RS(e)&&e instanceof nx)return e;var i=new nx;return i.parse(e,t,n),i}function mx(e,t,n,i){if(!NS(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),r=-1!==s&&s<t.indexOf("#")?"?":"#",o=t.split(r);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(r);if(a=a.trim(),!i&&1===t.split("#").length){var l=rx.exec(a);if(l)return e.path=a,e.href=a,e.pathname=l[1],l[2]?(e.search=l[2],e.query=n?ex(e.search.substr(1)):e.search.substr(1)):n&&(e.search="",e.query={}),e}var c,d,h,u,p=ix.exec(a);if(p){var g=(p=p[0]).toLowerCase();e.protocol=g,a=a.substr(p.length)}if(i||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===a.substr(0,2);!f||p&&px[p]||(a=a.substr(2),e.slashes=!0)}if(!px[p]&&(f||p&&!gx[p])){var m,_,v=-1;for(c=0;c<cx.length;c++)-1!==(d=a.indexOf(cx[c]))&&(-1===v||d<v)&&(v=d);for(-1!==(_=-1===v?a.lastIndexOf("@"):a.lastIndexOf("@",v))&&(m=a.slice(0,_),a=a.slice(_+1),e.auth=decodeURIComponent(m)),v=-1,c=0;c<lx.length;c++)-1!==(d=a.indexOf(lx[c]))&&(-1===v||d<v)&&(v=d);-1===v&&(v=a.length),e.host=a.slice(0,v),a=a.slice(v),wx(e),e.hostname=e.hostname||"";var b="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!b){var y=e.hostname.split(/\./);for(c=0,h=y.length;c<h;c++){var w=y[c];if(w&&!w.match(dx)){for(var C="",S=0,x=w.length;S<x;S++)w.charCodeAt(S)>127?C+="x":C+=w[S];if(!C.match(dx)){var k=y.slice(0,c),E=y.slice(c+1),D=w.match(hx);D&&(k.push(D[1]),E.unshift(D[2])),E.length&&(a="/"+E.join(".")+a),e.hostname=k.join(".");break}}}}e.hostname.length>255?e.hostname="":e.hostname=e.hostname.toLowerCase(),b||(e.hostname=HC(e.hostname)),u=e.port?":"+e.port:"";var T=e.hostname||"";e.host=T+u,e.href+=e.host,b&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!ux[g])for(c=0,h=ax.length;c<h;c++){var L=ax[c];if(-1!==a.indexOf(L)){var N=encodeURIComponent(L);N===L&&(N=escape(L)),a=a.split(L).join(N)}}var I=a.indexOf("#");-1!==I&&(e.hash=a.substr(I),a=a.slice(0,I));var P=a.indexOf("?");if(-1!==P?(e.search=a.substr(P),e.query=a.substr(P+1),n&&(e.query=ex(e.query)),a=a.slice(0,P)):n&&(e.search="",e.query={}),a&&(e.pathname=a),gx[g]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){u=e.pathname||"";var O=e.search||"";e.path=u+O}return e.href=vx(e),e}function _x(e){return NS(e)&&(e=mx({},e)),vx(e)}function vx(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var n,i,s,r,o=e.protocol||"",a=e.pathname||"",l=e.hash||"",c=!1,d="";e.host?c=t+e.host:e.hostname&&(c=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(c+=":"+e.port)),e.query&&RS(e.query)&&Object.keys(e.query).length&&(n=e.query,i=i||"&",s=s||"=",null===n&&(n=void 0),d="object"==typeof n?JS(QS(n),(function(e){var t=encodeURIComponent(XS(e))+s;return ZS(n[e])?JS(n[e],(function(e){return t+encodeURIComponent(XS(e))})).join(i):t+encodeURIComponent(XS(n[e]))})).join(i):r?encodeURIComponent(XS(r))+s+encodeURIComponent(XS(n)):"");var h=e.search||d&&"?"+d||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||gx[o])&&!1!==c?(c="//"+(c||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):c||(c=""),l&&"#"!==l.charAt(0)&&(l="#"+l),h&&"?"!==h.charAt(0)&&(h="?"+h),o+c+(a=a.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(h=h.replace("#","%23"))+l}function bx(e,t){return fx(e,!1,!0).resolve(t)}function yx(e,t){return e?fx(e,!1,!0).resolveObject(t):t}function wx(e){var t=e.host,n=sx.exec(t);n&&(":"!==(n=n[0])&&(e.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t)}nx.prototype.parse=function(e,t,n){return mx(this,e,t,n)},nx.prototype.format=function(){return vx(this)},nx.prototype.resolve=function(e){return this.resolveObject(fx(e,!1,!0)).format()},nx.prototype.resolveObject=function(e){if(NS(e)){var t=new nx;t.parse(e,!1,!0),e=t}for(var n,i=new nx,s=Object.keys(this),r=0;r<s.length;r++){var o=s[r];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var c=a[l];"protocol"!==c&&(i[c]=e[c])}return gx[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!gx[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var u=d[h];i[u]=e[u]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||px[e.protocol])i.pathname=e.pathname;else{for(n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),i.pathname=n.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var p=i.pathname||"",g=i.search||"";i.path=p+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var f,m=i.pathname&&"/"===i.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=_||m||i.host&&e.pathname,b=v,y=i.pathname&&i.pathname.split("/")||[],w=i.protocol&&!gx[i.protocol];if(n=e.pathname&&e.pathname.split("/")||[],w&&(i.hostname="",i.port=null,i.host&&(""===y[0]?y[0]=i.host:y.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=null),v=v&&(""===n[0]||""===y[0])),_)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,y=n;else if(n.length)y||(y=[]),y.pop(),y=y.concat(n),i.search=e.search,i.query=e.query;else if(!TS(e.search))return w&&(i.hostname=i.host=y.shift(),(f=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=f.shift(),i.host=i.hostname=f.shift())),i.search=e.search,i.query=e.query,DS(i.pathname)&&DS(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!y.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var C=y.slice(-1)[0],S=(i.host||e.host||y.length>1)&&("."===C||".."===C)||""===C,x=0,k=y.length;k>=0;k--)"."===(C=y[k])?y.splice(k,1):".."===C?(y.splice(k,1),x++):x&&(y.splice(k,1),x--);if(!v&&!b)for(;x--;x)y.unshift("..");!v||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),S&&"/"!==y.join("/").substr(-1)&&y.push("");var E=""===y[0]||y[0]&&"/"===y[0].charAt(0);return w&&(i.hostname=i.host=E?"":y.length?y.shift():"",(f=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=f.shift(),i.host=i.hostname=f.shift())),(v=v||i.host&&y.length)&&!E&&y.unshift(""),y.length?i.pathname=y.join("/"):(i.pathname=null,i.path=null),DS(i.pathname)&&DS(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},nx.prototype.parseHost=function(){return wx(this)};var Cx=Object.freeze({__proto__:null,parse:fx,resolve:bx,resolveObject:yx,format:_x,default:tx,Url:nx});function Sx(e){const t=e.charAt(0);return"."===t||"~"===t||"@"===t}const xx=/^(https?:)?\/\//;function kx(e){return xx.test(e)}const Ex=/^\s*data:/i;function Dx(e){return Ex.test(e)}function Tx(e){if("~"===e.charAt(0)){const t=e.charAt(1);e=e.slice("/"===t?2:1)}return fx(np(t=e)?t:"",!1,!0);var t}const Lx={base:null,includeAbsolute:!1,tags:{video:["src","poster"],source:["src"],img:["src"],image:["xlink:href","href"],use:["xlink:href","href"]}},Nx=e=>(t,n)=>Ix(t,n,e),Ix=(e,t,n=Lx)=>{if(1===e.type){if(!e.props.length)return;const i=n.tags||Lx.tags,s=i[e.tag],r=i["*"];if(!s&&!r)return;const o=(s||[]).concat(r||[]);e.props.forEach(((i,s)=>{if(6!==i.type||!o.includes(i.name)||!i.value||kx(i.value.content)||Dx(i.value.content)||"#"===i.value.content[0]||!n.includeAbsolute&&!Sx(i.value.content))return;const r=Tx(i.value.content);if(n.base&&"."===i.value.content[0]){const e=Tx(n.base),t=e.protocol||"",s=e.host?t+"//"+e.host:"",o=e.path||"/";return void(i.value.content=s+(LC.posix||LC).join(o,r.path+(r.hash||"")))}const a=function(e,t,n,i){if(e){let s,r;const o=i.imports.findIndex((t=>t.path===e));if(o>-1?(s=`_imports_${o}`,r=i.imports[o].exp):(s=`_imports_${i.imports.length}`,r=mg(s,!1,n,3),i.imports.push({exp:r,path:e})),!t)return r;const a=`${s} + '${t}'`,l=mg(a,!1,n,3);if(!i.hoistStatic)return l;const c=i.hoists.findIndex((e=>e&&4===e.type&&!e.isStatic&&e.content===a));return c>-1?mg(`_hoisted_${c+1}`,!1,n,3):i.hoist(l)}return mg("''",!1,n,3)}(r.path,r.hash,i.loc,t);e.props[s]={type:7,name:"bind",arg:mg(i.name,!0,i.loc),exp:a,modifiers:[],loc:i.loc}}))}};const Px=["img","source"],Ox=/( |\\t|\\n|\\f|\\r)+/g,Rx=e=>(t,n)=>Ax(t,n,e),Ax=(e,t,n=Lx)=>{1===e.type&&Px.includes(e.tag)&&e.props.length&&e.props.forEach(((i,s)=>{if("srcset"===i.name&&6===i.type){if(!i.value)return;const r=i.value.content;if(!r)return;const o=r.split(",").map((e=>{const[t,n]=e.replace(Ox," ").trim().split(" ",2);return{url:t,descriptor:n}}));for(let e=0;e<o.length;e++){const{url:t}=o[e];Dx(t)&&(o[e+1].url=t+","+o[e+1].url,o.splice(e,1))}const a=e=>!kx(e)&&!Dx(e)&&(n.includeAbsolute||Sx(e));if(!o.some((({url:e})=>a(e))))return;if(n.base){const e=n.base,t=[];let s=!1;if(o.forEach((n=>{let{url:i,descriptor:r}=n;r=r?` ${r}`:"","."===i[0]?(n.url=(LC.posix||LC).join(e,i),t.push(n.url+r)):a(i)?s=!0:t.push(i+r)})),!s)return void(i.value.content=t.join(", "))}const l=vg([],i.loc);o.forEach((({url:e,descriptor:n},s)=>{if(a(e)){const{path:n}=Tx(e);let s;if(n){const e=t.imports.findIndex((e=>e.path===n));e>-1?s=mg(`_imports_${e}`,!1,i.loc,3):(s=mg(`_imports_${t.imports.length}`,!1,i.loc,3),t.imports.push({exp:s,path:n})),l.children.push(s)}}else{const t=mg(`"${e}"`,!1,i.loc,3);l.children.push(t)}const r=o.length-1>s;n&&r?l.children.push(` + ' ${n}, ' + `):n?l.children.push(` + ' ${n}'`):r&&l.children.push(" + ', ' + ")}));let c=l;t.hoistStatic&&(c=t.hoist(l),c.constType=3),e.props[s]={type:7,name:"bind",arg:mg("srcset",!0,i.loc),exp:c,modifiers:[],loc:i.loc}}}))},Mx=Symbol("ssrInterpolate"),Fx=Symbol("ssrRenderVNode"),Bx=Symbol("ssrRenderComponent"),Vx=Symbol("ssrRenderSlot"),Wx=Symbol("ssrRenderSlotInner"),Hx=Symbol("ssrRenderClass"),Ux=Symbol("ssrRenderStyle"),zx=Symbol("ssrRenderAttrs"),jx=Symbol("ssrRenderAttr"),$x=Symbol("ssrRenderDynamicAttr"),Kx=Symbol("ssrRenderList"),qx=Symbol("ssrIncludeBooleanAttr"),Gx=Symbol("ssrLooseEqual"),Yx=Symbol("ssrLooseContain"),Zx=Symbol("ssrRenderDynamicModel"),Xx=Symbol("ssrGetDynamicModelProps"),Jx=Symbol("ssrRenderTeleport"),Qx=Symbol("ssrRenderSuspense"),ek=Symbol("ssrGetDirectiveProps"),tk={[Mx]:"ssrInterpolate",[Fx]:"ssrRenderVNode",[Bx]:"ssrRenderComponent",[Vx]:"ssrRenderSlot",[Wx]:"ssrRenderSlotInner",[Hx]:"ssrRenderClass",[Ux]:"ssrRenderStyle",[zx]:"ssrRenderAttrs",[jx]:"ssrRenderAttr",[$x]:"ssrRenderDynamicAttr",[Kx]:"ssrRenderList",[qx]:"ssrIncludeBooleanAttr",[Gx]:"ssrLooseEqual",[Yx]:"ssrLooseContain",[Zx]:"ssrRenderDynamicModel",[Xx]:"ssrGetDynamicModelProps",[Jx]:"ssrRenderTeleport",[Qx]:"ssrRenderSuspense",[ek]:"ssrGetDirectiveProps"};cg(tk);const nk=av(/^(if|else|else-if)$/,yb);function ik(e,t,n=!1){const[i]=e.branches,s=kg(i.condition,sk(i,t,n));t.pushStatement(s);let r=s;for(let o=1;o<e.branches.length;o++){const i=e.branches[o],s=sk(i,t,n);i.condition?r=r.alternate=kg(i.condition,s):r.alternate=s}r.alternate||(r.alternate=Sg([bg("_push",["`\x3c!----\x3e`"])]))}function sk(e,t,n=!1){const{children:i}=e;return Ok(e,t,!(n||1===i.length&&1===i[0].type||1===i.length&&11===i[0].type))}const rk=av("for",Eb);function ok(e,t,n=!1){const i=!n&&(1!==e.children.length||1!==e.children[0].type),s=yg(Pb(e.parseResult));s.body=Ok(e,t,i),n||t.pushStringPart("\x3c!--[--\x3e"),t.pushStatement(bg(t.helper(Kx),[e.source,s])),n||t.pushStringPart("\x3c!--]--\x3e")}const ak=(e,t)=>{if(c_(e)){const{slotName:n,slotProps:i}=Xb(e,t),s=["_ctx.$slots",n,i||"{}","null","_push","_parent"];t.scopeId&&!1!==t.slotted&&s.push(`"${t.scopeId}-s"`);let r=Vx;const o=t.parent;o&&1===o.type&&1===o.tagType&&zb(o,t,!0)===yy&&1===o.children.filter((e=>1===e.type)).length&&(r=Wx,t.scopeId&&!1!==t.slotted||s.push("null"),s.push("true")),e.ssrCodegenNode=bg(t.helper(r),s)}};function lk(e,t){const n=e.ssrCodegenNode;if(e.children.length){const i=yg([]);i.body=Ok(e,t),n.arguments[3]=i}if(t.withSlotScopeId){const e=n.arguments[6];n.arguments[6]=e?`${e} + _scopeId`:"_scopeId"}t.pushStatement(e.ssrCodegenNode)}function ck(e,t){return wp(e,t,dk)}const dk={61:"Unsafe attribute name for SSR.",62:"Missing the 'to' prop on teleport element.",63:"Invalid AST node during SSR transform."};const hk=new WeakMap;const uk=new WeakMap,pk=(e,t)=>{if(1===e.type&&0===e.tagType)return function(){const n=[`<${e.tag}`],i="textarea"===e.tag||e.tag.indexOf("-")>0,s=r_(e),r=e.props.some((e=>7===e.type&&!cp(e.name))),o=s||r;if(o){const{props:s,directives:r}=$b(e,t,e.props,!1,!1,!0);if(s||r.length){const o=gk(s,r,t),a=bg(t.helper(zx),[o]);if("textarea"===e.tag){const n=e.children[0];if(!n||5!==n.type){const i="_temp"+t.temps++;a.arguments=[Eg(mg(i,!1),o)],uk.set(e,bg(t.helper(Mx),[wg(mg(`"value" in ${i}`,!1),mg(`${i}.value`,!1),mg(n?n.content:"",!0),!1)]))}}else if("input"===e.tag){const n=function(e){return e.props.find((e=>7===e.type&&"model"===e.name&&e.exp))}(e);if(n){const e=mg("_temp"+t.temps++,!1);a.arguments=[Dg([Eg(e,o),bg(t.helper($p),[e,bg(t.helper(Xx),[e,n.exp])])])]}}i&&a.arguments.push(`"${e.tag}"`),n.push(a)}}let a,l,c;for(let d=0;d<e.props.length;d++){const s=e.props[d];if("input"!==e.tag||!fk(s))if(7===s.type){if("html"===s.name&&s.exp)uk.set(e,s.exp);else if("text"===s.name&&s.exp)e.children=[_g(s.exp,s.loc)];else if("slot"===s.name)t.onError(wp(40,s.loc));else if(mk(e,s)&&s.exp)o||(e.children=[_g(s.exp,s.loc)]);else if(!o&&"on"!==s.name){const r=t.directiveTransforms[s.name];if(r){const{props:o,ssrTagParts:l}=r(s,e,t);l&&n.push(...l);for(let s=0;s<o.length;s++){const{key:r,value:l}=o[s];if(Um(r)){let i=r.content;if("key"===i||"ref"===i)continue;"class"===i?n.push(' class="',a=bg(t.helper(Hx),[l]),'"'):"style"===i?c?_k(c,l):n.push(' style="',c=bg(t.helper(Ux),[l]),'"'):(i=e.tag.indexOf("-")>0?i:Du[i]||i.toLowerCase(),Su(i)?n.push(wg(bg(t.helper(qx),[l]),mg(" "+i,!0),mg("",!0),!1)):Eu(i)?n.push(bg(t.helper(jx),[r,l])):t.onError(ck(61,r.loc)))}else{const s=[r,l];i&&s.push(`"${e.tag}"`),n.push(bg(t.helper($x),s))}}}}}else if("textarea"===e.tag&&"value"===s.name&&s.value)uk.set(e,Hu(s.value.content));else if(!o){if("key"===s.name||"ref"===s.name)continue;"class"===s.name&&s.value&&(l=JSON.stringify(s.value.content)),n.push(` ${s.name}`+(s.value?`="${Hu(s.value.content)}"`:""))}}a&&l&&(_k(a,l),function(e,t){const n=new RegExp(`^ ${t}=".+"$`),i=e.findIndex((e=>"string"==typeof e&&n.test(e)));i>-1&&e.splice(i,1)}(n,"class")),t.scopeId&&n.push(` ${t.scopeId}`),e.ssrCodegenNode=xg(n)}};function gk(e,t,n){let i=[];if(e&&(14===e.type?i=e.arguments:i.push(e)),t.length)for(const s of t)i.push(bg(n.helper(ek),["_ctx",...Gb(s,n).elements]));return i.length>1?bg(n.helper($p),i):i[0]}function fk(e){return 7===e.type?"bind"===e.name&&e.arg&&Um(e.arg)&&("true-value"===e.arg.content||"false-value"===e.arg.content):"true-value"===e.name||"false-value"===e.name}function mk(e,t){return!("textarea"!==e.tag||"bind"!==t.name||!s_(t.arg,"value"))}function _k(e,t){const n=e.arguments[0];17===n.type?n.elements.push(t):e.arguments[0]=pg([n,t])}function vk(e,t){const n=t.options.isVoidTag||Ku,i=e.ssrCodegenNode.elements;for(let r=0;r<i.length;r++)t.pushStringPart(i[r]);t.withSlotScopeId&&t.pushStringPart(mg("_scopeId",!1)),t.pushStringPart(">");const s=uk.get(e);s?t.pushStringPart(s):e.children.length&&Pk(e,t),n(e.tag)||t.pushStringPart(`</${e.tag}>`)}const bk=new WeakMap;const yk=new WeakMap,wk=Symbol(),Ck=new WeakMap,Sk=(e,t)=>{if(1!==e.type||1!==e.tagType)return;const n=zb(e,t,!0),i=sp(n)&&n.callee===Fp;if(Ck.set(e,n),ip(n))return n===kp?function(e,t){return()=>{if(e.children.length){const n={slotsExp:null,wipSlots:[]};hk.set(e,n),n.slotsExp=Fb(e,t,((e,t,i)=>{const s=yg([],void 0,!0,!1,i);return n.wipSlots.push({fn:s,children:t}),s})).slots}}}(e,t):n===wy?function(e,t){return()=>{const n=i_(e,"tag");if(n){const i=e.props.filter((e=>e!==n)),{props:s,directives:r}=$b(e,t,i,!0,!1,!0);let o=null;(s||r.length)&&(o=bg(t.helper(zx),[gk(s,r,t)])),bk.set(e,{tag:n,propsExp:o})}}}(e,t):void 0;const s=[],r=Nk(e);return function(){r.children.length&&Fb(r,t,((e,n)=>(s.push(function(e,t,n){const i=kk.get(n.root),s=Object.assign(Object.assign({},i),{nodeTransforms:[...Tk,...i.nodeTransforms||[]],directiveTransforms:Object.assign(Object.assign({},Lk),i.directiveTransforms||{})});return function(e,t,n){const i=hg([e]),s=sv(i,t);s.ssr=!1,s.scopes=Object.assign({},n.scopes),s.identifiers=Object.assign({},n.identifiers),s.imports=n.imports,ov(i,s),["helpers","components","directives"].forEach((e=>{s[e].forEach(((t,i)=>{if("helpers"===e){const e=n.helpers.get(i);void 0===e?n.helpers.set(i,t):n.helpers.set(i,t+e)}else n[e].add(t)}))}))}({type:1,ns:0,tag:"template",tagType:3,isSelfClosing:false,props:[{type:7,name:"slot",exp:e,arg:void 0,modifiers:[],loc:dg}],children:t,loc:dg,codegenNode:void 0},s,n),Tg(t)}(e,n,t)),yg(void 0))));let o="null";if(e.props.length){const{props:n,directives:s}=$b(e,t,void 0,!0,i);(n||s.length)&&(o=gk(n,s,t))}const a=[];yk.set(e,a);const l=e.children.length?Fb(e,t,((e,t,n)=>{const i=yg([e||"_","_push","_parent","_scopeId"],void 0,!0,!0,n);return a.push({type:wk,fn:i,children:t,vnodeBranch:s[a.length]}),i})).slots:"null";e.ssrCodegenNode="string"!=typeof n?bg(t.helper(Fx),["_push",bg(t.helper(Ip),[n,o,l]),"_parent"]):bg(t.helper(Bx),[n,o,l,"_parent"])}};function xk(e,t,n){const i=Ck.get(e);if(e.ssrCodegenNode){const n=yk.get(e)||[];for(let e=0;e<n.length;e++){const{fn:i,vnodeBranch:s}=n[e];i.body=kg(mg("_push",!1),Ok(n[e],t,!1,!0),s)}t.withSlotScopeId&&e.ssrCodegenNode.arguments.push("_scopeId"),"string"==typeof i?t.pushStatement(bg("_push",[e.ssrCodegenNode])):t.pushStatement(e.ssrCodegenNode)}else{if(i===xp)return function(e,t){const n=i_(e,"to");if(!n)return void t.onError(ck(62,e.loc));let i;if(i=6===n.type?n.value&&mg(n.value.content,!0):n.exp,!i)return void t.onError(ck(62,n.loc));const s=i_(e,"disabled",!1,!0),r=s?6===s.type?"true":s.exp||"false":"false",o=yg(["_push"],void 0,!0,!1,e.loc);o.body=Ok(e,t),t.pushStatement(bg(t.helper(Jx),["_push",o,i,r,"_parent"]))}(e,t);if(i===kp)return function(e,t){const n=hk.get(e);if(!n)return;const{slotsExp:i,wipSlots:s}=n;for(let r=0;r<s.length;r++){const e=s[r];e.fn.body=Ok(e,t)}t.pushStatement(bg(t.helper(Qx),["_push",i]))}(e,t);if(i===wy)return function(e,t){const n=bk.get(e);if(n){const{tag:i,propsExp:s}=n;7===i.type?(t.pushStringPart("<"),t.pushStringPart(i.exp),s&&t.pushStringPart(s),t.pushStringPart(">"),Pk(e,t,!1,!0),t.pushStringPart("</"),t.pushStringPart(i.exp),t.pushStringPart(">")):(t.pushStringPart(`<${i.value.content}`),s&&t.pushStringPart(s),t.pushStringPart(">"),Pk(e,t,!1,!0),t.pushStringPart(`</${i.value.content}>`))}else Pk(e,t,!0,!0)}(e,t);n.type===wk&&t.pushStringPart(""),i===yy&&(e.children=e.children.filter((e=>3!==e.type))),Pk(e,t)}}const kk=new WeakMap,[Ek,Dk]=cy(!0),Tk=[...Ek,...Gy],Lk=Object.assign(Object.assign({},Dk),Yy);function Nk(e){if(Ju(e))return e.map(Nk);if(sp(e)){const t={};for(const n in e)t[n]=Nk(e[n]);return t}return e}function Ik(e,t,n=new Set,i=!1){const s=[];let r=null;return{root:e,options:t,body:s,helpers:n,withSlotScopeId:i,onError:t.onError||(e=>{throw e}),helper:e=>(n.add(e),e),pushStringPart(e){if(!r){const e=bg("_push");s.push(e),r=xg([]),e.arguments.push(r)}const t=r.elements,n=t[t.length-1];np(e)&&np(n)?t[t.length-1]+=e:t.push(e)},pushStatement(e){r=null,s.push(e)}}}function Pk(e,t,n=!1,i=!1){n&&t.pushStringPart("\x3c!--[--\x3e");const{children:s}=e;for(let r=0;r<s.length;r++){const n=s[r];switch(n.type){case 1:switch(n.tagType){case 0:vk(n,t);break;case 1:xk(n,t,e);break;case 2:lk(n,t);break;case 3:break;default:t.onError(ck(63,n.loc));return n}break;case 2:t.pushStringPart(Hu(n.content));break;case 3:t.pushStringPart(`\x3c!--${n.content}--\x3e`);break;case 5:t.pushStringPart(bg(t.helper(Mx),[n.content]));break;case 9:ik(n,t,i);break;case 11:ok(n,t,i);break;case 10:break;case 12:case 8:break;default:t.onError(ck(63,n.loc));return n}}n&&t.pushStringPart("\x3c!--]--\x3e")}function Ok(e,t,n=!1,i=t.withSlotScopeId){const s=function(e,t=e.withSlotScopeId){return Ik(e.root,e.options,e.helpers,t)}(t,i);return Pk(e,s,n),Sg(s.body)}const Rk=(e,t,n)=>{const i=e.exp;function s(){const e=i_(t,"value");e&&n.onError(Ly(57,e.loc))}if(0===t.tagType){const r={props:[]},o=[fg("value",i)];if("input"===t.tag){const a=i_(t,"type");if(a){const l=function(e){const t=i_(e,"value");return t?7===t.type?t.exp:mg(t.value.content,!0):mg("null",!1)}(t);if(7===a.type)r.ssrTagParts=[bg(n.helper(Zx),[a.exp,i,l])];else if(a.value)switch(a.value.content){case"radio":r.props=[fg("checked",bg(n.helper(Gx),[i,l]))];break;case"checkbox":const a=i_(t,"true-value");if(a){const e=6===a.type?JSON.stringify(a.value.content):a.exp;r.props=[fg("checked",bg(n.helper(Gx),[i,e]))]}else r.props=[fg("checked",wg(bg("Array.isArray",[i]),bg(n.helper(Yx),[i,l]),i))];break;case"file":n.onError(Ly(56,e.loc));break;default:s(),r.props=o}}else r_(t)||(s(),r.props=o)}else"textarea"===t.tag?(s(),t.children=[_g(i,i.loc)]):"select"===t.tag||n.onError(Ly(54,e.loc));return r}return ry(e,t,n)};const Ak=(e,t,n)=>(e.exp||n.onError(Ly(58)),{props:[fg("style",wg(e.exp,mg("null",!1),gg([fg("display",mg("none",!0))]),!1))]}),Mk=e=>e.children.filter((e=>3!==e.type)),Fk=e=>1===Mk(e).length,Bk=(e,t)=>{if(0===e.type&&(t.identifiers._attrs=1),1===e.type&&1===e.tagType&&(zm(e.tag,"Transition")||zm(e.tag,"KeepAlive"))){const n=Mk(t.root);if(1===n.length&&n[0]===e)return void(Fk(e)&&Vk(e.children[0]))}const n=t.parent;if(n&&0===n.type)if(10===e.type&&Fk(e)){let t=!1;for(const e of Mk(n))if(9===e.type||1===e.type&&n_(e,"if")){if(t)return;t=!0}else if(!t||1!==e.type||!n_(e,/else/,!0))return;Vk(e.children[0])}else Fk(n)&&Vk(e)};function Vk(e){1!==e.type||0!==e.tagType&&1!==e.tagType||n_(e,"for")||e.props.push({type:7,name:"bind",arg:void 0,exp:mg("_attrs",!1),modifiers:[],loc:dg})}const Wk=(e,t)=>{if(!t.ssrCssVars)return;0===e.type&&(t.identifiers._cssVars=1);const n=t.parent;if(n&&0===n.type)if(10===e.type)for(const i of e.children)Hk(i);else Hk(e)};function Hk(e){if(1===e.type&&(0===e.tagType||1===e.tagType)&&!n_(e,"for"))if(zm(e.tag,"Suspense"))for(const t of e.children)1===t.type&&3===t.tagType?t.children.forEach(Hk):Hk(t);else e.props.push({type:7,name:"bind",arg:void 0,exp:mg("_cssVars",!1),modifiers:[],loc:dg})}var Uk=Object.freeze({__proto__:null,compile:function(e,t={}){const n=k_(e,t=Object.assign(Object.assign(Object.assign({},t),Ey),{ssr:!0,inSSR:!0,scopeId:"function"===t.mode?null:t.scopeId,prefixIdentifiers:!0,cacheHandlers:!1,hoistStatic:!1}));return kk.set(n,t),rv(n,Object.assign(Object.assign({},t),{hoistStatic:!1,nodeTransforms:[nk,rk,Ab,mb,ak,Bk,Wk,pk,Sk,Rb,Dy,...t.nodeTransforms||[]],directiveTransforms:Object.assign({bind:ey,on:Qb,model:Rk,show:Ak,cloak:hy,once:hy,memo:hy},t.directiveTransforms||{})})),function(e,t){const n=Ik(e,t);if(t.ssrCssVars){const e=_b(mg(t.ssrCssVars,!1),sv(hg([]),t));n.body.push(vg(["const _cssVars = { style: ",e,"}"]))}const i=e.children.length>1&&e.children.some((e=>!o_(e)));Pk(e,n,i),e.codegenNode=Sg(n.body),e.ssrHelpers=Array.from(new Set([...e.helpers.filter((e=>e in tk)),...n.helpers])),e.helpers=e.helpers.filter((e=>!(e in tk)))}(n,t),qv(n,t)}}),zk=gv(Object.freeze({__proto__:null,default:{}})),jk=gv(PC),$k=gv(GS);const Kk={};function qk(e){"undefined"!=typeof process&&"production"==={}.NODE_ENV||Kk[e]||(Kk[e]=!0,Gk(e))}function Gk(e){console.warn(`[1m[33m[@vue/compiler-sfc][0m[33m ${e}[0m\n`)}function Yk({source:e,filename:t,preprocessOptions:n},i){let s="",r=null;if(i.render(e,Object.assign({filename:t},n),((e,t)=>{e&&(r=e),s=t})),r)throw r;return s}function Zk(e){const{preprocessLang:t,preprocessCustomRequire:n}=e;if(t&&!n)throw new Error("[@vue/compiler-sfc] Template preprocessing in the browser build must provide the `preprocessCustomRequire` option to return the in-browser version of the preprocessor in the shape of { render(): string }.");const i=!!t&&(n?n(t):void 0);if(!i)return t?{code:"export default function render() {}",source:e.source,tips:[`Component ${e.filename} uses lang ${t} for template. Please install the language preprocessor.`],errors:[`Component ${e.filename} uses lang ${t} for template, however it is not installed.`]}:Xk(e);try{return Xk(Object.assign(Object.assign({},e),{source:Yk(e,i)}))}catch(s){return{code:"export default function render() {}",source:e.source,tips:[],errors:[s]}}}function Xk({filename:e,id:t,scoped:n,slotted:i,inMap:s,source:r,ssr:o=!1,ssrCssVars:a,isProd:l=!1,compiler:c=(o?Uk:Zy),compilerOptions:d={},transformAssetUrls:h}){const u=[],p=[];let g=[];if(sp(h)){const e=(f=h,Object.keys(f).some((e=>Ju(f[e])))?Object.assign(Object.assign({},Lx),{tags:f}):Object.assign(Object.assign({},Lx),f));g=[Nx(e),Rx(e)]}else!1!==h&&(g=[Ix,Ax]);var f;o&&!a&&qk("compileTemplate is called with `ssr: true` but no corresponding `cssVars` option.`."),t||(qk("compileTemplate now requires the `id` option.`."),t="");const m=t.replace(/^data-v-/,""),_=`data-v-${m}`;let{code:v,ast:b,preamble:y,map:w}=c.compile(r,Object.assign(Object.assign({mode:"module",prefixIdentifiers:!0,hoistStatic:!0,cacheHandlers:!0,ssrCssVars:o&&a&&a.length?ew(a,m,l,!0):"",scopeId:n?_:void 0,slotted:i,sourceMap:!0},d),{nodeTransforms:g.concat(d.nodeTransforms||[]),filename:e,onError:e=>u.push(e),onWarn:e=>p.push(e)}));s&&(w&&(w=function(e,t){if(!e)return t;if(!t)return e;const n=new zv(e),i=new zv(t),s=new Uv;i.eachMapping((e=>{if(null==e.originalLine)return;const t=n.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=t.source&&s.addMapping({generated:{line:e.generatedLine,column:e.generatedColumn},original:{line:t.line,column:e.originalColumn},source:t.source,name:t.name})}));const r=s;return n.sources.forEach((e=>{r._sources.add(e);const t=n.sourceContentFor(e);null!=t&&s.setSourceContent(e,t)})),r._sourceRoot=e.sourceRoot,r._file=e.file,r.toJSON()}(s,w)),u.length&&function(e,t,n){const i=n.sourcesContent[0],s=i.indexOf(t),r=i.slice(0,s).split(/\r?\n/).length-1;e.forEach((e=>{e.loc&&(e.loc.start.line+=r,e.loc.start.offset+=s,e.loc.end!==e.loc.start&&(e.loc.end.line+=r,e.loc.end.offset+=s))}))}(u,r,s));const C=p.map((e=>{let t=e.message;return e.loc&&(t+=`\n${Cu(r,e.loc.start.offset,e.loc.end.offset)}`),t}));return{code:v,ast:b,preamble:y,source:r,errors:u,tips:C,map:w}}const Jk=/((?:^|\n|;)\s*)export(\s*)default/,Qk=/((?:^|\n|;)\s*)export(.+)(?:as)?(\s*)default/s,eE=/((?:^|\n|;)\s*)export\s+default\s+class\s+([\w$]+)/;function tE(e,t,n){if(!nE(e))return e+`\nconst ${t} = {}`;let i;const s=e.match(eE);if(i=s?e.replace(eE,"$1class $2")+`\nconst ${t} = ${s[2]}`:e.replace(Jk,`$1const ${t} =`),!nE(i))return i;const r=new _C(e);return Wm(e,{sourceType:"module",plugins:n}).program.body.forEach((n=>{if("ExportDefaultDeclaration"===n.type&&r.overwrite(n.start,n.declaration.start,`const ${t} = `),"ExportNamedDeclaration"===n.type)for(const i of n.specifiers)if("ExportSpecifier"===i.type&&"Identifier"===i.exported.type&&"default"===i.exported.name){if(n.source){if("default"===i.local.name){const s=iE(e,i.local.end,n.end);r.prepend(`import { default as __VUE_DEFAULT__ } from '${n.source.value}'\n`),r.overwrite(i.start,s,""),r.append(`\nconst ${t} = __VUE_DEFAULT__`);continue}{const s=iE(e,i.exported.end,n.end);r.prepend(`import { ${e.slice(i.local.start,i.local.end)} } from '${n.source.value}'\n`),r.overwrite(i.start,s,""),r.append(`\nconst ${t} = ${i.local.name}`);continue}}const s=iE(e,i.end,n.end);r.overwrite(i.start,s,""),r.append(`\nconst ${t} = ${i.local.name}`)}})),r.toString()}function nE(e){return Jk.test(e)||Qk.test(e)}function iE(e,t,n){let i=!1,s=t;for(;t<n;)if(/\s/.test(e.charAt(t)))t++;else{if(","===e.charAt(t)){t++,i=!0;break}if("}"===e.charAt(t))break}return i?t:s}const sE=["ref","computed","shallowRef","toRef","customRef"],rE=/[^\w]\$(?:\$|ref|computed|shallowRef)?\s*(\(|\<)/;function oE(e){return rE.test(e)}function aE(e,t,n=0,i,s){!function(){if("undefined"!=typeof window)return;e=`Reactivity transform is an experimental feature.\nExperimental features may change behavior between patch versions.\nIt is recommended to pin your vue dependencies to exact versions to avoid breakage.\nYou can follow the proposal's status at ${lE}.`,"undefined"!=typeof process&&"production"==={}.NODE_ENV||cE[e]||(cE[e]=!0,function(e){console.warn(`[1m[33m[@vue/reactivity-transform][0m[33m ${e}[0m\n`)}(e));var e}();let r="$",o="$$";for(const O of e.body)if("ImportDeclaration"===O.type&&"vue/macros"===O.source.value){t.remove(O.start+n,O.end+n);for(const e of O.specifiers)if("ImportSpecifier"===e.type){const t=e.imported.name,n=e.local.name;n!==t&&("$$"===t?o=n:"$"===t?r=n:m("macro imports for ref-creating methods do not support aliasing.",e))}}const a=new Set,l={},c=[l];let d,h=l;const u=new WeakSet,p=[],g=Object.create(null);if(i)for(const O of i)l[O]=!0;if(s)for(const O in s){const{local:e}=s[O];l[e]="prop",g[e]=O}function f(e){return e===r?r:!("$"!==e[0]||!sE.includes(e.slice(1)))&&e}function m(e,t){const n=new Error(e);throw n.node=t,n}function _(e){return a.add(e),`_${e}`}function v(e,t=!1){u.add(e),h?h[e.name]=t:m("registerBinding called without active scope, something is wrong.",e)}const b=e=>v(e,!0);let y=0;function w(){return"__$temp_"+ ++y}function C(e){return t.original.slice(e.start+n,e.end+n)}function S(e,t=!1){for(const n of e.body)if("VariableDeclaration"===n.type)x(n,t);else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;v(n.id)}else"ForOfStatement"!==n.type&&"ForInStatement"!==n.type||"VariableDeclaration"!==n.left.type?"ExportNamedDeclaration"===n.type&&n.declaration&&"VariableDeclaration"===n.declaration.type?x(n.declaration,t):"LabeledStatement"===n.type&&"VariableDeclaration"===n.body.type&&x(n.body,t):x(n.left)}function x(e,t=!1){if(!e.declare)for(const n of e.declarations){let e;const i=n.init&&"CallExpression"===n.init.type&&"Identifier"===n.init.callee.type;if(i&&(e=f(n.init.callee.name)))k(e,n.id,n.init);else{const e=t&&i&&"defineProps"===n.init.callee.name;for(const t of db(n.id))e?u.add(t):v(t)}}}function k(e,i,s){u.add(s.callee),e===r?(t.remove(s.callee.start+n,s.callee.end+n),"Identifier"===i.type?b(i):"ObjectPattern"===i.type?E(i,s):"ArrayPattern"===i.type&&D(i,s)):"Identifier"===i.type?(b(i),t.overwrite(s.start+n,s.start+e.length+n,_(e.slice(1)))):m(`${e}() cannot be used with destructure patterns.`,s)}function E(e,i,s,r=[]){s||(s=w(),t.overwrite(e.start+n,e.end+n,s));for(const o of e.properties){let e,a,l;if("ObjectProperty"===o.type?o.key.start===o.value.start?(e=o.key,"Identifier"===o.value.type?u.add(o.value):"AssignmentPattern"===o.value.type&&"Identifier"===o.value.left.type&&(u.add(o.value.left),l=o.value.right)):(a=o.computed?o.key:o.key.name,"Identifier"===o.value.type?e=o.value:"ObjectPattern"===o.value.type?E(o.value,i,s,[...r,a]):"ArrayPattern"===o.value.type?D(o.value,i,s,[...r,a]):"AssignmentPattern"===o.value.type&&("Identifier"===o.value.left.type?(e=o.value.left,l=o.value.right):"ObjectPattern"===o.value.left.type?E(o.value.left,i,s,[...r,[a,o.value.right]]):"ArrayPattern"===o.value.left.type&&D(o.value.left,i,s,[...r,[a,o.value.right]]))):m("reactivity destructure does not support rest elements.",o),e){b(e);const o=T(s,r),c=np(a)?`'${a}'`:a?C(a):`'${e.name}'`,d=l?`, ${C(l)}`:"";t.appendLeft(i.end+n,`,\n  ${e.name} = ${_("toRef")}(${o}, ${c}${d})`)}}}function D(e,i,s,r=[]){s||(s=w(),t.overwrite(e.start+n,e.end+n,s));for(let o=0;o<e.elements.length;o++){const a=e.elements[o];if(!a)continue;let l,c;if("Identifier"===a.type?l=a:"AssignmentPattern"===a.type?(l=a.left,c=a.right):"RestElement"===a.type?m("reactivity destructure does not support rest elements.",a):"ObjectPattern"===a.type?E(a,i,s,[...r,o]):"ArrayPattern"===a.type&&D(a,i,s,[...r,o]),l){b(l);const e=T(s,r),a=c?`, ${C(c)}`:"";t.appendLeft(i.end+n,`,\n  ${l.name} = ${_("toRef")}(${e}, ${o}${a})`)}}}function T(e,t){if(t.length)for(const n of t)Ju(n)?e=`(${e}${L(n[0])} || ${C(n[1])})`:e+=L(n);return e}function L(e){return"number"==typeof e?`[${e}]`:"string"==typeof e?`.${e}`:C(e)}function N(e,i,s,r){if(Xu(e,i.name)){const o=e[i.name];if(o){const e="prop"===o;pb(s)&&s.shorthand?s.inPattern&&!ab(s,r)||(e?d?(P(i),t.appendLeft(i.end+n,`: __props_${g[i.name]}`)):t.appendLeft(i.end+n,`: ${vp(g[i.name])}`):t.appendLeft(i.end+n,`: ${i.name}.value`)):e?d?(P(i),t.overwrite(i.start+n,i.end+n,`__props_${g[i.name]}`)):t.overwrite(i.start+n,i.end+n,vp(g[i.name])):t.appendLeft(i.end+n,".value")}return!0}return!1}const I={};function P(e){if(!I.hasOwnProperty(e.name)){I[e.name]=!0;const i=g[e.name];t.prependRight(n,`const __props_${i} = ${_("toRef")}(__props, '${i}')\n`)}}return S(e,!0),sb(e,{enter(e,i){if(i&&p.push(i),ub(e))return c.push(h={}),lb(e,v),void("BlockStatement"===e.body.type&&S(e.body));if("CatchClause"===e.type)return c.push(h={}),e.param&&"Identifier"===e.param.type&&v(e.param),void S(e.body);if("BlockStatement"===e.type&&!ub(i))return c.push(h={}),void S(e);if(i&&i.type.startsWith("TS")&&"TSAsExpression"!==i.type&&"TSNonNullExpression"!==i.type&&"TSTypeAssertion"!==i.type)return this.skip();if("Identifier"===e.type&&(!d||"prop"===l[e.name])&&ob(e,i,p)&&!u.has(e)){let t=c.length;for(;t--;)if(N(c[t],e,i,p))return}if("CallExpression"===e.type&&"Identifier"===e.callee.type){const s=e.callee.name,r=f(s);if(r&&(!i||"VariableDeclarator"!==i.type))return m(`${r} can only be used as the initializer of a variable declaration.`,e);s===o&&(t.remove(e.callee.start+n,e.callee.end+n),d=e),"$raw"===s&&m(`$raw() has been replaced by $$(). See ${lE} for latest updates.`,e),"$fromRef"===s&&m(`$fromRef() has been replaced by $(). See ${lE} for latest updates.`,e)}},leave(e,t){t&&p.pop(),("BlockStatement"===e.type&&!ub(t)||ub(e))&&(c.pop(),h=c[c.length-1]||null),e===d&&(d=void 0)}}),{rootRefs:Object.keys(l).filter((e=>!0===l[e])),importedHelpers:[...a]}}const lE="https://github.com/vuejs/rfcs/discussions/369",cE={};const dE=vu("once,memo,if,for,else,else-if,slot,text,html,on,bind,model,show,cloak,is");function hE(e,t,n){e[t.name]=n}function uE(e,t,n){if("VariableDeclaration"===e.type){const i="const"===e.kind;for(const{id:s,init:r}of e.declarations){const e=!(!i||!yE(r,(e=>"defineProps"===e||"defineEmits"===e||"withDefaults"===e)));if("Identifier"===s.type){let o;const a=n.reactive||"reactive";o=yE(r,a)?i?"setup-reactive-const":"setup-let":e||i&&wE(r,a)?yE(r,"defineProps")?"setup-reactive-const":"setup-const":i?yE(r,n.ref||"ref")?"setup-ref":"setup-maybe-ref":"setup-let",hE(t,s,o)}else{if(yE(r,"defineProps"))return;"ObjectPattern"===s.type?pE(s,t,i,e):"ArrayPattern"===s.type&&gE(s,t,i,e)}}}else"TSEnumDeclaration"!==e.type&&"FunctionDeclaration"!==e.type&&"ClassDeclaration"!==e.type||(t[e.id.name]="setup-const")}function pE(e,t,n,i=!1){for(const s of e.properties)if("ObjectProperty"===s.type)if("Identifier"===s.key.type&&s.key===s.value){const e=i?"setup-const":n?"setup-maybe-ref":"setup-let";hE(t,s.key,e)}else fE(s.value,t,n,i);else{const e=n?"setup-const":"setup-let";hE(t,s.argument,e)}}function gE(e,t,n,i=!1){for(const s of e.elements)s&&fE(s,t,n,i)}function fE(e,t,n,i=!1){if("Identifier"===e.type){hE(t,e,i?"setup-const":n?"setup-maybe-ref":"setup-let")}else if("RestElement"===e.type){const i=n?"setup-const":"setup-let";hE(t,e.argument,i)}else if("ObjectPattern"===e.type)pE(e,t,n);else if("ArrayPattern"===e.type)gE(e,t,n);else if("AssignmentPattern"===e.type)if("Identifier"===e.left.type){const s=i?"setup-const":n?"setup-maybe-ref":"setup-let";hE(t,e.left,s)}else fE(e.left,t,n)}function mE(e,t){"TSInterfaceDeclaration"===e.type?t[e.id.name]=["Object"]:"TSTypeAliasDeclaration"===e.type?t[e.id.name]=_E(e.typeAnnotation,t):"ExportNamedDeclaration"===e.type&&e.declaration&&mE(e.declaration,t)}function _E(e,t){switch(e.type){case"TSStringKeyword":return["String"];case"TSNumberKeyword":return["Number"];case"TSBooleanKeyword":return["Boolean"];case"TSObjectKeyword":case"TSTypeLiteral":return["Object"];case"TSFunctionType":return["Function"];case"TSArrayType":case"TSTupleType":return["Array"];case"TSLiteralType":switch(e.literal.type){case"StringLiteral":return["String"];case"BooleanLiteral":return["Boolean"];case"NumericLiteral":case"BigIntLiteral":return["Number"];default:return["null"]}case"TSTypeReference":if("Identifier"===e.typeName.type){if(t[e.typeName.name])return t[e.typeName.name];switch(e.typeName.name){case"Array":case"Function":case"Object":case"Set":case"Map":case"WeakSet":case"WeakMap":case"Date":case"Promise":return[e.typeName.name];case"Record":case"Partial":case"Readonly":case"Pick":case"Omit":case"Exclude":case"Extract":case"Required":case"InstanceType":return["Object"]}}return["null"];case"TSParenthesizedType":return _E(e.typeAnnotation,t);case"TSUnionType":return[...new Set([].concat(...e.types.map((e=>_E(e,t)))))];case"TSIntersectionType":return["Object"];case"TSSymbolKeyword":return["Symbol"];default:return["null"]}}function vE(e){return e.length>1?`[${e.join(", ")}]`:e[0]}function bE(e,t){if("Identifier"===e.type&&e.typeAnnotation&&"TSTypeAnnotation"===e.typeAnnotation.type){const n=e.typeAnnotation.typeAnnotation;if("TSLiteralType"===n.type)"UnaryExpression"!==n.literal.type&&t.add(String(n.literal.value));else if("TSUnionType"===n.type)for(const e of n.types)"TSLiteralType"===e.type&&"UnaryExpression"!==e.literal.type&&t.add(String(e.literal.value))}}function yE(e,t){return!(!e||"CallExpression"!==e.type||"Identifier"!==e.callee.type||!("string"==typeof t?e.callee.name===t:t(e.callee.name)))}function wE(e,t){if(yE(e,t))return!0;switch(e.type){case"UnaryExpression":case"BinaryExpression":case"ArrayExpression":case"ObjectExpression":case"FunctionExpression":case"ArrowFunctionExpression":case"UpdateExpression":case"ClassExpression":case"TaggedTemplateExpression":return!0;case"SequenceExpression":return wE(e.expressions[e.expressions.length-1],t);default:return!!e.type.endsWith("Literal")}}function CE(e){for(const t of e)if("ExportDefaultDeclaration"===t.type&&"ObjectExpression"===t.declaration.type)return SE(t.declaration);return{}}function SE(e){const t={};Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!1});for(const n of e.properties)if("ObjectProperty"!==n.type||n.computed||"Identifier"!==n.key.type){if("ObjectMethod"===n.type&&"Identifier"===n.key.type&&("setup"===n.key.name||"data"===n.key.name))for(const e of n.body.body)if("ReturnStatement"===e.type&&e.argument&&"ObjectExpression"===e.argument.type)for(const i of xE(e.argument))t[i]="setup"===n.key.name?"setup-maybe-ref":"data"}else if("props"===n.key.name)for(const e of kE(n.value))t[e]="props";else if("inject"===n.key.name)for(const e of kE(n.value))t[e]="options";else if("ObjectExpression"===n.value.type&&("computed"===n.key.name||"methods"===n.key.name))for(const e of xE(n.value))t[e]="options";return t}function xE(e){const t=[];for(const n of e.properties)"ObjectProperty"!==n.type&&"ObjectMethod"!==n.type||n.computed||("Identifier"===n.key.type?t.push(n.key.name):"StringLiteral"===n.key.type&&t.push(n.key.value));return t}function kE(e){return"ArrayExpression"===e.type?function(e){const t=[];for(const n of e.elements)n&&"StringLiteral"===n.type&&t.push(n.value);return t}(e):"ObjectExpression"===e.type?xE(e):[]}const EE=aw();const DE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/;function TE(e,t){if(/ as\s+\w|<.*>|:/.test(e)){if("slot"===t)e=`(${e})=>{}`;else if("for"===t){const t=e.match(DE);if(t){const[,e,n]=t;return TE(`(${e})=>{}`)+TE(n)}}let n="";return rb(Hm(e,{plugins:["typescript"]}),(e=>{n+=","+e.name})),n}return function(e){return e.replace(/'[^']*'|"[^"]*"/g,"").replace(/`[^`]+`/g,LE)}(e)}function LE(e){const t=e.match(/\${[^}]+}/g);return t?t.map((e=>e.slice(2,-1))).join(","):""}function NE(e,t){return new RegExp(`[^\\w$_]${e.replace(/\$/g,"\\$")}[^\\w$_]`).test(function(e){const{content:t,ast:n}=e.template,i=EE.get(t);if(i)return i;let s="";return rv(hg([n]),{nodeTransforms:[e=>{if(1===e.type){Ey.isNativeTag(e.tag)||Ey.isBuiltInComponent(e.tag)||(s+=`,${up(e.tag)},${fp(up(e.tag))}`);for(let t=0;t<e.props.length;t++){const n=e.props[t];7===n.type&&(dE(n.name)||(s+=`,v${fp(up(n.name))}`),n.exp&&(s+=`,${TE(n.exp.content,n.name)}`))}}else 5===e.type&&(s+=`,${TE(e.content.content)}`)}]}),s+=";",EE.set(t,s),s}(t))}const IE="anonymous.vue",PE=aw();function OE(e,t=!1){const n=new SyntaxError(`Single file component can contain only one <${e.tag}${t?" setup":""}> element`);return n.loc=e.loc,n}function RE(e,t,n){const i=e.tag;let{start:s,end:r}=e.loc,o="";if(e.children.length)s=e.children[0].loc.start,r=e.children[e.children.length-1].loc.end,o=t.slice(s.offset,r.offset);else{const t=e.loc.source.indexOf("</");t>-1&&(s={line:s.line,column:s.column+t,offset:s.offset+t}),r=Object.assign({},s)}const a={},l={type:i,content:o,loc:{source:o,start:s,end:r},attrs:a};return n&&(l.content=function(e,t,n){if(e=e.slice(0,t.loc.start.offset),"space"===n)return e.replace(FE," ");{const n=e.split(AE).length,i="script"!==t.type||t.lang?"\n":"//\n";return Array(n).join(i)}}(t,l,n)+l.content),e.props.forEach((e=>{6===e.type&&(a[e.name]=e.value&&e.value.content||!0,"lang"===e.name?l.lang=e.value&&e.value.content:"src"===e.name?l.src=e.value&&e.value.content:"style"===i?"scoped"===e.name?l.scoped=!0:"module"===e.name&&(l.module=a[e.name]):"script"===i&&"setup"===e.name&&(l.setup=a.setup))})),l}const AE=/\r?\n/g,ME=/^(?:\/\/)?\s*$/,FE=/./g;function BE(){return!1}function VE(){throw new Error("tty.ReadStream is not implemented")}function WE(){throw new Error("tty.ReadStream is not implemented")}var HE={isatty:BE,ReadStream:VE,WriteStream:WE},UE=gv(Object.freeze({__proto__:null,isatty:BE,ReadStream:VE,WriteStream:WE,default:HE}));let zE=!("NO_COLOR"in{}||hS.argv.includes("--no-color"))&&("FORCE_COLOR"in{}||hS.argv.includes("--color")||UE.isatty(1)&&"dumb"!=={}.TERM||"CI"in{}),jE=(e,t,n=e)=>i=>{let s=""+i,r=s.indexOf(t,e.length);return~r?e+$E(s,t,n,r)+t:e+s+t},$E=(e,t,n,i)=>{let s=e.substring(0,i)+n,r=e.substring(i+t.length),o=r.indexOf(t);return~o?s+$E(r,t,n,o):s+r},KE=(e=zE)=>({isColorSupported:e,reset:e?e=>`[0m${e}[0m`:String,bold:e?jE("[1m","[22m","[22m[1m"):String,dim:e?jE("[2m","[22m","[22m[2m"):String,italic:e?jE("[3m","[23m"):String,underline:e?jE("[4m","[24m"):String,inverse:e?jE("[7m","[27m"):String,hidden:e?jE("[8m","[28m"):String,strikethrough:e?jE("[9m","[29m"):String,black:e?jE("[30m","[39m"):String,red:e?jE("[31m","[39m"):String,green:e?jE("[32m","[39m"):String,yellow:e?jE("[33m","[39m"):String,blue:e?jE("[34m","[39m"):String,magenta:e?jE("[35m","[39m"):String,cyan:e?jE("[36m","[39m"):String,white:e?jE("[37m","[39m"):String,gray:e?jE("[90m","[39m"):String,bgBlack:e?jE("[40m","[49m"):String,bgRed:e?jE("[41m","[49m"):String,bgGreen:e?jE("[42m","[49m"):String,bgYellow:e?jE("[43m","[49m"):String,bgBlue:e?jE("[44m","[49m"):String,bgMagenta:e?jE("[45m","[49m"):String,bgCyan:e?jE("[46m","[49m"):String,bgWhite:e?jE("[47m","[49m"):String});var qE=KE(),GE=KE;qE.createColors=GE;const YE="'".charCodeAt(0),ZE='"'.charCodeAt(0),XE="\\".charCodeAt(0),JE="/".charCodeAt(0),QE="\n".charCodeAt(0),eD=" ".charCodeAt(0),tD="\f".charCodeAt(0),nD="\t".charCodeAt(0),iD="\r".charCodeAt(0),sD="[".charCodeAt(0),rD="]".charCodeAt(0),oD="(".charCodeAt(0),aD=")".charCodeAt(0),lD="{".charCodeAt(0),cD="}".charCodeAt(0),dD=";".charCodeAt(0),hD="*".charCodeAt(0),uD=":".charCodeAt(0),pD="@".charCodeAt(0),gD=/[\t\n\f\r "#'()/;[\\\]{}]/g,fD=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,mD=/.[\n"'(/\\]/,_D=/[\da-f]/i;var vD=function(e,t={}){let n,i,s,r,o,a,l,c,d,h,u=e.css.valueOf(),p=t.ignoreErrors,g=u.length,f=0,m=[],_=[];function v(t){throw e.error("Unclosed "+t,f)}return{back:function(e){_.push(e)},nextToken:function(e){if(_.length)return _.pop();if(f>=g)return;let t=!!e&&e.ignoreUnclosed;switch(n=u.charCodeAt(f),n){case QE:case eD:case nD:case iD:case tD:i=f;do{i+=1,n=u.charCodeAt(i)}while(n===eD||n===QE||n===nD||n===iD||n===tD);h=["space",u.slice(f,i)],f=i-1;break;case sD:case rD:case lD:case cD:case uD:case dD:case aD:{let e=String.fromCharCode(n);h=[e,e,f];break}case oD:if(c=m.length?m.pop()[1]:"",d=u.charCodeAt(f+1),"url"===c&&d!==YE&&d!==ZE&&d!==eD&&d!==QE&&d!==nD&&d!==tD&&d!==iD){i=f;do{if(a=!1,i=u.indexOf(")",i+1),-1===i){if(p||t){i=f;break}v("bracket")}for(l=i;u.charCodeAt(l-1)===XE;)l-=1,a=!a}while(a);h=["brackets",u.slice(f,i+1),f,i],f=i}else i=u.indexOf(")",f+1),r=u.slice(f,i+1),-1===i||mD.test(r)?h=["(","(",f]:(h=["brackets",r,f,i],f=i);break;case YE:case ZE:s=n===YE?"'":'"',i=f;do{if(a=!1,i=u.indexOf(s,i+1),-1===i){if(p||t){i=f+1;break}v("string")}for(l=i;u.charCodeAt(l-1)===XE;)l-=1,a=!a}while(a);h=["string",u.slice(f,i+1),f,i],f=i;break;case pD:gD.lastIndex=f+1,gD.test(u),i=0===gD.lastIndex?u.length-1:gD.lastIndex-2,h=["at-word",u.slice(f,i+1),f,i],f=i;break;case XE:for(i=f,o=!0;u.charCodeAt(i+1)===XE;)i+=1,o=!o;if(n=u.charCodeAt(i+1),o&&n!==JE&&n!==eD&&n!==QE&&n!==nD&&n!==iD&&n!==tD&&(i+=1,_D.test(u.charAt(i)))){for(;_D.test(u.charAt(i+1));)i+=1;u.charCodeAt(i+1)===eD&&(i+=1)}h=["word",u.slice(f,i+1),f,i],f=i;break;default:n===JE&&u.charCodeAt(f+1)===hD?(i=u.indexOf("*/",f+2)+1,0===i&&(p||t?i=u.length:v("comment")),h=["comment",u.slice(f,i+1),f,i],f=i):(fD.lastIndex=f+1,fD.test(u),i=0===fD.lastIndex?u.length-1:fD.lastIndex-2,h=["word",u.slice(f,i+1),f,i],m.push(h),f=i)}return f++,h},endOfFile:function(){return 0===_.length&&f>=g},position:function(){return f}}};let bD;const yD={brackets:qE.cyan,"at-word":qE.cyan,comment:qE.gray,string:qE.green,class:qE.yellow,hash:qE.magenta,call:qE.cyan,"(":qE.cyan,")":qE.cyan,"{":qE.yellow,"}":qE.yellow,"[":qE.yellow,"]":qE.yellow,":":qE.yellow,";":qE.yellow};function wD([e,t],n){if("word"===e){if("."===t[0])return"class";if("#"===t[0])return"hash"}if(!n.endOfFile()){let e=n.nextToken();if(n.back(e),"brackets"===e[0]||"("===e[0])return"call"}return e}function CD(e){let t=vD(new bD(e),{ignoreErrors:!0}),n="";for(;!t.endOfFile();){let e=t.nextToken(),i=yD[wD(e,t)];n+=i?e[1].split(/\r?\n/).map((e=>i(e))).join("\n"):e[1]}return n}CD.registerInput=function(e){bD=e};var SD=CD;class xD extends Error{constructor(e,t,n,i,s,r){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),r&&(this.plugin=r),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,xD)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=qE.isColorSupported),SD&&e&&(t=SD(t));let n,i,s=t.split(/\r?\n/),r=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),a=String(o).length;if(e){let{bold:e,red:t,gray:s}=qE.createColors(!0);n=n=>e(t(n)),i=e=>s(e)}else n=i=e=>e;return s.slice(r,o).map(((e,t)=>{let s=r+1+t,o=" "+(" "+s).slice(-a)+" | ";if(s===this.line){let t=i(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+i(o)+e+"\n "+t+n("^")}return" "+i(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}var kD=xD;xD.default=xD;var ED={isClean:Symbol("isClean"),my:Symbol("my")};const DD={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};class TD{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(n+i+s,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],r=this.raw(s,"before");r&&this.builder(r),this.stringify(s,t!==i||n)}}block(e,t){let n,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}raw(e,t,n){let i;if(n||(n=t),t&&(i=e.raws[t],void 0!==i))return i;let s=e.parent;if("before"===n){if(!s||"root"===s.type&&s.first===e)return"";if(s&&"document"===s.type)return""}if(!s)return DD[n];let r=e.root();if(r.rawCache||(r.rawCache={}),void 0!==r.rawCache[n])return r.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);{let s="raw"+((o=n)[0].toUpperCase()+o.slice(1));this[s]?i=this[s](r,e):r.walk((e=>{if(i=e.raws[t],void 0!==i)return!1}))}var o;return void 0===i&&(i=DD[n]),r.rawCache[n]=i,i}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&"root"!==i.type;)s+=1,i=i.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<s;e++)n+=t}return n}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}}var LD=TD;function ND(e,t){new LD(t).stringify(e)}TD.default=TD;var ID=ND;ND.default=ND;let{isClean:PD,my:OD}=ED;function RD(e,t){let n=new e.constructor;for(let i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;if("proxyCache"===i)continue;let s=e[i],r=typeof s;"parent"===i&&"object"===r?t&&(n[i]=t):"source"===i?n[i]=s:Array.isArray(s)?n[i]=s.map((e=>RD(e,n))):("object"===r&&null!==s&&(s=RD(s)),n[i]=s)}return n}class AD{constructor(e={}){this.raws={},this[PD]=!1,this[OD]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"==typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}error(e,t={}){if(this.source){let{start:n,end:i}=this.rangeBy(t);return this.source.input.error(e,{line:n.line,column:n.column},{line:i.line,column:i.column},t)}return new kD(e)}warn(e,t,n){let i={node:this};for(let s in n)i[s]=n[s];return e.warn(t,i)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=ID){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=RD(this);for(let n in e)t[n]=e[n];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}raw(e,t){return(new LD).raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let n={},i=null==t;t=t||new Map;let s=0;for(let r in this){if(!Object.prototype.hasOwnProperty.call(this,r))continue;if("parent"===r||"proxyCache"===r)continue;let e=this[r];if(Array.isArray(e))n[r]=e.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof e&&e.toJSON)n[r]=e.toJSON(null,t);else if("source"===r){let i=t.get(e.input);null==i&&(i=s,t.set(e.input,s),s++),n[r]={inputId:i,start:e.start,end:e.end}}else n[r]=e}return i&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}positionInside(e){let t=this.toString(),n=this.source.start.column,i=this.source.start.line;for(let s=0;s<e;s++)"\n"===t[s]?(n=1,i+=1):n+=1;return{line:i,column:n}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t}rangeBy(e){let t={line:this.source.start.line,column:this.source.start.column},n=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:t.line,column:t.column+1};if(e.word){let i=this.toString().indexOf(e.word);-1!==i&&(t=this.positionInside(i),n=this.positionInside(i+e.word.length))}else e.start?t={line:e.start.line,column:e.start.column}:e.index&&(t=this.positionInside(e.index)),e.end?n={line:e.end.line,column:e.end.column}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={line:t.line,column:t.column+1}),{start:t,end:n}}getProxyProcessor(){return{set:(e,t,n)=>(e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[PD]){this[PD]=!1;let e=this;for(;e=e.parent;)e[PD]=!1}}get proxyOf(){return this}}var MD=AD;AD.default=AD;class FD extends MD{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e=l(a({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}var BD=FD;FD.default=FD;var VD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),WD=function(e){if(0<=e&&e<VD.length)return VD[e];throw new TypeError("Must be between 0 and 63: "+e)},HD=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var UD=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=WD(t)}while(i>0);return n},zD=function(e,t,n){var i,s,r,o,a=e.length,l=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=HD(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&s),l+=(s&=31)<<c,c+=5}while(i);n.value=(o=(r=l)>>1,1==(1&r)?-o:o),n.rest=t},jD=fv((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function r(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=s,t.urlGenerate=r;var o,a,l=(o=function(e){var n=e,i=s(e);if(i){if(!i.path)return e;n=i.path}for(var o=t.isAbsolute(n),a=[],l=0,c=0;;){if(l=c,-1===(c=n.indexOf("/",l))){a.push(n.slice(l));break}for(a.push(n.slice(l,c));c<n.length&&"/"===n[c];)c++}var d,h=0;for(c=a.length-1;c>=0;c--)"."===(d=a[c])?a.splice(c,1):".."===d?h++:h>0&&(""===d?(a.splice(c+1,h),h=0):(a.splice(c,2),h--));return""===(n=a.join("/"))&&(n=o?"/":"."),i?(i.path=n,r(i)):n},a=[],function(e){for(var t=0;t<a.length;t++)if(a[t].input===e){var n=a[0];return a[0]=a[t],a[t]=n,a[0].result}var i=o(e);return a.unshift({input:e,result:i}),a.length>32&&a.pop(),i});function c(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),o=s(e);if(o&&(e=o.path||"/"),n&&!n.scheme)return o&&(n.scheme=o.scheme),r(n);if(n||t.match(i))return t;if(o&&!o.host&&!o.path)return o.host=t,r(o);var a="/"===t.charAt(0)?t:l(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,r(o)):a}t.normalize=l,t.join=c,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var d=!("__proto__"in Object.create(null));function h(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function p(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=d?h:function(e){return u(e)?"$"+e:e},t.fromSetString=d?h:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var i=p(e.source,t.source);return 0!==i||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)||n||0!==(i=e.generatedColumn-t.generatedColumn)||0!==(i=e.generatedLine-t.generatedLine)?i:p(e.name,t.name)},t.compareByOriginalPositionsNoSource=function(e,t,n){var i;return 0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)||n||0!==(i=e.generatedColumn-t.generatedColumn)||0!==(i=e.generatedLine-t.generatedLine)?i:p(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var i=e.generatedLine-t.generatedLine;return 0!==i||0!==(i=e.generatedColumn-t.generatedColumn)||n||0!==(i=p(e.source,t.source))||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)?i:p(e.name,t.name)},t.compareByGeneratedPositionsDeflatedNoLine=function(e,t,n){var i=e.generatedColumn-t.generatedColumn;return 0!==i||n||0!==(i=p(e.source,t.source))||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)?i:p(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=p(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:p(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var i=s(n);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var o=i.path.lastIndexOf("/");o>=0&&(i.path=i.path.substring(0,o+1))}t=c(r(i),t)}return l(t)}})),$D=Object.prototype.hasOwnProperty,KD="undefined"!=typeof Map;function qD(){this._array=[],this._set=KD?new Map:Object.create(null)}qD.fromArray=function(e,t){for(var n=new qD,i=0,s=e.length;i<s;i++)n.add(e[i],t);return n},qD.prototype.size=function(){return KD?this._set.size:Object.getOwnPropertyNames(this._set).length},qD.prototype.add=function(e,t){var n=KD?e:jD.toSetString(e),i=KD?this.has(e):$D.call(this._set,n),s=this._array.length;i&&!t||this._array.push(e),i||(KD?this._set.set(e,s):this._set[n]=s)},qD.prototype.has=function(e){if(KD)return this._set.has(e);var t=jD.toSetString(e);return $D.call(this._set,t)},qD.prototype.indexOf=function(e){if(KD){var t=this._set.get(e);if(t>=0)return t}else{var n=jD.toSetString(e);if($D.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},qD.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},qD.prototype.toArray=function(){return this._array.slice()};var GD={ArraySet:qD};function YD(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}YD.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},YD.prototype.add=function(e){var t,n,i,s,r,o;t=this._last,n=e,i=t.generatedLine,s=n.generatedLine,r=t.generatedColumn,o=n.generatedColumn,s>i||s==i&&o>=r||jD.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},YD.prototype.toArray=function(){return this._sorted||(this._array.sort(jD.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var ZD=GD.ArraySet,XD={MappingList:YD}.MappingList;function JD(e){e||(e={}),this._file=jD.getArg(e,"file",null),this._sourceRoot=jD.getArg(e,"sourceRoot",null),this._skipValidation=jD.getArg(e,"skipValidation",!1),this._sources=new ZD,this._names=new ZD,this._mappings=new XD,this._sourcesContents=null}JD.prototype._version=3,JD.fromSourceMap=function(e){var t=e.sourceRoot,n=new JD({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=jD.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(i){var s=i;null!==t&&(s=jD.relative(t,i)),n._sources.has(s)||n._sources.add(s);var r=e.sourceContentFor(i);null!=r&&n.setSourceContent(i,r)})),n},JD.prototype.addMapping=function(e){var t=jD.getArg(e,"generated"),n=jD.getArg(e,"original",null),i=jD.getArg(e,"source",null),s=jD.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,s),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:s})},JD.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=jD.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[jD.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[jD.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},JD.prototype.applySourceMap=function(e,t,n){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var s=this._sourceRoot;null!=s&&(i=jD.relative(s,i));var r=new ZD,o=new ZD;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=jD.join(n,t.source)),null!=s&&(t.source=jD.relative(s,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var l=t.source;null==l||r.has(l)||r.add(l);var c=t.name;null==c||o.has(c)||o.add(c)}),this),this._sources=r,this._names=o,e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=jD.join(n,t)),null!=s&&(t=jD.relative(s,t)),this.setSourceContent(t,i))}),this)},JD.prototype._validateMapping=function(e,t,n,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))},JD.prototype._serializeMappings=function(){for(var e,t,n,i,s=0,r=1,o=0,a=0,l=0,c=0,d="",h=this._mappings.toArray(),u=0,p=h.length;u<p;u++){if(e="",(t=h[u]).generatedLine!==r)for(s=0;t.generatedLine!==r;)e+=";",r++;else if(u>0){if(!jD.compareByGeneratedPositionsInflated(t,h[u-1]))continue;e+=","}e+=UD(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=UD(i-c),c=i,e+=UD(t.originalLine-1-a),a=t.originalLine-1,e+=UD(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=UD(n-l),l=n)),d+=e}return d},JD.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=jD.relative(t,e));var n=jD.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},JD.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},JD.prototype.toString=function(){return JSON.stringify(this.toJSON())};var QD={SourceMapGenerator:JD},eT=fv((function(e,t){function n(e,i,s,r,o,a){var l=Math.floor((i-e)/2)+e,c=o(s,r[l],!0);return 0===c?l:c>0?i-l>1?n(l,i,s,r,o,a):a==t.LEAST_UPPER_BOUND?i<r.length?i:-1:l:l-e>1?n(e,l,s,r,o,a):a==t.LEAST_UPPER_BOUND?l:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,s,r){if(0===i.length)return-1;var o=n(-1,i.length,e,i,s,r||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===s(i[o],i[o-1],!0);)--o;return o}}));function tT(e){function t(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}return function e(n,i,s,r){if(s<r){var o=s-1;t(n,(d=s,h=r,Math.round(d+Math.random()*(h-d))),r);for(var a=n[r],l=s;l<r;l++)i(n[l],a,!1)<=0&&t(n,o+=1,l);t(n,o+1,l);var c=o+1;e(n,i,s,c-1),e(n,i,c+1,r)}var d,h}}let nT=new WeakMap;var iT=GD.ArraySet,sT=function(e,t,n=0){let i=nT.get(t);void 0===i&&(i=function(e){let t=tT.toString();return new Function(`return ${t}`)()(e)}(t),nT.set(t,i)),i(e,t,n,e.length-1)};function rT(e,t){var n=e;return"string"==typeof e&&(n=jD.parseSourceMapInput(e)),null!=n.sections?new uT(n,t):new aT(n,t)}rT.fromSourceMap=function(e,t){return aT.fromSourceMap(e,t)},rT.prototype._version=3,rT.prototype.__generatedMappings=null,Object.defineProperty(rT.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),rT.prototype.__originalMappings=null,Object.defineProperty(rT.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),rT.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},rT.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},rT.GENERATED_ORDER=1,rT.ORIGINAL_ORDER=2,rT.GREATEST_LOWER_BOUND=1,rT.LEAST_UPPER_BOUND=2,rT.prototype.eachMapping=function(e,t,n){var i,s=t||null;switch(n||rT.GENERATED_ORDER){case rT.GENERATED_ORDER:i=this._generatedMappings;break;case rT.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var r=this.sourceRoot,o=e.bind(s),a=this._names,l=this._sources,c=this._sourceMapURL,d=0,h=i.length;d<h;d++){var u=i[d],p=null===u.source?null:l.at(u.source);o({source:p=jD.computeSourceURL(r,p,c),generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:null===u.name?null:a.at(u.name)})}},rT.prototype.allGeneratedPositionsFor=function(e){var t=jD.getArg(e,"line"),n={source:jD.getArg(e,"source"),originalLine:t,originalColumn:jD.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",jD.compareByOriginalPositions,eT.LEAST_UPPER_BOUND);if(s>=0){var r=this._originalMappings[s];if(void 0===e.column)for(var o=r.originalLine;r&&r.originalLine===o;)i.push({line:jD.getArg(r,"generatedLine",null),column:jD.getArg(r,"generatedColumn",null),lastColumn:jD.getArg(r,"lastGeneratedColumn",null)}),r=this._originalMappings[++s];else for(var a=r.originalColumn;r&&r.originalLine===t&&r.originalColumn==a;)i.push({line:jD.getArg(r,"generatedLine",null),column:jD.getArg(r,"generatedColumn",null),lastColumn:jD.getArg(r,"lastGeneratedColumn",null)}),r=this._originalMappings[++s]}return i};var oT=rT;function aT(e,t){var n=e;"string"==typeof e&&(n=jD.parseSourceMapInput(e));var i=jD.getArg(n,"version"),s=jD.getArg(n,"sources"),r=jD.getArg(n,"names",[]),o=jD.getArg(n,"sourceRoot",null),a=jD.getArg(n,"sourcesContent",null),l=jD.getArg(n,"mappings"),c=jD.getArg(n,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);o&&(o=jD.normalize(o)),s=s.map(String).map(jD.normalize).map((function(e){return o&&jD.isAbsolute(o)&&jD.isAbsolute(e)?jD.relative(o,e):e})),this._names=iT.fromArray(r.map(String),!0),this._sources=iT.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return jD.computeSourceURL(o,e,t)})),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=t,this.file=c}function lT(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}aT.prototype=Object.create(rT.prototype),aT.prototype.consumer=rT,aT.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=jD.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},aT.fromSourceMap=function(e,t){var n=Object.create(aT.prototype),i=n._names=iT.fromArray(e._names.toArray(),!0),s=n._sources=iT.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return jD.computeSourceURL(n.sourceRoot,e,t)}));for(var r=e._mappings.toArray().slice(),o=n.__generatedMappings=[],a=n.__originalMappings=[],l=0,c=r.length;l<c;l++){var d=r[l],h=new lT;h.generatedLine=d.generatedLine,h.generatedColumn=d.generatedColumn,d.source&&(h.source=s.indexOf(d.source),h.originalLine=d.originalLine,h.originalColumn=d.originalColumn,d.name&&(h.name=i.indexOf(d.name)),a.push(h)),o.push(h)}return sT(n.__originalMappings,jD.compareByOriginalPositions),n},aT.prototype._version=3,Object.defineProperty(aT.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});const cT=jD.compareByGeneratedPositionsDeflatedNoLine;function dT(e,t){let n=e.length,i=e.length-t;if(!(i<=1))if(2==i){let n=e[t],i=e[t+1];cT(n,i)>0&&(e[t]=i,e[t+1]=n)}else if(i<20)for(let s=t;s<n;s++)for(let n=s;n>t;n--){let t=e[n-1],i=e[n];if(cT(t,i)<=0)break;e[n-1]=i,e[n]=t}else sT(e,cT,t)}aT.prototype._parseMappings=function(e,t){var n,i,s,r,o=1,a=0,l=0,c=0,d=0,h=0,u=e.length,p=0,g={},f=[],m=[];let _=0;for(;p<u;)if(";"===e.charAt(p))o++,p++,a=0,dT(m,_),_=m.length;else if(","===e.charAt(p))p++;else{for((n=new lT).generatedLine=o,s=p;s<u&&!this._charIsMappingSeparator(e,s);s++);for(e.slice(p,s),i=[];p<s;)zD(e,p,g),r=g.value,p=g.rest,i.push(r);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");if(n.generatedColumn=a+i[0],a=n.generatedColumn,i.length>1&&(n.source=d+i[1],d+=i[1],n.originalLine=l+i[2],l=n.originalLine,n.originalLine+=1,n.originalColumn=c+i[3],c=n.originalColumn,i.length>4&&(n.name=h+i[4],h+=i[4])),m.push(n),"number"==typeof n.originalLine){let e=n.source;for(;f.length<=e;)f.push(null);null===f[e]&&(f[e]=[]),f[e].push(n)}}dT(m,_),this.__generatedMappings=m;for(var v=0;v<f.length;v++)null!=f[v]&&sT(f[v],jD.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...f)},aT.prototype._findMapping=function(e,t,n,i,s,r){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return eT.search(e,t,s,r)},aT.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},aT.prototype.originalPositionFor=function(e){var t={generatedLine:jD.getArg(e,"line"),generatedColumn:jD.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",jD.compareByGeneratedPositionsDeflated,jD.getArg(e,"bias",rT.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var s=jD.getArg(i,"source",null);null!==s&&(s=this._sources.at(s),s=jD.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var r=jD.getArg(i,"name",null);return null!==r&&(r=this._names.at(r)),{source:s,line:jD.getArg(i,"originalLine",null),column:jD.getArg(i,"originalColumn",null),name:r}}}return{source:null,line:null,column:null,name:null}},aT.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},aT.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i,s=e;if(null!=this.sourceRoot&&(s=jD.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(i=jD.urlParse(this.sourceRoot))){var r=s.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!i.path||"/"==i.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},aT.prototype.generatedPositionFor=function(e){var t=jD.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:jD.getArg(e,"line"),originalColumn:jD.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",jD.compareByOriginalPositions,jD.getArg(e,"bias",rT.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:jD.getArg(s,"generatedLine",null),column:jD.getArg(s,"generatedColumn",null),lastColumn:jD.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var hT=aT;function uT(e,t){var n=e;"string"==typeof e&&(n=jD.parseSourceMapInput(e));var i=jD.getArg(n,"version"),s=jD.getArg(n,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new iT,this._names=new iT;var r={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=jD.getArg(e,"offset"),i=jD.getArg(n,"line"),s=jD.getArg(n,"column");if(i<r.line||i===r.line&&s<r.column)throw new Error("Section offsets must be ordered and non-overlapping.");return r=n,{generatedOffset:{generatedLine:i+1,generatedColumn:s+1},consumer:new rT(jD.getArg(e,"map"),t)}}))}uT.prototype=Object.create(rT.prototype),uT.prototype.constructor=rT,uT.prototype._version=3,Object.defineProperty(uT.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),uT.prototype.originalPositionFor=function(e){var t={generatedLine:jD.getArg(e,"line"),generatedColumn:jD.getArg(e,"column")},n=eT.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},uT.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},uT.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},uT.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(jD.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},uT.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,r=0;r<s.length;r++){var o=s[r],a=i.consumer._sources.at(o.source);a=jD.computeSourceURL(i.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var l=null;o.name&&(l=i.consumer._names.at(o.name),this._names.add(l),l=this._names.indexOf(l));var c={source:a,generatedLine:o.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(i.generatedOffset.generatedLine===o.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}sT(this.__generatedMappings,jD.compareByGeneratedPositionsDeflated),sT(this.__originalMappings,jD.compareByOriginalPositions)};var pT={SourceMapConsumer:oT,BasicSourceMapConsumer:hT,IndexedSourceMapConsumer:uT},gT=QD.SourceMapGenerator,fT=/(\r?\n)/;function mT(e,t,n,i,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==s?null:s,this.$$$isSourceNode$$$=!0,null!=i&&this.add(i)}mT.fromStringWithSourceMap=function(e,t,n){var i=new mT,s=e.split(fT),r=0,o=function(){return e()+(e()||"");function e(){return r<s.length?s[r++]:void 0}},a=1,l=0,c=null;return t.eachMapping((function(e){if(null!==c){if(!(a<e.generatedLine)){var t=(n=s[r]||"").substr(0,e.generatedColumn-l);return s[r]=n.substr(e.generatedColumn-l),l=e.generatedColumn,d(c,t),void(c=e)}d(c,o()),a++,l=0}for(;a<e.generatedLine;)i.add(o()),a++;if(l<e.generatedColumn){var n=s[r]||"";i.add(n.substr(0,e.generatedColumn)),s[r]=n.substr(e.generatedColumn),l=e.generatedColumn}c=e}),this),r<s.length&&(c&&d(c,o()),i.add(s.splice(r).join(""))),t.sources.forEach((function(e){var s=t.sourceContentFor(e);null!=s&&(null!=n&&(e=jD.join(n,e)),i.setSourceContent(e,s))})),i;function d(e,t){if(null===e||void 0===e.source)i.add(t);else{var s=n?jD.join(n,e.source):e.source;i.add(new mT(e.originalLine,e.originalColumn,s,t,e.name))}}},mT.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e.$$$isSourceNode$$$&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},mT.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e.$$$isSourceNode$$$&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},mT.prototype.walk=function(e){for(var t,n=0,i=this.children.length;n<i;n++)(t=this.children[n]).$$$isSourceNode$$$?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},mT.prototype.join=function(e){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},mT.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n.$$$isSourceNode$$$?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},mT.prototype.setSourceContent=function(e,t){this.sourceContents[jD.toSetString(e)]=t},mT.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t].$$$isSourceNode$$$&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,n=i.length;t<n;t++)e(jD.fromSetString(i[t]),this.sourceContents[i[t]])},mT.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},mT.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new gT(e),i=!1,s=null,r=null,o=null,a=null;return this.walk((function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(s===l.source&&r===l.line&&o===l.column&&a===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),s=l.source,r=l.line,o=l.column,a=l.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var c=0,d=e.length;c<d;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===d?(s=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}};var _T={SourceMapGenerator:QD.SourceMapGenerator,SourceMapConsumer:pT.SourceMapConsumer,SourceNode:{SourceNode:mT}.SourceNode};var vT={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t)=>()=>{let n="",i=t;for(;i--;)n+=e[Math.random()*e.length|0];return n}};let{SourceMapConsumer:bT,SourceMapGenerator:yT}=_T,{existsSync:wT,readFileSync:CT}=zk,{dirname:ST,join:xT}=jk;class kT{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ST(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new bT(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return!!e&&e.substr(0,t.length)===t}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Cw?Cw.from(t,"base64").toString():window.atob(t);var t;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}loadFile(e){if(this.root=ST(e),wT(e))return this.mapFile=e,CT(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof bT)return yT.fromSourceMap(t).toString();if(t instanceof yT)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=xT(ST(e),t)),this.loadFile(t)}}}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}}var ET=kT;kT.default=kT;var DT=gv(Cx);let{SourceMapConsumer:TT,SourceMapGenerator:LT}=_T,{fileURLToPath:NT,pathToFileURL:IT}=DT,{resolve:PT,isAbsolute:OT}=jk,{nanoid:RT}=vT,AT=Symbol("fromOffsetCache"),MT=Boolean(TT&&LT),FT=Boolean(PT&&OT);class BT{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!FT||/^\w+:\/\//.test(t.from)||OT(t.from)?this.file=t.from:this.file=PT(t.from)),FT&&MT){let e=new ET(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+RT(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,n;if(this[AT])n=this[AT];else{let e=this.css.split("\n");n=new Array(e.length);let t=0;for(let i=0,s=e.length;i<s;i++)n[i]=t,t+=e[i].length+1;this[AT]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let t,s=n.length-2;for(;i<s;)if(t=i+(s-i>>1),e<n[t])s=t-1;else{if(!(e>=n[t+1])){i=t;break}i=t+1}}return{line:i+1,col:e-n[i]+1}}error(e,t,n,i={}){let s,r,o;if(t&&"object"==typeof t){let e=t,i=n;if("number"==typeof t.offset){let i=this.fromOffset(e.offset);t=i.line,n=i.col}else t=e.line,n=e.column;if("number"==typeof i.offset){let e=this.fromOffset(i.offset);r=e.line,o=e.col}else r=i.line,o=i.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let a=this.origin(t,n,r,o);return s=a?new kD(e,void 0===a.endLine?a.line:{line:a.line,column:a.column},void 0===a.endLine?a.column:{line:a.endLine,column:a.endColumn},a.source,a.file,i.plugin):new kD(e,void 0===r?t:{line:t,column:n},void 0===r?n:{line:r,column:o},this.css,this.file,i.plugin),s.input={line:t,column:n,endLine:r,endColumn:o,source:this.css},this.file&&(IT&&(s.input.url=IT(this.file).toString()),s.input.file=this.file),s}origin(e,t,n,i){if(!this.map)return!1;let s,r,o=this.map.consumer(),a=o.originalPositionFor({line:e,column:t});if(!a.source)return!1;"number"==typeof n&&(s=o.originalPositionFor({line:n,column:i})),r=OT(a.source)?IT(a.source):new URL(a.source,this.map.consumer().sourceRoot||IT(this.map.mapFile));let l={url:r.toString(),line:a.line,column:a.column,endLine:s&&s.line,endColumn:s&&s.column};if("file:"===r.protocol){if(!NT)throw new Error("file: protocol is not available in this PostCSS build");l.file=NT(r)}let c=o.sourceContentFor(a.source);return c&&(l.source=c),l}mapResolve(e){return/^\w+:\/\//.test(e)?e:PT(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=a({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}var VT=BT;BT.default=BT,SD&&SD.registerInput&&SD.registerInput(BT);let{SourceMapConsumer:WT,SourceMapGenerator:HT}=_T,{dirname:UT,resolve:zT,relative:jT,sep:$T}=jk,{pathToFileURL:KT}=DT,qT=Boolean(WT&&HT),GT=Boolean(UT&&zT&&jT&&$T);var YT=class{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new VT(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;n&&!e[n]&&(e[n]=!0,this.map.setSourceContent(this.toUrl(this.path(n)),t.source.input.css))}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),i=e.root||UT(e.file);!1===this.mapOpts.sourcesContent?(t=new WT(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null)))):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(i)))}}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}toBase64(e){return Cw?Cw.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=HT.fromSourceMap(e)}else this.map=new HT({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;if(this.mapOpts.absolute)return e;let t=this.opts.to?UT(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=UT(zT(t,this.mapOpts.annotation))),e=jT(t,e)}toUrl(e){return"\\"===$T&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(KT)return KT(e.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}return this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new HT({file:this.outputFile()});let e,t,n=1,i=1,s="<no source>",r={source:"",generated:{line:0,column:0},original:{line:0,column:0}};this.stringify(this.root,((o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(r.generated.line=n,r.generated.column=i-1,a.source&&a.source.start?(r.source=this.sourcePath(a),r.original.line=a.source.start.line,r.original.column=a.source.start.column-1,this.map.addMapping(r)):(r.source=s,r.original.line=1,r.original.column=0,this.map.addMapping(r))),e=o.match(/\n/g),e?(n+=e.length,t=o.lastIndexOf("\n"),i=o.length-t):i+=o.length,a&&"start"!==l){let e=a.parent||{raws:{}};("decl"!==a.type||a!==e.last||e.raws.semicolon)&&(a.source&&a.source.end?(r.source=this.sourcePath(a),r.original.line=a.source.end.line,r.original.column=a.source.end.column-1,r.generated.line=n,r.generated.column=i-2,this.map.addMapping(r)):(r.source=s,r.original.line=1,r.original.column=0,r.generated.line=n,r.generated.column=i-1,this.map.addMapping(r)))}}))}generate(){if(this.clearAnnotation(),GT&&qT&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}};class ZT extends MD{constructor(e){super(e),this.type="comment"}}var XT=ZT;ZT.default=ZT;let JT,QT,eL,{isClean:tL,my:nL}=ED;function iL(e){return e.map((e=>(e.nodes&&(e.nodes=iL(e.nodes)),delete e.source,e)))}function sL(e){if(e[tL]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)sL(t)}class rL extends MD{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t,n,i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(t=this.indexes[i],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[i]+=1;return delete this.indexes[i],n}walk(e){return this.each(((t,n)=>{let i;try{i=e(t,n)}catch(s){throw t.addToError(s)}return!1!==i&&t.walk&&(i=t.walk(e)),i}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("decl"===n.type&&e.test(n.prop))return t(n,i)})):this.walk(((n,i)=>{if("decl"===n.type&&n.prop===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("rule"===n.type&&e.test(n.selector))return t(n,i)})):this.walk(((n,i)=>{if("rule"===n.type&&n.selector===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("atrule"===n.type&&e.test(n.name))return t(n,i)})):this.walk(((n,i)=>{if("atrule"===n.type&&n.name===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){let n,i=0===(e=this.index(e))&&"prepend",s=this.normalize(t,this.proxyOf.nodes[e],i).reverse();for(let r of s)this.proxyOf.nodes.splice(e,0,r);for(let r in this.indexes)n=this.indexes[r],e<=n&&(this.indexes[r]=n+s.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let n,i=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let s of i)this.proxyOf.nodes.splice(e+1,0,s);for(let s in this.indexes)n=this.indexes[s],e<n&&(this.indexes[s]=n+i.length);return this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))})),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"==typeof e)e=iL(JT(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new BD(e)]}else if(e.selector)e=[new QT(e)];else if(e.name)e=[new eL(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new XT(e)]}return e.map((e=>(e[nL]||rL.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[tL]&&sL(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this,e)))}getProxyProcessor(){return{set:(e,t,n)=>(e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}}rL.registerParse=e=>{JT=e},rL.registerRule=e=>{QT=e},rL.registerAtRule=e=>{eL=e};var oL=rL;let aL,lL;rL.default=rL,rL.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,eL.prototype):"rule"===e.type?Object.setPrototypeOf(e,QT.prototype):"decl"===e.type?Object.setPrototypeOf(e,BD.prototype):"comment"===e.type&&Object.setPrototypeOf(e,XT.prototype),e[nL]=!0,e.nodes&&e.nodes.forEach((e=>{rL.rebuild(e)}))};class cL extends oL{constructor(e){super(a({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new aL(new lL,this,e).stringify()}}cL.registerLazyResult=e=>{aL=e},cL.registerProcessor=e=>{lL=e};var dL=cL;cL.default=cL;let hL={};var uL=function(e){hL[e]||(hL[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))};class pL{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}var gL=pL;pL.default=pL;class fL{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new gL(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}var mL=fL;fL.default=fL;class _L extends oL{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}var vL=_L;let bL,yL;_L.default=_L,oL.registerAtRule(_L);class wL extends oL{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}normalize(e,t,n){let i=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before;return i}toResult(e={}){return new bL(new yL,this,e).stringify()}}wL.registerLazyResult=e=>{bL=e},wL.registerProcessor=e=>{yL=e};var CL=wL;wL.default=wL;let SL={split(e,t,n){let i=[],s="",r=!1,o=0,a=!1,l=!1;for(let c of e)l?l=!1:"\\"===c?l=!0:a?c===a&&(a=!1):'"'===c||"'"===c?a=c:"("===c?o+=1:")"===c?o>0&&(o-=1):0===o&&t.includes(c)&&(r=!0),r?(""!==s&&i.push(s.trim()),s="",r=!1):s+=c;return(n||""!==s)&&i.push(s.trim()),i},space:e=>SL.split(e,[" ","\n","\t"]),comma:e=>SL.split(e,[","],!0)};var xL=SL;SL.default=SL;class kL extends oL{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return xL.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}var EL=kL;kL.default=kL,oL.registerRule(kL);var DL=class{constructor(e){this.input=e,this.root=new CL,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=vD(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}comment(e){let t=new XT;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}emptyRule(e){let t=new EL;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,n=null,i=!1,s=null,r=[],o=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)s||(s=l),r.push("("===n?")":"]");else if(o&&i&&"{"===n)s||(s=l),r.push("}");else if(0===r.length){if(";"===n){if(i)return void this.decl(a,o);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(i=!0)}else n===r[r.length-1]&&(r.pop(),0===r.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),r.length>0&&this.unclosedBracket(s),t&&i){for(;a.length&&(l=a[a.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}rule(e){e.pop();let t=new EL;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let n=new BD;this.init(n,e[0][2]);let i,s=e[e.length-1];for(";"===s[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(s[3]||s[2]);"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(i=e.shift(),":"===i[0]){n.raws.between+=i[1];break}"word"===i[0]&&/\w/.test(i[1])&&this.unknownWord([i]),n.raws.between+=i[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let r=this.spacesAndCommentsFromStart(e);this.precheckMissedSemicolon(e);for(let a=e.length-1;a>=0;a--){if(i=e[a],"!important"===i[1].toLowerCase()){n.important=!0;let t=this.stringFrom(e,a);t=this.spacesFromEnd(e)+t," !important"!==t&&(n.raws.important=t);break}if("important"===i[1].toLowerCase()){let t=e.slice(0),i="";for(let e=a;e>0;e--){let n=t[e][0];if(0===i.trim().indexOf("!")&&"space"!==n)break;i=t.pop()[1]+i}0===i.trim().indexOf("!")&&(n.important=!0,n.raws.important=i,e=t)}if("space"!==i[0]&&"comment"!==i[0])break}let o=e.some((e=>"space"!==e[0]&&"comment"!==e[0]));this.raw(n,"value",e),o?n.raws.between+=r:n.value=r+n.value,n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t,n,i,s=new vL;s.name=e[1].slice(1),""===s.name&&this.unnamedAtrule(s,e),this.init(s,e[2]);let r=!1,o=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){s.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(i=a.length-1,n=a[i];n&&"space"===n[0];)n=a[--i];n&&(s.source.end=this.getPosition(n[3]||n[2]))}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){r=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(s.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(s,"params",a),r&&(e=a[a.length-1],s.source.end=this.getPosition(e[3]||e[2]),this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),o&&(s.nodes=[],this.current=s)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}raw(e,t,n){let i,s,r,o,a=n.length,l="",c=!0,d=/^([#.|])?(\w)+/i;for(let h=0;h<a;h+=1)i=n[h],s=i[0],"comment"!==s||"rule"!==e.type?"comment"===s||"space"===s&&h===a-1?c=!1:l+=i[1]:(o=n[h-1],r=n[h+1],"space"!==o[0]&&"space"!==r[0]&&d.test(o[1])&&d.test(r[1])?l+=i[1]:c=!1);if(!c){let i=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={value:l,raw:i}}e[t]=l}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}colon(e){let t,n,i,s=0;for(let[r,o]of e.entries()){if(t=o,n=t[0],"("===n&&(s+=1),")"===n&&(s-=1),0===s&&":"===n){if(i){if("word"===i[0]&&"progid"===i[1])continue;return r}this.doubleColon(t)}i=t}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,i=0;for(let s=t-1;s>=0&&(n=e[s],"space"===n[0]||(i+=1,2!==i));s--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}};function TL(e,t){let n=new VT(e,t),i=new DL(n);try{i.parse()}catch(s){throw"CssSyntaxError"===s.name&&t&&t.from&&(/\.scss$/i.test(t.from)?s.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?s.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(s.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),s}return i.root}var LL=TL;TL.default=TL,oL.registerParse(TL);let{isClean:NL,my:IL}=ED;const PL={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},OL={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},RL={postcssPlugin:!0,prepare:!0,Once:!0};function AL(e){return"object"==typeof e&&"function"==typeof e.then}function ML(e){let t=!1,n=PL[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function FL(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:ML(e),{node:e,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function BL(e){return e[NL]=!1,e.nodes&&e.nodes.forEach((e=>BL(e))),e}let VL={};class WL{constructor(e,t,n){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof WL||t instanceof mL)i=BL(t.root),t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=LL;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{i=e(t,n)}catch(s){this.processed=!0,this.error=s}i&&!i[IL]&&oL.rebuild(i)}else i=BL(t);this.result=new mL(e,i,n),this.helpers=l(a({},VL),{result:this.result,postcss:VL}),this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?a(a({},e),e.prepare(this.result)):e))}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return"from"in this.opts||uL("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning."),this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(AL(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[NL];)e[NL]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=ID;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new YT(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}walkSync(e){e[NL]=!0;let t=ML(e);for(let n of t)if(0===n)e.nodes&&e.each((e=>{e[NL]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}visitSync(e,t){for(let[i,s]of e){let e;this.result.lastPlugin=i;try{e=s(t,this.helpers)}catch(n){throw this.handleError(n,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(AL(e))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return AL(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(n.postcssVersion&&"production"!=={}.NODE_ENV){let e=n.postcssPlugin,t=n.postcssVersion,i=this.result.processor.version,s=t.split("."),r=i.split(".");(s[0]!==r[0]||parseInt(s[1])>parseInt(r[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+i+", but "+e+" uses "+t+". Perhaps this is the source of the error below.")}}else e.plugin=n.postcssPlugin,e.setMessage()}catch(i){console&&console.error&&console.error(i)}return e}async runAsync(){this.plugin=0;for(let n=0;n<this.plugins.length;n++){let t=this.plugins[n],i=this.runOnRoot(t);if(AL(i))try{await i}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[NL];){e[NL]=!0;let n=[FL(e)];for(;n.length>0;){let e=this.visitTick(n);if(AL(e))try{await e}catch(t){let e=n[n.length-1].node;throw this.handleError(t,e)}}}if(this.listeners.OnceExit)for(let[n,i]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if("document"===e.type){let t=e.nodes.map((e=>i(e,this.helpers)));await Promise.all(t)}else await i(e,this.helpers)}catch(t){throw this.handleError(t)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!OL[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!RL[n])if("object"==typeof t[n])for(let i in t[n])e(t,"*"===i?n:n+"-"+i.toLowerCase(),t[n][i]);else"function"==typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,s]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return s(n.toProxy(),this.helpers)}catch(r){throw this.handleError(r,n)}}if(0!==t.iterator){let i,s=t.iterator;for(;i=n.nodes[n.indexes[s]];)if(n.indexes[s]+=1,!i[NL])return i[NL]=!0,void e.push(FL(i));t.iterator=0,delete n.indexes[s]}let s=t.events;for(;t.eventIndex<s.length;){let e=s[t.eventIndex];if(t.eventIndex+=1,0===e)return void(n.nodes&&n.nodes.length&&(n[NL]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}}WL.registerPostcss=e=>{VL=e};var HL=WL;WL.default=WL,CL.registerLazyResult(WL),dL.registerLazyResult(WL);class UL{constructor(e,t,n){let i;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let s=ID;this.result=new mL(this._processor,i,this._opts),this.result.css=t;let r=this;Object.defineProperty(this.result,"root",{get:()=>r.root});let o=new YT(s,i,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,t=LL;try{e=t(this._css,this._opts)}catch(n){this.error=n}return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,t){return"from"in this._opts||uL("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning."),this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}var zL=UL;UL.default=UL;class jL{constructor(e=[]){this.version="8.4.4",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return 0===this.plugins.length&&void 0===t.parser&&void 0===t.stringifier&&void 0===t.syntax?new zL(this,e,t):new HL(this,e,t)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else{if("function"!=typeof n)throw"object"==typeof n&&(n.parse||n.stringify)?new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation."):new Error(n+" is not a PostCSS plugin");t.push(n)}return t}}var $L=jL;function KL(e,t){if(Array.isArray(e))return e.map((e=>KL(e)));let n=e,{inputs:i}=n,s=c(n,["inputs"]);if(i){t=[];for(let e of i){let n=l(a({},e),{__proto__:VT.prototype});n.map&&(n.map=l(a({},n.map),{__proto__:ET.prototype})),t.push(n)}}if(s.nodes&&(s.nodes=e.nodes.map((e=>KL(e,t)))),s.source){let e=s.source,{inputId:n}=e,i=c(e,["inputId"]);s.source=i,null!=n&&(s.source.input=t[n])}if("root"===s.type)return new CL(s);if("decl"===s.type)return new BD(s);if("rule"===s.type)return new EL(s);if("comment"===s.type)return new XT(s);if("atrule"===s.type)return new vL(s);throw new Error("Unknown node type: "+e.type)}jL.default=jL,CL.registerProcessor(jL),dL.registerProcessor(jL);var qL=KL;function GL(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new $L(e)}KL.default=KL,GL.plugin=function(e,t){function n(...n){let i=t(...n);return i.postcssPlugin=e,i.postcssVersion=(new $L).version,i}let i;return console&&console.warn&&console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),Object.defineProperty(n,"postcss",{get:()=>(i||(i=n()),i)}),n.process=function(e,t,i){return GL([n(i)]).process(e,t)},n},GL.stringify=ID,GL.parse=LL,GL.fromJSON=qL,GL.list=xL,GL.comment=e=>new XT(e),GL.atRule=e=>new vL(e),GL.decl=e=>new BD(e),GL.rule=e=>new EL(e),GL.root=e=>new CL(e),GL.document=e=>new dL(e),GL.CssSyntaxError=kD,GL.Declaration=BD,GL.Container=oL,GL.Processor=$L,GL.Document=dL,GL.Comment=XT,GL.Warning=gL,GL.AtRule=vL,GL.Result=mL,GL.Input=VT,GL.Rule=EL,GL.Root=CL,GL.Node=MD,HL.registerPostcss(GL);var YL=GL;GL.default=GL;const ZL=()=>({postcssPlugin:"vue-sfc-trim",Once(e){e.walk((({type:e,raws:t})=>{"rule"!==e&&"atrule"!==e||(t.before&&(t.before="\n"),"after"in t&&t.after&&(t.after="\n"))}))}});ZL.postcss=!0;var XL=fv((function(e,t){function n(e){for(var t=e.toLowerCase(),n="",i=!1,s=0;s<6&&void 0!==t[s];s++){var r=t.charCodeAt(s);if(i=32===r,!(r>=97&&r<=102||r>=48&&r<=57))break;n+=t[s]}if(0!==n.length){var o=parseInt(n,16);return o>=55296&&o<=57343||0===o||o>1114111?["",n.length+(i?1:0)]:[String.fromCodePoint(o),n.length+(i?1:0)]}}t.__esModule=!0,t.default=function(e){if(!i.test(e))return e;for(var t="",s=0;s<e.length;s++)if("\\"!==e[s])t+=e[s];else{var r=n(e.slice(s+1,s+7));if(void 0!==r){t+=r[0],s+=r[1];continue}if("\\"===e[s+1]){t+="\\",s++;continue}e.length===s+1&&(t+=e[s])}return t};var i=/\\/;e.exports=t.default})),JL=fv((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(;n.length>0;){var s=n.shift();if(!e[s])return;e=e[s]}return e},e.exports=t.default})),QL=fv((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(;n.length>0;){var s=n.shift();e[s]||(e[s]={}),e=e[s]}},e.exports=t.default})),eN=fv((function(e,t){t.__esModule=!0,t.default=function(e){var t="",n=e.indexOf("/*"),i=0;for(;n>=0;){t+=e.slice(i,n);var s=e.indexOf("*/",n+2);if(s<0)return t;i=s+2,n=e.indexOf("/*",i)}return t+=e.slice(i)},e.exports=t.default})),tN=fv((function(e,t){t.__esModule=!0,t.stripComments=t.ensureObject=t.getProp=t.unesc=void 0;var n=o(XL);t.unesc=n.default;var i=o(JL);t.getProp=i.default;var s=o(QL);t.ensureObject=s.default;var r=o(eN);function o(e){return e&&e.__esModule?e:{default:e}}t.stripComments=r.default})),nN=fv((function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.__esModule=!0,t.default=void 0;var i=function e(t,n){if("object"!=typeof t||null===t)return t;var i=new t.constructor;for(var s in t)if(t.hasOwnProperty(s)){var r=t[s];"parent"===s&&"object"===typeof r?n&&(i[s]=n):i[s]=r instanceof Array?r.map((function(t){return e(t,i)})):e(r,i)}return i},s=function(){function e(e){void 0===e&&(e={}),Object.assign(this,e),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t,s,r,o=e.prototype;return o.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},o.replaceWith=function(){if(this.parent){for(var e in arguments)this.parent.insertBefore(this,arguments[e]);this.remove()}return this},o.next=function(){return this.parent.at(this.parent.index(this)+1)},o.prev=function(){return this.parent.at(this.parent.index(this)-1)},o.clone=function(e){void 0===e&&(e={});var t=i(this);for(var n in e)t[n]=e[n];return t},o.appendToPropertyAndEscape=function(e,t,n){this.raws||(this.raws={});var i=this[e],s=this.raws[e];this[e]=i+t,s||n!==t?this.raws[e]=(s||i)+n:delete this.raws[e]},o.setPropertyAndEscape=function(e,t,n){this.raws||(this.raws={}),this[e]=t,this.raws[e]=n},o.setPropertyWithoutEscape=function(e,t){this[e]=t,this.raws&&delete this.raws[e]},o.isAtPosition=function(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e)&&(!(this.source.end.line<e)&&(!(this.source.start.line===e&&this.source.start.column>t)&&!(this.source.end.line===e&&this.source.end.column<t)))},o.stringifyProperty=function(e){return this.raws&&this.raws[e]||this[e]},o.valueToString=function(){return String(this.stringifyProperty("value"))},o.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},t=e,(s=[{key:"rawSpaceBefore",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===e&&(e=this.spaces&&this.spaces.before),e||""},set:function(e){(0,tN.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===e&&(e=this.spaces.after),e||""},set:function(e){(0,tN.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=e}}])&&n(t.prototype,s),r&&n(t,r),e}();t.default=s,e.exports=t.default})),iN=fv((function(e,t){t.__esModule=!0,t.UNIVERSAL=t.ATTRIBUTE=t.CLASS=t.COMBINATOR=t.COMMENT=t.ID=t.NESTING=t.PSEUDO=t.ROOT=t.SELECTOR=t.STRING=t.TAG=void 0;t.TAG="tag";t.STRING="string";t.SELECTOR="selector";t.ROOT="root";t.PSEUDO="pseudo";t.NESTING="nesting";t.ID="id";t.COMMENT="comment";t.COMBINATOR="combinator";t.CLASS="class";t.ATTRIBUTE="attribute";t.UNIVERSAL="universal"})),sN=fv((function(e,t){t.__esModule=!0,t.default=void 0;var n,i=(n=nN)&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,t&&t.set(e,n);return n}(iN);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).nodes||(n.nodes=[]),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var r,a,d,h=i.prototype;return h.append=function(e){return e.parent=this,this.nodes.push(e),this},h.prepend=function(e){return e.parent=this,this.nodes.unshift(e),this},h.at=function(e){return this.nodes[e]},h.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},h.removeChild=function(e){var t;for(var n in e=this.index(e),this.at(e).parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this},h.removeAll=function(){for(var e,t=o(this.nodes);!(e=t()).done;){e.value.parent=void 0}return this.nodes=[],this},h.empty=function(){return this.removeAll()},h.insertAfter=function(e,t){t.parent=this;var n,i=this.index(e);for(var s in this.nodes.splice(i+1,0,t),t.parent=this,this.indexes)i<=(n=this.indexes[s])&&(this.indexes[s]=n+1);return this},h.insertBefore=function(e,t){t.parent=this;var n,i=this.index(e);for(var s in this.nodes.splice(i,0,t),t.parent=this,this.indexes)(n=this.indexes[s])<=i&&(this.indexes[s]=n+1);return this},h._findChildAtPosition=function(e,t){var n=void 0;return this.each((function(i){if(i.atPosition){var s=i.atPosition(e,t);if(s)return n=s,!1}else if(i.isAtPosition(e,t))return n=i,!1})),n},h.atPosition=function(e,t){return this.isAtPosition(e,t)?this._findChildAtPosition(e,t)||this:void 0},h._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},h.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var t=this.lastEach;if(this.indexes[t]=0,this.length){for(var n,i;this.indexes[t]<this.length&&(n=this.indexes[t],!1!==(i=e(this.at(n),n)));)this.indexes[t]+=1;return delete this.indexes[t],!1!==i&&void 0}},h.walk=function(e){return this.each((function(t,n){var i=e(t,n);if(!1!==i&&t.length&&(i=t.walk(e)),!1===i)return!1}))},h.walkAttributes=function(e){var t=this;return this.walk((function(n){if(n.type===s.ATTRIBUTE)return e.call(t,n)}))},h.walkClasses=function(e){var t=this;return this.walk((function(n){if(n.type===s.CLASS)return e.call(t,n)}))},h.walkCombinators=function(e){var t=this;return this.walk((function(n){if(n.type===s.COMBINATOR)return e.call(t,n)}))},h.walkComments=function(e){var t=this;return this.walk((function(n){if(n.type===s.COMMENT)return e.call(t,n)}))},h.walkIds=function(e){var t=this;return this.walk((function(n){if(n.type===s.ID)return e.call(t,n)}))},h.walkNesting=function(e){var t=this;return this.walk((function(n){if(n.type===s.NESTING)return e.call(t,n)}))},h.walkPseudos=function(e){var t=this;return this.walk((function(n){if(n.type===s.PSEUDO)return e.call(t,n)}))},h.walkTags=function(e){var t=this;return this.walk((function(n){if(n.type===s.TAG)return e.call(t,n)}))},h.walkUniversals=function(e){var t=this;return this.walk((function(n){if(n.type===s.UNIVERSAL)return e.call(t,n)}))},h.split=function(e){var t=this,n=[];return this.reduce((function(i,s,r){var o=e.call(t,s);return n.push(s),o?(i.push(n),n=[]):r===t.length-1&&i.push(n),i}),[])},h.map=function(e){return this.nodes.map(e)},h.reduce=function(e,t){return this.nodes.reduce(e,t)},h.every=function(e){return this.nodes.every(e)},h.some=function(e){return this.nodes.some(e)},h.filter=function(e){return this.nodes.filter(e)},h.sort=function(e){return this.nodes.sort(e)},h.toString=function(){return this.map(String).join("")},r=i,(a=[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}])&&l(r.prototype,a),d&&l(r,d),i}(i.default);t.default=d,e.exports=t.default})),rN=fv((function(e,t){var n;function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).type=iN.ROOT,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var o,a,l,c=r.prototype;return c.toString=function(){var e=this.reduce((function(e,t){return e.push(String(t)),e}),[]).join(",");return this.trailingComma?e+",":e},c.error=function(e,t){return this._error?this._error(e,t):new Error(e)},o=r,(a=[{key:"errorGenerator",set:function(e){this._error=e}}])&&i(o.prototype,a),l&&i(o,l),r}(((n=sN)&&n.__esModule?n:{default:n}).default);t.default=r,e.exports=t.default})),oN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.SELECTOR,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=sN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),aN={}.hasOwnProperty,lN=/[ -,\.\/:-@\[-\^`\{-~]/,cN=/[ -,\.\/:-@\[\]\^`\{-~]/,dN=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,hN=function e(t,n){"single"!=(n=function(e,t){if(!e)return t;var n={};for(var i in t)n[i]=aN.call(e,i)?e[i]:t[i];return n}(n,e.options)).quotes&&"double"!=n.quotes&&(n.quotes="single");for(var i="double"==n.quotes?'"':"'",s=n.isIdentifier,r=t.charAt(0),o="",a=0,l=t.length;a<l;){var c=t.charAt(a++),d=c.charCodeAt(),h=void 0;if(d<32||d>126){if(d>=55296&&d<=56319&&a<l){var u=t.charCodeAt(a++);56320==(64512&u)?d=((1023&d)<<10)+(1023&u)+65536:a--}h="\\"+d.toString(16).toUpperCase()+" "}else h=n.escapeEverything?lN.test(c)?"\\"+c:"\\"+d.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?"\\"+d.toString(16).toUpperCase()+" ":"\\"==c||!s&&('"'==c&&i==c||"'"==c&&i==c)||s&&cN.test(c)?"\\"+c:c;o+=h}return s&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(r)&&(o="\\3"+r+" "+o.slice(1))),o=o.replace(dN,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!s&&n.wrap?i+o+i:o};hN.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},hN.version="3.0.0";var uN=hN,pN=fv((function(e,t){t.__esModule=!0,t.default=void 0;var n=i(uN);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){var t,i,o,a,l;function c(t){var n;return(n=e.call(this,t)||this).type=iN.CLASS,n._constructed=!0,n}return i=e,(t=c).prototype=Object.create(i.prototype),t.prototype.constructor=t,r(t,i),c.prototype.valueToString=function(){return"."+e.prototype.valueToString.call(this)},o=c,(a=[{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=(0,n.default)(e,{isIdentifier:!0});t!==e?((0,tN.ensureObject)(this,"raws"),this.raws.value=t):this.raws&&delete this.raws.value}this._value=e}}])&&s(o.prototype,a),l&&s(o,l),c}(i(nN).default);t.default=o,e.exports=t.default})),gN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.COMMENT,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=nN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),fN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.ID,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s.prototype.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},s}(((n=nN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),mN=fv((function(e,t){t.__esModule=!0,t.default=void 0;var n=i(uN);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){var t,i;function o(){return e.apply(this,arguments)||this}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,r(t,i);var a,l,c,d=o.prototype;return d.qualifiedName=function(e){return this.namespace?this.namespaceString+"|"+e:e},d.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},a=o,(l=[{key:"namespace",get:function(){return this._namespace},set:function(e){if(!0===e||"*"===e||"&"===e)return this._namespace=e,void(this.raws&&delete this.raws.namespace);var t=(0,n.default)(e,{isIdentifier:!0});this._namespace=e,t!==e?((0,tN.ensureObject)(this,"raws"),this.raws.namespace=t):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(e){this.namespace=e}},{key:"namespaceString",get:function(){if(this.namespace){var e=this.stringifyProperty("namespace");return!0===e?"":e}return""}}])&&s(a.prototype,l),c&&s(a,c),o}(i(nN).default);t.default=o,e.exports=t.default})),_N=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.TAG,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=mN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),vN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.STRING,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=nN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),bN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.PSEUDO,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s.prototype.toString=function(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")},s}(((n=sN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),yN=$k.deprecate,wN=fv((function(e,t){t.__esModule=!0,t.unescapeValue=p,t.default=void 0;var n,i=o(uN),s=o(XL),r=o(mN);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=/^('|")([^]*)\1$/,d=yN((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),h=yN((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),u=yN((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function p(e){var t=!1,n=null,i=e,r=i.match(c);return r&&(n=r[1],i=r[2]),(i=(0,s.default)(i))!==e&&(t=!0),{deprecatedUsage:t,unescaped:i,quoteMark:n}}var g=function(e){var t,n;function s(t){var n;return void 0===t&&(t={}),(n=e.call(this,function(e){if(void 0!==e.quoteMark)return e;if(void 0===e.value)return e;u();var t=p(e.value),n=t.quoteMark,i=t.unescaped;return e.raws||(e.raws={}),void 0===e.raws.value&&(e.raws.value=e.value),e.value=i,e.quoteMark=n,e}(t))||this).type=iN.ATTRIBUTE,n.raws=n.raws||{},Object.defineProperty(n.raws,"unquoted",{get:yN((function(){return n.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:yN((function(){return n.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),n._constructed=!0,n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var r,o,c,g=s.prototype;return g.getQuotedValue=function(e){void 0===e&&(e={});var t=this._determineQuoteMark(e),n=f[t];return(0,i.default)(this._value,n)},g._determineQuoteMark=function(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)},g.setValue=function(e,t){void 0===t&&(t={}),this._value=e,this._quoteMark=this._determineQuoteMark(t),this._syncRawValue()},g.smartQuoteMark=function(e){var t=this.value,n=t.replace(/[^']/g,"").length,r=t.replace(/[^"]/g,"").length;if(n+r===0){var o=(0,i.default)(t,{isIdentifier:!0});if(o===t)return s.NO_QUOTE;var a=this.preferredQuoteMark(e);if(a===s.NO_QUOTE){var l=this.quoteMark||e.quoteMark||s.DOUBLE_QUOTE,c=f[l];if((0,i.default)(t,c).length<o.length)return l}return a}return r===n?this.preferredQuoteMark(e):r<n?s.DOUBLE_QUOTE:s.SINGLE_QUOTE},g.preferredQuoteMark=function(e){var t=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;return void 0===t&&(t=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark),void 0===t&&(t=s.DOUBLE_QUOTE),t},g._syncRawValue=function(){var e=(0,i.default)(this._value,f[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e},g._handleEscapes=function(e,t){if(this._constructed){var n=(0,i.default)(t,{isIdentifier:!0});n!==t?this.raws[e]=n:delete this.raws[e]}},g._spacesFor=function(e){var t=this.spaces[e]||{},n=this.raws.spaces&&this.raws.spaces[e]||{};return Object.assign({before:"",after:""},t,n)},g._stringFor=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=m);var i=this._spacesFor(t);return n(this.stringifyProperty(e),i)},g.offsetOf=function(e){var t=1,n=this._spacesFor("attribute");if(t+=n.before.length,"namespace"===e||"ns"===e)return this.namespace?t:-1;if("attributeNS"===e)return t;if(t+=this.namespaceString.length,this.namespace&&(t+=1),"attribute"===e)return t;t+=this.stringifyProperty("attribute").length,t+=n.after.length;var i=this._spacesFor("operator");t+=i.before.length;var s=this.stringifyProperty("operator");if("operator"===e)return s?t:-1;t+=s.length,t+=i.after.length;var r=this._spacesFor("value");t+=r.before.length;var o=this.stringifyProperty("value");return"value"===e?o?t:-1:(t+=o.length,t+=r.after.length,t+=this._spacesFor("insensitive").before.length,"insensitive"===e&&this.insensitive?t:-1)},g.toString=function(){var e=this,t=[this.rawSpaceBefore,"["];return t.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(t.push(this._stringFor("operator")),t.push(this._stringFor("value")),t.push(this._stringFor("insensitiveFlag","insensitive",(function(t,n){return!(t.length>0)||e.quoted||0!==n.before.length||e.spaces.value&&e.spaces.value.after||(n.before=" "),m(t,n)})))),t.push("]"),t.push(this.rawSpaceAfter),t.join("")},r=s,(o=[{key:"quoted",get:function(){var e=this.quoteMark;return"'"===e||'"'===e},set:function(e){h()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(e){this._constructed?this._quoteMark!==e&&(this._quoteMark=e,this._syncRawValue()):this._quoteMark=e}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=p(e),n=t.deprecatedUsage,i=t.unescaped,s=t.quoteMark;if(n&&d(),i===this._value&&s===this._quoteMark)return;this._value=i,this._quoteMark=s,this._syncRawValue()}else this._value=e}},{key:"attribute",get:function(){return this._attribute},set:function(e){this._handleEscapes("attribute",e),this._attribute=e}}])&&a(r.prototype,o),c&&a(r,c),s}(r.default);t.default=g,g.NO_QUOTE=null,g.SINGLE_QUOTE="'",g.DOUBLE_QUOTE='"';var f=((n={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}}).null={isIdentifier:!0},n);function m(e,t){return""+t.before+e+t.after}})),CN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.UNIVERSAL,n.value="*",n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=mN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),SN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.COMBINATOR,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=nN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),xN=fv((function(e,t){var n;function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).type=iN.NESTING,n.value="&",n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),s}(((n=nN)&&n.__esModule?n:{default:n}).default);t.default=s,e.exports=t.default})),kN=fv((function(e,t){t.__esModule=!0,t.default=function(e){return e.sort((function(e,t){return e-t}))},e.exports=t.default})),EN=fv((function(e,t){t.__esModule=!0,t.combinator=t.word=t.comment=t.str=t.tab=t.newline=t.feed=t.cr=t.backslash=t.bang=t.slash=t.doubleQuote=t.singleQuote=t.space=t.greaterThan=t.pipe=t.equals=t.plus=t.caret=t.tilde=t.dollar=t.closeSquare=t.openSquare=t.closeParenthesis=t.openParenthesis=t.semicolon=t.colon=t.comma=t.at=t.asterisk=t.ampersand=void 0;t.ampersand=38;t.asterisk=42;t.at=64;t.comma=44;t.colon=58;t.semicolon=59;t.openParenthesis=40;t.closeParenthesis=41;t.openSquare=91;t.closeSquare=93;t.dollar=36;t.tilde=126;t.caret=94;t.plus=43;t.equals=61;t.pipe=124;t.greaterThan=62;t.space=32;t.singleQuote=39;t.doubleQuote=34;t.slash=47;t.bang=33;t.backslash=92;t.cr=13;t.feed=12;t.newline=10;t.tab=9;t.str=39;t.comment=-1;t.word=-2;t.combinator=-3})),DN=fv((function(e,t){t.__esModule=!0,t.default=function(e){var t,n,i,r,o,a,l,c,d,u,p,g,f,m=[],_=e.css.valueOf(),v=_.length,b=-1,y=1,w=0,C=0;function S(t,n){if(!e.safe)throw e.error("Unclosed "+t,y,w-b,w);d=(_+=n).length-1}for(;w<v;){switch((t=_.charCodeAt(w))===s.newline&&(b=w,y+=1),t){case s.space:case s.tab:case s.newline:case s.cr:case s.feed:d=w;do{d+=1,(t=_.charCodeAt(d))===s.newline&&(b=d,y+=1)}while(t===s.space||t===s.newline||t===s.tab||t===s.cr||t===s.feed);f=s.space,r=y,i=d-b-1,C=d;break;case s.plus:case s.greaterThan:case s.tilde:case s.pipe:d=w;do{d+=1,t=_.charCodeAt(d)}while(t===s.plus||t===s.greaterThan||t===s.tilde||t===s.pipe);f=s.combinator,r=y,i=w-b,C=d;break;case s.asterisk:case s.ampersand:case s.bang:case s.comma:case s.equals:case s.dollar:case s.caret:case s.openSquare:case s.closeSquare:case s.colon:case s.semicolon:case s.openParenthesis:case s.closeParenthesis:f=t,r=y,i=w-b,C=(d=w)+1;break;case s.singleQuote:case s.doubleQuote:g=t===s.singleQuote?"'":'"',d=w;do{for(o=!1,-1===(d=_.indexOf(g,d+1))&&S("quote",g),a=d;_.charCodeAt(a-1)===s.backslash;)a-=1,o=!o}while(o);f=s.str,r=y,i=w-b,C=d+1;break;default:t===s.slash&&_.charCodeAt(w+1)===s.asterisk?(0===(d=_.indexOf("*/",w+2)+1)&&S("comment","*/"),n=_.slice(w,d+1),c=n.split("\n"),(l=c.length-1)>0?(u=y+l,p=d-c[l].length):(u=y,p=b),f=s.comment,y=u,r=u,i=d-p):t===s.slash?(f=t,r=y,i=w-b,C=(d=w)+1):(d=h(_,w),f=s.word,r=y,i=d-b),C=d+1}m.push([f,y,w-b,r,i,w,C]),p&&(b=p,p=null),w=C}return m},t.FIELDS=void 0;var n,i,s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,t&&t.set(e,n);return n}(EN);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}for(var o=((n={})[s.tab]=!0,n[s.newline]=!0,n[s.cr]=!0,n[s.feed]=!0,n),a=((i={})[s.space]=!0,i[s.tab]=!0,i[s.newline]=!0,i[s.cr]=!0,i[s.feed]=!0,i[s.ampersand]=!0,i[s.asterisk]=!0,i[s.bang]=!0,i[s.comma]=!0,i[s.colon]=!0,i[s.semicolon]=!0,i[s.openParenthesis]=!0,i[s.closeParenthesis]=!0,i[s.openSquare]=!0,i[s.closeSquare]=!0,i[s.singleQuote]=!0,i[s.doubleQuote]=!0,i[s.plus]=!0,i[s.pipe]=!0,i[s.tilde]=!0,i[s.greaterThan]=!0,i[s.equals]=!0,i[s.dollar]=!0,i[s.caret]=!0,i[s.slash]=!0,i),l={},c="0123456789abcdefABCDEF",d=0;d<c.length;d++)l[c.charCodeAt(d)]=!0;function h(e,t){var n,i=t;do{if(n=e.charCodeAt(i),a[n])return i-1;n===s.backslash?i=u(e,i)+1:i++}while(i<e.length);return i-1}function u(e,t){var n=t,i=e.charCodeAt(n+1);if(o[i]);else if(l[i]){var r=0;do{n++,r++,i=e.charCodeAt(n+1)}while(l[i]&&r<6);r<6&&i===s.space&&n++}else n++;return n}t.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}})),TN=fv((function(e,t){t.__esModule=!0,t.default=void 0;var n,i,s=C(rN),r=C(oN),o=C(pN),a=C(gN),l=C(fN),c=C(_N),d=C(vN),h=C(bN),u=w(wN),p=C(CN),g=C(SN),f=C(xN),m=C(kN),_=w(DN),v=w(EN),b=w(iN);function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var r=i?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(n,s,r):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=((n={})[v.space]=!0,n[v.cr]=!0,n[v.feed]=!0,n[v.newline]=!0,n[v.tab]=!0,n),k=Object.assign({},x,((i={})[v.comment]=!0,i));function E(e){return{line:e[_.FIELDS.START_LINE],column:e[_.FIELDS.START_COL]}}function D(e){return{line:e[_.FIELDS.END_LINE],column:e[_.FIELDS.END_COL]}}function T(e,t,n,i){return{start:{line:e,column:t},end:{line:n,column:i}}}function L(e){return T(e[_.FIELDS.START_LINE],e[_.FIELDS.START_COL],e[_.FIELDS.END_LINE],e[_.FIELDS.END_COL])}function N(e,t){if(e)return T(e[_.FIELDS.START_LINE],e[_.FIELDS.START_COL],t[_.FIELDS.END_LINE],t[_.FIELDS.END_COL])}function I(e,t){var n=e[t];if("string"==typeof n)return-1!==n.indexOf("\\")&&((0,tN.ensureObject)(e,"raws"),e[t]=(0,tN.unesc)(n),void 0===e.raws[t]&&(e.raws[t]=n)),e}function P(e,t){for(var n=-1,i=[];-1!==(n=e.indexOf(t,n+1));)i.push(n);return i}var O=function(){function e(e,t){void 0===t&&(t={}),this.rule=e,this.options=Object.assign({lossy:!1,safe:!1},t),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,_.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var n=N(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new s.default({source:n}),this.root.errorGenerator=this._errorGenerator();var i=new r.default({source:{start:{line:1,column:1}}});this.root.append(i),this.current=i,this.loop()}var t,n,i,y=e.prototype;return y._errorGenerator=function(){var e=this;return function(t,n){return"string"==typeof e.rule?new Error(t):e.rule.error(t,n)}},y.attribute=function(){var e=[],t=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[_.FIELDS.TYPE]!==v.closeSquare;)e.push(this.currToken),this.position++;if(this.currToken[_.FIELDS.TYPE]!==v.closeSquare)return this.expected("closing square bracket",this.currToken[_.FIELDS.START_POS]);var n=e.length,i={source:T(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[_.FIELDS.START_POS]};if(1===n&&!~[v.word].indexOf(e[0][_.FIELDS.TYPE]))return this.expected("attribute",e[0][_.FIELDS.START_POS]);for(var s=0,r="",o="",a=null,l=!1;s<n;){var c=e[s],d=this.content(c),h=e[s+1];switch(c[_.FIELDS.TYPE]){case v.space:if(l=!0,this.options.lossy)break;if(a){(0,tN.ensureObject)(i,"spaces",a);var p=i.spaces[a].after||"";i.spaces[a].after=p+d;var g=(0,tN.getProp)(i,"raws","spaces",a,"after")||null;g&&(i.raws.spaces[a].after=g+d)}else r+=d,o+=d;break;case v.asterisk:if(h[_.FIELDS.TYPE]===v.equals)i.operator=d,a="operator";else if((!i.namespace||"namespace"===a&&!l)&&h){r&&((0,tN.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=r,r=""),o&&((0,tN.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=r,o=""),i.namespace=(i.namespace||"")+d,((0,tN.getProp)(i,"raws","namespace")||null)&&(i.raws.namespace+=d),a="namespace"}l=!1;break;case v.dollar:if("value"===a){var f=(0,tN.getProp)(i,"raws","value");i.value+="$",f&&(i.raws.value=f+"$");break}case v.caret:h[_.FIELDS.TYPE]===v.equals&&(i.operator=d,a="operator"),l=!1;break;case v.combinator:if("~"===d&&h[_.FIELDS.TYPE]===v.equals&&(i.operator=d,a="operator"),"|"!==d){l=!1;break}h[_.FIELDS.TYPE]===v.equals?(i.operator=d,a="operator"):i.namespace||i.attribute||(i.namespace=!0),l=!1;break;case v.word:if(h&&"|"===this.content(h)&&e[s+2]&&e[s+2][_.FIELDS.TYPE]!==v.equals&&!i.operator&&!i.namespace)i.namespace=d,a="namespace";else if(!i.attribute||"attribute"===a&&!l){r&&((0,tN.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=r,r=""),o&&((0,tN.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=o,o=""),i.attribute=(i.attribute||"")+d,((0,tN.getProp)(i,"raws","attribute")||null)&&(i.raws.attribute+=d),a="attribute"}else if(!i.value&&""!==i.value||"value"===a&&!l){var m=(0,tN.unesc)(d),b=(0,tN.getProp)(i,"raws","value")||"",y=i.value||"";i.value=y+m,i.quoteMark=null,(m!==d||b)&&((0,tN.ensureObject)(i,"raws"),i.raws.value=(b||y)+d),a="value"}else{var w="i"===d||"I"===d;!i.value&&""!==i.value||!i.quoteMark&&!l?(i.value||""===i.value)&&(a="value",i.value+=d,i.raws.value&&(i.raws.value+=d)):(i.insensitive=w,w&&"I"!==d||((0,tN.ensureObject)(i,"raws"),i.raws.insensitiveFlag=d),a="insensitive",r&&((0,tN.ensureObject)(i,"spaces","insensitive"),i.spaces.insensitive.before=r,r=""),o&&((0,tN.ensureObject)(i,"raws","spaces","insensitive"),i.raws.spaces.insensitive.before=o,o=""))}l=!1;break;case v.str:if(!i.attribute||!i.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:c[_.FIELDS.START_POS]});var C=(0,u.unescapeValue)(d),S=C.unescaped,x=C.quoteMark;i.value=S,i.quoteMark=x,a="value",(0,tN.ensureObject)(i,"raws"),i.raws.value=d,l=!1;break;case v.equals:if(!i.attribute)return this.expected("attribute",c[_.FIELDS.START_POS],d);if(i.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:c[_.FIELDS.START_POS]});i.operator=i.operator?i.operator+d:d,a="operator",l=!1;break;case v.comment:if(a)if(l||h&&h[_.FIELDS.TYPE]===v.space||"insensitive"===a){var k=(0,tN.getProp)(i,"spaces",a,"after")||"",E=(0,tN.getProp)(i,"raws","spaces",a,"after")||k;(0,tN.ensureObject)(i,"raws","spaces",a),i.raws.spaces[a].after=E+d}else{var D=i[a]||"",L=(0,tN.getProp)(i,"raws",a)||D;(0,tN.ensureObject)(i,"raws"),i.raws[a]=L+d}else o+=d;break;default:return this.error('Unexpected "'+d+'" found.',{index:c[_.FIELDS.START_POS]})}s++}I(i,"attribute"),I(i,"namespace"),this.newNode(new u.default(i)),this.position++},y.parseWhitespaceEquivalentTokens=function(e){e<0&&(e=this.tokens.length);var t=this.position,n=[],i="",s=void 0;do{if(x[this.currToken[_.FIELDS.TYPE]])this.options.lossy||(i+=this.content());else if(this.currToken[_.FIELDS.TYPE]===v.comment){var r={};i&&(r.before=i,i=""),s=new a.default({value:this.content(),source:L(this.currToken),sourceIndex:this.currToken[_.FIELDS.START_POS],spaces:r}),n.push(s)}}while(++this.position<e);if(i)if(s)s.spaces.after=i;else if(!this.options.lossy){var o=this.tokens[t],l=this.tokens[this.position-1];n.push(new d.default({value:"",source:T(o[_.FIELDS.START_LINE],o[_.FIELDS.START_COL],l[_.FIELDS.END_LINE],l[_.FIELDS.END_COL]),sourceIndex:o[_.FIELDS.START_POS],spaces:{before:i,after:""}}))}return n},y.convertWhitespaceNodesToSpace=function(e,t){var n=this;void 0===t&&(t=!1);var i="",s="";return e.forEach((function(e){var r=n.lossySpace(e.spaces.before,t),o=n.lossySpace(e.rawSpaceBefore,t);i+=r+n.lossySpace(e.spaces.after,t&&0===r.length),s+=r+e.value+n.lossySpace(e.rawSpaceAfter,t&&0===o.length)})),s===i&&(s=void 0),{space:i,rawSpace:s}},y.isNamedCombinator=function(e){return void 0===e&&(e=this.position),this.tokens[e+0]&&this.tokens[e+0][_.FIELDS.TYPE]===v.slash&&this.tokens[e+1]&&this.tokens[e+1][_.FIELDS.TYPE]===v.word&&this.tokens[e+2]&&this.tokens[e+2][_.FIELDS.TYPE]===v.slash},y.namedCombinator=function(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]),t=(0,tN.unesc)(e).toLowerCase(),n={};t!==e&&(n.value="/"+e+"/");var i=new g.default({value:"/"+t+"/",source:T(this.currToken[_.FIELDS.START_LINE],this.currToken[_.FIELDS.START_COL],this.tokens[this.position+2][_.FIELDS.END_LINE],this.tokens[this.position+2][_.FIELDS.END_COL]),sourceIndex:this.currToken[_.FIELDS.START_POS],raws:n});return this.position=this.position+3,i}this.unexpected()},y.combinator=function(){var e=this;if("|"===this.content())return this.namespace();var t=this.locateNextMeaningfulToken(this.position);if(!(t<0||this.tokens[t][_.FIELDS.TYPE]===v.comma)){var n,i=this.currToken,s=void 0;if(t>this.position&&(s=this.parseWhitespaceEquivalentTokens(t)),this.isNamedCombinator()?n=this.namedCombinator():this.currToken[_.FIELDS.TYPE]===v.combinator?(n=new g.default({value:this.content(),source:L(this.currToken),sourceIndex:this.currToken[_.FIELDS.START_POS]}),this.position++):x[this.currToken[_.FIELDS.TYPE]]||s||this.unexpected(),n){if(s){var r=this.convertWhitespaceNodesToSpace(s),o=r.space,a=r.rawSpace;n.spaces.before=o,n.rawSpaceBefore=a}}else{var l=this.convertWhitespaceNodesToSpace(s,!0),c=l.space,d=l.rawSpace;d||(d=c);var h={},u={spaces:{}};c.endsWith(" ")&&d.endsWith(" ")?(h.before=c.slice(0,c.length-1),u.spaces.before=d.slice(0,d.length-1)):c.startsWith(" ")&&d.startsWith(" ")?(h.after=c.slice(1),u.spaces.after=d.slice(1)):u.value=d,n=new g.default({value:" ",source:N(i,this.tokens[this.position-1]),sourceIndex:i[_.FIELDS.START_POS],spaces:h,raws:u})}return this.currToken&&this.currToken[_.FIELDS.TYPE]===v.space&&(n.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(n)}var p=this.parseWhitespaceEquivalentTokens(t);if(p.length>0){var f=this.current.last;if(f){var m=this.convertWhitespaceNodesToSpace(p),b=m.space,y=m.rawSpace;void 0!==y&&(f.rawSpaceAfter+=y),f.spaces.after+=b}else p.forEach((function(t){return e.newNode(t)}))}},y.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;this.current._inferEndPosition();var e=new r.default({source:{start:E(this.tokens[this.position+1])}});this.current.parent.append(e),this.current=e,this.position++},y.comment=function(){var e=this.currToken;this.newNode(new a.default({value:this.content(),source:L(e),sourceIndex:e[_.FIELDS.START_POS]})),this.position++},y.error=function(e,t){throw this.root.error(e,t)},y.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[_.FIELDS.START_POS]})},y.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[_.FIELDS.START_POS])},y.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[_.FIELDS.START_POS])},y.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[_.FIELDS.START_POS])},y.namespace=function(){var e=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[_.FIELDS.TYPE]===v.word?(this.position++,this.word(e)):this.nextToken[_.FIELDS.TYPE]===v.asterisk?(this.position++,this.universal(e)):void 0},y.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var e=this.currToken;this.newNode(new f.default({value:this.content(),source:L(e),sourceIndex:e[_.FIELDS.START_POS]})),this.position++},y.parentheses=function(){var e=this.current.last,t=1;if(this.position++,e&&e.type===b.PSEUDO){var n=new r.default({source:{start:E(this.tokens[this.position-1])}}),i=this.current;for(e.append(n),this.current=n;this.position<this.tokens.length&&t;)this.currToken[_.FIELDS.TYPE]===v.openParenthesis&&t++,this.currToken[_.FIELDS.TYPE]===v.closeParenthesis&&t--,t?this.parse():(this.current.source.end=D(this.currToken),this.current.parent.source.end=D(this.currToken),this.position++);this.current=i}else{for(var s,o=this.currToken,a="(";this.position<this.tokens.length&&t;)this.currToken[_.FIELDS.TYPE]===v.openParenthesis&&t++,this.currToken[_.FIELDS.TYPE]===v.closeParenthesis&&t--,s=this.currToken,a+=this.parseParenthesisToken(this.currToken),this.position++;e?e.appendToPropertyAndEscape("value",a,a):this.newNode(new d.default({value:a,source:T(o[_.FIELDS.START_LINE],o[_.FIELDS.START_COL],s[_.FIELDS.END_LINE],s[_.FIELDS.END_COL]),sourceIndex:o[_.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[_.FIELDS.START_POS])},y.pseudo=function(){for(var e=this,t="",n=this.currToken;this.currToken&&this.currToken[_.FIELDS.TYPE]===v.colon;)t+=this.content(),this.position++;return this.currToken?this.currToken[_.FIELDS.TYPE]!==v.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[_.FIELDS.START_POS]):void this.splitWord(!1,(function(i,s){t+=i,e.newNode(new h.default({value:t,source:N(n,e.currToken),sourceIndex:n[_.FIELDS.START_POS]})),s>1&&e.nextToken&&e.nextToken[_.FIELDS.TYPE]===v.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[_.FIELDS.START_POS]})})):this.expected(["pseudo-class","pseudo-element"],this.position-1)},y.space=function(){var e=this.content();0===this.position||this.prevToken[_.FIELDS.TYPE]===v.comma||this.prevToken[_.FIELDS.TYPE]===v.openParenthesis||this.current.nodes.every((function(e){return"comment"===e.type}))?(this.spaces=this.optionalSpace(e),this.position++):this.position===this.tokens.length-1||this.nextToken[_.FIELDS.TYPE]===v.comma||this.nextToken[_.FIELDS.TYPE]===v.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(e),this.position++):this.combinator()},y.string=function(){var e=this.currToken;this.newNode(new d.default({value:this.content(),source:L(e),sourceIndex:e[_.FIELDS.START_POS]})),this.position++},y.universal=function(e){var t=this.nextToken;if(t&&"|"===this.content(t))return this.position++,this.namespace();var n=this.currToken;this.newNode(new p.default({value:this.content(),source:L(n),sourceIndex:n[_.FIELDS.START_POS]}),e),this.position++},y.splitWord=function(e,t){for(var n=this,i=this.nextToken,s=this.content();i&&~[v.dollar,v.caret,v.equals,v.word].indexOf(i[_.FIELDS.TYPE]);){this.position++;var r=this.content();if(s+=r,r.lastIndexOf("\\")===r.length-1){var a=this.nextToken;a&&a[_.FIELDS.TYPE]===v.space&&(s+=this.requiredSpace(this.content(a)),this.position++)}i=this.nextToken}var d=P(s,".").filter((function(e){var t="\\"===s[e-1],n=/^\d+\.\d+%$/.test(s);return!t&&!n})),h=P(s,"#").filter((function(e){return"\\"!==s[e-1]})),u=P(s,"#{");u.length&&(h=h.filter((function(e){return!~u.indexOf(e)})));var p=(0,m.default)(function(){var e=Array.prototype.concat.apply([],arguments);return e.filter((function(t,n){return n===e.indexOf(t)}))}([0].concat(d,h)));p.forEach((function(i,r){var a,u=p[r+1]||s.length,g=s.slice(i,u);if(0===r&&t)return t.call(n,g,p.length);var f=n.currToken,m=f[_.FIELDS.START_POS]+p[r],v=T(f[1],f[2]+i,f[3],f[2]+(u-1));if(~d.indexOf(i)){var b={value:g.slice(1),source:v,sourceIndex:m};a=new o.default(I(b,"value"))}else if(~h.indexOf(i)){var y={value:g.slice(1),source:v,sourceIndex:m};a=new l.default(I(y,"value"))}else{var w={value:g,source:v,sourceIndex:m};I(w,"value"),a=new c.default(w)}n.newNode(a,e),e=null})),this.position++},y.word=function(e){var t=this.nextToken;return t&&"|"===this.content(t)?(this.position++,this.namespace()):this.splitWord(e)},y.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},y.parse=function(e){switch(this.currToken[_.FIELDS.TYPE]){case v.space:this.space();break;case v.comment:this.comment();break;case v.openParenthesis:this.parentheses();break;case v.closeParenthesis:e&&this.missingParenthesis();break;case v.openSquare:this.attribute();break;case v.dollar:case v.caret:case v.equals:case v.word:this.word();break;case v.colon:this.pseudo();break;case v.comma:this.comma();break;case v.asterisk:this.universal();break;case v.ampersand:this.nesting();break;case v.slash:case v.combinator:this.combinator();break;case v.str:this.string();break;case v.closeSquare:this.missingSquareBracket();case v.semicolon:this.missingBackslash();default:this.unexpected()}},y.expected=function(e,t,n){if(Array.isArray(e)){var i=e.pop();e=e.join(", ")+" or "+i}var s=/^[aeiou]/.test(e[0])?"an":"a";return n?this.error("Expected "+s+" "+e+', found "'+n+'" instead.',{index:t}):this.error("Expected "+s+" "+e+".",{index:t})},y.requiredSpace=function(e){return this.options.lossy?" ":e},y.optionalSpace=function(e){return this.options.lossy?"":e},y.lossySpace=function(e,t){return this.options.lossy?t?" ":"":e},y.parseParenthesisToken=function(e){var t=this.content(e);return e[_.FIELDS.TYPE]===v.space?this.requiredSpace(t):t},y.newNode=function(e,t){return t&&(/^ +$/.test(t)&&(this.options.lossy||(this.spaces=(this.spaces||"")+t),t=!0),e.namespace=t,I(e,"namespace")),this.spaces&&(e.spaces.before=this.spaces,this.spaces=""),this.current.append(e)},y.content=function(e){return void 0===e&&(e=this.currToken),this.css.slice(e[_.FIELDS.START_POS],e[_.FIELDS.END_POS])},y.locateNextMeaningfulToken=function(e){void 0===e&&(e=this.position+1);for(var t=e;t<this.tokens.length;){if(!k[this.tokens[t][_.FIELDS.TYPE]])return t;t++}return-1},t=e,(n=[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}])&&S(t.prototype,n),i&&S(t,i),e}();t.default=O,e.exports=t.default})),LN=fv((function(e,t){t.__esModule=!0,t.default=void 0;var n,i=(n=TN)&&n.__esModule?n:{default:n};var s=function(){function e(e,t){this.func=e||function(){},this.funcRes=null,this.options=t}var t=e.prototype;return t._shouldUpdateSelector=function(e,t){return void 0===t&&(t={}),!1!==Object.assign({},this.options,t).updateSelector&&"string"!=typeof e},t._isLossy=function(e){return void 0===e&&(e={}),!1===Object.assign({},this.options,e).lossless},t._root=function(e,t){return void 0===t&&(t={}),new i.default(e,this._parseOptions(t)).root},t._parseOptions=function(e){return{lossy:this._isLossy(e)}},t._run=function(e,t){var n=this;return void 0===t&&(t={}),new Promise((function(i,s){try{var r=n._root(e,t);Promise.resolve(n.func(r)).then((function(i){var s=void 0;return n._shouldUpdateSelector(e,t)&&(s=r.toString(),e.selector=s),{transform:i,root:r,string:s}})).then(i,s)}catch(o){return void s(o)}}))},t._runSync=function(e,t){void 0===t&&(t={});var n=this._root(e,t),i=this.func(n);if(i&&"function"==typeof i.then)throw new Error("Selector processor returned a promise to a synchronous call.");var s=void 0;return t.updateSelector&&"string"!=typeof e&&(s=n.toString(),e.selector=s),{transform:i,root:n,string:s}},t.ast=function(e,t){return this._run(e,t).then((function(e){return e.root}))},t.astSync=function(e,t){return this._runSync(e,t).root},t.transform=function(e,t){return this._run(e,t).then((function(e){return e.transform}))},t.transformSync=function(e,t){return this._runSync(e,t).transform},t.process=function(e,t){return this._run(e,t).then((function(e){return e.string||e.root.toString()}))},t.processSync=function(e,t){var n=this._runSync(e,t);return n.string||n.root.toString()},e}();t.default=s,e.exports=t.default})),NN=fv((function(e,t){t.__esModule=!0,t.universal=t.tag=t.string=t.selector=t.root=t.pseudo=t.nesting=t.id=t.comment=t.combinator=t.className=t.attribute=void 0;var n=g(wN),i=g(pN),s=g(SN),r=g(gN),o=g(fN),a=g(xN),l=g(bN),c=g(rN),d=g(oN),h=g(vN),u=g(_N),p=g(CN);function g(e){return e&&e.__esModule?e:{default:e}}t.attribute=function(e){return new n.default(e)};t.className=function(e){return new i.default(e)};t.combinator=function(e){return new s.default(e)};t.comment=function(e){return new r.default(e)};t.id=function(e){return new o.default(e)};t.nesting=function(e){return new a.default(e)};t.pseudo=function(e){return new l.default(e)};t.root=function(e){return new c.default(e)};t.selector=function(e){return new d.default(e)};t.string=function(e){return new h.default(e)};t.tag=function(e){return new u.default(e)};t.universal=function(e){return new p.default(e)}})),IN=fv((function(e,t){var n;t.__esModule=!0,t.isNode=s,t.isPseudoElement=v,t.isPseudoClass=function(e){return u(e)&&!v(e)},t.isContainer=function(e){return!(!s(e)||!e.walk)},t.isNamespace=function(e){return o(e)||m(e)},t.isUniversal=t.isTag=t.isString=t.isSelector=t.isRoot=t.isPseudo=t.isNesting=t.isIdentifier=t.isComment=t.isCombinator=t.isClassName=t.isAttribute=void 0;var i=((n={})[iN.ATTRIBUTE]=!0,n[iN.CLASS]=!0,n[iN.COMBINATOR]=!0,n[iN.COMMENT]=!0,n[iN.ID]=!0,n[iN.NESTING]=!0,n[iN.PSEUDO]=!0,n[iN.ROOT]=!0,n[iN.SELECTOR]=!0,n[iN.STRING]=!0,n[iN.TAG]=!0,n[iN.UNIVERSAL]=!0,n);function s(e){return"object"==typeof e&&i[e.type]}function r(e,t){return s(t)&&t.type===e}var o=r.bind(null,iN.ATTRIBUTE);t.isAttribute=o;var a=r.bind(null,iN.CLASS);t.isClassName=a;var l=r.bind(null,iN.COMBINATOR);t.isCombinator=l;var c=r.bind(null,iN.COMMENT);t.isComment=c;var d=r.bind(null,iN.ID);t.isIdentifier=d;var h=r.bind(null,iN.NESTING);t.isNesting=h;var u=r.bind(null,iN.PSEUDO);t.isPseudo=u;var p=r.bind(null,iN.ROOT);t.isRoot=p;var g=r.bind(null,iN.SELECTOR);t.isSelector=g;var f=r.bind(null,iN.STRING);t.isString=f;var m=r.bind(null,iN.TAG);t.isTag=m;var _=r.bind(null,iN.UNIVERSAL);function v(e){return u(e)&&e.value&&(e.value.startsWith("::")||":before"===e.value.toLowerCase()||":after"===e.value.toLowerCase())}t.isUniversal=_})),PN=fv((function(e,t){t.__esModule=!0,Object.keys(iN).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===iN[e]||(t[e]=iN[e]))})),Object.keys(NN).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===NN[e]||(t[e]=NN[e]))})),Object.keys(IN).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===IN[e]||(t[e]=IN[e]))}))})),ON=pv(fv((function(e,t){t.__esModule=!0,t.default=void 0;var n,i=(n=LN)&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,t&&t.set(e,n);return n}(PN);function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var o=function(e){return new i.default(e)};Object.assign(o,s),delete o.__esModule;var a=o;t.default=a,e.exports=t.default})));const RN=/^(-\w+-)?animation-name$/,AN=/^(-\w+-)?animation$/,MN=(e="")=>{const t=Object.create(null),n=e.replace(/^data-v-/,"");return{postcssPlugin:"vue-sfc-scoped",Rule(t){!function(e,t){if(FN.has(t)||t.parent&&"atrule"===t.parent.type&&/-?keyframes$/.test(t.parent.name))return;FN.add(t),t.selector=ON((t=>{t.each((n=>{BN(e,n,t)}))})).processSync(t.selector)}(e,t)},AtRule(e){/-?keyframes$/.test(e.name)&&!e.params.endsWith(`-${n}`)&&(t[e.params]=e.params=e.params+"-"+n)},OnceExit(e){Object.keys(t).length&&e.walkDecls((e=>{RN.test(e.prop)&&(e.value=e.value.split(",").map((e=>t[e.trim()]||e.trim())).join(",")),AN.test(e.prop)&&(e.value=e.value.split(",").map((e=>{const n=e.trim().split(/\s+/),i=n.findIndex((e=>t[e]));return-1!==i?(n.splice(i,1,t[n[i]]),n.join(" ")):e})).join(","))}))}}},FN=new WeakSet;function BN(e,t,n,i=!1){let s=null,r=!0;if(t.each((i=>{if("combinator"===i.type&&(">>>"===i.value||"/deep/"===i.value))return i.value=" ",i.spaces.before=i.spaces.after="",Gk("the >>> and /deep/ combinators have been deprecated. Use :deep() instead."),!1;if("pseudo"===i.type){const{value:s}=i;if(":deep"===s||"::v-deep"===s){if(i.nodes.length){let e=i;i.nodes[0].each((n=>{t.insertAfter(e,n),e=n}));const n=t.at(t.index(i)-1);n&&VN(n)||t.insertAfter(i,ON.combinator({value:" "})),t.removeChild(i)}else{Gk("::v-deep usage as a combinator has been deprecated. Use :deep(<inner-selector>) instead.");const e=t.at(t.index(i)-1);e&&VN(e)&&t.removeChild(e),t.removeChild(i)}return!1}if(":slotted"===s||"::v-slotted"===s){BN(e,i.nodes[0],n,!0);let s=i;return i.nodes[0].each((e=>{t.insertAfter(s,e),s=e})),t.removeChild(i),r=!1,!1}if(":global"===s||"::v-global"===s)return n.insertAfter(t,i.nodes[0]),n.removeChild(t),!1}"pseudo"!==i.type&&"combinator"!==i.type&&(s=i)})),s?s.spaces.after="":t.first.spaces.before="",r){const n=i?e+"-s":e;t.insertAfter(s,ON.attribute({attribute:n,value:n,raws:{},quoteMark:'"'}))}}function VN(e){return"combinator"===e.type&&/^\s+$/.test(e.value)}MN.postcss=!0;var WN=jv.SourceMapConsumer,HN=jv.SourceMapGenerator,UN=function(e,t){if(!e)return t;if(!t)return e;var n=new WN(e),i=new WN(t),s=new HN;return i.eachMapping((function(e){if(null!=e.originalLine){var t=n.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=t.source&&s.addMapping({original:{line:t.line,column:t.column},generated:{line:e.generatedLine,column:e.generatedColumn},source:t.source,name:t.name})}})),[n,i].forEach((function(e){e.sources.forEach((function(t){s._sources.add(t);var n=e.sourceContentFor(t);null!=n&&s.setSourceContent(t,n)}))})),s._sourceRoot=e.sourceRoot,s._file=e.file,JSON.parse(s.toString())};const zN=(e,t,n,i=require)=>{const s=i("sass"),r=Object.assign(Object.assign({},n),{data:$N(e,n.filename,n.additionalData),file:n.filename,outFile:n.filename,sourceMap:!!t});try{const e=s.renderSync(r),n=e.stats.includedFiles;return t?{code:e.css.toString(),map:UN(t,JSON.parse(e.map.toString())),errors:[],dependencies:n}:{code:e.css.toString(),errors:[],dependencies:n}}catch(o){return{code:"",errors:[o],dependencies:[]}}},jN=(e,t,n,i=require)=>{const s=i("stylus");try{const i=s(e);Object.keys(n).forEach((e=>i.set(e,n[e]))),t&&i.set("sourcemap",{inline:!1,comment:!1});const r=i.render(),o=i.deps();return t?{code:r,map:UN(t,i.sourcemap),errors:[],dependencies:o}:{code:r,errors:[],dependencies:o}}catch(r){return{code:"",errors:[r],dependencies:[]}}};function $N(e,t,n){return n?tp(n)?n(e,t):n+e:e}const KN={less:(e,t,n,i=require)=>{const s=i("less");let r,o=null;if(s.render($N(e,n.filename,n.additionalData),Object.assign(Object.assign({},n),{syncImport:!0}),((e,t)=>{o=e,r=t})),o)return{code:"",errors:[o],dependencies:[]};const a=r.imports;return t?{code:r.css.toString(),map:UN(t,r.map),errors:[],dependencies:a}:{code:r.css.toString(),errors:[],dependencies:a}},sass:(e,t,n,i)=>zN(e,t,Object.assign(Object.assign({},n),{indentedSyntax:!0}),i),scss:zN,styl:jN,stylus:jN};function qN(e){const{filename:t,id:n,scoped:i=!1,trim:s=!0,isProd:r=!1,modules:o=!1,modulesOptions:a={},preprocessLang:l,postcssOptions:c,postcssPlugins:d}=e,h=l&&KN[l],u=h&&function(e,t){if(!e.preprocessCustomRequire)throw new Error("[@vue/compiler-sfc] Style preprocessing in the browser build must provide the `preprocessCustomRequire` option to return the in-browser version of the preprocessor.");return t(e.source,e.inMap||e.map,Object.assign({filename:e.filename},e.preprocessOptions),e.preprocessCustomRequire)}(e,h),p=u?u.map:e.inMap||e.map,g=u?u.code:e.source,f=n.replace(/^data-v-/,""),m=`data-v-${f}`,_=(d||[]).slice();if(_.unshift(rw({id:f,isProd:r})),s&&_.push(ZL()),i&&_.push(MN(m)),o)throw new Error("[@vue/compiler-sfc] `modules` option is not supported in the browser build.");const v=Object.assign(Object.assign({},c),{to:t,from:t});let b,y,w;p&&(v.map={inline:!1,annotation:!1,prev:p});const C=new Set(u?u.dependencies:[]);C.delete(t);const S=[];u&&u.errors.length&&S.push(...u.errors);const x=e=>(e.forEach((e=>{"dependency"===e.type&&C.add(e.file)})),C);try{if(b=YL(_).process(g,v),e.isAsync)return b.then((e=>({code:e.css||"",map:e.map&&e.map.toJSON(),errors:S,modules:undefined,rawResult:e,dependencies:x(e.messages)}))).catch((e=>({code:"",map:void 0,errors:[...S,e],rawResult:void 0,dependencies:C})));x(b.messages),y=b.css,w=b.map}catch(k){S.push(k)}return{code:y||"",map:w&&w.toJSON(),errors:S,rawResult:b,dependencies:C}}const GN=sb;var YN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",MagicString:_C,babelParse:Wm,compileScript:function(e,t){var n;let{script:i,scriptSetup:s,source:r,filename:o}=e;const a=!!t.reactivityTransform||!!t.refSugar||!!t.refTransform,l=!!t.reactivityTransform||!!t.propsDestructureTransform,c=!!t.isProd,d=!1!==t.sourceMap;let h;t.id||qk("compileScript now requires passing the `id` option.\nUpgrade your vite or vue-loader version for compatibility with the latest experimental proposals.");const u=t.id?t.id.replace(/^data-v-/,""):"",p=e.cssVars,g=i&&i.lang,f=s&&s.lang,m="ts"===g||"tsx"===g||"ts"===f||"tsx"===f,_=[];if(m&&"tsx"!==g&&"tsx"!==f?t.babelParserPlugins&&(t.babelParserPlugins=t.babelParserPlugins.filter((e=>"jsx"!==e))):_.push("jsx"),t.babelParserPlugins&&_.push(...t.babelParserPlugins),m&&_.push("typescript","decorators-legacy"),!s){if(!i)throw new Error("[@vue/compiler-sfc] SFC contains no <script> tags.");if(g&&!m&&"jsx"!==g)return i;try{let e=i.content,t=i.map;const n=Wm(e,{plugins:_,sourceType:"module"}).program,s=CE(n.body);if(a&&oE(e)){const s=new _C(r),a=i.loc.start.offset,l=i.loc.end.offset,{importedHelpers:c}=aE(n,s,a);c.length&&s.prepend(`import { ${c.map((e=>`${e} as _${e}`)).join(", ")} } from 'vue'\n`),s.remove(0,a),s.remove(l,r.length),e=s.toString(),d&&(t=s.generateMap({source:o,hires:!0,includeContent:!0}))}return p.length&&(e=tE(e,"__default__",_),e+=function(e,t,n,i){return`\nimport { useCssVars as _useCssVars } from 'vue'\nconst __injectCSSVars__ = () => {\n${ow(e,t,n,i)}}\nconst __setup__ = __default__.setup\n__default__.setup = __setup__\n  ? (props, ctx) => { __injectCSSVars__();return __setup__(props, ctx) }\n  : __injectCSSVars__\n`}(p,s,u,c),e+="\nexport default __default__"),Object.assign(Object.assign({},i),{content:e,map:t,bindings:s,scriptAst:n.body})}catch(be){return i}}if(i&&g!==f)throw new Error("[@vue/compiler-sfc] <script> and <script setup> must have the same language type.");if(f&&!m&&"jsx"!==f)return s;const v={},b=new Set,y=Object.create(null),w=Object.create(null),C=Object.create(null),S=Object.create(null);let x,k,E,D,T,L,N,I,P,O,R,A,M=!1,F=!1,B=!1,V=!1,W=!1,H=!1,U=!1;const z={},j=new Set,$={},K=Object.create(null),q=new _C(r),G=s.loc.start.offset,Y=s.loc.end.offset,Z=i&&i.loc.start.offset,X=i&&i.loc.end.offset;function J(e){return b.add(e),`_${e}`}function Q(t,n,i){try{return Wm(t,n).program}catch(be){throw be.message=`[@vue/compiler-sfc] ${be.message}\n\n${e.filename}\n${Cu(r,be.pos+i,be.pos+i+1)}`,be}}function ee(t,n,i=n.end+G){throw new Error(`[@vue/compiler-sfc] ${t}\n\n${e.filename}\n${Cu(r,n.start+G,i)}`)}function te(t,n,i,s,r,o){"vue"===t&&i&&(w[i]=n);let a=o;o&&m&&e.template&&!e.template.src&&!e.template.lang&&(a=NE(n,e)),y[n]={isType:s,imported:i||"default",source:t,isFromSetup:r,isUsedInTemplate:a}}function ne(e,t){if(!yE(e,"defineProps"))return!1;if(M&&ee("duplicate defineProps() call",e),M=!0,k=e.arguments[0],e.typeParameters&&(k&&ee("defineProps() cannot accept both type and non-type arguments at the same time. Use one or the other.",e),N=e.typeParameters.params[0],L=re(N,(e=>"TSTypeLiteral"===e.type)),L||ee("type argument passed to defineProps() must be a literal type, or a reference to an interface or literal type.",N)),t)if(l&&"ObjectPattern"===t.type){D=t;for(const e of t.properties)if("ObjectProperty"===e.type){e.computed&&ee("defineProps() destructure cannot use computed key.",e.key);const t="StringLiteral"===e.key.type?e.key.value:e.key.name;if("AssignmentPattern"===e.value.type){const{left:n,right:i}=e.value;"Identifier"!==n.type&&ee("defineProps() destructure does not support nested patterns.",n),K[t]={local:n.name,default:i}}else"Identifier"===e.value.type?K[t]={local:e.value.name}:ee("defineProps() destructure does not support nested patterns.",e.value)}else T=e.argument.name}else I=s.content.slice(t.start,t.end);return!0}function ie(e,t){return!!yE(e,"withDefaults")&&(ne(e.arguments[0],t)?(k&&ee("withDefaults can only be used with type-based defineProps declaration.",e),D&&ee("withDefaults() is unnecessary when using destructure with defineProps().\nPrefer using destructure default values, e.g. const { foo = 1 } = defineProps(...).",e.callee),E=e.arguments[1],E&&"ObjectExpression"===E.type||ee("The 2nd argument of withDefaults must be an object literal.",E||e)):ee("withDefaults' first argument must be a defineProps call.",e.arguments[0]||e),!0)}function se(e,t){return!!yE(e,"defineEmits")&&(F&&ee("duplicate defineEmits() call",e),F=!0,P=e.arguments[0],e.typeParameters&&(P&&ee("defineEmits() cannot accept both type and non-type arguments at the same time. Use one or the other.",e),R=e.typeParameters.params[0],O=re(R,(e=>"TSFunctionType"===e.type||"TSTypeLiteral"===e.type)),O||ee("type argument passed to defineEmits() must be a function type, a literal type with call signatures, or a reference to the above types.",R)),t&&(A=s.content.slice(t.start,t.end)),!0)}function re(e,t){if(t(e))return e;if("TSTypeReference"===e.type&&"Identifier"===e.typeName.type){const n=e.typeName.name,i=e=>"TSInterfaceDeclaration"===e.type&&e.id.name===n?e.body:"TSTypeAliasDeclaration"===e.type&&e.id.name===n&&t(e.typeAnnotation)?e.typeAnnotation:"ExportNamedDeclaration"===e.type&&e.declaration?i(e.declaration):void 0,s=he?[...ue.body,...he.body]:ue.body;for(const e of s){const t=i(e);if(t)return t}}}function oe(e){return!!yE(e,"defineExpose")&&(B&&ee("duplicate defineExpose() call",e),B=!0,!0)}function ae(e,t){e&&rb(e,(e=>{S[e.name]&&ee(`\`${t}()\` in <script setup> cannot reference locally declared variables because it will be hoisted outside of the setup() function. If your component options require initialization in the module scope, use a separate normal <script> to export the options instead.`,e)}))}function le(e,t,n){const i=e.argument.extra&&e.argument.extra.parenthesized?e.argument.extra.parenStart:e.argument.start,s=r.slice(i+G,e.argument.end+G),o=/\bawait\b/.test(s);q.overwrite(e.start+G,i+G,`${t?";":""}(\n  ([__temp,__restore] = ${J("withAsyncContext")}(${o?"async ":""}() => `),q.appendLeft(e.end+G,`)),\n  ${n?"":"__temp = "}await __temp,\n  __restore()${n?"":",\n  __temp"}\n)`)}function ce(){return E&&"ObjectExpression"===E.type&&E.properties.every((e=>"ObjectProperty"===e.type&&!e.computed||"ObjectMethod"===e.type))}function de(e){const t=K[e];if(t&&t.default){const e=s.content.slice(t.default.start,t.default.end);return t.default.type.endsWith("Literal")?e:`() => (${e})`}}let he;if(i){he=Q(i.content,{plugins:_,sourceType:"module"},Z);for(const e of he.body)if("ImportDeclaration"===e.type)for(const n of e.specifiers){const i="ImportSpecifier"===n.type&&"Identifier"===n.imported.type&&n.imported.name;te(e.source.value,n.local.name,i,"type"===e.importKind||"ImportSpecifier"===n.type&&"type"===n.importKind,!1,!t.inlineTemplate)}else if("ExportDefaultDeclaration"===e.type){let t;if(x=e,"ObjectExpression"===x.declaration.type?t=x.declaration.properties:"CallExpression"===x.declaration.type&&"ObjectExpression"===x.declaration.arguments[0].type&&(t=x.declaration.arguments[0].properties),t)for(const e of t)"ObjectProperty"===e.type&&"Identifier"===e.key.type&&"name"===e.key.name&&(V=!0),"ObjectMethod"!==e.type&&"ObjectProperty"!==e.type||"Identifier"!==e.key.type||"render"!==e.key.name||(W=!0);const n=e.start+Z,i=e.declaration.start+Z;q.overwrite(n,i,"const __default__ = ")}else if("ExportNamedDeclaration"===e.type){const t=e.specifiers.find((e=>"Identifier"===e.exported.type&&"default"===e.exported.name));t&&(x=e,e.specifiers.length>1?q.remove(t.start+Z,t.end+Z):q.remove(e.start+Z,e.end+Z),e.source?q.prepend(`import { ${t.local.name} as __default__ } from '${e.source.value}'\n`):q.appendLeft(X,`\nconst __default__ = ${t.local.name}\n`)),e.declaration&&uE(e.declaration,C,w)}else"VariableDeclaration"!==e.type&&"FunctionDeclaration"!==e.type&&"ClassDeclaration"!==e.type&&"TSEnumDeclaration"!==e.type||e.declare||uE(e,C,w);if(a&&oE(i.content)){const{rootRefs:e,importedHelpers:t}=aE(he,q,Z);h=e;for(const n of t)b.add(n)}Z>G&&(/\n$/.test(i.content.trim())||q.appendLeft(X,"\n"),q.move(Z,X,0))}const ue=Q(s.content,{plugins:[..._,"topLevelAwait"],sourceType:"module"},G);for(const ye of ue.body){const e=ye.start+G;let n=ye.end+G;if(ye.trailingComments&&ye.trailingComments.length>0){n=ye.trailingComments[ye.trailingComments.length-1].end+G}for(;n<=r.length&&/\s/.test(r.charAt(n));)n++;if("LabeledStatement"===ye.type&&"ref"===ye.label.name&&"ExpressionStatement"===ye.body.type&&ee("ref sugar using the label syntax was an experimental proposal and has been dropped based on community feedback. Please check out the new proposal at https://github.com/vuejs/rfcs/discussions/369",ye),"ImportDeclaration"===ye.type){q.move(e,n,0);let i=0;const s=e=>{const t=e>i;i++;const n=ye.specifiers[e],s=ye.specifiers[e+1];q.remove(t?ye.specifiers[e-1].end+G:n.start+G,s&&!t?s.start+G:n.end+G)};for(let e=0;e<ye.specifiers.length;e++){const n=ye.specifiers[e],i=n.local.name;let r="ImportSpecifier"===n.type&&"Identifier"===n.imported.type&&n.imported.name;"ImportNamespaceSpecifier"===n.type&&(r="*");const o=ye.source.value,a=y[i];"vue"!==o||"defineProps"!==r&&"defineEmits"!==r&&"defineExpose"!==r?a?a.source===o&&a.imported===r?s(e):ee("different imports aliased to same local name.",n):te(o,i,r,"type"===ye.importKind||"ImportSpecifier"===n.type&&"type"===n.importKind,!0,!t.inlineTemplate):(qk(`\`${r}\` is a compiler macro and no longer needs to be imported.`),s(e))}ye.specifiers.length&&i===ye.specifiers.length&&q.remove(ye.start+G,ye.end+G)}if("ExpressionStatement"===ye.type)if(ne(ye.expression)||se(ye.expression)||ie(ye.expression))q.remove(ye.start+G,ye.end+G);else if(oe(ye.expression)){const e=ye.expression.callee;q.overwrite(e.start+G,e.end+G,"expose")}if("VariableDeclaration"===ye.type&&!ye.declare){const e=ye.declarations.length;let t=e;for(let n=0;n<e;n++){const i=ye.declarations[n];if(i.init){const s=ne(i.init,i.id)||ie(i.init,i.id),r=se(i.init,i.id);if(s||r)if(1===t)q.remove(ye.start+G,ye.end+G);else{let s=i.start+G,r=i.end+G;n<e-1?r=ye.declarations[n+1].start+G:s=ye.declarations[n-1].end+G,q.remove(s,r),t--}}}}if("VariableDeclaration"!==ye.type&&"FunctionDeclaration"!==ye.type&&"ClassDeclaration"!==ye.type||ye.declare||uE(ye,S,w),"VariableDeclaration"===ye.type&&!ye.declare||ye.type.endsWith("Statement")){const e=[ue.body];sb(ye,{enter(t,n){if(ub(t)&&this.skip(),"BlockStatement"===t.type&&e.push(t.body),"AwaitExpression"===t.type){H=!0;const i=e[e.length-1].some(((n,i)=>(1===e.length||i>0)&&"ExpressionStatement"===n.type&&n.start===t.start));le(t,i,"ExpressionStatement"===n.type)}},exit(t){"BlockStatement"===t.type&&e.pop()}})}("ExportNamedDeclaration"===ye.type&&"type"!==ye.exportKind||"ExportAllDeclaration"===ye.type||"ExportDefaultDeclaration"===ye.type)&&ee("<script setup> cannot contain ES module exports. If you are using a previous version of <script setup>, please consult the updated RFC at https://github.com/vuejs/rfcs/pull/227.",ye),m&&("TSEnumDeclaration"===ye.type&&hE(S,ye.id,"setup-const"),(ye.type.startsWith("TS")||"ExportNamedDeclaration"===ye.type&&"type"===ye.exportKind||"VariableDeclaration"===ye.type&&ye.declare)&&(mE(ye,$),q.move(e,n,0)))}if(a&&(h||oE(s.content))||D){const{rootRefs:e,importedHelpers:t}=aE(ue,q,G,h,K);h=h?[...h,...e]:e;for(const n of t)b.add(n)}if(L&&function(e,t,n,i){const s="TSTypeLiteral"===e.type?e.members:e.body;for(const r of s)if(("TSPropertySignature"===r.type||"TSMethodSignature"===r.type)&&"Identifier"===r.key.type){let e;"TSMethodSignature"===r.type?e=["Function"]:r.typeAnnotation&&(e=_E(r.typeAnnotation.typeAnnotation,n)),t[r.key.name]={key:r.key.name,required:!r.optional,type:e||["null"]}}}(L,z,$),O&&function(e,t){if("TSTypeLiteral"===e.type||"TSInterfaceBody"===e.type){const n="TSTypeLiteral"===e.type?e.members:e.body;for(let e of n)"TSCallSignatureDeclaration"===e.type&&bE(e.parameters[0],t);return}bE(e.parameters[0],t)}(O,j),ae(k,"defineProps"),ae(E,"defineProps"),ae(D,"defineProps"),ae(P,"defineEmits"),i?G<Z?(q.remove(0,G),q.remove(Y,Z),q.remove(X,r.length)):(q.remove(0,Z),q.remove(X,G),q.remove(Y,r.length)):(q.remove(0,G),q.remove(Y,r.length)),he&&Object.assign(v,CE(he.body)),k)for(const ye of kE(k))v[ye]="props";for(const ye in z)v[ye]="props";if(D){T&&(v[T]="setup-reactive-const");for(const e in K){const{local:t}=K[e];t!==e&&(v[t]="props-aliased",(v.__propsAliases||(v.__propsAliases={}))[t]=e)}}for(const[ye,{isType:we,imported:Ce,source:Se}]of Object.entries(y))we||(v[ye]="*"===Ce||"default"===Ce&&Se.endsWith(".vue")||"vue"===Se?"setup-const":"setup-maybe-ref");for(const ye in C)v[ye]=C[ye];for(const ye in S)v[ye]=S[ye];if(h)for(const ye of h)v[ye]="setup-ref";!p.length||t.inlineTemplate&&(null===(n=t.templateOptions)||void 0===n?void 0:n.ssr)||(b.add("useCssVars"),b.add("unref"),q.prependRight(G,`\n${ow(p,v,u,c)}\n`));let pe="__props";if(L&&(pe+=": any"),I&&q.prependLeft(G,`\nconst ${I} = __props${L?` as ${function(e){const t=s.content;if(ce()){let n="{ ";const i="TSTypeLiteral"===e.type?e.members:e.body;for(const e of i)"TSPropertySignature"!==e.type&&"TSMethodSignature"!==e.type||!e.typeAnnotation||"Identifier"!==e.key.type||(E.properties.some((t=>t.key.name===e.key.name))?n+=e.key.name+("TSMethodSignature"===e.type?"()":"")+t.slice(e.typeAnnotation.start,e.typeAnnotation.end)+", ":n+=t.slice(e.start,e.typeAnnotation.end)+", ");return(n.length?n.slice(0,-2):n)+" }"}return t.slice(e.start,e.end)}(L)}`:""}\n`),T&&q.prependLeft(G,`\nconst ${T} = ${J("createPropsRestProxy")}(__props, ${JSON.stringify(Object.keys(K))})\n`),H){const e=m?": any":"";q.prependLeft(G,`\nlet __temp${e}, __restore${e}\n`)}const ge=B||!t.inlineTemplate?["expose"]:[];let fe;if(A&&ge.push("emit"===A?"emit":`emit: ${A}`),ge.length&&(pe+=`, { ${ge.join(", ")} }`,O&&(pe+=`: { emit: (${s.content.slice(O.start,O.end)}), expose: any, slots: any, attrs: any }`)),!t.inlineTemplate||!e.template&&W){const e=Object.assign(Object.assign({},C),S);for(const t in y)!y[t].isType&&y[t].isUsedInTemplate&&(e[t]=!0);fe=`{ ${Object.keys(e).join(", ")} }`}else if(e.template&&!e.template.src){t.templateOptions&&t.templateOptions.ssr&&(U=!0);const{code:n,ast:i,preamble:s,tips:a,errors:l}=Zk(Object.assign(Object.assign({filename:o,source:e.template.content,inMap:e.template.map},t.templateOptions),{id:u,scoped:e.styles.some((e=>e.scoped)),isProd:t.isProd,ssrCssVars:e.cssVars,compilerOptions:Object.assign(Object.assign({},t.templateOptions&&t.templateOptions.compilerOptions),{inline:!0,isTS:m,bindingMetadata:v})}));a.length&&a.forEach(qk);const c=l[0];if("string"==typeof c)throw new Error(c);if(c)throw c.loc&&(c.message+="\n\n"+e.filename+"\n"+Cu(r,c.loc.start.offset,c.loc.end.offset)+"\n"),c;s&&q.prepend(s),i&&i.helpers.includes(sg)&&b.delete("unref"),fe=n}else fe="() => {}";t.inlineTemplate?q.appendRight(Y,`\nreturn ${fe}\n}\n\n`):q.appendRight(Y,`\nconst __returned__ = ${fe}\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n`);let me="";if(!V&&o&&o!==IE){const e=o.match(/([^/\\]+)\.\w+$/);e&&(me+=`\n  __name: '${e[1]}',`)}if(U&&(me+="\n  __ssrInlineRender: true,"),k){let e=s.content.slice(k.start,k.end).trim();if(D){const t=[];for(const e in K){const n=de(e);n&&t.push(`${e}: ${n}`)}t.length&&(e=`${J("mergeDefaults")}(${e}, {\n  ${t.join(",\n  ")}\n})`)}me+=`\n  props: ${e},`}else L&&(me+=function(e){const t=Object.keys(e);if(!t.length)return"";const n=ce(),i=s.content;let o=`{\n    ${t.map((t=>{let s;const r=de(t);if(r)s=`default: ${r}`;else if(n){const e=E.properties.find((e=>e.key.name===t));e&&(s="ObjectProperty"===e.type?`default: ${i.slice(e.value.start,e.value.end)}`:`default() ${i.slice(e.body.start,e.body.end)}`)}const{type:o,required:a}=e[t];return c?o.some((e=>"Boolean"===e||s&&"Function"===e))?`${t}: { type: ${vE(o)}${s?`, ${s}`:""} }`:`${t}: ${s?`{ ${s} }`:"null"}`:`${t}: { type: ${vE(o)}, required: ${a}${s?`, ${s}`:""} }`})).join(",\n    ")}\n  }`;return E&&!n&&(o=`${J("mergeDefaults")}(${o}, ${r.slice(E.start+G,E.end+G)})`),`\n  props: ${o},`}(z));var _e;P?me+=`\n  emits: ${s.content.slice(P.start,P.end).trim()},`:O&&(me+=(_e=j).size?`\n  emits: [${Array.from(_e).map((e=>JSON.stringify(e))).join(", ")}],`:"");const ve=B||t.inlineTemplate?"":"  expose();\n";if(m){const e=x?"\n  ...__default__,":"";q.prependLeft(G,`\nexport default /*#__PURE__*/${J("defineComponent")}({${e}${me}\n  ${H?"async ":""}setup(${pe}) {\n${ve}`),q.appendRight(Y,"})")}else x?(q.prependLeft(G,`\nexport default /*#__PURE__*/Object.assign(__default__, {${me}\n  ${H?"async ":""}setup(${pe}) {\n${ve}`),q.appendRight(Y,"})")):(q.prependLeft(G,`\nexport default {${me}\n  ${H?"async ":""}setup(${pe}) {\n${ve}`),q.appendRight(Y,"}"));return b.size>0&&q.prepend(`import { ${[...b].map((e=>`${e} as _${e}`)).join(", ")} } from 'vue'\n`),q.trim(),Object.assign(Object.assign({},s),{bindings:v,imports:y,content:q.toString(),map:d?q.generateMap({source:o,hires:!0,includeContent:!0}):void 0,scriptAst:null==he?void 0:he.body,scriptSetupAst:null==ue?void 0:ue.body})},compileStyle:function(e){return qN(Object.assign(Object.assign({},e),{isAsync:!1}))},compileStyleAsync:function(e){return qN(Object.assign(Object.assign({},e),{isAsync:!0}))},compileTemplate:Zk,extractIdentifiers:db,generateCodeFrame:Cu,isInDestructureAssignment:ab,isStaticProperty:pb,parse:function(e,{sourceMap:t=!0,filename:n=IE,sourceRoot:i="",pad:s=!1,ignoreEmpty:r=!0,compiler:o=Zy}={}){const a=e+t+n+i+s+o.parse,l=PE.get(a);if(l)return l;const c={filename:n,source:e,template:null,script:null,scriptSetup:null,styles:[],customBlocks:[],cssVars:[],slotted:!1,shouldForceReload:e=>function(e,t){if(!t.scriptSetup||"ts"!==t.scriptSetup.lang&&"tsx"!==t.scriptSetup.lang)return!1;for(const n in e)if(!e[n].isUsedInTemplate&&NE(n,t))return!0;return!1}(e,c)},d=[];if(o.parse(e,{isNativeTag:()=>!0,isPreTag:()=>!0,getTextMode:({tag:e,props:t},n)=>!n&&"template"!==e||"template"===e&&t.some((e=>6===e.type&&"lang"===e.name&&e.value&&e.value.content&&"html"!==e.value.content))?2:0,onError:e=>{d.push(e)}}).children.forEach((t=>{if(1===t.type&&(!r||"template"===t.tag||!function(e){for(let t=0;t<e.children.length;t++){const n=e.children[t];if(2!==n.type||""!==n.content.trim())return!1}return!0}(t)||function(e){return e.props.some((e=>6===e.type&&"src"===e.name))}(t)))switch(t.tag){case"template":if(c.template)d.push(OE(t));else{const n=c.template=RE(t,e,!1);if(n.ast=t,n.attrs.functional){const e=new SyntaxError("<template functional> is no longer supported in Vue 3, since functional components no longer have significant performance difference from stateful ones. Just use a normal <template> instead.");e.loc=t.props.find((e=>"functional"===e.name)).loc,d.push(e)}}break;case"script":const n=RE(t,e,s),i=!!n.attrs.setup;if(i&&!c.scriptSetup){c.scriptSetup=n;break}if(!i&&!c.script){c.script=n;break}d.push(OE(t,i));break;case"style":const r=RE(t,e,s);r.attrs.vars&&d.push(new SyntaxError("<style vars> has been replaced by a new proposal: https://github.com/vuejs/rfcs/pull/231")),c.styles.push(r);break;default:c.customBlocks.push(RE(t,e,s))}})),c.scriptSetup&&(c.scriptSetup.src&&(d.push(new SyntaxError('<script setup> cannot use the "src" attribute because its syntax will be ambiguous outside of the component.')),c.scriptSetup=null),c.script&&c.script.src&&(d.push(new SyntaxError('<script> cannot use the "src" attribute when <script setup> is also present because they must be processed together.')),c.script=null)),t){const t=t=>{t&&!t.src&&(t.map=function(e,t,n,i,s){const r=new Uv({file:e.replace(/\\/g,"/"),sourceRoot:i.replace(/\\/g,"/")});return r.setSourceContent(e,t),n.split(AE).forEach(((t,n)=>{if(!ME.test(t)){const i=n+1+s,o=n+1;for(let n=0;n<t.length;n++)/\s/.test(t[n])||r.addMapping({source:e,original:{line:i,column:n},generated:{line:o,column:n}})}})),JSON.parse(r.toString())}(n,e,t.content,i,s&&"template"!==t.type?0:t.loc.start.line-1))};t(c.template),t(c.script),c.styles.forEach(t),c.customBlocks.forEach(t)}c.cssVars=function(e){const t=[];return e.styles.forEach((e=>{let n;const i=e.content.replace(/\/\*([\s\S]*?)\*\//g,"");for(;n=iw.exec(i);){const e=n.index+n[0].length,s=sw(i,e);if(null!==s){const n=nw(i.slice(e,s));t.includes(n)||t.push(n)}}})),t}(c);const h=/(?:::v-|:)slotted\(/;c.slotted=c.styles.some((e=>e.scoped&&h.test(e.content)));const u={descriptor:c,errors:d};return PE.set(a,u),u},rewriteDefault:tE,shouldTransformRef:oE,transformRef:function(e,{filename:t,sourceMap:n,parserPlugins:i,importHelpersFrom:s="vue"}={}){const r=i||[];t&&(/\.tsx?$/.test(t)&&r.push("typescript"),t.endsWith("x")&&r.push("jsx"));const o=Wm(e,{sourceType:"module",plugins:r}),a=new _C(e),l=aE(o.program,a,0);return l.importedHelpers.length&&a.prepend(`import { ${l.importedHelpers.map((e=>`${e} as _${e}`)).join(", ")} } from '${s}'\n`),Object.assign(Object.assign({},l),{code:a.toString(),map:n?a.generateMap({source:t,hires:!0,includeContent:!0}):null})},transformRefAST:aE,walk:GN,walkIdentifiers:rb}),ZN=function(){function e(e){this.html=e}return e.prototype.parseAttrs=function(){if(!this.html)return[];for(var e,t=[],n=/\S+\s*=\s*"[^"]+"|\S+\s*=\s*'[^']+'|\S+\s*=\s*[^>\s]+/gim;e=n.exec(this.html);)if(e){var i=e[0],s=i.indexOf("="),r=i.slice(0,s).trim(),o=i.slice(s+1).trim();['"',"'"].includes(o.charAt(0))&&(o=o.slice(1,-1)),o=void 0===(o=o.split(/\s/).filter((function(e){return e})))[0]?"":void 0===o[1]?o[0]:o,t.push({raw:i,key:r,value:o,start:e.index,end:n.lastIndex})}return t},e.prototype.parseClasses=function(){var e,t;if(!this.html)return[];for(var n,i=[],s=/class(Name)?\s*=\s*"[^"]+"|class(Name)?\s*=\s*'[^']+'|class(Name)?\s*=\s*[^>\s]+/gim;n=s.exec(this.html);)if(n){var r=n[0],o=r.indexOf("="),a=r.slice(o+1).trim(),l=n.index+o+1+(null!==(t=null===(e=this.html.slice(o+1).match(/[^'"]/))||void 0===e?void 0:e.index)&&void 0!==t?t:0),c=s.lastIndex;['"',"'"].includes(a.charAt(0))&&(a=a.slice(1,-1),c--,l++),i.push({result:a,start:l,end:c})}return i},e.prototype.parseTags=function(){return this.html?Array.from(new Set(this.html.match(/<\w+/g))).map((function(e){return e.substring(1)})):[]},e}(),XN=function(e,t){return(XN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function JN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}XN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function QN(e,t){for(var n=0,i=t.length,s=e.length;n<i;n++,s++)e[s]=t[n];return e}function eI(e){return Array.isArray(e)?e:[e]}function tI(e,t,n,i,s){return void 0===t&&(t="{"),void 0===n&&(n="}"),void 0===i&&(i=2),void 0===s&&(s=!1),s?""+t+e+n:t+"\n"+function(e,t){void 0===t&&(t=2);var n=Array(t).fill(" ").join("");return e.split("\n").map((function(e){return n+e})).join("\n")}(e,i)+"\n"+n}function nI(e){return e.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function iI(e,t,n,i){void 0===n&&(n=0);var s=e.substring(n,i).search(t);return-1===s?-1:n+s}function sI(e,t,n){return void 0===n&&(n=!0),n?QN(QN([],null!=e?e:[]),null!=t?t:[]):QN(QN([],null!=t?t:[]),null!=e?e:[])}function rI(e){return Array.isArray(e)?e.map((function(e){return rI(e)})):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce((function(t,n){var i=Object.getOwnPropertyDescriptor(e,n);return i&&(Object.defineProperty(t,n,i),e&&"object"==typeof e&&(t[n]=rI(e[n]))),t}),Object.create(Object.getPrototypeOf(e))):e}function oI(e,t){void 0===t&&(t=0);for(var n=t,i=-1,s=!1,r=!1;n<e.length;){switch(e.charAt(n)){case"'":"\\"!==e.charAt(n-1)&&(s=!s);break;case'"':"\\"!==e.charAt(n-1)&&(r=!r);break;case";":!1===s&&!1===r&&(i=n)}if(-1!==i)break;n++}return i}var aI,lI,cI,dI,hI=function(){function e(e,t,n,i){void 0===i&&(i=!1),this.meta={type:"utilities",group:"plugin",order:0,offset:0,corePlugin:!1},this.name=e,this.value=t,this.comment=n,this.important=i}return e._singleParse=function(t){if(t=t.trim()){if("@"===t.charAt(0))return uI.parse(t);var n=t.search(":"),i=oI(t);if(-1!==n){var s=!1,r=t.substring(n+1,-1===i?void 0:i).trim();return/!important;?$/.test(r)&&(s=!0,r=r.replace(/!important/,"").trimRight()),new e(t.substring(0,n).trim(),r,void 0,s)}}},e.parse=function(e){/;\s*$/.test(e)||(e+=";");for(var t=[],n=0,i=oI(e,n);-1!==i;){var s=this._singleParse(e.substring(iI(e,/\S/,n),i+1));s&&t.push(s),i=oI(e,n=i+1)}var r=t.length;return r>1?t:1===r?t[0]:void 0},e.prototype.clone=function(){return rI(this)},e.prototype.toStyle=function(e){var t=new pI(e,this,this.important);return t.meta=this.meta,t},e.prototype.build=function(e){var t=this;void 0===e&&(e=!1);var n=function(n,i){if(e)return n+":"+i+(t.important?"!important":"")+";";var s=n+": "+i+(t.important?" !important":"")+";";return t.comment?s+" /* "+t.comment+" */":s};return this.value?"string"==typeof this.name?n(this.name,this.value):this.name.map((function(e){return n(e,t.value)})).join(e?"":"\n"):""},e.prototype.updateMeta=function(e,t,n,i,s){return void 0===i&&(i=0),void 0===s&&(s=!1),this.meta={type:e,group:t,order:n,offset:i,corePlugin:s},this},e}(),uI=function(e){function t(t,n,i){void 0===i&&(i=!1);var s=e.call(this,t,n,void 0,i)||this;return s.name=t,s}return JN(t,e),t.parse=function(e){var n,i=e.match(/@[^\s;{}]+/);if(i){var s=i[0].substring(1),r=!1,o=void 0!==i.index?null===(n=e.substring(i.index+s.length+1).match(/(?:(['"]).*?\1|[^;])*/))||void 0===n?void 0:n[0].trim():void 0;return o&&/!important;?$/.test(o)&&(r=!0,o=o.replace(/!important/,"").trimRight()),new t(s,""===o?void 0:o,r)}},t.prototype.build=function(){return this.value?"@"+this.name+" "+this.value+(this.important?" !important":"")+";":"@"+this.name+(this.important?" !important":"")+";"},t}(hI),pI=function(){function e(e,t,n){void 0===n&&(n=!1),this.meta={type:"components",group:"plugin",order:0,offset:0,corePlugin:!1},this.selector=e,this.important=n,this.property=eI(t||[])}return Object.defineProperty(e.prototype,"rule",{get:function(){var e,t,n,i=this,s=(null!==(e=this.selector)&&void 0!==e?e:"").trim().split(/\s*,\s*/g);return this._parentSelectors&&(s=s.map((function(e){var t;return(null===(t=i._parentSelectors)||void 0===t?void 0:t.join(" "))+" "+e}))),(null!==(t=this._wrapSelectors)&&void 0!==t?t:[]).forEach((function(e){return s=s.map((function(t){return e(t)}))})),this._pseudoClasses&&(s=s.map((function(e){var t;return e+":"+(null===(t=i._pseudoClasses)||void 0===t?void 0:t.join(":"))}))),this._pseudoElements&&(s=s.map((function(e){var t;return e+"::"+(null===(t=i._pseudoElements)||void 0===t?void 0:t.join("::"))}))),this._brotherSelectors&&(s=s.map((function(e){var t;return e+"."+(null===(t=i._brotherSelectors)||void 0===t?void 0:t.join("."))}))),this._childSelectors&&(s=s.map((function(e){var t;return e+" "+(null===(t=i._childSelectors)||void 0===t?void 0:t.join(" "))}))),(null!==(n=this._wrapRules)&&void 0!==n?n:[]).forEach((function(e){return s=s.map((function(t){return e(t)}))})),s.join(", ")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pseudoClasses",{get:function(){return this._pseudoClasses},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pseudoElements",{get:function(){return this._pseudoElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentSelectors",{get:function(){return this._parentSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childSelectors",{get:function(){return this._childSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brotherSelectors",{get:function(){return this._brotherSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapProperties",{get:function(){return this._wrapProperties},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapSelectors",{get:function(){return this._wrapSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapRules",{get:function(){return this._wrapRules},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"simple",{get:function(){return!(this.atRules||this._pseudoClasses||this._pseudoElements||this._parentSelectors||this._childSelectors||this._brotherSelectors||this._wrapProperties||this._wrapSelectors||this._wrapRules)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAtrule",{get:function(){return!(void 0===this.atRules||0===this.atRules.length)},enumerable:!1,configurable:!0}),e.generate=function(t,n,i){i||(i=(null==t?void 0:t.startsWith("@"))?(new e).atRule(t):new e(t));for(var s=[],r=function(t,n){if("string"==typeof n)i.add(new hI(nI(t),n));else if(Array.isArray(n))n.map((function(e){return null==i?void 0:i.add(new hI(nI(t),e))}));else{var r=rI(i);r.property=[];var o=void 0;if(t.startsWith("@"))o=r.atRule(t,!1);else if(void 0===r.selector)r.selector=t,o=r;else if(/^[a-z]+$/.test(t)&&!["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embd","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].includes(t))r.wrapProperty((function(e){return t+"-"+e})),o=r;else{r.wrapSelector((function(e){return e.trim().split(/\s*,\s*/g).map((function(e){return t.split(/\s*,\s*/g).map((function(t){return function(e,t){return(/&/.test(t)?t:"& "+t).replace("&",e)}(e,t)})).join(", ")})).join(", ")})),o=r}s=s.concat(e.generate(t.startsWith("@")?void 0:t,n,o))}},o=0,a=Object.entries(null!=n?n:{});o<a.length;o++){var l=a[o];r(l[0],l[1])}return i.property.length>0&&s.unshift(i),s},e.prototype.atRule=function(e,t){return void 0===t&&(t=!0),e?(this.atRules?t?this.atRules.push(e):this.atRules.unshift(e):this.atRules=[e],this):this},e.prototype.pseudoClass=function(e){return this._pseudoClasses?this._pseudoClasses.push(e):this._pseudoClasses=[e],this},e.prototype.pseudoElement=function(e){return this._pseudoElements?this._pseudoElements.push(e):this._pseudoElements=[e],this},e.prototype.brother=function(e){return this._brotherSelectors?this._brotherSelectors.push(e):this._brotherSelectors=[e],this},e.prototype.parent=function(e){return this._parentSelectors?this._parentSelectors.push(e):this._parentSelectors=[e],this},e.prototype.child=function(e){return this._childSelectors?this._childSelectors.push(e):this._childSelectors=[e],this},e.prototype.wrapProperty=function(e){return this._wrapProperties?this._wrapProperties.push(e):this._wrapProperties=[e],this},e.prototype.wrapSelector=function(e){return this._wrapSelectors?this._wrapSelectors.push(e):this._wrapSelectors=[e],this},e.prototype.wrapRule=function(e){return this._wrapRules?this._wrapRules.push(e):this._wrapRules=[e],this},e.prototype.add=function(e){return e=eI(e),this.important&&e.forEach((function(e){return e.important=!0})),this.property=QN(QN([],this.property),e),this},e.prototype.extend=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),!e)return this;if(e.wrapProperties){var i=[];e.property.forEach((function(t){var n,s=new hI(t.name,t.value,t.comment);null===(n=e.wrapProperties)||void 0===n||n.forEach((function(e){s.name=Array.isArray(s.name)?s.name.map((function(t){return e(t)})):e(s.name)})),e.important&&(s.important=!0),i.push(s)})),this.property=sI(this.property,i,n)}else e.important&&e.property.forEach((function(e){return e.important=!0})),this.property=sI(this.property,e.property,n);return t||(e.selector&&(this.selector=e.selector),this.meta=e.meta,e.atRules&&(this.atRules=sI(e.atRules,this.atRules,n)),e._brotherSelectors&&(this._brotherSelectors=sI(this._brotherSelectors,e._brotherSelectors,n)),e._childSelectors&&(this._childSelectors=sI(this._childSelectors,e._childSelectors,n)),e._parentSelectors&&(this._parentSelectors=sI(this._parentSelectors,e._parentSelectors,n)),e._pseudoClasses&&(this._pseudoClasses=sI(this._pseudoClasses,e._pseudoClasses,n)),e._pseudoElements&&(this._pseudoElements=sI(this._pseudoElements,e._pseudoElements,n)),e._wrapRules&&(this._wrapRules=sI(this._wrapRules,e._wrapRules,n)),e._wrapSelectors&&(this._wrapSelectors=sI(this._wrapSelectors,e._wrapSelectors,n))),this},e.prototype.clean=function(){var e=[],t=[];return this.property.forEach((function(n){var i=n.build();t.includes(i)||(t.push(i),e.push(n))})),this.property=e,this},e.prototype.flat=function(){var e=[];return this.property.forEach((function(t){Array.isArray(t.name)?t.name.forEach((function(n){e.push(new hI(n,t.value,t.comment))})):e.push(t)})),this.property=e,this},e.prototype.clone=function(e,t){var n=rI(this);return e&&(n.selector=e),t&&(n.property=Array.isArray(t)?t:[t]),n},e.prototype.sort=function(){return this.property=this.property.sort((function(e,t){return(""+e.name).substring(0,2)>(""+t.name).substring(0,2)?1:-1})),this},e.prototype.build=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=!0);var i=this.property;t||(i=i.filter((function(e){return(!e.value||!/-(webkit|ms|moz|o)-/.test(e.value))&&(Array.isArray(e.name)?(e.name=e.name.filter((function(e){return!/^-(webkit|ms|moz|o)-/.test(e)})),!0):!/^-(webkit|ms|moz|o)-/.test(e.name))})));var s=i.map((function(t){if(n._wrapProperties){var i=t.name;return n._wrapProperties.forEach((function(e){return i=Array.isArray(i)?i.map((function(t){return e(t)})):e(i)})),new hI(i,t.value,t.comment,!!n.important||t.important).build(e)}return n.important?new hI(t.name,t.value,t.comment,!0).build(e):t.build(e)})).join(e?"":"\n");if(!this.selector&&!this.atRules)return s.replace(/;}/g,"}");if(this.selector&&(s=(e?this.rule.replace(/,\s/g,","):this.rule+" ")+tI(s,void 0,void 0,void 0,""===s||e)),this.atRules)for(var r=0,o=this.atRules;r<o.length;r++){var a=o[r];s=e?""+a.replace(/\s/g,"")+tI(s,void 0,void 0,void 0,e):a+" "+tI(s,void 0,void 0,void 0,""===s||e)}return e?s.replace(/;}/g,"}"):s},e.prototype.updateMeta=function(e,t,n,i,s,r){return void 0===i&&(i=0),void 0===s&&(s=!1),void 0===r&&(r=!1),this.meta={type:e,group:t,order:n,offset:i,corePlugin:s,respectSelector:r},this},e}();!function(e){function t(t,n,i){return e.call(this,t,n,i)||this}JN(t,e)}(pI),function(e){function t(t,n,i){return e.call(this,t,n,i)||this}JN(t,e),t.generate=function(e,n,i,s){void 0===s&&(s=!0);for(var r=[],o=[],a=0,l=Object.entries(n);a<l.length;a++){for(var c=l[a],d=c[0],h=c[1],u=new t(d).atRule("@keyframes "+e),p=new t(d).atRule("@-webkit-keyframes "+e),g=0,f=Object.entries(h);g<f.length;g++){var m=f[g],_=m[0],v=m[1],b=_;"transform"===_?b=s?["-webkit-transform","transform"]:"transform":["animationTimingFunction","animation-timing-function"].includes(_)&&(b=s?["-webkit-animation-timing-function","animation-timing-function"]:"animation-timing-function"),u.add(new hI(b,v)),p.add(new hI(b,v))}r.push(u),s&&o.push(p)}return QN(QN([],r),o)}}(pI),function(e){function t(t,n,i){return e.call(this,t,n,i)||this}JN(t,e)}(pI),(lI=aI||(aI={}))[lI.base=10]="base",lI[lI.components=150]="components",lI[lI.shortcuts=160]="shortcuts",lI[lI.utilities=2e4]="utilities",(dI=cI||(cI={}))[dI.container=100]="container",dI[dI.space=200]="space",dI[dI.divideWidth=300]="divideWidth",dI[dI.divideColor=400]="divideColor",dI[dI.divideStyle=500]="divideStyle",dI[dI.divideOpacity=600]="divideOpacity",dI[dI.accessibility=700]="accessibility",dI[dI.appearance=800]="appearance",dI[dI.backgroundAttachment=900]="backgroundAttachment",dI[dI.backgroundClip=1e3]="backgroundClip",dI[dI.backgroundColor=1100]="backgroundColor",dI[dI.backgroundImage=1200]="backgroundImage",dI[dI.gradientColorStops=1300]="gradientColorStops",dI[dI.backgroundOpacity=1400]="backgroundOpacity",dI[dI.backgroundPosition=1500]="backgroundPosition",dI[dI.backgroundRepeat=1600]="backgroundRepeat",dI[dI.backgroundSize=1700]="backgroundSize",dI[dI.backgroundOrigin=1750]="backgroundOrigin",dI[dI.borderCollapse=1800]="borderCollapse",dI[dI.borderColor=1900]="borderColor",dI[dI.borderOpacity=2e3]="borderOpacity",dI[dI.borderRadius=2100]="borderRadius",dI[dI.borderStyle=2200]="borderStyle",dI[dI.borderWidth=2300]="borderWidth",dI[dI.boxDecorationBreak=2350]="boxDecorationBreak",dI[dI.boxSizing=2400]="boxSizing",dI[dI.cursor=2500]="cursor",dI[dI.captionSide=2550]="captionSide",dI[dI.emptyCells=2560]="emptyCells",dI[dI.display=2600]="display",dI[dI.flexDirection=2700]="flexDirection",dI[dI.flexWrap=2800]="flexWrap",dI[dI.placeItems=2900]="placeItems",dI[dI.placeContent=3e3]="placeContent",dI[dI.placeSelf=3100]="placeSelf",dI[dI.alignItems=3200]="alignItems",dI[dI.alignContent=3300]="alignContent",dI[dI.alignSelf=3400]="alignSelf",dI[dI.justifyItems=3500]="justifyItems",dI[dI.justifyContent=3600]="justifyContent",dI[dI.justifySelf=3700]="justifySelf",dI[dI.flex=3800]="flex",dI[dI.flexGrow=3900]="flexGrow",dI[dI.flexShrink=4e3]="flexShrink",dI[dI.order=4100]="order",dI[dI.float=4200]="float",dI[dI.clear=4300]="clear",dI[dI.fontFamily=4400]="fontFamily",dI[dI.fontWeight=4500]="fontWeight",dI[dI.height=4600]="height",dI[dI.fontSize=4700]="fontSize",dI[dI.lineHeight=4800]="lineHeight",dI[dI.listStylePosition=4900]="listStylePosition",dI[dI.listStyleType=5e3]="listStyleType",dI[dI.margin=5100]="margin",dI[dI.maxHeight=5200]="maxHeight",dI[dI.maxWidth=5300]="maxWidth",dI[dI.minHeight=5400]="minHeight",dI[dI.minWidth=5500]="minWidth",dI[dI.objectFit=5600]="objectFit",dI[dI.objectPosition=5700]="objectPosition",dI[dI.opacity=5800]="opacity",dI[dI.outline=5900]="outline",dI[dI.overflow=6e3]="overflow",dI[dI.overscrollBehavior=6100]="overscrollBehavior",dI[dI.padding=6200]="padding",dI[dI.placeholderColor=6300]="placeholderColor",dI[dI.placeholderOpacity=6400]="placeholderOpacity",dI[dI.caretColor=6450]="caretColor",dI[dI.caretOpacity=6460]="caretOpacity",dI[dI.tabSize=6470]="tabSize",dI[dI.pointerEvents=6500]="pointerEvents",dI[dI.position=6600]="position",dI[dI.inset=6700]="inset",dI[dI.resize=6800]="resize",dI[dI.boxShadow=6900]="boxShadow",dI[dI.boxShadowColor=6950]="boxShadowColor",dI[dI.ringWidth=7e3]="ringWidth",dI[dI.ringOffsetColor=7100]="ringOffsetColor",dI[dI.ringOffsetWidth=7200]="ringOffsetWidth",dI[dI.ringColor=7300]="ringColor",dI[dI.ringOpacity=7400]="ringOpacity",dI[dI.fill=7500]="fill",dI[dI.stroke=7600]="stroke",dI[dI.strokeWidth=7700]="strokeWidth",dI[dI.strokeDashArray=7750]="strokeDashArray",dI[dI.strokeDashOffset=7760]="strokeDashOffset",dI[dI.tableLayout=7800]="tableLayout",dI[dI.textAlign=7900]="textAlign",dI[dI.textColor=8e3]="textColor",dI[dI.textOpacity=8100]="textOpacity",dI[dI.textOverflow=8200]="textOverflow",dI[dI.textShadow=8250]="textShadow",dI[dI.fontStyle=8300]="fontStyle",dI[dI.textTransform=8400]="textTransform",dI[dI.textDecorationStyle=8450]="textDecorationStyle",dI[dI.textDecorationLength=8455]="textDecorationLength",dI[dI.textDecorationColor=8460]="textDecorationColor",dI[dI.textDecorationOpacity=8470]="textDecorationOpacity",dI[dI.textDecorationOffset=8480]="textDecorationOffset",dI[dI.textDecoration=8500]="textDecoration",dI[dI.textIndent=8550]="textIndent",dI[dI.textStrokeColor=8560]="textStrokeColor",dI[dI.textStrokeWidth=8570]="textStrokeWidth",dI[dI.content=8580]="content",dI[dI.fontSmoothing=8600]="fontSmoothing",dI[dI.fontVariantNumeric=8700]="fontVariantNumeric",dI[dI.letterSpacing=8800]="letterSpacing",dI[dI.userSelect=8900]="userSelect",dI[dI.verticalAlign=9e3]="verticalAlign",dI[dI.visibility=9100]="visibility",dI[dI.backfaceVisibility=9150]="backfaceVisibility",dI[dI.whitespace=9200]="whitespace",dI[dI.wordBreak=9300]="wordBreak",dI[dI.writingMode=9340]="writingMode",dI[dI.hyphens=9350]="hyphens",dI[dI.width=9400]="width",dI[dI.zIndex=9500]="zIndex",dI[dI.isolation=9550]="isolation",dI[dI.gap=9600]="gap",dI[dI.gridAutoFlow=9700]="gridAutoFlow",dI[dI.gridTemplateColumns=9800]="gridTemplateColumns",dI[dI.gridAutoColumns=9900]="gridAutoColumns",dI[dI.gridColumn=1e4]="gridColumn",dI[dI.gridColumnStart=10100]="gridColumnStart",dI[dI.gridColumnEnd=10200]="gridColumnEnd",dI[dI.gridTemplateRows=10300]="gridTemplateRows",dI[dI.gridAutoRows=10400]="gridAutoRows",dI[dI.gridRow=10500]="gridRow",dI[dI.gridRowStart=10600]="gridRowStart",dI[dI.gridRowEnd=10700]="gridRowEnd",dI[dI.transform=10800]="transform",dI[dI.transformOrigin=10900]="transformOrigin",dI[dI.scale=11e3]="scale",dI[dI.rotate=11100]="rotate",dI[dI.translate=11200]="translate",dI[dI.skew=11300]="skew",dI[dI.perspective=11350]="perspective",dI[dI.perspectiveOrigin=11360]="perspectiveOrigin",dI[dI.transitionProperty=11400]="transitionProperty",dI[dI.transitionTimingFunction=11500]="transitionTimingFunction",dI[dI.transitionDuration=11600]="transitionDuration",dI[dI.transitionDelay=11700]="transitionDelay",dI[dI.keyframes=11800]="keyframes",dI[dI.animation=11900]="animation",dI[dI.imageRendering=11950]="imageRendering",dI[dI.mixBlendMode=12e3]="mixBlendMode",dI[dI.backgroundBlendMode=12100]="backgroundBlendMode",dI[dI.filter=12200]="filter",dI[dI.blur=12300]="blur",dI[dI.brightness=12400]="brightness",dI[dI.contrast=12500]="contrast",dI[dI.dropShadow=12600]="dropShadow",dI[dI.grayscale=12700]="grayscale",dI[dI.hueRotate=12800]="hueRotate",dI[dI.invert=12900]="invert",dI[dI.saturate=13e3]="saturate",dI[dI.sepia=13100]="sepia",dI[dI.backdropFilter=13200]="backdropFilter",dI[dI.backdropBlur=13300]="backdropBlur",dI[dI.backdropBrightness=13400]="backdropBrightness",dI[dI.backdropContrast=13500]="backdropContrast",dI[dI.backdropGrayscale=13600]="backdropGrayscale",dI[dI.backdropHueRotate=13700]="backdropHueRotate",dI[dI.backdropInvert=13800]="backdropInvert",dI[dI.backdropOpacity=13900]="backdropOpacity",dI[dI.backdropSaturate=14e3]="backdropSaturate",dI[dI.backdropSepia=14100]="backdropSepia";var gI=function(){function e(e,t,n){void 0===t&&(t=":"),this.classNames=e,this.separator=t,this.variants=n||[],this.index=0}return e.prototype._handle_group=function(e){if(void 0===e&&(e=!0),!this.classNames)return[];for(var t,n,i,s,r=[],o=this.index+1,a=this.index+1,l=this.index+1,c=!1,d=!1,h=!1,u=!1,p=this.separator.length,g=[],f=this.classNames.length;this.index<f;){if(this.index++,t=this.classNames.charAt(this.index),u){if(!" \n\t\r".includes(t)){"]"===t&&(u=!1);continue}u=!1}switch(t){case"!":c=!0;break;case this.separator[0]:this.classNames.slice(this.index,this.index+p)===this.separator&&("!"===(s=this.classNames.slice(o,this.index)).charAt(0)&&(s=s.slice(1)),this.variants.includes(s)&&(r.push(s),this.index+=p-1,o=this.index+1,d=!0));break;case"[":u=!0;break;case"(":"-"===this.classNames.charAt(this.index-1)?h=!0:d?n=this._handle_group():(i=this.classNames.slice(l,this.index),n=this._handle_function()),d=!1;break;case")":case" ":case"\n":case"\t":case"\r":if(!d){if(l!==this.index){var m=this.classNames.slice(a,this.index),_=a-1,v=this.index-1;if(Array.isArray(n))g.push({raw:m,start:_,end:v,variants:r,content:n,type:"group",important:c}),n=void 0;else if(i)g.push({raw:m,start:_,end:v,variants:r,func:i,content:n,type:"func",important:c}),i=void 0;else if(h){var b=this.classNames.slice(o,this.index+1);g.push({raw:m+")",start:_,end:this.index,variants:r,content:c?b.slice(1):b,type:"utility",important:c})}else{"*"===(b=this.classNames.slice(o,this.index)).charAt(0)?g.push({raw:m,start:_,end:v,variants:r,content:b.slice(1),type:"alias",important:c}):g.push({raw:m,start:_,end:v,variants:r,content:"!"===b.charAt(0)?b.slice(1):b,type:"utility",important:c})}r=[],c=!1}l=this.index+1,a=this.index+1}o=this.index+1;break;default:d=!1}if(")"===t){if(!h)break;h=!1}}if(e){var y=[],w=[];return g.forEach((function(e){w.includes(e.raw)||(w.push(e.raw),y.push(e))})),y}return g},e.prototype._handle_function=function(){if(this.classNames){for(var e=this.index+1;")"!==this.classNames.charAt(this.index);)this.index++;return this.classNames.slice(e,this.index)}},e.prototype.parse=function(e){if(void 0===e&&(e=!0),!this.classNames)return[];this.classNames="("+this.classNames+")";var t=this._handle_group(e);return this.index=0,this.classNames=this.classNames.slice(1,-1),t},e}();let fI=YN;const mI=hr(`${location.origin}/vue.runtime.esm-browser.js`);async function _I({filename:e,code:t,compiled:n}){if(!t.trim())return void(CI.errors=[]);if(!e.endsWith(".vue"))return n.js=n.ssr=t,void(CI.errors=[]);const i=await async function(e){const t=((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(20),n=(new TextEncoder).encode(`${e}+${t}`),i=Array.from(new Uint8Array(n));return i.map((e=>e.toString(16).padStart(2,"0"))).join("")}(e),{errors:s,descriptor:r}=fI.parse(t,{filename:e,sourceMap:!0});if(s.length)return void(CI.errors=s);if(r.script&&r.script.lang||r.scriptSetup&&r.scriptSetup.lang||r.styles.some((e=>e.lang))||r.template&&r.template.lang)return void(CI.errors=['lang="x" pre-processors are not supported in the in-browser playground.']);const o=r.styles.some((e=>e.scoped));let a="",l="";const c=e=>{a+=e,l+=e},h=vI(r,i,!1);if(!h)return;const[u,p]=h;if(a+=u,r.scriptSetup){const e=vI(r,i,!0);if(!e)return;l+=e[0]}else l+=u;if(r.template&&!r.scriptSetup){const e=bI(r,i,p,!1);if(!e)return;a+=e;const t=bI(r,i,p,!0);if(!t)return;l+=t}o&&c(`\n__sfc__.__scopeId = ${JSON.stringify(`data-v-${i}`)}`),(a||l)&&(c(`\n__sfc__.__file = ${JSON.stringify(e)}\nexport default __sfc__`),n.js=a.trimStart(),n.ssr=l.trimStart());let g="";r.template&&r.template.content&&(g=function(e){const t=["dark:text-light-300","text-dark-100"].join(" "),n=new ZN(e),i=new d({darkMode:"class"}),s=n.parseClasses().map((e=>e.result)).join(" "),r=i.preflight(e),o=i.interpret(`${s} ${t}`).styleSheet,a=e=>Array.isArray(e)?e:[e],l=n.parseAttrs().reduceRight(((e,t)=>{const n=t.key;if("class"===n||"className"===n)return e;const i=a(t.value);if(n in e){const t=a(e[n]);e[n]=[...t,...i]}else e[n]=i;return e}),{});return i.attributify(l).styleSheet.extend(o).extend(r,!1).build(!1)}(r.template.content));for(const d of r.styles){if(d.module)return void(CI.errors=["<style module> is not supported in the playground."]);const t=await fI.compileStyleAsync({source:d.content,filename:e,id:i,scoped:d.scoped,modules:!!d.module});t.errors.length?t.errors[0].message.includes("pathToFileURL")||(CI.errors=t.errors):g+=`${t.code}\n`}n.css=g?g.trim():"/* No <style> tags present */",CI.errors=[]}function vI(e,t,n){if(!e.script&&!e.scriptSetup)return["\nconst __sfc__ = {}",void 0];try{const i=fI.compileScript(e,{id:t,refSugar:!0,inlineTemplate:!0,templateOptions:{ssr:n,ssrCssVars:e.cssVars}});let s="";return i.bindings&&(s+=`\n/* Analyzed bindings: ${JSON.stringify(i.bindings,null,2)} */`),s+=`\n${fI.rewriteDefault(i.content,"__sfc__")}`,[s,i.bindings]}catch(i){CI.errors=[i]}}function bI(e,t,n,i){const s=fI.compileTemplate({source:e.template.content,filename:e.filename,id:t,scoped:e.styles.some((e=>e.scoped)),slotted:e.slotted,ssr:i,ssrCssVars:e.cssVars,isProd:!1,compilerOptions:{bindingMetadata:n}});if(s.errors.length)return void(CI.errors=s.errors);const r=i?"ssrRender":"render";return`\n${s.code.replace(/\nexport (function|const) (render|ssrRender)/,`$1 ${r}`)}\n__sfc__.${r} = ${r}`}const yI=Xd();class wI{constructor(e,t,n,i){this.compiled={js:"",css:"",ssr:""},this.filename=e,this.template=t||"",this.script=n||"",this.style=i||""}get code(){return`\n      <script setup>\n        ${this.script}\n      <\/script>\n      <template>\n        ${this.template}\n      </template>\n      `}}const CI=Zs({files:{"App.vue":new wI("App.vue","","")},packages:[],activeFilename:"App.vue",errors:[],runtimeErrors:[],get activeFile(){return CI.files[this.activeFilename]},get importMap(){return`\n      {\n        "imports": {\n          ${CI.packages.map((({name:e,url:t})=>`"${e}": "${t}"`)).join(",\n")}\n        }\n      }\n    `}});function SI(e){CI.files=l(a({},CI.files),{[e.filename]:e}),_I(CI.files[e.filename])}function xI(e){CI.activeFilename=e}wo((()=>{CI.activeFile&&_I(CI.activeFile)})),xo((()=>CI.activeFilename),(()=>{yI.trigger(null)}));const kI=yI.on,EI='\n<div\n  grid="~  gap-4"\n  place="content-center items-center"\n  h="screen"\n  font="mono"\n  >\n  <Coordinate  :flag="flag"/>\n  <div><button @click="toggle"></button></div>\n</div>\n\n',DI="\n// playground https://play.vueuse.org/ \n//httpsvue-hooks-plustypescript\nimport { useBoolean } from 'vue-hooks-plus'\nimport Coordinate from './Coordinate.vue'\n\nconst [flag,{toggle} ] = useBoolean(true)\n",TI='\n<div\n  font="mono"\n  bg="light-500 dark:dark-500"\n  flex="~ col"\n  text="center"\n  p="2"\n  border="rounded"\n>\n  <span text="3xl dark:light-900 dark:opacity-100" m="t-2">{{flag ? \'\' : \'\' }}-VueHook Plus</span>\n</div>\n',LI="\ndefineProps({\n  flag: {\n    type:Boolean,\n    default:true\n  },\n})\n",NI=[{name:"vue-hooks-plus",source:"unpkg",description:"vue-hooks-plus",url:"https://unpkg.com/vue-hooks-plus@1.4.0/dist/js/index.es.js"}];function II(){if(CI.files={},location.hash.slice(1)){const{files:e,packages:t}=JSON.parse(gu.decompressFromEncodedURIComponent(location.hash.slice(1)));if(console.log(e,t),e&&t){CI.packages=t;for(const t in e)console.log(t),SI(new wI(t,e[t].template,e[t].script));xI("App.vue"),yI.trigger(null)}}else CI.packages=NI,SI(new wI("App.vue",EI.trim(),DI.trim())),SI(new wI("Coordinate.vue",TI.trim(),LI.trim())),xI("App.vue"),yI.trigger(null)}setTimeout((()=>{II()}),0);const PI={position:"fixed left-0 top-0 bottom-0",p:"y-4 x-2",w:"18",flex:"~ col",items:"center",spcae:"y-2"},OI=El("img",{src:"http://43.138.187.142:9000/assets/vue-hooks-plus/logo@2x.png",class:"w-12"},null,-1),RI=El("span",{class:"flex-1"},null,-1),AI={href:"https://github.com/InhiblabCore/vue-hooks-plus-playground",target:"_blank"};var MI=Bo({__name:"Navigation",props:{modelValue:{type:Boolean}},setup(e){const t=lu(e),{copy:n}=function(e={}){const{navigator:t=vh,read:n=!1,source:i,copiedDuring:s=1500}=e,r=["copy","cut"],o=yh((()=>t&&"clipboard"in t)),a=hr(""),l=hr(!1),c=ih((()=>l.value=!1),s);function d(){t.clipboard.readText().then((e=>{a.value=e}))}if(o.value&&n)for(const h of r)bh(h,d);return{isSupported:o,text:a,copied:l,copy:async function(e=qd(i)){o.value&&null!=e&&(await t.clipboard.writeText(e),a.value=e,l.value=!0,c.start())}}}(),i=()=>{const e=function(){const e=Object.entries(CI.files).reduce(((e,[t,{template:n,script:i}])=>(e[t]={template:n,script:i},e)),{});return gu.compressToEncodedURIComponent(JSON.stringify({packages:CI.packages,files:e}))}();return window.location.hash=e,n(window.location.href)};return bh("keydown",(e=>{e.ctrlKey&&"KeyS"===e.code&&!e.shiftKey&&(e.preventDefault(),i().then((()=>alert("URL copied to clipboard"))))})),(e,n)=>{const i=Od,s=Md,r=Fd,o=Wd,a=jd;return gl(),bl("div",PI,[OI,RI,Dl(r,{icon:"",text:"base",onClick:fr(du)},{default:ro((()=>[fr(cu)?(gl(),yl(i,{key:0})):(gl(),yl(s,{key:1}))])),_:1},8,["onClick"]),Dl(r,{icon:"",text:"base",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:ro((()=>[Dl(o)])),_:1}),El("a",AI,[Dl(r,{icon:"",text:"base"},{default:ro((()=>[Dl(a)])),_:1})])])}}});const FI={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 221"},BI=[El("path",{d:"M204.8 0H256L128 220.8L0 0h97.92L128 51.2L157.44 0h47.36z",fill:"#41B883"},null,-1),El("path",{d:"M0 0l128 220.8L256 0h-51.2L128 132.48L50.56 0H0z",fill:"#41B883"},null,-1),El("path",{d:"M50.56 0L128 133.12L204.8 0h-47.36L128 51.2L97.92 0H50.56z",fill:"#35495E"},null,-1)];var VI={render:function(e,t){return gl(),bl("svg",FI,BI)}};const WI={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},HI=[El("path",{d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z",fill:"currentColor"},null,-1)];var UI={render:function(e,t){return gl(),bl("svg",WI,HI)}},zI=Bo({__name:"Tab",props:{name:null,active:{type:Boolean}},setup(e){const t=e,n=ic((()=>CI.activeFilename===t.name)),i=ic((()=>"App.vue"===t.name)),s=()=>{var e;t.name&&(e=t.name,delete CI.files[e],setTimeout((()=>xI("App.vue")),0))};return(t,r)=>{const o=VI,a=UI,l=Fd;return gl(),bl("div",{class:Wn({"!pr-4":"App.vue"===e.name,"dark:bg-dark-600 light-800":fr(n)}),p:"l-4 r-2",cursor:"pointer",bg:"hover:light-800 hover:dark:dark-600",text:"sm",h:"8",display:"inline-flex",flex:"row",place:"items-center",space:"x-2",border:"r-1 light-900 dark:dark-400",onClick:r[1]||(r[1]=t=>fr(xI)(e.name))},[Dl(o),El("div",{class:Wn({"!text-green-500":e.active}),text:"dark-900 dark:light-900 xs"},[ga(t.$slots,"default")],2),fr(i)?Pl("",!0):(gl(),yl(l,{key:0,icon:"",p:"0",small:"",onClick:r[0]||(r[0]=e=>s())},{default:ro((()=>[Dl(a)])),_:1}))],2)}}});const jI={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},$I=[El("path",{d:"M17 15V8h-2v7H8v2h7v7h2v-7h7v-2z",fill:"currentColor"},null,-1)];var KI={render:function(e,t){return gl(),bl("svg",jI,$I)}};const qI={class:"bg-light-500 h-8 overflow-hidden border-light-900 dark:border-dark-400 border-1 dark:bg-dark-800 rounded-t-md border-b flex flex-row items-center pr-2"},GI={key:0};var YI=Bo({__name:"TabBar",setup(e){const t=hr(),n=hr(!1),i=hr("");bh("keydown",(e=>{"Escape"===e.key&&(n.value=!1,i.value="")}));const s=()=>{if(n.value=!1,0===i.value.length)return;const e=i.value.endsWith(".vue")?i.value:`${i.value}.vue`;Object.values(CI.files).some((t=>t.filename===e))&&alert("File Already Exists"),SI(new wI(e,"","")),i.value=""};!function(e,t,n={}){const{window:i=_h,ignore:s,capture:r=!0,detectIframe:o=!1}=n;if(!i)return;const a=hr(!0);let l;const c=n=>{i.clearTimeout(l);const r=mh(e),o=n.composedPath();r&&r!==n.target&&!o.includes(r)&&a.value&&(s&&s.length>0&&s.some((e=>{const t=mh(e);return t&&(n.target===t||o.includes(t))}))||t(n))},d=[bh(i,"click",c,{passive:!0,capture:r}),bh(i,"pointerdown",(t=>{const n=mh(e);a.value=!!n&&!t.composedPath().includes(n)}),{passive:!0}),bh(i,"pointerup",(e=>{if(0===e.button){const t=e.composedPath();e.composedPath=()=>t,l=i.setTimeout((()=>c(e)),50)}}),{passive:!0}),o&&bh(i,"blur",(n=>{var i;const s=mh(e);"IFRAME"!==(null==(i=document.activeElement)?void 0:i.tagName)||(null==s?void 0:s.contains(document.activeElement))||t(n)}))].filter(Boolean)}(t,(()=>{n.value&&s()}));return(e,r)=>{const o=zI,a=KI,l=Fd;return gl(),bl("div",qI,[(gl(!0),bl(ll,null,pa(fr(CI).files,(e=>(gl(),yl(o,{key:e.filename,active:e.filename===fr(CI).activeFilename,name:e.filename},{default:ro((()=>[Nl(Yn(e.filename),1)])),_:2},1032,["active","name"])))),128)),n.value?(gl(),bl("div",GI,[Dl(o,null,{default:ro((()=>[la(El("input",{ref_key:"fileNameInput",ref:t,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e),outline:"focus:none",bg:"transparent",type:"text",onKeydown:r[1]||(r[1]=_d((e=>s()),["enter"]))},null,544),[[id,i.value]])])),_:1})])):Pl("",!0),Dl(l,{small:"",m:"l-2",icon:"",onClick:r[2]||(r[2]=e=>(n.value=!0,void setTimeout((()=>{t.value&&t.value.focus()}))))},{default:ro((()=>[Dl(a,{class:"text-base"})])),_:1})])}}});var ZI={name:"Vitesse Dark",base:"vs-dark",colors:{focusBorder:"#00000000",foreground:"#dbd7ca",descriptionForeground:"#dedcd590",errorForeground:"#cb7676","textLink.foreground":"#4d9375","textLink.activeForeground":"#4d9375","textBlockQuote.background":"#121212","textBlockQuote.border":"#181818","textCodeBlock.background":"#121212","textPreformat.foreground":"#d1d5da","textSeparator.foreground":"#586069","button.background":"#4d9375","button.foreground":"#121212","button.hoverBackground":"#4d9375","checkbox.background":"#181818","checkbox.border":"#111","dropdown.background":"#121212","dropdown.border":"#181818","dropdown.foreground":"#dbd7ca","dropdown.listBackground":"#181818","input.background":"#181818","input.border":"#181818","input.foreground":"#dbd7ca","input.placeholderForeground":"#dedcd590","badge.foreground":"#121212","badge.background":"#dedcd590","progressBar.background":"#4d9375","titleBar.activeForeground":"#bfbaaa","titleBar.activeBackground":"#121212","titleBar.inactiveForeground":"#959da5","titleBar.inactiveBackground":"#121212","titleBar.border":"#181818","activityBar.foreground":"#dbd7ca","activityBar.inactiveForeground":"#dedcd530","activityBar.background":"#121212","activityBarBadge.foreground":"#121212","activityBarBadge.background":"#bfbaaa","activityBar.activeBorder":"#4d9375","activityBar.border":"#181818","sideBar.foreground":"#bfbaaa","sideBar.background":"#121212","sideBar.border":"#181818","sideBarTitle.foreground":"#dbd7ca","sideBarSectionHeader.foreground":"#dbd7ca","sideBarSectionHeader.background":"#121212","sideBarSectionHeader.border":"#181818","list.hoverForeground":"#dbd7ca","list.inactiveSelectionForeground":"#dbd7ca","list.activeSelectionForeground":"#dbd7ca","list.hoverBackground":"#181818","list.inactiveSelectionBackground":"#121212","list.activeSelectionBackground":"#181818","list.inactiveFocusBackground":"#121212","list.focusBackground":"#181818","tree.indentGuidesStroke":"#2f363d","notificationCenterHeader.foreground":"#959da5","notificationCenterHeader.background":"#121212","notifications.foreground":"#dbd7ca","notifications.background":"#121212","notifications.border":"#181818","notificationsErrorIcon.foreground":"#cb7676","notificationsWarningIcon.foreground":"#d4976c","notificationsInfoIcon.foreground":"#6394bf","pickerGroup.border":"#444d56","pickerGroup.foreground":"#dbd7ca","quickInput.background":"#121212","quickInput.foreground":"#dbd7ca","statusBar.foreground":"#bfbaaa","statusBar.background":"#121212","statusBar.border":"#181818","statusBar.noFolderBackground":"#121212","statusBar.debuggingBackground":"#181818","statusBar.debuggingForeground":"#bfbaaa","statusBarItem.prominentBackground":"#181818","editorGroupHeader.tabsBackground":"#121212","editorGroupHeader.tabsBorder":"#181818","editorGroup.border":"#181818","tab.activeForeground":"#dbd7ca","tab.inactiveForeground":"#959da5","tab.inactiveBackground":"#121212","tab.activeBackground":"#121212","tab.hoverBackground":"#181818","tab.unfocusedHoverBackground":"#121212","tab.border":"#181818","tab.unfocusedActiveBorderTop":"#181818","tab.activeBorder":"#181818","tab.unfocusedActiveBorder":"#181818","tab.activeBorderTop":"#dedcd590","breadcrumb.foreground":"#959da5","breadcrumb.focusForeground":"#dbd7ca","breadcrumb.activeSelectionForeground":"#d1d5da","breadcrumbPicker.background":"#121212","editor.foreground":"#dbd7ca","editor.background":"#121212","editorWidget.background":"#121212","editor.foldBackground":"#121212","editor.lineHighlightBackground":"#181818","editorLineNumber.foreground":"#dedcd530","editorLineNumber.activeForeground":"#bfbaaa","editorIndentGuide.background":"#ffffff15","editorIndentGuide.activeBackground":"#ffffff30","editorWhitespace.foreground":"#ffffff15","editor.findMatchBackground":"#e6cc7722","editor.findMatchHighlightBackground":"#e6cc7744","editor.inactiveSelectionBackground":"#eeeeee10","editor.selectionBackground":"#eeeeee10","editor.selectionHighlightBackground":"#eeeeee15","editor.wordHighlightBackground":"#1c6b4805","editor.wordHighlightStrongBackground":"#1c6b4810","editorBracketMatch.background":"#4d937520","diffEditor.insertedTextBackground":"#4d937522","diffEditor.removedTextBackground":"#ab595922","scrollbar.shadow":"#0008","scrollbarSlider.background":"#dedcd510","scrollbarSlider.hoverBackground":"#dedcd530","scrollbarSlider.activeBackground":"#dedcd530","editorOverviewRuler.border":"#111","panel.background":"#121212","panel.border":"#181818","panelTitle.activeBorder":"#4d9375","panelTitle.activeForeground":"#dbd7ca","panelTitle.inactiveForeground":"#959da5","panelInput.border":"#2f363d","terminal.foreground":"#dbd7ca","terminal.ansiBrightBlack":"#393a34","terminal.ansiBrightBlue":"#6394bf","terminal.ansiBrightCyan":"#5eaab5","terminal.ansiBrightGreen":"#4d9375","terminal.ansiBrightMagenta":"#db889a","terminal.ansiBrightRed":"#cb7676","terminal.ansiBrightWhite":"#ffffff","terminal.ansiBrightYellow":"#e6cc77","terminal.ansiBlack":"#393a34","terminal.ansiBlue":"#6394bf","terminal.ansiCyan":"#5eaab5","terminal.ansiGreen":"#4d9375","terminal.ansiMagenta":"#db889a","terminal.ansiRed":"#cb7676","terminal.ansiWhite":"#ffffff","terminal.ansiYellow":"#e6cc77","gitDecoration.addedResourceForeground":"#4d9375","gitDecoration.modifiedResourceForeground":"#6394bf","gitDecoration.deletedResourceForeground":"#cb7676","gitDecoration.untrackedResourceForeground":"#5eaab5","gitDecoration.ignoredResourceForeground":"#dedcd530","gitDecoration.conflictingResourceForeground":"#d4976c","gitDecoration.submoduleResourceForeground":"#dedcd590","editorGutter.modifiedBackground":"#6394bf","editorGutter.addedBackground":"#4d9375","editorGutter.deletedBackground":"#cb7676","debugToolBar.background":"#121212","editor.stackFrameHighlightBackground":"#a707","editor.focusedStackFrameHighlightBackground":"#b808","peekViewEditor.matchHighlightBackground":"#ffd33d33","peekViewResult.matchHighlightBackground":"#ffd33d33","peekViewEditor.background":"#121212","peekViewResult.background":"#121212","settings.headerForeground":"#dbd7ca","settings.modifiedItemIndicator":"#4d9375","welcomePage.buttonBackground":"#2f363d","welcomePage.buttonHoverBackground":"#444d56","problemsErrorIcon.foreground":"#cb7676","problemsWarningIcon.foreground":"#d4976c","problemsInfoIcon.foreground":"#6394bf","editorError.foreground":"#cb7676","editorWarning.foreground":"#d4976c","editorInfo.foreground":"#6394bf","editorHint.foreground":"#4d9375","editorGutter.commentRangeForeground":"#dedcd530","editorGutter.foldingControlForeground":"#dedcd590"},semanticHighlighting:!0,semanticTokenColors:{namespace:"#db889a",interface:"#67b893",class:"#5eaab5"},tokenColors:[{scope:["comment","punctuation.definition.comment","string.comment"],settings:{foreground:"#758575"}},{scope:["punctuation","delimiter","delimiter.bracket","meta.tag.inline.any.html","meta.tag.block.any.html","meta.brace"],settings:{foreground:"#858585"}},{scope:["constant","entity.name.constant","variable.other.constant","variable.language","meta.definition.variable"],settings:{foreground:"#d4976c"}},{scope:["entity","entity.name"],settings:{foreground:"#a1b567"}},{scope:"variable.parameter.function",settings:{foreground:"#dbd7ca"}},{scope:["entity.name.tag","tag.html"],settings:{foreground:"#429988"}},{scope:"entity.name.function",settings:{foreground:"#a1b567"}},{scope:"keyword",settings:{foreground:"#4d9375"}},{scope:["storage","storage.type"],settings:{foreground:"#cb7676"}},{scope:["storage.modifier.package","storage.modifier.import","storage.type.java"],settings:{foreground:"#dbd7ca"}},{scope:["string","punctuation.definition.string","string punctuation.section.embedded source","attribute.value"],settings:{foreground:"#c98a7d"}},{scope:"support",settings:{foreground:"#e0a569"}},{scope:["meta.property-name","entity.other.attribute-name","meta.object-literal.key","attribute.name"],settings:{foreground:"#e0a569"}},{scope:["variable","identifier"],settings:{foreground:"#b8a965"}},{scope:"namespace",settings:{foreground:"#db889a"}},{scope:"keyword.operator",settings:{foreground:"#cb7676"}},{scope:"invalid.broken",settings:{fontStyle:"italic",foreground:"#fdaeb7"}},{scope:"invalid.deprecated",settings:{fontStyle:"italic",foreground:"#fdaeb7"}},{scope:"invalid.illegal",settings:{fontStyle:"italic",foreground:"#fdaeb7"}},{scope:"invalid.unimplemented",settings:{fontStyle:"italic",foreground:"#fdaeb7"}},{scope:"carriage-return",settings:{fontStyle:"italic underline",background:"#f97583",foreground:"#24292e",content:"^M"}},{scope:"message.error",settings:{foreground:"#fdaeb7"}},{scope:"string source",settings:{foreground:"#dbd7ca"}},{scope:"string variable",settings:{foreground:"#c98a7d"}},{scope:["source.regexp","string.regexp"],settings:{foreground:"#c4704f"}},{scope:["string.regexp.character-class","string.regexp constant.character.escape","string.regexp source.ruby.embedded","string.regexp string.regexp.arbitrary-repitition"],settings:{foreground:"#c98a7d"}},{scope:"string.regexp constant.character.escape",settings:{foreground:"#e6cc77"}},{scope:"support.constant",settings:{foreground:"#d4976c"}},{scope:"support.variable",settings:{foreground:"#429988"}},{scope:["constant.numeric","number"],settings:{foreground:"#6394bf"}},{scope:["keyword.other.unit"],settings:{foreground:"#cb7676"}},{scope:"constant.language.boolean",settings:{foreground:"#4d9375"}},{scope:"meta.module-reference",settings:{foreground:"#4d9375"}},{scope:"punctuation.definition.list.begin.markdown",settings:{foreground:"#d4976c"}},{scope:["markup.heading","markup.heading entity.name"],settings:{fontStyle:"bold",foreground:"#4d9375"}},{scope:"markup.quote",settings:{foreground:"#4d9375"}},{scope:"markup.italic",settings:{fontStyle:"italic",foreground:"#dbd7ca"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#dbd7ca"}},{scope:"markup.raw",settings:{foreground:"#4d9375"}},{scope:["markup.deleted","meta.diff.header.from-file","punctuation.definition.deleted"],settings:{background:"#86181d",foreground:"#fdaeb7"}},{scope:["markup.inserted","meta.diff.header.to-file","punctuation.definition.inserted"],settings:{background:"#144620",foreground:"#85e89d"}},{scope:["markup.changed","punctuation.definition.changed"],settings:{background:"#c24e00",foreground:"#ffab70"}},{scope:["markup.ignored","markup.untracked"],settings:{foreground:"#2f363d",background:"#79b8ff"}},{scope:"meta.diff.range",settings:{foreground:"#b392f0",fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"#79b8ff"}},{scope:"meta.separator",settings:{fontStyle:"bold",foreground:"#79b8ff"}},{scope:"meta.output",settings:{foreground:"#79b8ff"}},{scope:["brackethighlighter.tag","brackethighlighter.curly","brackethighlighter.round","brackethighlighter.square","brackethighlighter.angle","brackethighlighter.quote"],settings:{foreground:"#d1d5da"}},{scope:"brackethighlighter.unmatched",settings:{foreground:"#fdaeb7"}},{scope:["constant.other.reference.link","string.other.link","punctuation.definition.string.begin.markdown","punctuation.definition.string.end.markdown"],settings:{foreground:"#c98a7d"}},{scope:["markup.underline.link.markdown"],settings:{foreground:"#dedcd590",fontStyle:"underline"}},{scope:["type.identifier"],settings:{foreground:"#5eaab5"}}],rules:[{token:"comment",foreground:"758575"},{token:"punctuation.definition.comment",foreground:"758575"},{token:"string.comment",foreground:"758575"},{token:"punctuation",foreground:"858585"},{token:"delimiter",foreground:"858585"},{token:"delimiter.bracket",foreground:"858585"},{token:"meta.tag.inline.any.html",foreground:"858585"},{token:"meta.tag.block.any.html",foreground:"858585"},{token:"meta.brace",foreground:"858585"},{token:"constant",foreground:"d4976c"},{token:"entity.name.constant",foreground:"d4976c"},{token:"variable.other.constant",foreground:"d4976c"},{token:"variable.language",foreground:"d4976c"},{token:"meta.definition.variable",foreground:"d4976c"},{token:"entity",foreground:"a1b567"},{token:"entity.name",foreground:"a1b567"},{token:"variable.parameter.function",foreground:"dbd7ca"},{token:"entity.name.tag",foreground:"429988"},{token:"tag.html",foreground:"429988"},{token:"entity.name.function",foreground:"a1b567"},{token:"keyword",foreground:"4d9375"},{token:"storage",foreground:"cb7676"},{token:"storage.type",foreground:"cb7676"},{token:"storage.modifier.package",foreground:"dbd7ca"},{token:"storage.modifier.import",foreground:"dbd7ca"},{token:"storage.type.java",foreground:"dbd7ca"},{token:"string",foreground:"c98a7d"},{token:"punctuation.definition.string",foreground:"c98a7d"},{token:"string punctuation.section.embedded source",foreground:"c98a7d"},{token:"attribute.value",foreground:"c98a7d"},{token:"support",foreground:"e0a569"},{token:"meta.property-name",foreground:"e0a569"},{token:"entity.other.attribute-name",foreground:"e0a569"},{token:"meta.object-literal.key",foreground:"e0a569"},{token:"attribute.name",foreground:"e0a569"},{token:"variable",foreground:"b8a965"},{token:"identifier",foreground:"b8a965"},{token:"namespace",foreground:"db889a"},{token:"keyword.operator",foreground:"cb7676"},{token:"invalid.broken",foreground:"fdaeb7"},{token:"invalid.deprecated",foreground:"fdaeb7"},{token:"invalid.illegal",foreground:"fdaeb7"},{token:"invalid.unimplemented",foreground:"fdaeb7"},{token:"carriage-return",foreground:"24292e"},{token:"message.error",foreground:"fdaeb7"},{token:"string source",foreground:"dbd7ca"},{token:"string variable",foreground:"c98a7d"},{token:"source.regexp",foreground:"c4704f"},{token:"string.regexp",foreground:"c4704f"},{token:"string.regexp.character-class",foreground:"c98a7d"},{token:"string.regexp constant.character.escape",foreground:"c98a7d"},{token:"string.regexp source.ruby.embedded",foreground:"c98a7d"},{token:"string.regexp string.regexp.arbitrary-repitition",foreground:"c98a7d"},{token:"string.regexp constant.character.escape",foreground:"e6cc77"},{token:"support.constant",foreground:"d4976c"},{token:"support.variable",foreground:"429988"},{token:"constant.numeric",foreground:"6394bf"},{token:"number",foreground:"6394bf"},{token:"keyword.other.unit",foreground:"cb7676"},{token:"constant.language.boolean",foreground:"4d9375"},{token:"meta.module-reference",foreground:"4d9375"},{token:"punctuation.definition.list.begin.markdown",foreground:"d4976c"},{token:"markup.heading",foreground:"4d9375"},{token:"markup.heading entity.name",foreground:"4d9375"},{token:"markup.quote",foreground:"4d9375"},{token:"markup.italic",foreground:"dbd7ca"},{token:"markup.bold",foreground:"dbd7ca"},{token:"markup.raw",foreground:"4d9375"},{token:"markup.deleted",foreground:"fdaeb7"},{token:"meta.diff.header.from-file",foreground:"fdaeb7"},{token:"punctuation.definition.deleted",foreground:"fdaeb7"},{token:"markup.inserted",foreground:"85e89d"},{token:"meta.diff.header.to-file",foreground:"85e89d"},{token:"punctuation.definition.inserted",foreground:"85e89d"},{token:"markup.changed",foreground:"ffab70"},{token:"punctuation.definition.changed",foreground:"ffab70"},{token:"markup.ignored",foreground:"2f363d"},{token:"markup.untracked",foreground:"2f363d"},{token:"meta.diff.range",foreground:"b392f0"},{token:"meta.diff.header",foreground:"79b8ff"},{token:"meta.separator",foreground:"79b8ff"},{token:"meta.output",foreground:"79b8ff"},{token:"brackethighlighter.tag",foreground:"d1d5da"},{token:"brackethighlighter.curly",foreground:"d1d5da"},{token:"brackethighlighter.round",foreground:"d1d5da"},{token:"brackethighlighter.square",foreground:"d1d5da"},{token:"brackethighlighter.angle",foreground:"d1d5da"},{token:"brackethighlighter.quote",foreground:"d1d5da"},{token:"brackethighlighter.unmatched",foreground:"fdaeb7"},{token:"constant.other.reference.link",foreground:"c98a7d"},{token:"string.other.link",foreground:"c98a7d"},{token:"punctuation.definition.string.begin.markdown",foreground:"c98a7d"},{token:"punctuation.definition.string.end.markdown",foreground:"c98a7d"},{token:"markup.underline.link.markdown",foreground:"dedcd590"},{token:"type.identifier",foreground:"5eaab5"}]};var XI={name:"Vitesse Light",base:"vs",colors:{focusBorder:"#00000000",foreground:"#393a34",descriptionForeground:"#393a3490",errorForeground:"#ab5959","textLink.foreground":"#1c6b48","textLink.activeForeground":"#1c6b48","textBlockQuote.background":"#ffffff","textBlockQuote.border":"#f0f0f0","textCodeBlock.background":"#ffffff","textPreformat.foreground":"#586069","textSeparator.foreground":"#d1d5da","button.background":"#1c6b48","button.foreground":"#ffffff","button.hoverBackground":"#1c6b48","checkbox.background":"#f5f5f5","checkbox.border":"#d1d5da","dropdown.background":"#ffffff","dropdown.border":"#f0f0f0","dropdown.foreground":"#393a34","dropdown.listBackground":"#f5f5f5","input.background":"#f5f5f5","input.border":"#f0f0f0","input.foreground":"#393a34","input.placeholderForeground":"#393a3490","badge.foreground":"#ffffff","badge.background":"#393a3490","progressBar.background":"#1c6b48","titleBar.activeForeground":"#4e4f47","titleBar.activeBackground":"#ffffff","titleBar.inactiveForeground":"#6a737d","titleBar.inactiveBackground":"#ffffff","titleBar.border":"#f5f5f5","activityBar.foreground":"#393a34","activityBar.inactiveForeground":"#393a3450","activityBar.background":"#ffffff","activityBarBadge.foreground":"#ffffff","activityBarBadge.background":"#4e4f47","activityBar.activeBorder":"#1c6b48","activityBar.border":"#f0f0f0","sideBar.foreground":"#4e4f47","sideBar.background":"#ffffff","sideBar.border":"#f0f0f0","sideBarTitle.foreground":"#393a34","sideBarSectionHeader.foreground":"#393a34","sideBarSectionHeader.background":"#ffffff","sideBarSectionHeader.border":"#f0f0f0","list.hoverForeground":"#393a34","list.inactiveSelectionForeground":"#393a34","list.activeSelectionForeground":"#393a34","list.hoverBackground":"#f5f5f5","list.inactiveSelectionBackground":"#ffffff","list.activeSelectionBackground":"#f5f5f5","list.inactiveFocusBackground":"#ffffff","list.focusBackground":"#f5f5f5","tree.indentGuidesStroke":"#e1e4e8","notificationCenterHeader.foreground":"#6a737d","notificationCenterHeader.background":"#ffffff","notifications.foreground":"#393a34","notifications.background":"#ffffff","notifications.border":"#f0f0f0","notificationsErrorIcon.foreground":"#ab5959","notificationsWarningIcon.foreground":"#a65e2b","notificationsInfoIcon.foreground":"#296aa3","pickerGroup.border":"#e1e4e8","pickerGroup.foreground":"#393a34","quickInput.background":"#ffffff","quickInput.foreground":"#393a34","statusBar.foreground":"#4e4f47","statusBar.background":"#ffffff","statusBar.border":"#f0f0f0","statusBar.noFolderBackground":"#ffffff","statusBar.debuggingBackground":"#f5f5f5","statusBar.debuggingForeground":"#4e4f47","statusBarItem.prominentBackground":"#f5f5f5","editorGroupHeader.tabsBackground":"#ffffff","editorGroupHeader.tabsBorder":"#f0f0f0","editorGroup.border":"#f0f0f0","tab.activeForeground":"#393a34","tab.inactiveForeground":"#6a737d","tab.inactiveBackground":"#ffffff","tab.activeBackground":"#ffffff","tab.hoverBackground":"#f5f5f5","tab.unfocusedHoverBackground":"#ffffff","tab.border":"#f0f0f0","tab.unfocusedActiveBorderTop":"#f0f0f0","tab.activeBorder":"#f0f0f0","tab.unfocusedActiveBorder":"#f0f0f0","tab.activeBorderTop":"#393a3490","breadcrumb.foreground":"#6a737d","breadcrumb.focusForeground":"#393a34","breadcrumb.activeSelectionForeground":"#586069","breadcrumbPicker.background":"#ffffff","editor.foreground":"#393a34","editor.background":"#ffffff","editorWidget.background":"#ffffff","editor.foldBackground":"#ffffff","editor.lineHighlightBackground":"#f5f5f5","editorLineNumber.foreground":"#393a3450","editorLineNumber.activeForeground":"#4e4f47","editorIndentGuide.background":"#00000015","editorIndentGuide.activeBackground":"#00000030","editorWhitespace.foreground":"#00000015","editor.findMatchBackground":"#e6cc7744","editor.findMatchHighlightBackground":"#e6cc7766","editor.inactiveSelectionBackground":"#22222210","editor.selectionBackground":"#22222210","editor.selectionHighlightBackground":"#22222215","editor.wordHighlightBackground":"#1c6b4805","editor.wordHighlightStrongBackground":"#1c6b4810","editorBracketMatch.background":"#1c6b4820","diffEditor.insertedTextBackground":"#1c6b4815","diffEditor.removedTextBackground":"#ab595910","scrollbar.shadow":"#6a737d33","scrollbarSlider.background":"#393a3410","scrollbarSlider.hoverBackground":"#393a3450","scrollbarSlider.activeBackground":"#393a3450","editorOverviewRuler.border":"#fff","panel.background":"#ffffff","panel.border":"#f0f0f0","panelTitle.activeBorder":"#1c6b48","panelTitle.activeForeground":"#393a34","panelTitle.inactiveForeground":"#6a737d","panelInput.border":"#e1e4e8","terminal.foreground":"#393a34","terminal.ansiBrightBlack":"#121212","terminal.ansiBrightBlue":"#296aa3","terminal.ansiBrightCyan":"#2993a3","terminal.ansiBrightGreen":"#1c6b48","terminal.ansiBrightMagenta":"#b05a78","terminal.ansiBrightRed":"#ab5959","terminal.ansiBrightWhite":"#dbd7ca","terminal.ansiBrightYellow":"#bda437","terminal.ansiBlack":"#121212","terminal.ansiBlue":"#296aa3","terminal.ansiCyan":"#2993a3","terminal.ansiGreen":"#1c6b48","terminal.ansiMagenta":"#b05a78","terminal.ansiRed":"#ab5959","terminal.ansiWhite":"#dbd7ca","terminal.ansiYellow":"#bda437","gitDecoration.addedResourceForeground":"#1c6b48","gitDecoration.modifiedResourceForeground":"#296aa3","gitDecoration.deletedResourceForeground":"#ab5959","gitDecoration.untrackedResourceForeground":"#2993a3","gitDecoration.ignoredResourceForeground":"#393a3450","gitDecoration.conflictingResourceForeground":"#a65e2b","gitDecoration.submoduleResourceForeground":"#393a3490","editorGutter.modifiedBackground":"#296aa3","editorGutter.addedBackground":"#1c6b48","editorGutter.deletedBackground":"#ab5959","debugToolBar.background":"#ffffff","editor.stackFrameHighlightBackground":"#fffbdd","editor.focusedStackFrameHighlightBackground":"#fff5b1","peekViewEditor.background":"#ffffff","peekViewResult.background":"#ffffff","settings.headerForeground":"#393a34","settings.modifiedItemIndicator":"#1c6b48","welcomePage.buttonBackground":"#f6f8fa","welcomePage.buttonHoverBackground":"#e1e4e8","problemsErrorIcon.foreground":"#ab5959","problemsWarningIcon.foreground":"#a65e2b","problemsInfoIcon.foreground":"#296aa3","editorError.foreground":"#ab5959","editorWarning.foreground":"#a65e2b","editorInfo.foreground":"#296aa3","editorHint.foreground":"#1c6b48","editorGutter.commentRangeForeground":"#393a3450","editorGutter.foldingControlForeground":"#393a3490"},semanticHighlighting:!0,semanticTokenColors:{namespace:"#b05a78",interface:"#2e8f63",class:"#2993a3"},tokenColors:[{scope:["comment","punctuation.definition.comment","string.comment"],settings:{foreground:"#a0ada0"}},{scope:["punctuation","delimiter","delimiter.bracket","meta.tag.inline.any.html","meta.tag.block.any.html","meta.brace"],settings:{foreground:"#8e8f8b"}},{scope:["constant","entity.name.constant","variable.other.constant","variable.language","meta.definition.variable"],settings:{foreground:"#a65e2b"}},{scope:["entity","entity.name"],settings:{foreground:"#6c7834"}},{scope:"variable.parameter.function",settings:{foreground:"#393a34"}},{scope:["entity.name.tag","tag.html"],settings:{foreground:"#2f8a89"}},{scope:"entity.name.function",settings:{foreground:"#6c7834"}},{scope:"keyword",settings:{foreground:"#1c6b48"}},{scope:["storage","storage.type"],settings:{foreground:"#ab5959"}},{scope:["storage.modifier.package","storage.modifier.import","storage.type.java"],settings:{foreground:"#393a34"}},{scope:["string","punctuation.definition.string","string punctuation.section.embedded source","attribute.value"],settings:{foreground:"#b56959"}},{scope:"support",settings:{foreground:"#b58451"}},{scope:["meta.property-name","entity.other.attribute-name","meta.object-literal.key","attribute.name"],settings:{foreground:"#b58451"}},{scope:["variable","identifier"],settings:{foreground:"#8c862b"}},{scope:"namespace",settings:{foreground:"#b05a78"}},{scope:"keyword.operator",settings:{foreground:"#ab5959"}},{scope:"invalid.broken",settings:{fontStyle:"italic",foreground:"#b31d28"}},{scope:"invalid.deprecated",settings:{fontStyle:"italic",foreground:"#b31d28"}},{scope:"invalid.illegal",settings:{fontStyle:"italic",foreground:"#b31d28"}},{scope:"invalid.unimplemented",settings:{fontStyle:"italic",foreground:"#b31d28"}},{scope:"carriage-return",settings:{fontStyle:"italic underline",background:"#d73a49",foreground:"#fafbfc",content:"^M"}},{scope:"message.error",settings:{foreground:"#b31d28"}},{scope:"string source",settings:{foreground:"#393a34"}},{scope:"string variable",settings:{foreground:"#b56959"}},{scope:["source.regexp","string.regexp"],settings:{foreground:"#ab5e3f"}},{scope:["string.regexp.character-class","string.regexp constant.character.escape","string.regexp source.ruby.embedded","string.regexp string.regexp.arbitrary-repitition"],settings:{foreground:"#b56959"}},{scope:"string.regexp constant.character.escape",settings:{foreground:"#bda437"}},{scope:"support.constant",settings:{foreground:"#a65e2b"}},{scope:"support.variable",settings:{foreground:"#2f8a89"}},{scope:["constant.numeric","number"],settings:{foreground:"#296aa3"}},{scope:["keyword.other.unit"],settings:{foreground:"#ab5959"}},{scope:"constant.language.boolean",settings:{foreground:"#1c6b48"}},{scope:"meta.module-reference",settings:{foreground:"#1c6b48"}},{scope:"punctuation.definition.list.begin.markdown",settings:{foreground:"#a65e2b"}},{scope:["markup.heading","markup.heading entity.name"],settings:{fontStyle:"bold",foreground:"#1c6b48"}},{scope:"markup.quote",settings:{foreground:"#1c6b48"}},{scope:"markup.italic",settings:{fontStyle:"italic",foreground:"#393a34"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#393a34"}},{scope:"markup.raw",settings:{foreground:"#1c6b48"}},{scope:["markup.deleted","meta.diff.header.from-file","punctuation.definition.deleted"],settings:{background:"#ffeef0",foreground:"#b31d28"}},{scope:["markup.inserted","meta.diff.header.to-file","punctuation.definition.inserted"],settings:{background:"#f0fff4",foreground:"#22863a"}},{scope:["markup.changed","punctuation.definition.changed"],settings:{background:"#ffebda",foreground:"#e36209"}},{scope:["markup.ignored","markup.untracked"],settings:{foreground:"#f6f8fa",background:"#005cc5"}},{scope:"meta.diff.range",settings:{foreground:"#6f42c1",fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"#005cc5"}},{scope:"meta.separator",settings:{fontStyle:"bold",foreground:"#005cc5"}},{scope:"meta.output",settings:{foreground:"#005cc5"}},{scope:["brackethighlighter.tag","brackethighlighter.curly","brackethighlighter.round","brackethighlighter.square","brackethighlighter.angle","brackethighlighter.quote"],settings:{foreground:"#586069"}},{scope:"brackethighlighter.unmatched",settings:{foreground:"#b31d28"}},{scope:["constant.other.reference.link","string.other.link","punctuation.definition.string.begin.markdown","punctuation.definition.string.end.markdown"],settings:{foreground:"#b56959"}},{scope:["markup.underline.link.markdown"],settings:{foreground:"#393a3490",fontStyle:"underline"}},{scope:["type.identifier"],settings:{foreground:"#2993a3"}}],rules:[{token:"comment",foreground:"a0ada0"},{token:"punctuation.definition.comment",foreground:"a0ada0"},{token:"string.comment",foreground:"a0ada0"},{token:"punctuation",foreground:"8e8f8b"},{token:"delimiter",foreground:"8e8f8b"},{token:"delimiter.bracket",foreground:"8e8f8b"},{token:"meta.tag.inline.any.html",foreground:"8e8f8b"},{token:"meta.tag.block.any.html",foreground:"8e8f8b"},{token:"meta.brace",foreground:"8e8f8b"},{token:"constant",foreground:"a65e2b"},{token:"entity.name.constant",foreground:"a65e2b"},{token:"variable.other.constant",foreground:"a65e2b"},{token:"variable.language",foreground:"a65e2b"},{token:"meta.definition.variable",foreground:"a65e2b"},{token:"entity",foreground:"6c7834"},{token:"entity.name",foreground:"6c7834"},{token:"variable.parameter.function",foreground:"393a34"},{token:"entity.name.tag",foreground:"2f8a89"},{token:"tag.html",foreground:"2f8a89"},{token:"entity.name.function",foreground:"6c7834"},{token:"keyword",foreground:"1c6b48"},{token:"storage",foreground:"ab5959"},{token:"storage.type",foreground:"ab5959"},{token:"storage.modifier.package",foreground:"393a34"},{token:"storage.modifier.import",foreground:"393a34"},{token:"storage.type.java",foreground:"393a34"},{token:"string",foreground:"b56959"},{token:"punctuation.definition.string",foreground:"b56959"},{token:"string punctuation.section.embedded source",foreground:"b56959"},{token:"attribute.value",foreground:"b56959"},{token:"support",foreground:"b58451"},{token:"meta.property-name",foreground:"b58451"},{token:"entity.other.attribute-name",foreground:"b58451"},{token:"meta.object-literal.key",foreground:"b58451"},{token:"attribute.name",foreground:"b58451"},{token:"variable",foreground:"8c862b"},{token:"identifier",foreground:"8c862b"},{token:"namespace",foreground:"b05a78"},{token:"keyword.operator",foreground:"ab5959"},{token:"invalid.broken",foreground:"b31d28"},{token:"invalid.deprecated",foreground:"b31d28"},{token:"invalid.illegal",foreground:"b31d28"},{token:"invalid.unimplemented",foreground:"b31d28"},{token:"carriage-return",foreground:"fafbfc"},{token:"message.error",foreground:"b31d28"},{token:"string source",foreground:"393a34"},{token:"string variable",foreground:"b56959"},{token:"source.regexp",foreground:"ab5e3f"},{token:"string.regexp",foreground:"ab5e3f"},{token:"string.regexp.character-class",foreground:"b56959"},{token:"string.regexp constant.character.escape",foreground:"b56959"},{token:"string.regexp source.ruby.embedded",foreground:"b56959"},{token:"string.regexp string.regexp.arbitrary-repitition",foreground:"b56959"},{token:"string.regexp constant.character.escape",foreground:"bda437"},{token:"support.constant",foreground:"a65e2b"},{token:"support.variable",foreground:"2f8a89"},{token:"constant.numeric",foreground:"296aa3"},{token:"number",foreground:"296aa3"},{token:"keyword.other.unit",foreground:"ab5959"},{token:"constant.language.boolean",foreground:"1c6b48"},{token:"meta.module-reference",foreground:"1c6b48"},{token:"punctuation.definition.list.begin.markdown",foreground:"a65e2b"},{token:"markup.heading",foreground:"1c6b48"},{token:"markup.heading entity.name",foreground:"1c6b48"},{token:"markup.quote",foreground:"1c6b48"},{token:"markup.italic",foreground:"393a34"},{token:"markup.bold",foreground:"393a34"},{token:"markup.raw",foreground:"1c6b48"},{token:"markup.deleted",foreground:"b31d28"},{token:"meta.diff.header.from-file",foreground:"b31d28"},{token:"punctuation.definition.deleted",foreground:"b31d28"},{token:"markup.inserted",foreground:"22863a"},{token:"meta.diff.header.to-file",foreground:"22863a"},{token:"punctuation.definition.inserted",foreground:"22863a"},{token:"markup.changed",foreground:"e36209"},{token:"punctuation.definition.changed",foreground:"e36209"},{token:"markup.ignored",foreground:"f6f8fa"},{token:"markup.untracked",foreground:"f6f8fa"},{token:"meta.diff.range",foreground:"6f42c1"},{token:"meta.diff.header",foreground:"005cc5"},{token:"meta.separator",foreground:"005cc5"},{token:"meta.output",foreground:"005cc5"},{token:"brackethighlighter.tag",foreground:"586069"},{token:"brackethighlighter.curly",foreground:"586069"},{token:"brackethighlighter.round",foreground:"586069"},{token:"brackethighlighter.square",foreground:"586069"},{token:"brackethighlighter.angle",foreground:"586069"},{token:"brackethighlighter.quote",foreground:"586069"},{token:"brackethighlighter.unmatched",foreground:"b31d28"},{token:"constant.other.reference.link",foreground:"b56959"},{token:"string.other.link",foreground:"b56959"},{token:"punctuation.definition.string.begin.markdown",foreground:"b56959"},{token:"punctuation.definition.string.end.markdown",foreground:"b56959"},{token:"markup.underline.link.markdown",foreground:"393a3490"},{token:"type.identifier",foreground:"2993a3"}]};function JI(e,t,...n){return function(e,t){let n;return n=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){const i=n[0];return void 0!==t[i]?t[i]:e})),n}(t,n)}class QI{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class eP{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class tP{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class nP{constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}compute(e,t,n){return n}}class iP{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class sP{constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,n){return n}}function rP(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class oP extends sP{constructor(e,t,n,i){void 0!==i&&(i.type="boolean",i.default=n),super(e,t,n,i)}validate(e){return rP(e,this.defaultValue)}}class aP extends sP{constructor(e,t,n,i,s,r){void 0!==r&&(r.type="integer",r.default=n,r.minimum=i,r.maximum=s),super(e,t,n,r),this.minimum=i,this.maximum=s}static clampedInt(e,t,n,i){if(void 0===e)return t;let s=parseInt(e,10);return isNaN(s)?t:(s=Math.max(n,s),s=Math.min(i,s),0|s)}validate(e){return aP.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class lP extends sP{constructor(e,t,n,i,s){void 0!==s&&(s.type="number",s.default=n),super(e,t,n,s),this.validationFn=i}static clamp(e,t,n){return e<t?t:e>n?n:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const n=parseFloat(e);return isNaN(n)?t:n}validate(e){return this.validationFn(lP.float(e,this.defaultValue))}}class cP extends sP{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,n,i){void 0!==i&&(i.type="string",i.default=n),super(e,t,n,i)}validate(e){return cP.string(e,this.defaultValue)}}function dP(e,t,n){return"string"!=typeof e||-1===n.indexOf(e)?t:e}class hP extends sP{constructor(e,t,n,i,s){void 0!==s&&(s.type="string",s.enum=i,s.default=n),super(e,t,n,s),this._allowedValues=i}validate(e){return dP(e,this.defaultValue,this._allowedValues)}}class uP extends nP{constructor(e,t,n,i,s,r,o){void 0!==o&&(o.type="string",o.enum=s,o.default=i),super(e,t,n,o),this._allowedValues=s,this._convert=r}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var pP,gP;(gP=pP||(pP={}))[gP.Line=1]="Line",gP[gP.Block=2]="Block",gP[gP.Underline=3]="Underline",gP[gP.LineThin=4]="LineThin",gP[gP.BlockOutline=5]="BlockOutline",gP[gP.UnderlineThin=6]="UnderlineThin";class fP extends nP{constructor(){super(41,"fontLigatures",fP.OFF,{anyOf:[{type:"boolean",description:JI(0,"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:JI(0,"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:JI(0,"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?fP.OFF:"true"===e?fP.ON:e:Boolean(e)?fP.ON:fP.OFF}}fP.OFF='"liga" off, "calt" off',fP.ON='"liga" on, "calt" on';class mP extends nP{constructor(){super(43,"fontWeight",yP.fontWeight,{anyOf:[{type:"number",minimum:mP.MINIMUM_VALUE,maximum:mP.MAXIMUM_VALUE,errorMessage:JI(0,'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:mP.SUGGESTION_VALUES}],default:yP.fontWeight,description:JI(0,'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(aP.clampedInt(e,yP.fontWeight,mP.MINIMUM_VALUE,mP.MAXIMUM_VALUE))}}mP.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],mP.MINIMUM_VALUE=1,mP.MAXIMUM_VALUE=1e3;class _P extends iP{constructor(){super(127,[46,54,35,61,89,56,57,91,114,117,118,119,2])}compute(e,t,n){return _P.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,n=e.scrollBeyondLastLine?t-1:0,i=(e.viewLineCount+n)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:n,desiredRatio:i,minimapLineCount:Math.floor(e.viewLineCount/i)}}static _computeMinimapLayout(e,t){const n=e.outerWidth,i=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*i),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:i};const r=t.stableMinimapLayoutInput,o=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=s>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const u=e.minimap.maxColumn,p=e.minimap.size,g=e.minimap.side,f=e.verticalScrollbarWidth,m=e.viewLineCount,_=e.remainingWidth,v=e.isViewportWrapping,b=d?2:3;let y=Math.floor(s*i);const w=y/s;let C=!1,S=!1,x=b*h,k=h/s,E=1;if("fill"===p||"fit"===p){const{typicalViewportLineCount:n,extraLinesBeyondLastLine:r,desiredRatio:l,minimapLineCount:d}=_P.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:c,height:i,lineHeight:a,pixelRatio:s});if(m/d>1)C=!0,S=!0,h=1,x=1,k=h/s;else{let i=!1,c=h+1;if("fit"===p){const n=Math.ceil((m+r)*x);v&&o&&_<=t.stableFitRemainingWidth?(i=!0,c=t.stableFitMaxMinimapScale):(i=n>y,v&&i?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=_):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0))}if("fill"===p||i){C=!0;const e=h;x=Math.min(a*s,Math.max(1,Math.floor(1/l))),h=Math.min(c,Math.max(1,Math.floor(x/b))),h>e&&(E=Math.min(2,h/e)),k=h/s/E,y=Math.ceil(Math.max(n,m+r)*x),v&&i&&(t.stableFitMaxMinimapScale=h)}}}const D=Math.floor(u*k),T=Math.min(D,Math.max(0,Math.floor((_-f-2)*k/(l+k)))+8);let L=Math.floor(s*T);const N=L/s;L=Math.floor(L*E);return{renderMinimap:d?1:2,minimapLeft:"left"===g?0:n-T-f,minimapWidth:T,minimapHeightIsEditorHeight:C,minimapIsSampling:S,minimapScale:h,minimapLineHeight:x,minimapCanvasInnerWidth:L,minimapCanvasInnerHeight:y,minimapCanvasOuterWidth:N,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const n=0|t.outerWidth,i=0|t.outerHeight,s=0|t.lineHeight,r=0|t.lineNumbersDigitCount,o=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,c=t.viewLineCount,d=e.get(119),h="inherit"===d?e.get(118):d,u="inherit"===h?e.get(114):h,p=e.get(117),g=e.get(2),f=t.isDominatedByLongLines,m=e.get(46),_=0!==e.get(56).renderType,v=e.get(57),b=e.get(91),y=e.get(61),w=e.get(89),C=w.verticalScrollbarSize,S=w.verticalHasArrows,x=w.arrowSize,k=w.horizontalScrollbarSize,E=e.get(54),D=e.get(35);let T;if("string"==typeof E&&/^\d+(\.\d+)?ch$/.test(E)){const e=parseFloat(E.substr(0,E.length-2));T=aP.clampedInt(e*o,0,0,1e3)}else T=aP.clampedInt(E,0,0,1e3);D&&(T+=16);let L=0;if(_){const e=Math.max(r,v);L=Math.round(e*a)}let N=0;m&&(N=s);let I=0,P=I+N,O=P+L,R=O+T;const A=n-N-L-T;let M=!1,F=!1,B=-1;2!==g&&("inherit"===h&&f?(M=!0,F=!0):"on"===u||"bounded"===u?F=!0:"wordWrapColumn"===u&&(B=p));const V=_P._computeMinimapLayout({outerWidth:n,outerHeight:i,lineHeight:s,typicalHalfwidthCharacterWidth:o,pixelRatio:l,scrollBeyondLastLine:b,minimap:y,verticalScrollbarWidth:C,viewLineCount:c,remainingWidth:A,isViewportWrapping:F},t.memory||new tP);0!==V.renderMinimap&&0===V.minimapLeft&&(I+=V.minimapWidth,P+=V.minimapWidth,O+=V.minimapWidth,R+=V.minimapWidth);const W=A-V.minimapWidth,H=Math.max(1,Math.floor((W-C-2)/o)),U=S?x:0;return F&&(B=Math.max(1,H),"bounded"===u&&(B=Math.min(B,p))),{width:n,height:i,glyphMarginLeft:I,glyphMarginWidth:N,lineNumbersLeft:P,lineNumbersWidth:L,decorationsLeft:O,decorationsWidth:T,contentLeft:R,contentWidth:W,minimap:V,viewportColumn:H,isWordWrapMinified:M,isViewportWrapping:F,wrappingColumn:B,verticalScrollbarWidth:C,horizontalScrollbarHeight:k,overviewRuler:{top:U,width:C,height:i-2*U,right:0}}}}function vP(e){const t=e.get(84);return"editable"===t?e.get(77):"on"!==t}function bP(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const yP={fontFamily:S?"Menlo, Monaco, 'Courier New', monospace":w?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:S?12:14,lineHeight:0,letterSpacing:0},wP=4,CP=4,SP=!0,xP=!0,kP=!0,EP=!0,DP=[];function TP(e){return DP[e.id]=e,e}const LP={acceptSuggestionOnCommitCharacter:TP(new oP(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:JI(0,"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:TP(new hP(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",JI(0,"Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:JI(0,"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:TP(new class extends nP{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[JI(0,"The editor will use platform APIs to detect when a Screen Reader is attached."),JI(0,"The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),JI(0,"The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:JI(0,"Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,n){return 0===n?e.accessibilitySupport:n}}),accessibilityPageSize:TP(new aP(3,"accessibilityPageSize",10,1,1073741824,{description:JI(0,"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:TP(new cP(4,"ariaLabel",JI(0,"Editor content"))),autoClosingBrackets:TP(new hP(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",JI(0,"Use language configurations to determine when to autoclose brackets."),JI(0,"Autoclose brackets only when the cursor is to the left of whitespace."),""],description:JI(0,"Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:TP(new hP(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",JI(0,"Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:JI(0,"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:TP(new hP(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",JI(0,"Type over closing quotes or brackets only if they were automatically inserted."),""],description:JI(0,"Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:TP(new hP(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",JI(0,"Use language configurations to determine when to autoclose quotes."),JI(0,"Autoclose quotes only when the cursor is to the left of whitespace."),""],description:JI(0,"Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:TP(new uP(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[JI(0,"The editor will not insert indentation automatically."),JI(0,"The editor will keep the current line's indentation."),JI(0,"The editor will keep the current line's indentation and honor language defined brackets."),JI(0,"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),JI(0,"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:JI(0,"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:TP(new oP(10,"automaticLayout",!1)),autoSurround:TP(new hP(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[JI(0,"Use language configurations to determine when to automatically surround selections."),JI(0,"Surround with quotes but not brackets."),JI(0,"Surround with brackets but not quotes."),""],description:JI(0,"Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),stickyTabStops:TP(new oP(101,"stickyTabStops",!1,{description:JI(0,"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:TP(new oP(12,"codeLens",!0,{description:JI(0,"Controls whether the editor shows CodeLens.")})),codeLensFontFamily:TP(new cP(13,"codeLensFontFamily","",{description:JI(0,"Controls the font family for CodeLens.")})),codeLensFontSize:TP(new aP(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:JI(0,"Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:TP(new oP(15,"colorDecorators",!0,{description:JI(0,"Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:TP(new oP(16,"columnSelection",!1,{description:JI(0,"Enable that the selection with the mouse and keys is doing column selection.")})),comments:TP(new class extends nP{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:JI(0,"Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:JI(0,"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:rP(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:rP(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:TP(new oP(18,"contextmenu",!0)),copyWithSyntaxHighlighting:TP(new oP(19,"copyWithSyntaxHighlighting",!0,{description:JI(0,"Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:TP(new uP(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:JI(0,"Control the cursor animation style.")})),cursorSmoothCaretAnimation:TP(new oP(21,"cursorSmoothCaretAnimation",!1,{description:JI(0,"Controls whether the smooth caret animation should be enabled.")})),cursorStyle:TP(new uP(22,"cursorStyle",pP.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return pP.Line;case"block":return pP.Block;case"underline":return pP.Underline;case"line-thin":return pP.LineThin;case"block-outline":return pP.BlockOutline;case"underline-thin":return pP.UnderlineThin}}),{description:JI(0,"Controls the cursor style.")})),cursorSurroundingLines:TP(new aP(23,"cursorSurroundingLines",0,0,1073741824,{description:JI(0,"Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:TP(new hP(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[JI(0,"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),JI(0,"`cursorSurroundingLines` is enforced always.")],description:JI(0,"Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:TP(new aP(25,"cursorWidth",0,0,1073741824,{markdownDescription:JI(0,"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:TP(new oP(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:TP(new oP(27,"disableMonospaceOptimizations",!1)),domReadOnly:TP(new oP(28,"domReadOnly",!1)),dragAndDrop:TP(new oP(29,"dragAndDrop",!0,{description:JI(0,"Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:TP(new class extends oP{constructor(){super(30,"emptySelectionClipboard",!0,{description:JI(0,"Controls whether copying without a selection copies the current line.")})}compute(e,t,n){return n&&e.emptySelectionClipboard}}),extraEditorClassName:TP(new cP(31,"extraEditorClassName","")),fastScrollSensitivity:TP(new lP(32,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:JI(0,"Scrolling speed multiplier when pressing `Alt`.")})),find:TP(new class extends nP{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:JI(0,"Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:e.seedSearchStringFromSelection,description:JI(0,"Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[JI(0,"Never turn on Find in selection automatically (default)."),JI(0,"Always turn on Find in selection automatically."),JI(0,"Turn on Find in selection automatically when multiple lines of content are selected.")],description:JI(0,"Controls the condition for turning on find in selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:JI(0,"Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:S},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:JI(0,"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:JI(0,"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:rP(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:rP(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":dP(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:rP(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:rP(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:rP(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:TP(new oP(34,"fixedOverflowWidgets",!1)),folding:TP(new oP(35,"folding",!0,{description:JI(0,"Controls whether the editor has code folding enabled.")})),foldingStrategy:TP(new hP(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[JI(0,"Use a language-specific folding strategy if available, else the indentation-based one."),JI(0,"Use the indentation-based folding strategy.")],description:JI(0,"Controls the strategy for computing folding ranges.")})),foldingHighlight:TP(new oP(37,"foldingHighlight",!0,{description:JI(0,"Controls whether the editor should highlight folded ranges.")})),unfoldOnClickAfterEndOfLine:TP(new oP(38,"unfoldOnClickAfterEndOfLine",!1,{description:JI(0,"Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:TP(new cP(39,"fontFamily",yP.fontFamily,{description:JI(0,"Controls the font family.")})),fontInfo:TP(new class extends iP{constructor(){super(40)}compute(e,t,n){return e.fontInfo}}),fontLigatures2:TP(new fP),fontSize:TP(new class extends sP{constructor(){super(42,"fontSize",yP.fontSize,{type:"number",minimum:6,maximum:100,default:yP.fontSize,description:JI(0,"Controls the font size in pixels.")})}validate(e){let t=lP.float(e,this.defaultValue);return 0===t?yP.fontSize:lP.clamp(t,6,100)}compute(e,t,n){return e.fontInfo.fontSize}}),fontWeight:TP(new mP),formatOnPaste:TP(new oP(44,"formatOnPaste",!1,{description:JI(0,"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:TP(new oP(45,"formatOnType",!1,{description:JI(0,"Controls whether the editor should automatically format the line after typing.")})),glyphMargin:TP(new oP(46,"glyphMargin",!0,{description:JI(0,"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:TP(new class extends nP{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[JI(0,"Show peek view of the results (default)"),JI(0,"Go to the primary result and show a peek view"),JI(0,"Go to the primary result and enable peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:JI(0,"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:JI(0,"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:JI(0,"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:JI(0,"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:JI(0,"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:JI(0,"Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:JI(0,"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:JI(0,"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:JI(0,"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:JI(0,"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:JI(0,"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,n,i,s,r;if(!e||"object"!=typeof e)return this.defaultValue;const o=e;return{multiple:dP(o.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=o.multipleDefinitions)&&void 0!==t?t:dP(o.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(n=o.multipleTypeDefinitions)&&void 0!==n?n:dP(o.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(i=o.multipleDeclarations)&&void 0!==i?i:dP(o.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(s=o.multipleImplementations)&&void 0!==s?s:dP(o.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(r=o.multipleReferences)&&void 0!==r?r:dP(o.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:cP.string(o.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:cP.string(o.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:cP.string(o.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:cP.string(o.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:cP.string(o.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:TP(new oP(48,"hideCursorInOverviewRuler",!1,{description:JI(0,"Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:TP(new oP(49,"highlightActiveIndentGuide",!0,{description:JI(0,"Controls whether the editor should highlight the active indent guide.")})),hover:TP(new class extends nP{constructor(){const e={enabled:!0,delay:300,sticky:!0};super(50,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:JI(0,"Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:JI(0,"Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:JI(0,"Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:rP(t.enabled,this.defaultValue.enabled),delay:aP.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:rP(t.sticky,this.defaultValue.sticky)}}}),inDiffEditor:TP(new oP(51,"inDiffEditor",!1)),letterSpacing:TP(new lP(52,"letterSpacing",yP.letterSpacing,(e=>lP.clamp(e,-5,20)),{description:JI(0,"Controls the letter spacing in pixels.")})),lightbulb:TP(new class extends nP{constructor(){const e={enabled:!0};super(53,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:JI(0,"Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:rP(e.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:TP(new sP(54,"lineDecorationsWidth",10)),lineHeight:TP(new class extends aP{constructor(){super(55,"lineHeight",yP.lineHeight,0,150,{description:JI(0,"Controls the line height. Use 0 to compute the line height from the font size.")})}compute(e,t,n){return e.fontInfo.lineHeight}}),lineNumbers:TP(new class extends nP{constructor(){super(56,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[JI(0,"Line numbers are not rendered."),JI(0,"Line numbers are rendered as absolute number."),JI(0,"Line numbers are rendered as distance in lines to cursor position."),JI(0,"Line numbers are rendered every 10 lines.")],default:"on",description:JI(0,"Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,n=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:n}}}),lineNumbersMinChars:TP(new aP(57,"lineNumbersMinChars",5,1,300)),linkedEditing:TP(new oP(58,"linkedEditing",!1,{description:JI(0,"Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:TP(new oP(59,"links",!0,{description:JI(0,"Controls whether the editor should detect links and make them clickable.")})),matchBrackets:TP(new hP(60,"matchBrackets","always",["always","near","never"],{description:JI(0,"Highlight matching brackets.")})),minimap:TP(new class extends nP{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(61,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:JI(0,"Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[JI(0,"The minimap has the same size as the editor contents (and might scroll)."),JI(0,"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),JI(0,"The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:JI(0,"Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:JI(0,"Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:JI(0,"Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:JI(0,"Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:JI(0,"Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:JI(0,"Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:rP(t.enabled,this.defaultValue.enabled),size:dP(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:dP(t.side,this.defaultValue.side,["right","left"]),showSlider:dP(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:rP(t.renderCharacters,this.defaultValue.renderCharacters),scale:aP.clampedInt(t.scale,1,1,3),maxColumn:aP.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:TP(new hP(62,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:TP(new lP(63,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:JI(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:TP(new oP(64,"mouseWheelZoom",!1,{markdownDescription:JI(0,"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:TP(new oP(65,"multiCursorMergeOverlapping",!0,{description:JI(0,"Merge multiple cursors when they are overlapping.")})),multiCursorModifier:TP(new uP(66,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?S?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[JI(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),JI(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:JI(0,"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:TP(new hP(67,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[JI(0,"Each cursor pastes a single line of the text."),JI(0,"Each cursor pastes the full text.")],markdownDescription:JI(0,"Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:TP(new oP(68,"occurrencesHighlight",!0,{description:JI(0,"Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:TP(new oP(69,"overviewRulerBorder",!0,{description:JI(0,"Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:TP(new aP(70,"overviewRulerLanes",3,0,3)),padding:TP(new class extends nP{constructor(){super(71,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:JI(0,"Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:JI(0,"Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:aP.clampedInt(t.top,0,0,1e3),bottom:aP.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:TP(new class extends nP{constructor(){const e={enabled:!0,cycle:!1};super(72,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:JI(0,"Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:JI(0,"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:rP(t.enabled,this.defaultValue.enabled),cycle:rP(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:TP(new hP(73,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[JI(0,"Focus the tree when opening peek"),JI(0,"Focus the editor when opening peek")],description:JI(0,"Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:TP(new oP(74,"definitionLinkOpensInPeek",!1,{description:JI(0,"Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:TP(new class extends nP{constructor(){const e={other:!0,comments:!1,strings:!1};super(75,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:JI(0,"Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:JI(0,"Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:JI(0,"Enable quick suggestions outside of strings and comments.")}}}],default:e,description:JI(0,"Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,n={other:rP(t.other,this.defaultValue.other),comments:rP(t.comments,this.defaultValue.comments),strings:rP(t.strings,this.defaultValue.strings)};return!!(n.other&&n.comments&&n.strings)||!!(n.other||n.comments||n.strings)&&n}return this.defaultValue}}),quickSuggestionsDelay:TP(new aP(76,"quickSuggestionsDelay",10,0,1073741824,{description:JI(0,"Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:TP(new oP(77,"readOnly",!1)),renameOnType:TP(new oP(78,"renameOnType",!1,{description:JI(0,"Controls whether the editor auto renames on type."),markdownDeprecationMessage:JI(0,"Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:TP(new oP(79,"renderControlCharacters",!1,{description:JI(0,"Controls whether the editor should render control characters.")})),renderIndentGuides:TP(new oP(80,"renderIndentGuides",!0,{description:JI(0,"Controls whether the editor should render indent guides.")})),renderFinalNewline:TP(new oP(81,"renderFinalNewline",!0,{description:JI(0,"Render last line number when the file ends with a newline.")})),renderLineHighlight:TP(new hP(82,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",JI(0,"Highlights both the gutter and the current line.")],description:JI(0,"Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:TP(new oP(83,"renderLineHighlightOnlyWhenFocus",!1,{description:JI(0,"Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:TP(new hP(84,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:TP(new hP(85,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",JI(0,"Render whitespace characters except for single spaces between words."),JI(0,"Render whitespace characters only on selected text."),JI(0,"Render only trailing whitespace characters."),""],description:JI(0,"Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:TP(new aP(86,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:TP(new oP(87,"roundedSelection",!0,{description:JI(0,"Controls whether selections should have rounded corners.")})),rulers:TP(new class extends nP{constructor(){const e=[],t={type:"number",description:JI(0,"Number of monospace characters at which this editor ruler will render.")};super(88,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:JI(0,"Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:JI(0,"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let n of e)if("number"==typeof n)t.push({column:aP.clampedInt(n,0,0,1e4),color:null});else if(n&&"object"==typeof n){const e=n;t.push({column:aP.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:TP(new class extends nP{constructor(){super(89,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,n=aP.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),i=aP.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:aP.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:bP(t.vertical,this.defaultValue.vertical),horizontal:bP(t.horizontal,this.defaultValue.horizontal),useShadows:rP(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:rP(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:rP(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:rP(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:rP(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:aP.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:i,verticalSliderSize:aP.clampedInt(t.verticalSliderSize,i,0,1e3),scrollByPage:rP(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:TP(new aP(90,"scrollBeyondLastColumn",5,0,1073741824,{description:JI(0,"Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:TP(new oP(91,"scrollBeyondLastLine",!0,{description:JI(0,"Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:TP(new oP(92,"scrollPredominantAxis",!0,{description:JI(0,"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:TP(new oP(93,"selectionClipboard",!0,{description:JI(0,"Controls whether the Linux primary clipboard should be supported."),included:w})),selectionHighlight:TP(new oP(94,"selectionHighlight",!0,{description:JI(0,"Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:TP(new oP(95,"selectOnLineNumbers",!0)),showFoldingControls:TP(new hP(96,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[JI(0,"Always show the folding controls."),JI(0,"Only show the folding controls when the mouse is over the gutter.")],description:JI(0,"Controls when the folding controls on the gutter are shown.")})),showUnused:TP(new oP(97,"showUnused",!0,{description:JI(0,"Controls fading out of unused code.")})),showDeprecated:TP(new oP(122,"showDeprecated",!0,{description:JI(0,"Controls strikethrough deprecated variables.")})),inlineHints:TP(new class extends nP{constructor(){const e={enabled:!0,fontSize:0,fontFamily:yP.fontFamily};super(123,"inlineHints",e,{"editor.inlineHints.enabled":{type:"boolean",default:e.enabled,description:JI(0,"Enables the inline hints in the editor.")},"editor.inlineHints.fontSize":{type:"number",default:e.fontSize,description:JI(0,"Controls font size of inline hints in the editor. When set to `0`, the 90% of `#editor.fontSize#` is used.")},"editor.inlineHints.fontFamily":{type:"string",default:e.fontFamily,description:JI(0,"Controls font family of inline hints in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:rP(t.enabled,this.defaultValue.enabled),fontSize:aP.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:cP.string(t.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:TP(new hP(98,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[JI(0,"Show snippet suggestions on top of other suggestions."),JI(0,"Show snippet suggestions below other suggestions."),JI(0,"Show snippets suggestions with other suggestions."),JI(0,"Do not show snippet suggestions.")],description:JI(0,"Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:TP(new class extends nP{constructor(){super(99,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:JI(0,"Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:rP(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:TP(new oP(100,"smoothScrolling",!1,{description:JI(0,"Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:TP(new aP(102,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:TP(new class extends nP{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[JI(0,"Insert suggestion without overwriting text right of the cursor."),JI(0,"Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:JI(0,"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:JI(0,"Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:JI(0,"Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:JI(0,"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:JI(0,"Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:JI(0,"Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:JI(0,"Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:JI(0,"Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:JI(0,"This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:JI(0,"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:JI(0,"When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:dP(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:rP(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:rP(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:rP(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:rP(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:rP(t.showIcons,this.defaultValue.showIcons),showStatusBar:rP(t.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:rP(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:rP(t.showMethods,this.defaultValue.showMethods),showFunctions:rP(t.showFunctions,this.defaultValue.showFunctions),showConstructors:rP(t.showConstructors,this.defaultValue.showConstructors),showFields:rP(t.showFields,this.defaultValue.showFields),showVariables:rP(t.showVariables,this.defaultValue.showVariables),showClasses:rP(t.showClasses,this.defaultValue.showClasses),showStructs:rP(t.showStructs,this.defaultValue.showStructs),showInterfaces:rP(t.showInterfaces,this.defaultValue.showInterfaces),showModules:rP(t.showModules,this.defaultValue.showModules),showProperties:rP(t.showProperties,this.defaultValue.showProperties),showEvents:rP(t.showEvents,this.defaultValue.showEvents),showOperators:rP(t.showOperators,this.defaultValue.showOperators),showUnits:rP(t.showUnits,this.defaultValue.showUnits),showValues:rP(t.showValues,this.defaultValue.showValues),showConstants:rP(t.showConstants,this.defaultValue.showConstants),showEnums:rP(t.showEnums,this.defaultValue.showEnums),showEnumMembers:rP(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:rP(t.showKeywords,this.defaultValue.showKeywords),showWords:rP(t.showWords,this.defaultValue.showWords),showColors:rP(t.showColors,this.defaultValue.showColors),showFiles:rP(t.showFiles,this.defaultValue.showFiles),showReferences:rP(t.showReferences,this.defaultValue.showReferences),showFolders:rP(t.showFolders,this.defaultValue.showFolders),showTypeParameters:rP(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:rP(t.showSnippets,this.defaultValue.showSnippets),showUsers:rP(t.showUsers,this.defaultValue.showUsers),showIssues:rP(t.showIssues,this.defaultValue.showIssues)}}}),suggestFontSize:TP(new aP(104,"suggestFontSize",0,0,1e3,{markdownDescription:JI(0,"Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:TP(new aP(105,"suggestLineHeight",0,0,1e3,{markdownDescription:JI(0,"Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:TP(new oP(106,"suggestOnTriggerCharacters",!0,{description:JI(0,"Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:TP(new hP(107,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[JI(0,"Always select the first suggestion."),JI(0,"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),JI(0,"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:JI(0,"Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:TP(new hP(108,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[JI(0,"Tab complete will insert the best matching suggestion when pressing tab."),JI(0,"Disable tab completions."),JI(0,"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:JI(0,"Enables tab completions.")})),tabIndex:TP(new aP(109,"tabIndex",0,-1,1073741824)),unusualLineTerminators:TP(new hP(110,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[JI(0,"Unusual line terminators are automatically removed."),JI(0,"Unusual line terminators are ignored."),JI(0,"Unusual line terminators prompt to be removed.")],description:JI(0,"Remove unusual line terminators that might cause problems.")})),useShadowDOM:TP(new oP(111,"useShadowDOM",!0)),useTabStops:TP(new oP(112,"useTabStops",!0,{description:JI(0,"Inserting and deleting whitespace follows tab stops.")})),wordSeparators:TP(new cP(113,"wordSeparators",C,{description:JI(0,"Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:TP(new hP(114,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[JI(0,"Lines will never wrap."),JI(0,"Lines will wrap at the viewport width."),JI(0,"Lines will wrap at `#editor.wordWrapColumn#`."),JI(0,"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:JI(0,"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:TP(new cP(115,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;")),wordWrapBreakBeforeCharacters:TP(new cP(116,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:TP(new aP(117,"wordWrapColumn",80,1,1073741824,{markdownDescription:JI(0,"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:TP(new hP(118,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:TP(new hP(119,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:TP(new uP(120,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[JI(0,"No indentation. Wrapped lines begin at column 1."),JI(0,"Wrapped lines get the same indentation as the parent."),JI(0,"Wrapped lines get +1 indentation toward the parent."),JI(0,"Wrapped lines get +2 indentation toward the parent.")],description:JI(0,"Controls the indentation of wrapped lines.")})),wrappingStrategy:TP(new hP(121,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[JI(0,"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),JI(0,"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:JI(0,"Controls the algorithm that computes wrapping points.")})),editorClassName:TP(new class extends iP{constructor(){super(124,[62,31])}compute(e,t,n){const i=["monaco-editor"];return t.get(31)&&i.push(t.get(31)),e.extraEditorClassName&&i.push(e.extraEditorClassName),"default"===t.get(62)?i.push("mouse-default"):"copy"===t.get(62)&&i.push("mouse-copy"),t.get(97)&&i.push("showUnused"),t.get(122)&&i.push("showDeprecated"),i.join(" ")}}),pixelRatio:TP(new class extends iP{constructor(){super(125)}compute(e,t,n){return e.pixelRatio}}),tabFocusMode:TP(new class extends iP{constructor(){super(126,[77])}compute(e,t,n){return!!t.get(77)||e.tabFocusMode}}),layoutInfo:TP(new _P),wrappingInfo:TP(new class extends iP{constructor(){super(128,[127])}compute(e,t,n){const i=t.get(127);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:i.isWordWrapMinified,isViewportWrapping:i.isViewportWrapping,wrappingColumn:i.wrappingColumn}}})};var NP,IP;(IP=NP||(NP={})).serviceIds=new Map,IP.DI_TARGET="$di$target",IP.DI_DEPENDENCIES="$di$dependencies",IP.getServiceDependencies=function(e){return e[IP.DI_DEPENDENCIES]||[]};const PP=RP("instantiationService");function OP(e,t,n,i){t[NP.DI_TARGET]===t?t[NP.DI_DEPENDENCIES].push({id:e,index:n,optional:i}):(t[NP.DI_DEPENDENCIES]=[{id:e,index:n,optional:i}],t[NP.DI_TARGET]=t)}function RP(e){if(NP.serviceIds.has(e))return NP.serviceIds.get(e);const t=function(e,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");OP(t,e,i,!1)};return t.toString=()=>e,NP.serviceIds.set(e,t),t}function AP(e){return function(t,n,i){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");OP(e,t,i,!0)}}const MP=RP("codeEditorService");class FP{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new x,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function BP(){return FP.INSTANCE.getZoomLevel()}function VP(e){return FP.INSTANCE.onDidChangeZoomLevel(e)}function WP(){return FP.INSTANCE.getPixelRatio()}FP.INSTANCE=new FP;const HP=navigator.userAgent,UP=HP.indexOf("Firefox")>=0,zP=HP.indexOf("AppleWebKit")>=0,jP=HP.indexOf("Chrome")>=0,$P=!jP&&HP.indexOf("Safari")>=0,KP=!jP&&!$P&&zP,qP=HP.indexOf("iPad")>=0||$P&&navigator.maxTouchPoints>0,GP=HP.indexOf("Android")>=0,YP=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,ZP=(e,t,n)=>{const i=e=>s.fire(e),s=new x({onFirstListenerAdd:()=>{e.addEventListener(t,i,n)},onLastListenerRemove:()=>{e.removeEventListener(t,i,n)}});return s.event};function XP(e){return e.preventDefault(),e.stopPropagation(),e}function JP(e){return k.map(e,XP)}let QP=new Array(230),eO=new Array(112);!function(){for(let t=0;t<eO.length;t++)eO[t]=-1;function e(e,t){QP[e]=t,eO[t]=e}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),UP?(e(59,80),e(107,81),e(109,83),S&&e(224,57)):zP&&(e(91,57),e(S?93:92,57))}();const tO=S?256:2048,nO=S?2048:256;class iO{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return D.fromString(t)}return QP[e.keyCode]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=tO),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=nO),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new E(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let sO=!1,rO=null;function oO(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,n=e.parent.location;if("null"!==t.origin&&"null"!==n.origin&&(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port))return sO=!0,null}catch(t){return sO=!0,null}return e.parent}class aO{static getSameOriginWindowChain(){if(!rO){rO=[];let e,t=window;do{e=oO(t),e?rO.push({window:t,iframeElement:t.frameElement||null}):rO.push({window:t,iframeElement:null}),t=e}while(t)}return rO.slice(0)}static hasDifferentOriginAncestor(){return rO||this.getSameOriginWindowChain(),sO}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,i=0,s=this.getSameOriginWindowChain();for(const r of s){if(n+=r.window.scrollY,i+=r.window.scrollX,r.window===t)break;if(!r.iframeElement)break;let e=r.iframeElement.getBoundingClientRect();n+=e.top,i+=e.left}return{top:n,left:i}}}class lO{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=aO.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class cO{constructor(e,t=0,n=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t,e){let t=e,n=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==n.VERTICAL_AXIS&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=UP&&!S?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)this.deltaX=$P&&T?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if(void 0!==n.HORIZONTAL_AXIS&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=UP&&!S?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}var dO=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function hO(e){const t=new L,n=e(t.token),i=new Promise(((e,i)=>{t.token.onCancellationRequested((()=>{i(N())})),Promise.resolve(n).then((n=>{t.dispose(),e(n)}),(e=>{t.dispose(),i(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return i.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return i.finally(e)}}}function uO(e,t,n){return Promise.race([e,new Promise((e=>t.onCancellationRequested((()=>e(n)))))])}class pO{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}}class gO{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}}))),this.timeout=setTimeout((()=>{this.timeout=null,this.doResolve&&this.doResolve(null)}),t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(N()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}class fO{constructor(e){this.delayer=new gO(e),this.throttler=new pO}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}function mO(e,t){return t?new Promise(((n,i)=>{const s=setTimeout(n,e);t.onCancellationRequested((()=>{clearTimeout(s),i(N())}))})):hO((t=>mO(e,t)))}function _O(e,t=0){const n=setTimeout(e,t);return I((()=>clearTimeout(n)))}function vO(e,t=(e=>!!e),n=null){let i=0;const s=e.length,r=()=>{if(i>=s)return Promise.resolve(n);const o=e[i++];return Promise.resolve(o()).then((e=>t(e)?Promise.resolve(e):r()))};return r()}class bO{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class yO{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class wO{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let CO;!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){const e=Object.freeze({didTimeout:!0,timeRemaining:()=>15});CO=t=>{const n=setTimeout((()=>t(e)));let i=!1;return{dispose(){i||(i=!0,clearTimeout(n))}}}}else CO=(e,t)=>{const n=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(n))}}}}();class SO{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=CO((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}var xO,kO,EO,DO;(kO=xO||(xO={})).allSettled=function(e){return dO(this,void 0,void 0,(function*(){return"function"==typeof Promise.allSettled?function(e){return dO(this,void 0,void 0,(function*(){return Promise.allSettled(e)}))}(e):function(e){return dO(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>e.then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))}))}(e)}))},kO.settled=function(e){return dO(this,void 0,void 0,(function*(){let t;const n=yield Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if(void 0!==t)throw t;return n}))},(DO=EO||(EO={})).inMemory="inmemory",DO.vscode="vscode",DO.internal="private",DO.walkThrough="walkThrough",DO.walkThroughSnippet="walkThroughSnippet",DO.http="http",DO.https="https",DO.file="file",DO.mailto="mailto",DO.untitled="untitled",DO.data="data",DO.command="command",DO.vscodeRemote="vscode-remote",DO.vscodeRemoteResource="vscode-remote-resource",DO.userData="vscode-userdata",DO.vscodeCustomEditor="vscode-custom-editor",DO.vscodeNotebook="vscode-notebook",DO.vscodeNotebookCell="vscode-notebook-cell",DO.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",DO.vscodeSettings="vscode-settings",DO.vscodeWorkspaceTrust="vscode-workspace-trust",DO.vscodeTerminal="vscode-terminal",DO.webviewPanel="webview-panel",DO.vscodeWebview="vscode-webview",DO.extension="extension",DO.vscodeFileResource="vscode-file",DO.tmp="tmp";const TO=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let n=this._hosts[t];n&&-1!==n.indexOf(":")&&(n=`[${n}]`);const i=this._ports[t],s=this._connectionTokens[t];let r=`path=${encodeURIComponent(e.path)}`;return"string"==typeof s&&(r+=`&tkn=${encodeURIComponent(s)}`),P.from({scheme:O?this._preferredWebSchema:EO.vscodeRemoteResource,authority:`${n}:${i}`,path:"/vscode-remote-resource",query:r})}};const LO=new class{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(e,t,n){const i=this.toUri(e,t);return i.scheme===EO.vscodeRemote?TO.rewrite(i):R&&(n||A)&&i.scheme===EO.file?i.with({scheme:EO.vscodeFileResource,authority:i.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return P.isUri(e)?e:P.parse(t.toUrl(e))}},NO=(R||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText,R||navigator&&navigator.clipboard&&navigator.clipboard.readText,R||YP||navigator.keyboard,"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints,window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0));function IO(e){for(;e.firstChild;)e.firstChild.remove()}function PO(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class OO{constructor(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function RO(e,t,n,i){return new OO(e,t,n,i)}function AO(e){return function(t){return e(new lO(t))}}let MO=function(e,t,n,i){let s=n;return"click"===t||"mousedown"===t?s=AO(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(s=function(e){return function(t){return e(new iO(t))}}(n)),RO(e,t,s,i)};function FO(e,t,n){return RO(e,M&&NO?_R.POINTER_DOWN:_R.MOUSE_DOWN,t,n)}function BO(e,t,n){return RO(e,M&&NO?_R.POINTER_UP:_R.MOUSE_UP,t,n)}function VO(e,t){return RO(e,"mouseout",(n=>{let i=n.relatedTarget;for(;i&&i!==e;)i=i.parentNode;i!==e&&t(n)}))}let WO,HO,UO=null;class zO{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){V(e)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,n=!1,i=!1,s=()=>{for(n=!1,t=e,e=[],i=!0;t.length>0;){t.sort(zO.sort),t.shift().execute()}i=!1};HO=(t,i=0)=>{let r=new zO(t,i);return e.push(r),n||(n=!0,function(e){if(!UO){const e=e=>setTimeout((()=>e((new Date).getTime())),0);UO=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}UO.call(self,e)}(s)),r},WO=(e,n)=>{if(i){let i=new zO(e,n);return t.push(i),i}return HO(e,n)}}();const jO=function(e,t){return t};class $O extends F{constructor(e,t,n,i=jO,s=8){super();let r=null,o=0,a=this._register(new bO),l=()=>{o=(new Date).getTime(),n(r),r=null};this._register(RO(e,t,(e=>{r=i(r,e);let t=(new Date).getTime()-o;t>=s?(a.cancel(),l()):a.setIfNotSet(l,s-t)})))}}function KO(e,t,n,i,s){return new $O(e,t,n,i,s)}function qO(e){return document.defaultView.getComputedStyle(e,null)}function GO(e){if(e!==document.body)return new ZO(e.clientWidth,e.clientHeight);if(M&&window.visualViewport){const e=window.visualViewport.width,t=window.visualViewport.height-(YP?24:0);return new ZO(e,t)}if(window.innerWidth&&window.innerHeight)return new ZO(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ZO(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ZO(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class YO{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,n){let i=qO(e),s="0";return i&&(s=i.getPropertyValue?i.getPropertyValue(t):i.getAttribute(n)),YO.convertToPixels(e,s)}static getBorderLeftWidth(e){return YO.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return YO.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return YO.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return YO.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return YO.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return YO.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return YO.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return YO.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return YO.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return YO.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return YO.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return YO.getDimension(e,"margin-bottom","marginBottom")}}class ZO{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new ZO(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof ZO?e:new ZO(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function XO(e){let t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;const s=aR(e)?null:qO(e);s&&(i-="rtl"!==s.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=YO.getBorderLeftWidth(e),n+=YO.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}function JO(e){let t=e.getBoundingClientRect();return{left:t.left+QO.scrollX,top:t.top+QO.scrollY,width:t.width,height:t.height}}const QO=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function eR(e){let t=YO.getMarginLeft(e)+YO.getMarginRight(e);return e.offsetWidth+t}function tR(e){let t=YO.getBorderLeftWidth(e)+YO.getBorderRightWidth(e),n=YO.getPaddingLeft(e)+YO.getPaddingRight(e);return e.offsetWidth-t-n}function nR(e){let t=YO.getBorderTopWidth(e)+YO.getBorderBottomWidth(e),n=YO.getPaddingTop(e)+YO.getPaddingBottom(e);return e.offsetHeight-t-n}function iR(e){let t=YO.getMarginTop(e)+YO.getMarginBottom(e);return e.offsetHeight+t}function sR(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function rR(e,t,n){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(n)if("string"==typeof n){if(e.classList.contains(n))return null}else if(e===n)return null;e=e.parentNode}return null}function oR(e,t,n){return!!rR(e,t,n)}function aR(e){return e&&!!e.host&&!!e.mode}function lR(e){return!!cR(e)}function cR(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return aR(e)?e:null}function dR(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hR(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let uR=null;function pR(){return uR||(uR=hR()),uR}function gR(e,t,n=pR()){n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function fR(e,t=pR()){if(!t)return;let n=function(e){var t,n;return(null===(t=null==e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(n=null==e?void 0:e.sheet)||void 0===n?void 0:n.cssRules)?e.sheet.cssRules:[]}(t),i=[];for(let s=0;s<n.length;s++){-1!==n[s].selectorText.indexOf(e)&&i.push(s)}for(let s=i.length-1;s>=0;s--)t.sheet.deleteRule(i[s])}function mR(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const _R={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:zP?"webkitAnimationStart":"animationstart",ANIMATION_END:zP?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:zP?"webkitAnimationIteration":"animationiteration"},vR=function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};class bR extends F{constructor(e){super(),this._onDidFocus=this._register(new x),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new x),this.onDidBlur=this._onDidBlur.event;let t=sR(document.activeElement,e),n=!1;const i=()=>{n=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(n=!0,window.setTimeout((()=>{n&&(n=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{sR(document.activeElement,e)!==t&&(t?s():i())},this._register(ZP(e,_R.FOCUS,!0)(i)),this._register(ZP(e,_R.BLUR,!0)(s))}}function yR(e){return new bR(e)}function wR(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function CR(e,...t){e.innerText="",wR(e,...t)}const SR=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var xR,kR,ER,DR;function TR(e,t,n,...i){let s=SR.exec(t);if(!s)throw new Error("Bad use of emmet");n=Object.assign({},n||{});let r,o=s[1]||"div";return r=e!==xR.HTML?document.createElementNS(e,o):document.createElement(o),s[3]&&(r.id=s[3]),s[4]&&(r.className=s[4].replace(/\./g," ").trim()),Object.keys(n).forEach((e=>{const t=n[e];void 0!==t&&(/^on\w+$/.test(e)?r[e]=t:"selected"===e?t&&r.setAttribute(e,"true"):r.setAttribute(e,t))})),r.append(...i),r}function LR(e,t,...n){return TR(xR.HTML,e,t,...n)}function NR(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function IR(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function PR(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function OR(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function RR(e){window.open(e,"_blank","noopener")}function AR(e){return e?`url('${LO.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function MR(e){return`'${e.replace(/'/g,"%27")}'`}(kR=xR||(xR={})).HTML="http://www.w3.org/1999/xhtml",kR.SVG="http://www.w3.org/2000/svg",LR.SVG=function(e,t,...n){return TR(xR.SVG,e,t,...n)},TO.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class FR extends x{constructor(){super(),this._subscriptions=new B,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(ZP(window,"keydown",!0)((e=>{const t=new iO(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}))),this._subscriptions.add(ZP(window,"keyup",!0)((e=>{!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus))}))),this._subscriptions.add(ZP(document.body,"mousedown",!0)((e=>{this._keyStatus.lastKeyPressed=void 0}))),this._subscriptions.add(ZP(document.body,"mouseup",!0)((e=>{this._keyStatus.lastKeyPressed=void 0}))),this._subscriptions.add(ZP(document.body,"mousemove",!0)((e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}))),this._subscriptions.add(ZP(window,"blur")((e=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return FR.instance||(FR.instance=new FR),FR.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class BR{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class VR{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?W(e,this._value,0,e.length,this._from,this._to):H(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class WR{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?W(e,this._value,0,e.length,this._from,this._to):H(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class HR{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new WR(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return U(e,this._value.scheme);if(2===this._states[this._stateIdx])return U(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return z(e,this._value.query);if(5===this._states[this._stateIdx])return z(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class UR{isEmpty(){return!(this.left||this.mid||this.right||this.value)}}class zR{constructor(e){this._iter=e}static forUris(e=(()=>!1)){return new zR(new HR(e))}static forStrings(){return new zR(new BR)}static forConfigKeys(){return new zR(new VR)}clear(){this._root=void 0}set(e,t){const n=this._iter.reset(e);let i;for(this._root||(this._root=new UR,this._root.segment=n.value()),i=this._root;;){const e=n.cmp(i.segment);if(e>0)i.left||(i.left=new UR,i.left.segment=n.value()),i=i.left;else if(e<0)i.right||(i.right=new UR,i.right.segment=n.value()),i=i.right;else{if(!n.hasNext())break;n.next(),i.mid||(i.mid=new UR,i.mid.segment=n.value()),i=i.mid}}const s=i.value;return i.value=t,i.key=e,s}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const n=this._iter.reset(e),i=[];let s=this._root;for(;s;){const e=n.cmp(s.segment);if(e>0)i.push([1,s]),s=s.left;else if(e<0)i.push([-1,s]),s=s.right;else{if(!n.hasNext()){for(t?(s.left=void 0,s.mid=void 0,s.right=void 0):s.value=void 0;i.length>0&&s.isEmpty();){let[e,t]=i.pop();switch(e){case 1:t.left=void 0;break;case 0:t.mid=void 0;break;case-1:t.right=void 0}s=t}break}n.next(),i.push([0,s]),s=s.mid}}}findSubstr(e){const t=this._iter.reset(e);let n,i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),n=i.value||n,i=i.mid}}return i&&i.value||n}findSuperstr(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())return n.mid?this._entries(n.mid):void 0;t.next(),n=n.mid}}}forEach(e){for(const[t,n]of this)e(n,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}class jR{constructor(e,t){this[ER]="ResourceMap",e instanceof jR?(this.map=new Map(e.map),this.toKey=null!=t?t:jR.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:jR.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),t),this}get(e){return this.map.get(this.toKey(e))}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[n,i]of this.map)e(i,P.parse(n),this)}values(){return this.map.values()}*keys(){for(let e of this.map.keys())yield P.parse(e)}*entries(){for(let e of this.map.entries())yield[P.parse(e[0]),e[1]]}*[(ER=Symbol.toStringTag,Symbol.iterator)](){for(let e of this.map)yield[P.parse(e[0]),e[1]]}}jR.defaultToKey=e=>e.toString();class $R{constructor(){this[DR]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const n=this._map.get(e);if(n)return 0!==t&&this.touch(n,t),n.value}set(e,t,n=0){let i=this._map.get(e);if(i)i.value=t,0!==n&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}values(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}entries(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}[(DR=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}class KR extends $R{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const qR="undefined"!=typeof Buffer,GR="undefined"!=typeof TextDecoder;let YR;class ZR{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return qR&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new ZR(e)}toString(){return qR?this.buffer.toString():GR?(YR||(YR=new TextDecoder),YR.decode(this.buffer)):j(this.buffer)}}function XR(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function JR(e,t,n){e[n+0]=255&t,t>>>=8,e[n+1]=255&t}function QR(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function eA(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}function tA(e,t){return e[t]}function nA(e,t,n){e[n]=t}function iA(e){let t=JSON.parse(e);return t=sA(t),t}function sA(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return P.revive(e);case 2:return new RegExp(e.source,e.flags)}if(e instanceof ZR||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let n=0;n<e.length;++n)e[n]=sA(e[n],t+1);else for(const n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=sA(e[n],t+1))}return e}function rA(e){return!!T&&(((t=e.charCodeAt(0))>=65&&t<=90||t>=97&&t<=122)&&58===e.charCodeAt(1));var t}function oA(e){return Y(e,!0)}const aA=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:z(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return P.joinPath(e,...t)}basenameOrAuthority(e){return dA(e)||e.authority}basename(e){return $.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===EO.file?t=P.file(Z(oA(e))).path:(t=$.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===EO.file?P.file(K(oA(e))).path:$.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===EO.file){const n=P.file(X(oA(e),t));return e.with({authority:n.authority,path:n.path})}return-1===t.indexOf("/")&&(t=t.replace(/[\\/]/g,$.sep),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t)),e.with({path:$.resolve(e.path,t)})}}((()=>!1)),lA=aA.isEqual.bind(aA),cA=aA.basenameOrAuthority.bind(aA),dA=aA.basename.bind(aA),hA=aA.dirname.bind(aA),uA=aA.joinPath.bind(aA),pA=aA.normalizePath.bind(aA),gA=aA.resolvePath.bind(aA);var fA,mA;(mA=fA||(fA={})).META_DATA_LABEL="label",mA.META_DATA_DESCRIPTION="description",mA.META_DATA_SIZE="size",mA.META_DATA_MIME="mime",mA.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[n,i]=e.split(":");n&&i&&t.set(n,i)}));const n=e.path.substring(0,e.path.indexOf(";"));return n&&t.set(mA.META_DATA_MIME,n),t};const _A=RP("commandService"),vA=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new x,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let i of e.description.args)t.push(i.constraint);const n=e.handler;e.handler=function(e,...i){return J(i,t),n(e,...i)}}const{id:n}=e;let i=this._commands.get(n);i||(i=new Q,this._commands.set(n,i));let s=i.unshift(e),r=I((()=>{s();const e=this._commands.get(n);(null==e?void 0:e.isEmpty())&&this._commands.delete(n)}));return this._onDidRegisterCommand.fire(n),r}registerCommandAlias(e,t){return vA.registerCommand(e,((e,...n)=>e.get(_A).executeCommand(t,...n)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return ee.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const n=this.getCommand(t);n&&e.set(t,n)}return e}};var bA,yA;vA.registerCommand("noop",(()=>{})),(yA=bA||(bA={}))[yA.API=0]="API",yA[yA.USER=1]="USER";var wA=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const CA=RP("openerService"),SA=Object.freeze({_serviceBrand:void 0,registerOpener:()=>F.None,registerValidator:()=>F.None,registerExternalUriResolver:()=>F.None,setDefaultExternalOpener(){},registerExternalOpener:()=>F.None,open(){return wA(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return wA(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function xA(e,t){return P.isUri(e)?te(e.scheme,t):G(e,t+":")}var kA=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},EA=function(e,t){return function(n,i){t(n,i,e)}},DA=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let TA=class{constructor(e){this._commandService=e}open(e,t){return DA(this,void 0,void 0,(function*(){if(!xA(e,EO.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=P.parse(e));let n=[];try{n=iA(decodeURIComponent(e.query))}catch(i){try{n=iA(e.query)}catch(s){}}return Array.isArray(n)||(n=[n]),yield this._commandService.executeCommand(e.path,...n),!0}))}};TA=kA([EA(0,_A)],TA);let LA=class{constructor(e){this._editorService=e}open(e,t){return DA(this,void 0,void 0,(function*(){let n;"string"==typeof e&&(e=P.parse(e));const i=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return i&&(n={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1},e=e.with({fragment:""})),e.scheme===EO.file&&(e=pA(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:n,context:(null==t?void 0:t.fromUserGesture)?bA.USER:bA.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};LA=kA([EA(0,MP)],LA);let NA=class{constructor(e,t){this._openers=new Q,this._validators=new Q,this._resolvers=new Q,this._resolvedUriTargets=new jR((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new Q,this._defaultExternalOpener={openExternal:e=>DA(this,void 0,void 0,(function*(){return xA(e,EO.http)||xA(e,EO.https)?RR(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>DA(this,void 0,void 0,(function*(){return!!((null==t?void 0:t.openExternal)||xA(e,EO.mailto)||xA(e,EO.http)||xA(e,EO.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new TA(t)),this._openers.push(new LA(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var n;return DA(this,void 0,void 0,(function*(){const i="string"==typeof e?P.parse(e):e,s=null!==(n=this._resolvedUriTargets.get(i))&&void 0!==n?n:e;for(const e of this._validators)if(!(yield e.shouldOpen(s)))return!1;for(const n of this._openers){if(yield n.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return DA(this,void 0,void 0,(function*(){for(const n of this._resolvers){const i=yield n.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}return{resolved:e,dispose:()=>{}}}))}_doOpenExternal(e,t){return DA(this,void 0,void 0,(function*(){const n="string"==typeof e?P.parse(e):e,{resolved:i}=yield this.resolveExternalUri(n,t);let s;if(s="string"==typeof e&&n.toString()===i.toString()?e:encodeURI(i.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(s,{sourceUri:n,preferredOpenerId:e},ne.None))return!0}}return this._defaultExternalOpener.openExternal(s,{sourceUri:n},ne.None)}))}dispose(){this._validators.clear()}};function IA(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}function PA(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((n=>{e[n]&&"object"==typeof e[n]?t[n]=PA(e[n]):t[n]=e[n]})),t}NA=kA([EA(0,MP),EA(1,_A)],NA);const OA=Object.prototype.hasOwnProperty;function RA(e,t){return AA(e,t,new Set)}function AA(e,t,n){if(se(e))return e;const i=t(e);if(void 0!==i)return i;if(re(e)){const i=[];for(const s of e)i.push(AA(s,t,n));return i}if(ie(e)){if(n.has(e))throw new Error("Cannot clone recursive data-structure");n.add(e);const i={};for(let s in e)OA.call(e,s)&&(i[s]=AA(e[s],t,n));return n.delete(e),i}return e}function MA(e,t,n=!0){return ie(e)?(ie(t)&&Object.keys(t).forEach((i=>{i in e?n&&(ie(e[i])&&ie(t[i])?MA(e[i],t[i],n):e[i]=t[i]):e[i]=t[i]})),e):t}function FA(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!FA(e[n],t[n]))return!1}else{const s=[];for(i in e)s.push(i);s.sort();const r=[];for(i in t)r.push(i);if(r.sort(),!FA(s,r))return!1;for(n=0;n<s.length;n++)if(!FA(e[s[n]],t[s[n]]))return!1}return!0}function BA(e,t,n){const i=t(e);return void 0===i?n:i}const VA={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class WA extends F{constructor(e,t={}){super(),this._onDidUpdate=this._register(new x),this._editor=e,this._options=MA(t,VA,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((e=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach((e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((e=>{this.ranges.push({rhs:!0,range:new oe(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):this.ranges.push({rhs:!0,range:new oe(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})})),this.ranges.sort(((e,t)=>e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,n=this._editor.getPosition();if(n){for(let i=0,s=this.ranges.length;i<s&&!t;i++){let s=this.ranges[i].range;n.isBeforeOrEqual(s.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(IA(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=n.range.getStartPosition();this._editor.setPosition(e),this._editor.revealPositionInCenter(e,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const HA=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new x,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},UA=S?1.5:1.35;class zA{constructor(e){this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,n,i){const s=e.get(39),r=e.get(43),o=e.get(42),a=e.get(41),l=e.get(55),c=e.get(52);return zA._create(s,r,o,a,l,c,t,n,i)}static _create(e,t,n,i,s,r,o,a,l){0===s?s=Math.round(UA*n):s<8&&(s=8);const c=1+(l?0:.1*HA.getZoomLevel());return new zA({zoomLevel:o,pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:n*=c,fontFeatureSettings:i,lineHeight:s*=c,letterSpacing:r})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}class jA extends zA{constructor(e,t){super(e),this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const $A={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var KA,qA,GA,YA;(qA=KA||(KA={}))[qA.Left=1]="Left",qA[qA.Center=2]="Center",qA[qA.Right=4]="Right",qA[qA.Full=7]="Full",(YA=GA||(GA={}))[YA.Inline=1]="Inline",YA[YA.Gutter=2]="Gutter";class ZA{constructor(e){this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class XA{constructor(e,t){this.range=e,this.matches=t}}class JA{constructor(e,t,n,i,s,r){this.identifier=e,this.range=t,this.text=n,this.forceMoveMarkers=i,this.isAutoWhitespaceEdit=s,this._isTracked=r}}class QA{constructor(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}function eM(e,t,n){return Math.min(Math.max(e,t),n)}class tM{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}const nM=/\//g;function iM(e){switch(e){case 0:return"";case 1:return"[^/\\\\]*?";default:return"(?:[/\\\\]|[^/\\\\]+[/\\\\]|[/\\\\][^/\\\\]+)*?"}}function sM(e,t){if(!e)return[];const n=[];let i=!1,s=!1,r="";for(const o of e){switch(o){case t:if(!i&&!s){n.push(r),r="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":s=!0;break;case"]":s=!1}r+=o}return r&&n.push(r),n}function rM(e){if(!e)return"";let t="";const n=sM(e,"/");if(n.every((e=>"**"===e)))t=".*";else{let e=!1;n.forEach(((i,s)=>{if("**"===i)return void(e||(t+=iM(2),e=!0));let r=!1,o="",a=!1,l="";for(const e of i)if("}"!==e&&r)o+=e;else if(!a||"]"===e&&l)switch(e){case"{":r=!0;continue;case"[":a=!0;continue;case"}":const n=`(?:${sM(o,",").map((e=>rM(e))).join("|")})`;t+=n,r=!1,o="";break;case"]":t+="["+l+"]",a=!1,l="";break;case"?":t+="[^/\\\\]";continue;case"*":t+=iM(1);continue;default:t+=de(e)}else{let t;t="-"===e?e:"^"!==e&&"!"!==e||l?"/"===e?"":de(e):"^",l+=t}s<n.length-1&&("**"!==n[s+1]||s+2<n.length)&&(t+="[/\\\\]"),e=!1}))}return t}const oM=/^\*\*\/\*\.[\w\.-]+$/,aM=/^\*\*\/([\w\.-]+)\/?$/,lM=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,cM=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,dM=/^\*\*((\/[\w\.-]+)+)\/?$/,hM=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,uM=new KR(1e4),pM=function(){return!1},gM=function(){return null};function fM(e,t){if(!e)return gM;let n;n="string"!=typeof e?e.pattern:e,n=n.trim();const i=`${n}_${!!t.trimForExclusions}`;let s,r=uM.get(i);if(r)return mM(r,e);if(oM.test(n)){const e=n.substr(4);r=function(t,i){return"string"==typeof t&&t.endsWith(e)?n:null}}else r=(s=aM.exec(_M(n,t)))?function(e,t){const n=`/${e}`,i=`\\${e}`,s=function(s,r){return"string"!=typeof s?null:r?r===e?t:null:s===e||s.endsWith(n)||s.endsWith(i)?t:null},r=[e];return s.basenames=r,s.patterns=[t],s.allBasenames=r,s}(s[1],n):(t.trimForExclusions?cM:lM).test(n)?function(e,t){const n=yM(e.slice(1,-1).split(",").map((e=>fM(e,t))).filter((e=>e!==gM)),e),i=n.length;if(!i)return gM;if(1===i)return n[0];const s=function(t,i){for(let s=0,r=n.length;s<r;s++)if(n[s](t,i))return e;return null},r=n.find((e=>!!e.allBasenames));r&&(s.allBasenames=r.allBasenames);const o=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);o.length&&(s.allPaths=o);return s}(n,t):(s=dM.exec(_M(n,t)))?vM(s[1].substr(1),n,!0):(s=hM.exec(_M(n,t)))?vM(s[1],n,!1):function(e){try{const t=new RegExp(`^${rM(e)}$`);return function(n){return t.lastIndex=0,"string"==typeof n&&t.test(n)?e:null}}catch(t){return gM}}(n);return uM.set(i,r),mM(r,e)}function mM(e,t){return"string"==typeof t?e:function(n,i){return function(e,t,n,i=q){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){if(!G(e,t))return!1;if(t.length===e.length)return!0;let n=t.length;return t.charAt(t.length-1)===i&&n--,e.charAt(n)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}(n,t.base)?e(ae(t.base,n),i):null}}function _M(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function vM(e,t,n){const i=q===$.sep,s=i?e:e.replace(nM,q),r=q+s,o=$.sep+e,a=n?function(n,a){return"string"!=typeof n||n!==s&&!n.endsWith(r)&&(i||n!==e&&!n.endsWith(o))?null:t}:function(n,r){return"string"!=typeof n||n!==s&&(i||n!==e)?null:t};return a.allPaths=[(n?"*/":"./")+e],a}function bM(e,t,n){return!(!e||"string"!=typeof t)&&function(e,t={}){if(!e)return pM;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const n=fM(e,t);if(n===gM)return pM;const i=function(e,t){return!!n(e,t)};return n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i}return function(e,t){const n=yM(Object.getOwnPropertyNames(e).map((n=>function(e,t,n){if(!1===t)return gM;const i=fM(e,n);if(i===gM)return gM;if("boolean"==typeof t)return i;if(t){const n=t.when;if("string"==typeof n){const t=(t,s,r,o)=>{if(!o||!i(t,s))return null;const a=o(n.replace("$(basename)",r));return(l=a)&&"function"==typeof l.then?a.then((t=>t?e:null)):a?e:null;var l};return t.requiresSiblings=!0,t}}return i}(n,e[n],t))).filter((e=>e!==gM))),i=n.length;if(!i)return gM;if(!n.some((e=>!!e.requiresSiblings))){if(1===i)return n[0];const e=function(e,t){for(let i=0,s=n.length;i<s;i++){const s=n[i](e,t);if(s)return s}return null},t=n.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const s=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return s.length&&(e.allPaths=s),e}const s=function(e,t,i){let s;for(let r=0,o=n.length;r<o;r++){const o=n[r];o.requiresSiblings&&i&&(t||(t=le(e)),s||(s=t.substr(0,t.length-ce(e).length)));const a=o(e,t,s,i);if(a)return a}return null},r=n.find((e=>!!e.allBasenames));r&&(s.allBasenames=r.allBasenames);const o=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);o.length&&(s.allPaths=o);return s}(e,t)}(e)(t,void 0,n)}function yM(e,t){const n=e.filter((e=>!!e.basenames));if(n.length<2)return e;const i=n.reduce(((e,t)=>{const n=t.basenames;return n?e.concat(n):e}),[]);let s;if(t){s=[];for(let e=0,n=i.length;e<n;e++)s.push(t)}else s=n.reduce(((e,t)=>{const n=t.patterns;return n?e.concat(n):e}),[]);const r=function(e,t){if("string"!=typeof e)return null;if(!t){let n;for(n=e.length;n>0;n--){const t=e.charCodeAt(n-1);if(47===t||92===t)break}t=e.substr(n)}const n=i.indexOf(t);return-1!==n?s[n]:null};r.basenames=i,r.patterns=s,r.allBasenames=i;const o=e.filter((e=>!e.basenames));return o.push(r),o}function wM(e,t,n,i){if(Array.isArray(e)){let s=0;for(const r of e){const e=wM(r,t,n,i);if(10===e)return e;e>s&&(s=e)}return s}if("string"==typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:s,pattern:r,scheme:o,hasAccessToAllModels:a}=e;if(!i&&!a)return 0;let l=0;if(o)if(o===t.scheme)l=10;else{if("*"!==o)return 0;l=5}if(s)if(s===n)l=10;else{if("*"!==s)return 0;l=Math.max(l,5)}if(r){let e;if(e="string"==typeof r?r:Object.assign(Object.assign({},r),{base:K(r.base)}),e!==t.fsPath&&!bM(e,t.fsPath))return 0;l=10}return l}return 0}const CM=RP("modelService");function SM(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}function xM(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(xM):!!e.exclusive)}class kM{constructor(){this._clock=0,this._entries=[],this._onDidChange=new x}get onDidChange(){return this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),I((()=>{if(n){let e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,(e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))})),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=wM(t.selector,e.uri,e.getLanguageIdentifier().language,SM(e)),xM(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(kM._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}class EM{constructor(e,t,n=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=n,this._cache=new KR(50,.7)}_key(e){return e.id+he(this._registry.all(e))}_clamp(e){return void 0===e?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*e)))}get(e){const t=this._key(e),n=this._cache.get(t);return this._clamp(null==n?void 0:n.value)}update(e,t){const n=this._key(e);let i=this._cache.get(n);return i||(i=new tM,this._cache.set(n,i)),i.update(t),this.get(e)}}const DM=new class{constructor(){this._icons=new Map,this._onDidRegister=new x}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},TM=DM;function LM(e,t){return new NM(e,t)}class NM{constructor(e,t,n){this.id=e,this.definition=t,this.description=n,DM.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var IM,PM;!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function n(e){if(e instanceof NM)return["codicon","codicon-"+e.id];const i=t.exec(e.id);if(!i)return n(NM.error);let[,s,r]=i;const o=["codicon","codicon-"+s];return r&&o.push("codicon-modifier-"+r.substr(1)),o}e.asClassNameArray=n,e.asClassName=function(e){return n(e).join(" ")},e.asCSSSelector=function(e){return"."+n(e).join(".")}}(IM||(IM={})),(PM=NM||(NM={})).add=new PM("add",{fontCharacter:"\\ea60"}),PM.plus=new PM("plus",{fontCharacter:"\\ea60"}),PM.gistNew=new PM("gist-new",{fontCharacter:"\\ea60"}),PM.repoCreate=new PM("repo-create",{fontCharacter:"\\ea60"}),PM.lightbulb=new PM("lightbulb",{fontCharacter:"\\ea61"}),PM.lightBulb=new PM("light-bulb",{fontCharacter:"\\ea61"}),PM.repo=new PM("repo",{fontCharacter:"\\ea62"}),PM.repoDelete=new PM("repo-delete",{fontCharacter:"\\ea62"}),PM.gistFork=new PM("gist-fork",{fontCharacter:"\\ea63"}),PM.repoForked=new PM("repo-forked",{fontCharacter:"\\ea63"}),PM.gitPullRequest=new PM("git-pull-request",{fontCharacter:"\\ea64"}),PM.gitPullRequestAbandoned=new PM("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),PM.recordKeys=new PM("record-keys",{fontCharacter:"\\ea65"}),PM.keyboard=new PM("keyboard",{fontCharacter:"\\ea65"}),PM.tag=new PM("tag",{fontCharacter:"\\ea66"}),PM.tagAdd=new PM("tag-add",{fontCharacter:"\\ea66"}),PM.tagRemove=new PM("tag-remove",{fontCharacter:"\\ea66"}),PM.person=new PM("person",{fontCharacter:"\\ea67"}),PM.personFollow=new PM("person-follow",{fontCharacter:"\\ea67"}),PM.personOutline=new PM("person-outline",{fontCharacter:"\\ea67"}),PM.personFilled=new PM("person-filled",{fontCharacter:"\\ea67"}),PM.gitBranch=new PM("git-branch",{fontCharacter:"\\ea68"}),PM.gitBranchCreate=new PM("git-branch-create",{fontCharacter:"\\ea68"}),PM.gitBranchDelete=new PM("git-branch-delete",{fontCharacter:"\\ea68"}),PM.sourceControl=new PM("source-control",{fontCharacter:"\\ea68"}),PM.mirror=new PM("mirror",{fontCharacter:"\\ea69"}),PM.mirrorPublic=new PM("mirror-public",{fontCharacter:"\\ea69"}),PM.star=new PM("star",{fontCharacter:"\\ea6a"}),PM.starAdd=new PM("star-add",{fontCharacter:"\\ea6a"}),PM.starDelete=new PM("star-delete",{fontCharacter:"\\ea6a"}),PM.starEmpty=new PM("star-empty",{fontCharacter:"\\ea6a"}),PM.comment=new PM("comment",{fontCharacter:"\\ea6b"}),PM.commentAdd=new PM("comment-add",{fontCharacter:"\\ea6b"}),PM.alert=new PM("alert",{fontCharacter:"\\ea6c"}),PM.warning=new PM("warning",{fontCharacter:"\\ea6c"}),PM.search=new PM("search",{fontCharacter:"\\ea6d"}),PM.searchSave=new PM("search-save",{fontCharacter:"\\ea6d"}),PM.logOut=new PM("log-out",{fontCharacter:"\\ea6e"}),PM.signOut=new PM("sign-out",{fontCharacter:"\\ea6e"}),PM.logIn=new PM("log-in",{fontCharacter:"\\ea6f"}),PM.signIn=new PM("sign-in",{fontCharacter:"\\ea6f"}),PM.eye=new PM("eye",{fontCharacter:"\\ea70"}),PM.eyeUnwatch=new PM("eye-unwatch",{fontCharacter:"\\ea70"}),PM.eyeWatch=new PM("eye-watch",{fontCharacter:"\\ea70"}),PM.circleFilled=new PM("circle-filled",{fontCharacter:"\\ea71"}),PM.primitiveDot=new PM("primitive-dot",{fontCharacter:"\\ea71"}),PM.closeDirty=new PM("close-dirty",{fontCharacter:"\\ea71"}),PM.debugBreakpoint=new PM("debug-breakpoint",{fontCharacter:"\\ea71"}),PM.debugBreakpointDisabled=new PM("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),PM.debugHint=new PM("debug-hint",{fontCharacter:"\\ea71"}),PM.primitiveSquare=new PM("primitive-square",{fontCharacter:"\\ea72"}),PM.edit=new PM("edit",{fontCharacter:"\\ea73"}),PM.pencil=new PM("pencil",{fontCharacter:"\\ea73"}),PM.info=new PM("info",{fontCharacter:"\\ea74"}),PM.issueOpened=new PM("issue-opened",{fontCharacter:"\\ea74"}),PM.gistPrivate=new PM("gist-private",{fontCharacter:"\\ea75"}),PM.gitForkPrivate=new PM("git-fork-private",{fontCharacter:"\\ea75"}),PM.lock=new PM("lock",{fontCharacter:"\\ea75"}),PM.mirrorPrivate=new PM("mirror-private",{fontCharacter:"\\ea75"}),PM.close=new PM("close",{fontCharacter:"\\ea76"}),PM.removeClose=new PM("remove-close",{fontCharacter:"\\ea76"}),PM.x=new PM("x",{fontCharacter:"\\ea76"}),PM.repoSync=new PM("repo-sync",{fontCharacter:"\\ea77"}),PM.sync=new PM("sync",{fontCharacter:"\\ea77"}),PM.clone=new PM("clone",{fontCharacter:"\\ea78"}),PM.desktopDownload=new PM("desktop-download",{fontCharacter:"\\ea78"}),PM.beaker=new PM("beaker",{fontCharacter:"\\ea79"}),PM.microscope=new PM("microscope",{fontCharacter:"\\ea79"}),PM.vm=new PM("vm",{fontCharacter:"\\ea7a"}),PM.deviceDesktop=new PM("device-desktop",{fontCharacter:"\\ea7a"}),PM.file=new PM("file",{fontCharacter:"\\ea7b"}),PM.fileText=new PM("file-text",{fontCharacter:"\\ea7b"}),PM.more=new PM("more",{fontCharacter:"\\ea7c"}),PM.ellipsis=new PM("ellipsis",{fontCharacter:"\\ea7c"}),PM.kebabHorizontal=new PM("kebab-horizontal",{fontCharacter:"\\ea7c"}),PM.mailReply=new PM("mail-reply",{fontCharacter:"\\ea7d"}),PM.reply=new PM("reply",{fontCharacter:"\\ea7d"}),PM.organization=new PM("organization",{fontCharacter:"\\ea7e"}),PM.organizationFilled=new PM("organization-filled",{fontCharacter:"\\ea7e"}),PM.organizationOutline=new PM("organization-outline",{fontCharacter:"\\ea7e"}),PM.newFile=new PM("new-file",{fontCharacter:"\\ea7f"}),PM.fileAdd=new PM("file-add",{fontCharacter:"\\ea7f"}),PM.newFolder=new PM("new-folder",{fontCharacter:"\\ea80"}),PM.fileDirectoryCreate=new PM("file-directory-create",{fontCharacter:"\\ea80"}),PM.trash=new PM("trash",{fontCharacter:"\\ea81"}),PM.trashcan=new PM("trashcan",{fontCharacter:"\\ea81"}),PM.history=new PM("history",{fontCharacter:"\\ea82"}),PM.clock=new PM("clock",{fontCharacter:"\\ea82"}),PM.folder=new PM("folder",{fontCharacter:"\\ea83"}),PM.fileDirectory=new PM("file-directory",{fontCharacter:"\\ea83"}),PM.symbolFolder=new PM("symbol-folder",{fontCharacter:"\\ea83"}),PM.logoGithub=new PM("logo-github",{fontCharacter:"\\ea84"}),PM.markGithub=new PM("mark-github",{fontCharacter:"\\ea84"}),PM.github=new PM("github",{fontCharacter:"\\ea84"}),PM.terminal=new PM("terminal",{fontCharacter:"\\ea85"}),PM.console=new PM("console",{fontCharacter:"\\ea85"}),PM.repl=new PM("repl",{fontCharacter:"\\ea85"}),PM.zap=new PM("zap",{fontCharacter:"\\ea86"}),PM.symbolEvent=new PM("symbol-event",{fontCharacter:"\\ea86"}),PM.error=new PM("error",{fontCharacter:"\\ea87"}),PM.stop=new PM("stop",{fontCharacter:"\\ea87"}),PM.variable=new PM("variable",{fontCharacter:"\\ea88"}),PM.symbolVariable=new PM("symbol-variable",{fontCharacter:"\\ea88"}),PM.array=new PM("array",{fontCharacter:"\\ea8a"}),PM.symbolArray=new PM("symbol-array",{fontCharacter:"\\ea8a"}),PM.symbolModule=new PM("symbol-module",{fontCharacter:"\\ea8b"}),PM.symbolPackage=new PM("symbol-package",{fontCharacter:"\\ea8b"}),PM.symbolNamespace=new PM("symbol-namespace",{fontCharacter:"\\ea8b"}),PM.symbolObject=new PM("symbol-object",{fontCharacter:"\\ea8b"}),PM.symbolMethod=new PM("symbol-method",{fontCharacter:"\\ea8c"}),PM.symbolFunction=new PM("symbol-function",{fontCharacter:"\\ea8c"}),PM.symbolConstructor=new PM("symbol-constructor",{fontCharacter:"\\ea8c"}),PM.symbolBoolean=new PM("symbol-boolean",{fontCharacter:"\\ea8f"}),PM.symbolNull=new PM("symbol-null",{fontCharacter:"\\ea8f"}),PM.symbolNumeric=new PM("symbol-numeric",{fontCharacter:"\\ea90"}),PM.symbolNumber=new PM("symbol-number",{fontCharacter:"\\ea90"}),PM.symbolStructure=new PM("symbol-structure",{fontCharacter:"\\ea91"}),PM.symbolStruct=new PM("symbol-struct",{fontCharacter:"\\ea91"}),PM.symbolParameter=new PM("symbol-parameter",{fontCharacter:"\\ea92"}),PM.symbolTypeParameter=new PM("symbol-type-parameter",{fontCharacter:"\\ea92"}),PM.symbolKey=new PM("symbol-key",{fontCharacter:"\\ea93"}),PM.symbolText=new PM("symbol-text",{fontCharacter:"\\ea93"}),PM.symbolReference=new PM("symbol-reference",{fontCharacter:"\\ea94"}),PM.goToFile=new PM("go-to-file",{fontCharacter:"\\ea94"}),PM.symbolEnum=new PM("symbol-enum",{fontCharacter:"\\ea95"}),PM.symbolValue=new PM("symbol-value",{fontCharacter:"\\ea95"}),PM.symbolRuler=new PM("symbol-ruler",{fontCharacter:"\\ea96"}),PM.symbolUnit=new PM("symbol-unit",{fontCharacter:"\\ea96"}),PM.activateBreakpoints=new PM("activate-breakpoints",{fontCharacter:"\\ea97"}),PM.archive=new PM("archive",{fontCharacter:"\\ea98"}),PM.arrowBoth=new PM("arrow-both",{fontCharacter:"\\ea99"}),PM.arrowDown=new PM("arrow-down",{fontCharacter:"\\ea9a"}),PM.arrowLeft=new PM("arrow-left",{fontCharacter:"\\ea9b"}),PM.arrowRight=new PM("arrow-right",{fontCharacter:"\\ea9c"}),PM.arrowSmallDown=new PM("arrow-small-down",{fontCharacter:"\\ea9d"}),PM.arrowSmallLeft=new PM("arrow-small-left",{fontCharacter:"\\ea9e"}),PM.arrowSmallRight=new PM("arrow-small-right",{fontCharacter:"\\ea9f"}),PM.arrowSmallUp=new PM("arrow-small-up",{fontCharacter:"\\eaa0"}),PM.arrowUp=new PM("arrow-up",{fontCharacter:"\\eaa1"}),PM.bell=new PM("bell",{fontCharacter:"\\eaa2"}),PM.bold=new PM("bold",{fontCharacter:"\\eaa3"}),PM.book=new PM("book",{fontCharacter:"\\eaa4"}),PM.bookmark=new PM("bookmark",{fontCharacter:"\\eaa5"}),PM.debugBreakpointConditionalUnverified=new PM("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),PM.debugBreakpointConditional=new PM("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),PM.debugBreakpointConditionalDisabled=new PM("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),PM.debugBreakpointDataUnverified=new PM("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),PM.debugBreakpointData=new PM("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),PM.debugBreakpointDataDisabled=new PM("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),PM.debugBreakpointLogUnverified=new PM("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),PM.debugBreakpointLog=new PM("debug-breakpoint-log",{fontCharacter:"\\eaab"}),PM.debugBreakpointLogDisabled=new PM("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),PM.briefcase=new PM("briefcase",{fontCharacter:"\\eaac"}),PM.broadcast=new PM("broadcast",{fontCharacter:"\\eaad"}),PM.browser=new PM("browser",{fontCharacter:"\\eaae"}),PM.bug=new PM("bug",{fontCharacter:"\\eaaf"}),PM.calendar=new PM("calendar",{fontCharacter:"\\eab0"}),PM.caseSensitive=new PM("case-sensitive",{fontCharacter:"\\eab1"}),PM.check=new PM("check",{fontCharacter:"\\eab2"}),PM.checklist=new PM("checklist",{fontCharacter:"\\eab3"}),PM.chevronDown=new PM("chevron-down",{fontCharacter:"\\eab4"}),PM.chevronLeft=new PM("chevron-left",{fontCharacter:"\\eab5"}),PM.chevronRight=new PM("chevron-right",{fontCharacter:"\\eab6"}),PM.chevronUp=new PM("chevron-up",{fontCharacter:"\\eab7"}),PM.chromeClose=new PM("chrome-close",{fontCharacter:"\\eab8"}),PM.chromeMaximize=new PM("chrome-maximize",{fontCharacter:"\\eab9"}),PM.chromeMinimize=new PM("chrome-minimize",{fontCharacter:"\\eaba"}),PM.chromeRestore=new PM("chrome-restore",{fontCharacter:"\\eabb"}),PM.circleOutline=new PM("circle-outline",{fontCharacter:"\\eabc"}),PM.debugBreakpointUnverified=new PM("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),PM.circleSlash=new PM("circle-slash",{fontCharacter:"\\eabd"}),PM.circuitBoard=new PM("circuit-board",{fontCharacter:"\\eabe"}),PM.clearAll=new PM("clear-all",{fontCharacter:"\\eabf"}),PM.clippy=new PM("clippy",{fontCharacter:"\\eac0"}),PM.closeAll=new PM("close-all",{fontCharacter:"\\eac1"}),PM.cloudDownload=new PM("cloud-download",{fontCharacter:"\\eac2"}),PM.cloudUpload=new PM("cloud-upload",{fontCharacter:"\\eac3"}),PM.code=new PM("code",{fontCharacter:"\\eac4"}),PM.collapseAll=new PM("collapse-all",{fontCharacter:"\\eac5"}),PM.colorMode=new PM("color-mode",{fontCharacter:"\\eac6"}),PM.commentDiscussion=new PM("comment-discussion",{fontCharacter:"\\eac7"}),PM.compareChanges=new PM("compare-changes",{fontCharacter:"\\eafd"}),PM.creditCard=new PM("credit-card",{fontCharacter:"\\eac9"}),PM.dash=new PM("dash",{fontCharacter:"\\eacc"}),PM.dashboard=new PM("dashboard",{fontCharacter:"\\eacd"}),PM.database=new PM("database",{fontCharacter:"\\eace"}),PM.debugContinue=new PM("debug-continue",{fontCharacter:"\\eacf"}),PM.debugDisconnect=new PM("debug-disconnect",{fontCharacter:"\\ead0"}),PM.debugPause=new PM("debug-pause",{fontCharacter:"\\ead1"}),PM.debugRestart=new PM("debug-restart",{fontCharacter:"\\ead2"}),PM.debugStart=new PM("debug-start",{fontCharacter:"\\ead3"}),PM.debugStepInto=new PM("debug-step-into",{fontCharacter:"\\ead4"}),PM.debugStepOut=new PM("debug-step-out",{fontCharacter:"\\ead5"}),PM.debugStepOver=new PM("debug-step-over",{fontCharacter:"\\ead6"}),PM.debugStop=new PM("debug-stop",{fontCharacter:"\\ead7"}),PM.debug=new PM("debug",{fontCharacter:"\\ead8"}),PM.deviceCameraVideo=new PM("device-camera-video",{fontCharacter:"\\ead9"}),PM.deviceCamera=new PM("device-camera",{fontCharacter:"\\eada"}),PM.deviceMobile=new PM("device-mobile",{fontCharacter:"\\eadb"}),PM.diffAdded=new PM("diff-added",{fontCharacter:"\\eadc"}),PM.diffIgnored=new PM("diff-ignored",{fontCharacter:"\\eadd"}),PM.diffModified=new PM("diff-modified",{fontCharacter:"\\eade"}),PM.diffRemoved=new PM("diff-removed",{fontCharacter:"\\eadf"}),PM.diffRenamed=new PM("diff-renamed",{fontCharacter:"\\eae0"}),PM.diff=new PM("diff",{fontCharacter:"\\eae1"}),PM.discard=new PM("discard",{fontCharacter:"\\eae2"}),PM.editorLayout=new PM("editor-layout",{fontCharacter:"\\eae3"}),PM.emptyWindow=new PM("empty-window",{fontCharacter:"\\eae4"}),PM.exclude=new PM("exclude",{fontCharacter:"\\eae5"}),PM.extensions=new PM("extensions",{fontCharacter:"\\eae6"}),PM.eyeClosed=new PM("eye-closed",{fontCharacter:"\\eae7"}),PM.fileBinary=new PM("file-binary",{fontCharacter:"\\eae8"}),PM.fileCode=new PM("file-code",{fontCharacter:"\\eae9"}),PM.fileMedia=new PM("file-media",{fontCharacter:"\\eaea"}),PM.filePdf=new PM("file-pdf",{fontCharacter:"\\eaeb"}),PM.fileSubmodule=new PM("file-submodule",{fontCharacter:"\\eaec"}),PM.fileSymlinkDirectory=new PM("file-symlink-directory",{fontCharacter:"\\eaed"}),PM.fileSymlinkFile=new PM("file-symlink-file",{fontCharacter:"\\eaee"}),PM.fileZip=new PM("file-zip",{fontCharacter:"\\eaef"}),PM.files=new PM("files",{fontCharacter:"\\eaf0"}),PM.filter=new PM("filter",{fontCharacter:"\\eaf1"}),PM.flame=new PM("flame",{fontCharacter:"\\eaf2"}),PM.foldDown=new PM("fold-down",{fontCharacter:"\\eaf3"}),PM.foldUp=new PM("fold-up",{fontCharacter:"\\eaf4"}),PM.fold=new PM("fold",{fontCharacter:"\\eaf5"}),PM.folderActive=new PM("folder-active",{fontCharacter:"\\eaf6"}),PM.folderOpened=new PM("folder-opened",{fontCharacter:"\\eaf7"}),PM.gear=new PM("gear",{fontCharacter:"\\eaf8"}),PM.gift=new PM("gift",{fontCharacter:"\\eaf9"}),PM.gistSecret=new PM("gist-secret",{fontCharacter:"\\eafa"}),PM.gist=new PM("gist",{fontCharacter:"\\eafb"}),PM.gitCommit=new PM("git-commit",{fontCharacter:"\\eafc"}),PM.gitCompare=new PM("git-compare",{fontCharacter:"\\eafd"}),PM.gitMerge=new PM("git-merge",{fontCharacter:"\\eafe"}),PM.githubAction=new PM("github-action",{fontCharacter:"\\eaff"}),PM.githubAlt=new PM("github-alt",{fontCharacter:"\\eb00"}),PM.globe=new PM("globe",{fontCharacter:"\\eb01"}),PM.grabber=new PM("grabber",{fontCharacter:"\\eb02"}),PM.graph=new PM("graph",{fontCharacter:"\\eb03"}),PM.gripper=new PM("gripper",{fontCharacter:"\\eb04"}),PM.heart=new PM("heart",{fontCharacter:"\\eb05"}),PM.home=new PM("home",{fontCharacter:"\\eb06"}),PM.horizontalRule=new PM("horizontal-rule",{fontCharacter:"\\eb07"}),PM.hubot=new PM("hubot",{fontCharacter:"\\eb08"}),PM.inbox=new PM("inbox",{fontCharacter:"\\eb09"}),PM.issueClosed=new PM("issue-closed",{fontCharacter:"\\eb0a"}),PM.issueReopened=new PM("issue-reopened",{fontCharacter:"\\eb0b"}),PM.issues=new PM("issues",{fontCharacter:"\\eb0c"}),PM.italic=new PM("italic",{fontCharacter:"\\eb0d"}),PM.jersey=new PM("jersey",{fontCharacter:"\\eb0e"}),PM.json=new PM("json",{fontCharacter:"\\eb0f"}),PM.kebabVertical=new PM("kebab-vertical",{fontCharacter:"\\eb10"}),PM.key=new PM("key",{fontCharacter:"\\eb11"}),PM.law=new PM("law",{fontCharacter:"\\eb12"}),PM.lightbulbAutofix=new PM("lightbulb-autofix",{fontCharacter:"\\eb13"}),PM.linkExternal=new PM("link-external",{fontCharacter:"\\eb14"}),PM.link=new PM("link",{fontCharacter:"\\eb15"}),PM.listOrdered=new PM("list-ordered",{fontCharacter:"\\eb16"}),PM.listUnordered=new PM("list-unordered",{fontCharacter:"\\eb17"}),PM.liveShare=new PM("live-share",{fontCharacter:"\\eb18"}),PM.loading=new PM("loading",{fontCharacter:"\\eb19"}),PM.location=new PM("location",{fontCharacter:"\\eb1a"}),PM.mailRead=new PM("mail-read",{fontCharacter:"\\eb1b"}),PM.mail=new PM("mail",{fontCharacter:"\\eb1c"}),PM.markdown=new PM("markdown",{fontCharacter:"\\eb1d"}),PM.megaphone=new PM("megaphone",{fontCharacter:"\\eb1e"}),PM.mention=new PM("mention",{fontCharacter:"\\eb1f"}),PM.milestone=new PM("milestone",{fontCharacter:"\\eb20"}),PM.mortarBoard=new PM("mortar-board",{fontCharacter:"\\eb21"}),PM.move=new PM("move",{fontCharacter:"\\eb22"}),PM.multipleWindows=new PM("multiple-windows",{fontCharacter:"\\eb23"}),PM.mute=new PM("mute",{fontCharacter:"\\eb24"}),PM.noNewline=new PM("no-newline",{fontCharacter:"\\eb25"}),PM.note=new PM("note",{fontCharacter:"\\eb26"}),PM.octoface=new PM("octoface",{fontCharacter:"\\eb27"}),PM.openPreview=new PM("open-preview",{fontCharacter:"\\eb28"}),PM.package_=new PM("package",{fontCharacter:"\\eb29"}),PM.paintcan=new PM("paintcan",{fontCharacter:"\\eb2a"}),PM.pin=new PM("pin",{fontCharacter:"\\eb2b"}),PM.play=new PM("play",{fontCharacter:"\\eb2c"}),PM.run=new PM("run",{fontCharacter:"\\eb2c"}),PM.plug=new PM("plug",{fontCharacter:"\\eb2d"}),PM.preserveCase=new PM("preserve-case",{fontCharacter:"\\eb2e"}),PM.preview=new PM("preview",{fontCharacter:"\\eb2f"}),PM.project=new PM("project",{fontCharacter:"\\eb30"}),PM.pulse=new PM("pulse",{fontCharacter:"\\eb31"}),PM.question=new PM("question",{fontCharacter:"\\eb32"}),PM.quote=new PM("quote",{fontCharacter:"\\eb33"}),PM.radioTower=new PM("radio-tower",{fontCharacter:"\\eb34"}),PM.reactions=new PM("reactions",{fontCharacter:"\\eb35"}),PM.references=new PM("references",{fontCharacter:"\\eb36"}),PM.refresh=new PM("refresh",{fontCharacter:"\\eb37"}),PM.regex=new PM("regex",{fontCharacter:"\\eb38"}),PM.remoteExplorer=new PM("remote-explorer",{fontCharacter:"\\eb39"}),PM.remote=new PM("remote",{fontCharacter:"\\eb3a"}),PM.remove=new PM("remove",{fontCharacter:"\\eb3b"}),PM.replaceAll=new PM("replace-all",{fontCharacter:"\\eb3c"}),PM.replace=new PM("replace",{fontCharacter:"\\eb3d"}),PM.repoClone=new PM("repo-clone",{fontCharacter:"\\eb3e"}),PM.repoForcePush=new PM("repo-force-push",{fontCharacter:"\\eb3f"}),PM.repoPull=new PM("repo-pull",{fontCharacter:"\\eb40"}),PM.repoPush=new PM("repo-push",{fontCharacter:"\\eb41"}),PM.report=new PM("report",{fontCharacter:"\\eb42"}),PM.requestChanges=new PM("request-changes",{fontCharacter:"\\eb43"}),PM.rocket=new PM("rocket",{fontCharacter:"\\eb44"}),PM.rootFolderOpened=new PM("root-folder-opened",{fontCharacter:"\\eb45"}),PM.rootFolder=new PM("root-folder",{fontCharacter:"\\eb46"}),PM.rss=new PM("rss",{fontCharacter:"\\eb47"}),PM.ruby=new PM("ruby",{fontCharacter:"\\eb48"}),PM.saveAll=new PM("save-all",{fontCharacter:"\\eb49"}),PM.saveAs=new PM("save-as",{fontCharacter:"\\eb4a"}),PM.save=new PM("save",{fontCharacter:"\\eb4b"}),PM.screenFull=new PM("screen-full",{fontCharacter:"\\eb4c"}),PM.screenNormal=new PM("screen-normal",{fontCharacter:"\\eb4d"}),PM.searchStop=new PM("search-stop",{fontCharacter:"\\eb4e"}),PM.server=new PM("server",{fontCharacter:"\\eb50"}),PM.settingsGear=new PM("settings-gear",{fontCharacter:"\\eb51"}),PM.settings=new PM("settings",{fontCharacter:"\\eb52"}),PM.shield=new PM("shield",{fontCharacter:"\\eb53"}),PM.smiley=new PM("smiley",{fontCharacter:"\\eb54"}),PM.sortPrecedence=new PM("sort-precedence",{fontCharacter:"\\eb55"}),PM.splitHorizontal=new PM("split-horizontal",{fontCharacter:"\\eb56"}),PM.splitVertical=new PM("split-vertical",{fontCharacter:"\\eb57"}),PM.squirrel=new PM("squirrel",{fontCharacter:"\\eb58"}),PM.starFull=new PM("star-full",{fontCharacter:"\\eb59"}),PM.starHalf=new PM("star-half",{fontCharacter:"\\eb5a"}),PM.symbolClass=new PM("symbol-class",{fontCharacter:"\\eb5b"}),PM.symbolColor=new PM("symbol-color",{fontCharacter:"\\eb5c"}),PM.symbolConstant=new PM("symbol-constant",{fontCharacter:"\\eb5d"}),PM.symbolEnumMember=new PM("symbol-enum-member",{fontCharacter:"\\eb5e"}),PM.symbolField=new PM("symbol-field",{fontCharacter:"\\eb5f"}),PM.symbolFile=new PM("symbol-file",{fontCharacter:"\\eb60"}),PM.symbolInterface=new PM("symbol-interface",{fontCharacter:"\\eb61"}),PM.symbolKeyword=new PM("symbol-keyword",{fontCharacter:"\\eb62"}),PM.symbolMisc=new PM("symbol-misc",{fontCharacter:"\\eb63"}),PM.symbolOperator=new PM("symbol-operator",{fontCharacter:"\\eb64"}),PM.symbolProperty=new PM("symbol-property",{fontCharacter:"\\eb65"}),PM.wrench=new PM("wrench",{fontCharacter:"\\eb65"}),PM.wrenchSubaction=new PM("wrench-subaction",{fontCharacter:"\\eb65"}),PM.symbolSnippet=new PM("symbol-snippet",{fontCharacter:"\\eb66"}),PM.tasklist=new PM("tasklist",{fontCharacter:"\\eb67"}),PM.telescope=new PM("telescope",{fontCharacter:"\\eb68"}),PM.textSize=new PM("text-size",{fontCharacter:"\\eb69"}),PM.threeBars=new PM("three-bars",{fontCharacter:"\\eb6a"}),PM.thumbsdown=new PM("thumbsdown",{fontCharacter:"\\eb6b"}),PM.thumbsup=new PM("thumbsup",{fontCharacter:"\\eb6c"}),PM.tools=new PM("tools",{fontCharacter:"\\eb6d"}),PM.triangleDown=new PM("triangle-down",{fontCharacter:"\\eb6e"}),PM.triangleLeft=new PM("triangle-left",{fontCharacter:"\\eb6f"}),PM.triangleRight=new PM("triangle-right",{fontCharacter:"\\eb70"}),PM.triangleUp=new PM("triangle-up",{fontCharacter:"\\eb71"}),PM.twitter=new PM("twitter",{fontCharacter:"\\eb72"}),PM.unfold=new PM("unfold",{fontCharacter:"\\eb73"}),PM.unlock=new PM("unlock",{fontCharacter:"\\eb74"}),PM.unmute=new PM("unmute",{fontCharacter:"\\eb75"}),PM.unverified=new PM("unverified",{fontCharacter:"\\eb76"}),PM.verified=new PM("verified",{fontCharacter:"\\eb77"}),PM.versions=new PM("versions",{fontCharacter:"\\eb78"}),PM.vmActive=new PM("vm-active",{fontCharacter:"\\eb79"}),PM.vmOutline=new PM("vm-outline",{fontCharacter:"\\eb7a"}),PM.vmRunning=new PM("vm-running",{fontCharacter:"\\eb7b"}),PM.watch=new PM("watch",{fontCharacter:"\\eb7c"}),PM.whitespace=new PM("whitespace",{fontCharacter:"\\eb7d"}),PM.wholeWord=new PM("whole-word",{fontCharacter:"\\eb7e"}),PM.window=new PM("window",{fontCharacter:"\\eb7f"}),PM.wordWrap=new PM("word-wrap",{fontCharacter:"\\eb80"}),PM.zoomIn=new PM("zoom-in",{fontCharacter:"\\eb81"}),PM.zoomOut=new PM("zoom-out",{fontCharacter:"\\eb82"}),PM.listFilter=new PM("list-filter",{fontCharacter:"\\eb83"}),PM.listFlat=new PM("list-flat",{fontCharacter:"\\eb84"}),PM.listSelection=new PM("list-selection",{fontCharacter:"\\eb85"}),PM.selection=new PM("selection",{fontCharacter:"\\eb85"}),PM.listTree=new PM("list-tree",{fontCharacter:"\\eb86"}),PM.debugBreakpointFunctionUnverified=new PM("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),PM.debugBreakpointFunction=new PM("debug-breakpoint-function",{fontCharacter:"\\eb88"}),PM.debugBreakpointFunctionDisabled=new PM("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),PM.debugStackframeActive=new PM("debug-stackframe-active",{fontCharacter:"\\eb89"}),PM.debugStackframeDot=new PM("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),PM.debugStackframe=new PM("debug-stackframe",{fontCharacter:"\\eb8b"}),PM.debugStackframeFocused=new PM("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),PM.debugBreakpointUnsupported=new PM("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),PM.symbolString=new PM("symbol-string",{fontCharacter:"\\eb8d"}),PM.debugReverseContinue=new PM("debug-reverse-continue",{fontCharacter:"\\eb8e"}),PM.debugStepBack=new PM("debug-step-back",{fontCharacter:"\\eb8f"}),PM.debugRestartFrame=new PM("debug-restart-frame",{fontCharacter:"\\eb90"}),PM.callIncoming=new PM("call-incoming",{fontCharacter:"\\eb92"}),PM.callOutgoing=new PM("call-outgoing",{fontCharacter:"\\eb93"}),PM.menu=new PM("menu",{fontCharacter:"\\eb94"}),PM.expandAll=new PM("expand-all",{fontCharacter:"\\eb95"}),PM.feedback=new PM("feedback",{fontCharacter:"\\eb96"}),PM.groupByRefType=new PM("group-by-ref-type",{fontCharacter:"\\eb97"}),PM.ungroupByRefType=new PM("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),PM.account=new PM("account",{fontCharacter:"\\eb99"}),PM.bellDot=new PM("bell-dot",{fontCharacter:"\\eb9a"}),PM.debugConsole=new PM("debug-console",{fontCharacter:"\\eb9b"}),PM.library=new PM("library",{fontCharacter:"\\eb9c"}),PM.output=new PM("output",{fontCharacter:"\\eb9d"}),PM.runAll=new PM("run-all",{fontCharacter:"\\eb9e"}),PM.syncIgnored=new PM("sync-ignored",{fontCharacter:"\\eb9f"}),PM.pinned=new PM("pinned",{fontCharacter:"\\eba0"}),PM.githubInverted=new PM("github-inverted",{fontCharacter:"\\eba1"}),PM.debugAlt=new PM("debug-alt",{fontCharacter:"\\eb91"}),PM.serverProcess=new PM("server-process",{fontCharacter:"\\eba2"}),PM.serverEnvironment=new PM("server-environment",{fontCharacter:"\\eba3"}),PM.pass=new PM("pass",{fontCharacter:"\\eba4"}),PM.stopCircle=new PM("stop-circle",{fontCharacter:"\\eba5"}),PM.playCircle=new PM("play-circle",{fontCharacter:"\\eba6"}),PM.record=new PM("record",{fontCharacter:"\\eba7"}),PM.debugAltSmall=new PM("debug-alt-small",{fontCharacter:"\\eba8"}),PM.vmConnect=new PM("vm-connect",{fontCharacter:"\\eba9"}),PM.cloud=new PM("cloud",{fontCharacter:"\\ebaa"}),PM.merge=new PM("merge",{fontCharacter:"\\ebab"}),PM.exportIcon=new PM("export",{fontCharacter:"\\ebac"}),PM.graphLeft=new PM("graph-left",{fontCharacter:"\\ebad"}),PM.magnet=new PM("magnet",{fontCharacter:"\\ebae"}),PM.notebook=new PM("notebook",{fontCharacter:"\\ebaf"}),PM.redo=new PM("redo",{fontCharacter:"\\ebb0"}),PM.checkAll=new PM("check-all",{fontCharacter:"\\ebb1"}),PM.pinnedDirty=new PM("pinned-dirty",{fontCharacter:"\\ebb2"}),PM.passFilled=new PM("pass-filled",{fontCharacter:"\\ebb3"}),PM.circleLargeFilled=new PM("circle-large-filled",{fontCharacter:"\\ebb4"}),PM.circleLargeOutline=new PM("circle-large-outline",{fontCharacter:"\\ebb5"}),PM.combine=new PM("combine",{fontCharacter:"\\ebb6"}),PM.gather=new PM("gather",{fontCharacter:"\\ebb6"}),PM.table=new PM("table",{fontCharacter:"\\ebb7"}),PM.variableGroup=new PM("variable-group",{fontCharacter:"\\ebb8"}),PM.typeHierarchy=new PM("type-hierarchy",{fontCharacter:"\\ebb9"}),PM.typeHierarchySub=new PM("type-hierarchy-sub",{fontCharacter:"\\ebba"}),PM.typeHierarchySuper=new PM("type-hierarchy-super",{fontCharacter:"\\ebbb"}),PM.gitPullRequestCreate=new PM("git-pull-request-create",{fontCharacter:"\\ebbc"}),PM.runAbove=new PM("run-above",{fontCharacter:"\\ebbd"}),PM.runBelow=new PM("run-below",{fontCharacter:"\\ebbe"}),PM.notebookTemplate=new PM("notebook-template",{fontCharacter:"\\ebbf"}),PM.debugRerun=new PM("debug-rerun",{fontCharacter:"\\ebc0"}),PM.workspaceTrusted=new PM("workspace-trusted",{fontCharacter:"\\ebc1"}),PM.workspaceUntrusted=new PM("workspace-untrusted",{fontCharacter:"\\ebc2"}),PM.workspaceUnspecified=new PM("workspace-unspecified",{fontCharacter:"\\ebc3"}),PM.terminalCmd=new PM("terminal-cmd",{fontCharacter:"\\ebc4"}),PM.terminalDebian=new PM("terminal-debian",{fontCharacter:"\\ebc5"}),PM.terminalLinux=new PM("terminal-linux",{fontCharacter:"\\ebc6"}),PM.terminalPowershell=new PM("terminal-powershell",{fontCharacter:"\\ebc7"}),PM.terminalTmux=new PM("terminal-tmux",{fontCharacter:"\\ebc8"}),PM.terminalUbuntu=new PM("terminal-ubuntu",{fontCharacter:"\\ebc9"}),PM.terminalBash=new PM("terminal-bash",{fontCharacter:"\\ebca"}),PM.arrowSwap=new PM("arrow-swap",{fontCharacter:"\\ebcb"}),PM.copy=new PM("copy",{fontCharacter:"\\ebcc"}),PM.personAdd=new PM("person-add",{fontCharacter:"\\ebcd"}),PM.filterFilled=new PM("filter-filled",{fontCharacter:"\\ebce"}),PM.wand=new PM("wand",{fontCharacter:"\\ebcf"}),PM.debugLineByLine=new PM("debug-line-by-line",{fontCharacter:"\\ebd0"}),PM.dropDownButton=new PM("drop-down-button",PM.chevronDown.definition);class OM{constructor(e,t){this.language=e,this.id=t}}class RM{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e),i=this.getFontStyle(e);let s=`color: ${t[n]};`;return 1&i&&(s+="font-style: italic;"),2&i&&(s+="font-weight: bold;"),4&i&&(s+="text-decoration: underline;"),s}}const AM=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){const n=e[t];let i=n&&TM.get(n);return i||(console.info("No codicon found for CompletionItemKind "+t),i=NM.symbolProperty),i.classNames}}();let MM=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,n){let i=e[t];return void 0!==i||n||(i=9),i}}();var FM,BM,VM,WM,HM,UM,zM;(BM=FM||(FM={}))[BM.Invoke=1]="Invoke",BM[BM.TriggerCharacter=2]="TriggerCharacter",BM[BM.ContentChange=3]="ContentChange",(WM=VM||(VM={}))[WM.Text=0]="Text",WM[WM.Read=1]="Read",WM[WM.Write=2]="Write",function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const n=new Map;n.set(0,"file"),n.set(1,"module"),n.set(2,"namespace"),n.set(3,"package"),n.set(4,"class"),n.set(5,"method"),n.set(6,"property"),n.set(7,"field"),n.set(8,"constructor"),n.set(9,"enum"),n.set(10,"interface"),n.set(11,"function"),n.set(12,"variable"),n.set(13,"constant"),n.set(14,"string"),n.set(15,"number"),n.set(16,"boolean"),n.set(17,"array"),n.set(18,"object"),n.set(19,"key"),n.set(20,"null"),n.set(21,"enum-member"),n.set(22,"struct"),n.set(23,"event"),n.set(24,"operator"),n.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return n.get(e)},e.toCssClassName=function(e,t){const i=n.get(e);let s=i&&TM.get("symbol-"+i);return s||(console.info("No codicon found for SymbolKind "+e),s=NM.symbolProperty),`${t?"inline":"block"} ${s.classNames}`}}(HM||(HM={}));class jM{constructor(e){this.value=e}}jM.Comment=new jM("comment"),jM.Imports=new jM("imports"),jM.Region=new jM("region"),(zM=UM||(UM={}))[zM.Other=0]="Other",zM[zM.Type=1]="Type",zM[zM.Parameter=2]="Parameter";const $M=new kM,KM=new kM,qM=new kM,GM=new kM,YM=new kM,ZM=new kM,XM=new kM,JM=new kM,QM=new kM,eF=new kM,tF=new kM,nF=new kM,iF=new kM,sF=new kM,rF=new kM,oF=new kM,aF=new kM,lF=new kM,cF=new kM,dF=new kM,hF=new kM,uF=new kM,pF=new kM,gF=new kM,fF=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),I((()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))}))}registerPromise(e,t){let n=null,i=!1;return this._promises.set(e,t.then((t=>{this._promises.delete(e),!i&&t&&(n=this.register(e,t))}))),I((()=>{i=!0,n&&n.dispose()}))}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const n=this._promises.get(e);return n?n.then((t=>this.get(e))):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};const mF=new class{clone(){return this}equals(e){return this===e}},_F=new OM("vs.editor.nullMode",0);function vF(e,t,n,i){return new pe([new ge(i,"",e)],n)}function bF(e,t,n,i){let s=new Uint32Array(2);return s[0]=i,s[1]=(16384|e<<0|2<<23)>>>0,new ue(s,null===n?mF:n)}const yF=RP("editorWorkerService"),wF=RP("modeService"),CF=RP("textModelService");var SF;const xF=null===(SF=window.trustedTypes)||void 0===SF?void 0:SF.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class kF{constructor(e,t,n,i,s){this.id=t;const r=function(e,t){if(me.MonacoEnvironment){if("function"==typeof me.MonacoEnvironment.getWorker)return me.MonacoEnvironment.getWorker(e,t);if("function"==typeof me.MonacoEnvironment.getWorkerUrl){const n=me.MonacoEnvironment.getWorkerUrl(e,t);return new Worker(xF?xF.createScriptURL(n):n,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",n);"function"==typeof r.then?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){i(e.data)},e.onmessageerror=s,"function"==typeof e.addEventListener&&e.addEventListener("error",s)}))}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then((n=>n.postMessage(e,t)))}dispose(){this.worker&&this.worker.then((e=>e.terminate())),this.worker=null}}class EF{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,n){let i=++EF.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new kF(e,i,this._label||"anonymous"+i,t,(e=>{fe(e),this._webWorkerFailedBeforeError=e,n(e)}))}}var DF,TF;EF.LAST_WORKER_ID=0,(TF=DF||(DF={}))[TF.None=0]="None",TF[TF.Indent=1]="Indent",TF[TF.IndentOutdent=2]="IndentOutdent",TF[TF.Outdent=3]="Outdent";class LF{constructor(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}class NF{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)IF(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),IF(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),IF(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),IF(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&IF(this.autoClosingPairsCloseSingleChar,t.close,t)}}function IF(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}function PF(e,t){let n=e.getCount(),i=e.findTokenIndexAtOffset(t),s=e.getLanguageId(i),r=i;for(;r+1<n&&e.getLanguageId(r+1)===s;)r++;let o=i;for(;o>0&&e.getLanguageId(o-1)===s;)o--;return new OF(e,s,o,r+1,e.getStartOffset(o),e.getEndOffset(r))}class OF{constructor(e,t,n,i,s,r){this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=s,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function RF(e){return 0!=(7&e)}class AF{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new LF(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new LF({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new LF({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:AF.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,n){if(0===t.getTokenCount())return!0;const i=t.findTokenIndexAtOffset(n-2),s=t.getStandardTokenType(i);return e.isOK(s)}getSurroundingPairs(){return this._surroundingPairs}}let MF,FF,BF;function VF(){return MF||(MF=new TextDecoder("UTF-16LE")),MF}function WF(){return BF||(BF=ve()?VF():(FF||(FF=new TextDecoder("UTF-16BE")),FF)),BF}AF.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";const HF="undefined"!=typeof TextDecoder;let UF,zF;function jF(e,t,n){let i=[],s=0;for(let r=0;r<n;r++){const n=XR(e,t);t+=2,i[s++]=String.fromCharCode(n)}return i.join("")}HF?(UF=e=>new $F(e),zF=function(e,t,n){const i=new Uint16Array(e.buffer,t,n);if(n>0&&(65279===i[0]||65534===i[0]))return jF(e,t,n);return VF().decode(i)}):(UF=e=>new KF,zF=jF);class $F{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return WF().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||_e(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}class KF{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class qF{constructor(e,t,n,i,s,r){this.languageIdentifier=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=s,this.reversedRegex=r,this._openSet=qF._toSet(this.open),this._closeSet=qF._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}class GF{constructor(e,t){const n=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const n=[];for(let o=0;o<t;o++)n[o]=o;const i=(e,t)=>{const[n,i]=e,[s,r]=t;return n===s||n===r||i===s||i===r},s=(e,i)=>{const s=Math.min(e,i),r=Math.max(e,i);for(let o=0;o<t;o++)n[o]===r&&(n[o]=s)};for(let o=0;o<t;o++){const r=e[o];for(let a=o+1;a<t;a++)i(r,e[a])&&s(n[o],n[a])}const r=[];for(let o=0;o<t;o++){let i=[],s=[];for(let r=0;r<t;r++)if(n[r]===o){const[t,n]=e[r];i.push(t),s.push(n)}i.length>0&&r.push({open:i,close:s})}return r}(t);this.brackets=n.map(((t,i)=>new qF(e,i,t.open,t.close,function(e,t,n,i){let s=[];s=s.concat(e),s=s.concat(t);for(let r=0,o=s.length;r<o;r++)YF(s[r],n,i,s);return s=XF(s),s.sort(ZF),s.reverse(),QF(s)}(t.open,t.close,n,i),function(e,t,n,i){let s=[];s=s.concat(e),s=s.concat(t);for(let r=0,o=s.length;r<o;r++)YF(s[r],n,i,s);return s=XF(s),s.sort(ZF),s.reverse(),QF(s.map(eB))}(t.open,t.close,n,i)))),this.forwardRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=XF(t),QF(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=XF(t),QF(t.map(eB))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const i of this.brackets){for(const e of i.open)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of i.close)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function YF(e,t,n,i){for(let s=0,r=t.length;s<r;s++){if(s===n)continue;const r=t[s];for(const t of r.open)t.indexOf(e)>=0&&i.push(t);for(const t of r.close)t.indexOf(e)>=0&&i.push(t)}}function ZF(e,t){return e.length-t.length}function XF(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function JF(e){const t=/^[\w ]+$/.test(e);return e=de(e),t?`\\b${e}\\b`:e}function QF(e){let t=`(${e.map(JF).join(")|(")})`;return be(t,!0)}const eB=function(){let e=null,t=null;return function(n){return e!==n&&(e=n,t=function(e){if(HF){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return WF().decode(t)}{let t=[],n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charAt(i);return t.join("")}}(e)),t}}();class tB{static _findPrevBracketInText(e,t,n,i){let s=n.match(e);if(!s)return null;let r=n.length-(s.index||0),o=s[0].length,a=i+r;return new oe(t,a-o+1,t,a+1)}static findPrevBracketInRange(e,t,n,i,s){const r=eB(n).substring(n.length-s,n.length-i);return this._findPrevBracketInText(e,t,r,i)}static findNextBracketInText(e,t,n,i){let s=n.match(e);if(!s)return null;let r=s.index||0,o=s[0].length;if(0===o)return null;let a=i+r;return new oe(t,a+1,t,a+1+o)}static findNextBracketInRange(e,t,n,i,s){const r=n.substring(i,s);return this.findNextBracketInText(e,t,r,i)}}class nB{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return e=e.filter(((e,t,n)=>n.indexOf(e)===t)),e}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if(RF(t.getStandardTokenType(i)))return null;const s=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,n-1)+e,o=tB.findPrevBracketInRange(s,1,r,0,r.length);if(!o)return null;const a=r.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}function iB(e){return e.global&&(e.lastIndex=0),!0}class sB{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&iB(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&iB(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&iB(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&iB(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class rB{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=rB._createOpenBracketRegExp(e[0]),n=rB._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let s=0,r=this._regExpRules.length;s<r;s++){let e=this._regExpRules[s];if([{reg:e.beforeText,text:n},{reg:e.afterText,text:i},{reg:e.previousLineText,text:t}].every((e=>!e.reg||e.reg.test(e.text))))return e.action}if(e>=2&&n.length>0&&i.length>0)for(let s=0,r=this._brackets.length;s<r;s++){let e=this._brackets[s];if(e.openRegExp.test(n)&&e.closeRegExp.test(i))return{indentAction:DF.IndentOutdent}}if(e>=2&&n.length>0)for(let s=0,r=this._brackets.length;s<r;s++){if(this._brackets[s].openRegExp.test(n))return{indentAction:DF.Indent}}return null}static _createOpenBracketRegExp(e){let t=de(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",rB._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=de(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,rB._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return V(t),null}}}class oB{constructor(e,t){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null,this._conf=t,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new rB(this._conf):null,this.comments=oB._handleComments(this._conf),this.characterPair=new AF(this._conf),this.wordDefinition=this._conf.wordPattern||Ce,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new sB(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new GF(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new nB(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}class aB{constructor(e){this.languageIdentifier=e}}class lB{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class cB{constructor(e){this.languageIdentifier=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new lB(e,t,++this._order);return this._entries.push(n),this._resolved=null,I((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}}))}getRichEditSupport(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new oB(this.languageIdentifier,e))}return this._resolved}_resolve(){if(0===this._entries.length)return null;this._entries.sort(lB.cmp);const e={};for(const t of this._entries){const n=t.configuration;e.comments=n.comments||e.comments,e.brackets=n.brackets||e.brackets,e.wordPattern=n.wordPattern||e.wordPattern,e.indentationRules=n.indentationRules||e.indentationRules,e.onEnterRules=n.onEnterRules||e.onEnterRules,e.autoClosingPairs=n.autoClosingPairs||e.autoClosingPairs,e.surroundingPairs=n.surroundingPairs||e.surroundingPairs,e.autoCloseBefore=n.autoCloseBefore||e.autoCloseBefore,e.folding=n.folding||e.folding,e.__electricCharacterSupport=n.__electricCharacterSupport||e.__electricCharacterSupport}return e}}const dB=new class{constructor(){this._entries2=new Map,this._onDidChange=new x,this.onDidChange=this._onDidChange.event}register(e,t,n=0){let i=this._entries2.get(e.id);i||(i=new cB(e),this._entries2.set(e.id,i));const s=i.register(t,n);return this._onDidChange.fire(new aB(e)),I((()=>{s.dispose(),this._onDidChange.fire(new aB(e))}))}_getRichEditSupport(e){const t=this._entries2.get(e);return t?t.getRichEditSupport():null}getIndentationRules(e){const t=this._getRichEditSupport(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,n){let i=PF(t,n-1),s=this._getElectricCharacterSupport(i.languageId);return s?s.onElectricCharacter(e,i,n-i.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new NF(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():AF.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,n){const i=PF(t,n-1);return AF.shouldAutoClosePair(e,i,n-i.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return ye(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,n){let i=e.getLanguageIdAtPosition(t,0);if(t>1){let s,r=-1;for(s=t-1;s>=1;s--){if(e.getLanguageIdAtPosition(s,0)!==i)return r;let t=e.getLineContent(s);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return s;r=s}}return-1}getInheritIndentForLine(e,t,n,i=!0){if(e<4)return null;const s=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!s)return null;if(n<=1)return{indentation:"",action:null};const r=this.getPrecedingValidLine(t,n,s);if(r<0)return null;if(r<1)return{indentation:"",action:null};const o=t.getLineContent(r);if(s.shouldIncrease(o)||s.shouldIndentNextLine(o))return{indentation:we(o),action:DF.Indent,line:r};if(s.shouldDecrease(o))return{indentation:we(o),action:null,line:r};{if(1===r)return{indentation:we(t.getLineContent(r)),action:null,line:r};const e=r-1,n=s.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!s.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:we(t.getLineContent(n+1)),action:null,line:n+1}}if(i)return{indentation:we(t.getLineContent(r)),action:null,line:r};for(let i=r;i>0;i--){const e=t.getLineContent(i);if(s.shouldIncrease(e))return{indentation:we(e),action:DF.Indent,line:i};if(s.shouldIndentNextLine(e)){let e=0;for(let n=i-1;n>0;n--)if(!s.shouldIndentNextLine(t.getLineContent(i))){e=n;break}return{indentation:we(t.getLineContent(e+1)),action:null,line:e+1}}if(s.shouldDecrease(e))return{indentation:we(e),action:null,line:i}}return{indentation:we(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,n,i,s){if(e<4)return null;const r=this._getRichEditSupport(n);if(!r)return null;const o=this.getIndentRulesSupport(n);if(!o)return null;const a=this.getInheritIndentForLine(e,t,i),l=t.getLineContent(i);if(a){const n=a.line;if(void 0!==n){const i=r.onEnter(e,"",t.getLineContent(n),"");if(i){let e=we(t.getLineContent(n));return i.removeText&&(e=e.substring(0,e.length-i.removeText)),i.indentAction===DF.Indent||i.indentAction===DF.IndentOutdent?e=s.shiftIndent(e):i.indentAction===DF.Outdent&&(e=s.unshiftIndent(e)),o.shouldDecrease(l)&&(e=s.unshiftIndent(e)),i.appendText&&(e+=i.appendText),we(e)}}return o.shouldDecrease(l)?a.action===DF.Indent?a.indentation:s.unshiftIndent(a.indentation):a.action===DF.Indent?s.shiftIndent(a.indentation):a.indentation}return null}getIndentForEnter(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);const s=t.getLineTokens(n.startLineNumber),r=PF(s,n.startColumn-1),o=r.getLineContent();let a,l,c=!1;if(r.firstCharOffset>0&&s.getLanguageId(0)!==r.languageId?(c=!0,a=o.substr(0,n.startColumn-1-r.firstCharOffset)):a=s.getLineContent().substring(0,n.startColumn-1),n.isEmpty())l=o.substr(n.startColumn-1-r.firstCharOffset);else{l=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-r.firstCharOffset)}const d=this.getIndentRulesSupport(r.languageId);if(!d)return null;const h=a,u=we(a),p={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n),getLineContent:e=>e===n.startLineNumber?h:t.getLineContent(e)},g=we(s.getLineContent()),f=this.getInheritIndentForLine(e,p,n.startLineNumber+1);if(!f){const e=c?g:u;return{beforeEnter:e,afterEnter:e}}let m=c?g:f.indentation;return f.action===DF.Indent&&(m=i.shiftIndent(m)),d.shouldDecrease(l)&&(m=i.unshiftIndent(m)),{beforeEnter:c?g:u,afterEnter:m}}getIndentActionForType(e,t,n,i,s){if(e<4)return null;const r=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(r.firstCharOffset)return null;const o=this.getIndentRulesSupport(r.languageId);if(!o)return null;const a=r.getLineContent(),l=a.substr(0,n.startColumn-1-r.firstCharOffset);let c;if(n.isEmpty())c=a.substr(n.startColumn-1-r.firstCharOffset);else{c=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-r.firstCharOffset)}if(!o.shouldDecrease(l+c)&&o.shouldDecrease(l+i+c)){const i=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!i)return null;let r=i.indentation;return i.action!==DF.Indent&&(r=s.unshiftIndent(r)),r}return null}getIndentMetadata(e,t){const n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,n){const i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),s=this._getRichEditSupport(i.languageId);if(!s)return null;const r=i.getLineContent(),o=r.substr(0,n.startColumn-1-i.firstCharOffset);let a;if(n.isEmpty())a=r.substr(n.startColumn-1-i.firstCharOffset);else{a=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-i.firstCharOffset)}let l="";if(n.startLineNumber>1&&0===i.firstCharOffset){const e=this.getScopedLineTokens(t,n.startLineNumber-1);e.languageId===i.languageId&&(l=e.getLineContent())}const c=s.onEnter(e,l,o,a);if(!c)return null;const d=c.indentAction;let h=c.appendText;const u=c.removeText||0;h?d===DF.Indent&&(h="\t"+h):h=d===DF.Indent||d===DF.IndentOutdent?"\t":"";let p=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return u&&(p=p.substring(0,p.length-u)),{indentAction:d,appendText:h,removeText:u,indentation:p}}getIndentationAtPosition(e,t,n){const i=e.getLineContent(t);let s=we(i);return s.length>n-1&&(s=s.substring(0,n-1)),s}getScopedLineTokens(e,t,n){e.forceTokenization(t);return PF(e.getLineTokens(t),void 0===n?e.getLineMaxColumn(t)-1:n-1)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}},hB=RP("textResourceConfigurationService"),uB=RP("textResourcePropertiesService");function pB(e,t=0){return e[e.length-(1+t)]}function gB(e,t,n=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let i=0,s=e.length;i<s;i++)if(!n(e[i],t[i]))return!1;return!0}function fB(e,t,n){let i=0,s=e.length-1;for(;i<=s;){const r=(i+s)/2|0,o=n(e[r],t);if(o<0)i=r+1;else{if(!(o>0))return r;s=r-1}}return-(i+1)}function mB(e,t){let n=0,i=e.length;if(0===i)return 0;for(;n<i;){const s=Math.floor((n+i)/2);t(e[s])?i=s:n=s+1}return n}function _B(e,t,n){if((e|=0)>=t.length)throw new TypeError("invalid index");let i=t[Math.floor(t.length*Math.random())],s=[],r=[],o=[];for(let a of t){const e=n(a,i);e<0?s.push(a):e>0?r.push(a):o.push(a)}return e<s.length?_B(e,s,n):e<s.length+o.length?o[0]:_B(e-(s.length+o.length),r,n)}function vB(e,t){const n=[];let i;for(const s of e.slice(0).sort(t))i&&0===t(i[0],s)?i.push(s):(i=[s],n.push(i));return n}function bB(e){return e.filter((e=>!!e))}function yB(e){return!Array.isArray(e)||0===e.length}function wB(e){return Array.isArray(e)&&e.length>0}function CB(e,t){if(!t)return e.filter(((t,n)=>e.indexOf(t)===n));const n=Object.create(null);return e.filter((e=>{const i=t(e);return!n[i]&&(n[i]=!0,!0)}))}function SB(e){const t=new Set;return e.filter((e=>!t.has(e)&&(t.add(e),!0)))}function xB(e,t){return e.length>0?e[0]:t}function kB(e){return[].concat(...e)}function EB(e,t){let n="number"==typeof t?e:0;"number"==typeof t?n=e:(n=0,t=e);const i=[];if(n<=t)for(let s=n;s<t;s++)i.push(s);else for(let s=n;s>t;s--)i.push(s);return i}function DB(e,t,n){const i=e.slice(0,t),s=e.slice(t);return i.concat(n,s)}function TB(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.unshift(t))}function LB(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.push(t))}function NB(e){return Array.isArray(e)?e:[e]}const IB=RP("logService");var PB,OB;(OB=PB||(PB={}))[OB.Trace=0]="Trace",OB[OB.Debug=1]="Debug",OB[OB.Info=2]="Info",OB[OB.Warning=3]="Warning",OB[OB.Error=4]="Error",OB[OB.Critical=5]="Critical",OB[OB.Off=6]="Off";const RB=PB.Info;class AB extends F{constructor(){super(...arguments),this.level=RB,this._onDidChangeLogLevel=this._register(new x)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class MB extends AB{constructor(e=RB){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=PB.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=PB.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=PB.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=PB.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class FB extends F{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}var BB=function(e,t){return function(n,i){t(n,i,e)}},VB=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function WB(e,t){let n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}let HB=class extends F{constructor(e,t,n){super(),this._modelService=e,this._workerManager=this._register(new zB(this._modelService)),this._logService=n,this._register(cF.register("*",{provideLinks:(e,t)=>WB(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(qM.register("*",new UB(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return WB(this._modelService,e)&&WB(this._modelService,t)}computeDiff(e,t,n,i){return this._workerManager.withWorker().then((s=>s.computeDiff(e,t,n,i)))}computeMoreMinimalEdits(e,t){if(wB(t)){if(!WB(this._modelService,e))return Promise.resolve(t);const n=Se.create(!0),i=this._workerManager.withWorker().then((n=>n.computeMoreMinimalEdits(e,t)));return i.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed()))),Promise.race([i,mO(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return WB(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then((i=>i.navigateValueSet(e,t,n)))}canComputeWordRanges(e){return WB(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((n=>n.computeWordRanges(e,t)))}};HB=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([BB(0,CM),BB(1,hB),BB(2,IB)],HB);class UB{constructor(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return VB(this,void 0,void 0,(function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const i=[];if("currentDocument"===n.wordBasedSuggestionsMode)WB(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())WB(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==n.wordBasedSuggestionsMode&&t.getLanguageIdentifier().id!==e.getLanguageIdentifier().id||i.push(t.uri));if(0===i.length)return;const s=dB.getWordDefinition(e.getLanguageIdentifier().id),r=e.getWordAtPosition(t),o=r?new oe(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):oe.fromPositions(t),a=o.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),c=yield l.textualSuggest(i,null==r?void 0:r.word,s);return c?{duration:c.duration,suggestions:c.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:o}})))}:void 0}))}}class zB extends F{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new yO).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new qB(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class jB extends F{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let e=new yO;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)De(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let e=t.toString();this._syncedModels[e]||this._beginModelSync(t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let n in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[n]>6e4&&t.push(n)}for(const n of t)this._stopModelSync(n)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t)return;if(t.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const i=new B;i.add(t.onDidChangeContent((e=>{this._proxy.acceptModelChanged(n.toString(),e)}))),i.add(t.onWillDispose((()=>{this._stopModelSync(n)}))),i.add(I((()=>{this._proxy.acceptRemovedModel(n)}))),this._syncedModels[n]=i}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],De(t)}}class $B{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class KB{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class qB extends F{constructor(e,t,n){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new EF(n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new xe(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new KB(this)))}catch(e){fe(e),this._worker=new $B(new ke(new KB(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(fe(e),this._worker=new $B(new ke(new KB(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new jB(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(N()):this._getProxy().then((t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t)))}computeDiff(e,t,n,i){return this._withSyncedResources([e,t]).then((s=>s.computeDiff(e.toString(),t.toString(),n,i)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((n=>n.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t,n){return VB(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),s=n.source,r=Ee(n);return i.textualSuggest(e.map((e=>e.toString())),t,s,r)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((n=>{let i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);let s=dB.getWordDefinition(i.getLanguageIdentifier().id),r=s.source,o=Ee(s);return n.computeWordRanges(e.toString(),t,r,o)}))}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then((i=>{let s=this._modelService.getModel(e);if(!s)return null;let r=dB.getWordDefinition(s.getLanguageIdentifier().id),o=r.source,a=Ee(r);return i.navigateValueSet(e.toString(),t,n,o,a)}))}dispose(){super.dispose(),this._disposed=!0}}class GB extends qB{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(n){return Promise.reject(n)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?Te(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const n=(t,n)=>e.fmr(t,n),i=(e,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};let s={};for(const e of t)s[e]=i(e,n);return s}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}class YB{constructor(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}equals(e){return e instanceof YB&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const i=t<<1,s=i+(n<<1);for(let r=i;r<s;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)];return RM.getLanguageId(t)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return RM.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return RM.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return RM.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[1+(e<<1)];return RM.getInlineStyleFromMetadata(n,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return YB.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new ZB(this,e,t,n)}static convertToEndOffset(e,t){const n=(e.length>>>1)-1;for(let i=0;i<n;i++)e[i<<1]=e[i+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,i=(e.length>>>1)-1;for(;n<i;){const s=n+Math.floor((i-n)/2),r=e[s<<1];if(r===t)return s+1;r<t?n=s+1:r>t&&(i=s)}return n}}class ZB{constructor(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let s=this._firstTokenIndex,r=e.getCount();s<r;s++){if(e.getStartOffset(s)>=n)break;this._tokensCount++}}equals(e){return e instanceof ZB&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class XB{constructor(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.type=i}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!XB._equals(e[i],t[i]))return!1;return!0}static extractWrapped(e,t,n){if(0===e.length)return e;const i=t+1,s=n+1,r=n-t,o=[];let a=0;for(const l of e)l.endColumn<=i||l.startColumn>=s||(o[a++]=new XB(Math.max(1,l.startColumn-i+1),Math.min(r+1,l.endColumn-i+1),l.className,l.type));return o}static filter(e,t,n,i){if(0===e.length)return[];let s=[],r=0;for(let o=0,a=e.length;o<a;o++){const a=e[o],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const c=l.startLineNumber===t?l.startColumn:n,d=l.endLineNumber===t?l.endColumn:i;s[r++]=new XB(c,d,a.inlineClassName,a.type)}return s}static _typeCompare(e,t){const n=[2,0,1,3];return n[e]-n[t]}static compare(e,t){if(e.startColumn===t.startColumn){if(e.endColumn===t.endColumn){const n=XB._typeCompare(e.type,t.type);return 0===n?e.className<t.className?-1:e.className>t.className?1:0:n}return e.endColumn-t.endColumn}return e.startColumn-t.startColumn}}class JB{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.className=n,this.metadata=i}}class QB{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let n=0,i=e.length;n<i;n++)t|=e[n];return t}consumeLowerThan(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;n.push(new JB(t,this.stopOffsets[e],this.classNames.join(" "),QB._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(n.push(new JB(t,e-1,this.classNames.join(" "),QB._metadata(this.metadata))),t=e),t}insert(e,t,n){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(n);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e),this.classNames.splice(i,0,t),this.metadata.splice(i,0,n);break}this.count++}}class eV{constructor(e,t,n){this.endIndex=e,this.type=t,this.metadata=n}isWhitespace(){return!!(1&this.metadata)}}class tV{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class nV{constructor(e,t,n,i,s,r,o,a,l,c,d,h,u,p,g,f,m,_,v){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=i,this.isBasicASCII=s,this.containsRTL=r,this.fauxIndentLength=o,this.lineTokens=a,this.lineDecorations=l.sort(XB.compare),this.tabSize=c,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=g,this.renderWhitespace="all"===f?4:"boundary"===f?1:"selection"===f?2:"trailing"===f?3:0,this.renderControlCharacters=m,this.fontLigatures=_,this.selectionsOnLine=v&&v.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(p-h)<Math.abs(u-h)?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=u,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&XB.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class iV{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setPartData(e,t,n,i){let s=(t<<16|n<<0)>>>0;this._data[e]=s,this._absoluteOffsets[e]=i+n}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}partDataToCharOffset(e,t,n){if(0===this.length)return 0;let i=(e<<16|n<<0)>>>0,s=0,r=this.length-1;for(;s+1<r;){let e=s+r>>>1,t=this._data[e];if(t===i)return e;t>i?r=e:s=e}if(s===r)return s;let o=this._data[s],a=this._data[r];if(o===i)return s;if(a===i)return r;let l,c=iV.getPartIndex(o),d=iV.getCharIndex(o);return l=c!==iV.getPartIndex(a)?t:iV.getCharIndex(a),n-d<=l-n?s:r}}class sV{constructor(e,t,n){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}function rV(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let n=0,i=0,s=0;for(const o of e.lineDecorations)1!==o.type&&2!==o.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(o.className),t.appendASCIIString('"></span>'),1===o.type&&(s|=1,n++),2===o.type&&(s|=2,i++));t.appendASCIIString("</span>");const r=new iV(1,n+i);return r.setPartData(0,n,0,0),new sV(r,!1,s)}return t.appendASCIIString("<span><span></span></span>"),new sV(new iV(0,0),!1,0)}return function(e,t){const n=e.fontIsMonospace,i=e.canUseHalfwidthRightwardsArrow,s=e.containsForeignElements,r=e.lineContent,o=e.len,a=e.isOverflowing,l=e.parts,c=e.fauxIndentLength,d=e.tabSize,h=e.startVisibleColumn,u=e.containsRTL,p=e.spaceWidth,g=e.renderSpaceCharCode,f=e.renderWhitespace,m=e.renderControlCharacters,_=new iV(o+1,l.length);let v=0,b=h,y=0,w=0,C=0,S=0;u?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let x=0,k=l.length;x<k;x++){S+=C;const e=l[x],o=e.endIndex,a=e.type,h=0!==f&&e.isWhitespace(),u=h&&!n&&("mtkw"===a||!s),k=v===o&&4===e.metadata;if(y=0,t.appendASCIIString('<span class="'),t.appendASCIIString(u?"mtkz":a),t.appendASCII(34),h){let e=0;{let t=v,n=b;for(;t<o;t++){const i=0|(9===r.charCodeAt(t)?d-n%d:1);e+=i,t>=c&&(n+=i)}}for(u&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(p*e)),t.appendASCIIString('px"')),t.appendASCII(62);v<o;v++){_.setPartData(v,x-w,y,S),w=0;let e;if(9===r.charCodeAt(v)){e=d-b%d|0,!i||e>1?t.write1(8594):t.write1(65515);for(let n=2;n<=e;n++)t.write1(160)}else e=1,t.write1(g);y+=e,v>=c&&(b+=e)}C=e}else{let e=0;for(t.appendASCII(62);v<o;v++){_.setPartData(v,x-w,y,S),w=0;const n=r.charCodeAt(v);let i=1,s=1;switch(n){case 9:i=d-b%d,s=i;for(let e=1;e<=i;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:m?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:Ie(n)&&s++,m&&n<32?t.write1(9216+n):m&&127===n?t.write1(9249):t.write1(n)}y+=i,e+=i,v>=c&&(b+=s)}C=e}k?w++:w=0,t.appendASCIIString("</span>")}_.setPartData(o,l.length-1,y,S),a&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new sV(_,u,s)}(function(e){const t=e.lineContent;let n,i;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(n=!0,i=e.stopRenderingLineAfter):(n=!1,i=t.length);let s=function(e,t,n){let i=[],s=0;t>0&&(i[s++]=new eV(t,"",0));for(let r=0,o=e.getCount();r<o;r++){const o=e.getEndOffset(r);if(o<=t)continue;const a=e.getClassName(r);if(o>=n){i[s++]=new eV(n,a,0);break}i[s++]=new eV(o,a,0)}return i}(e.lineTokens,e.fauxIndentLength,i);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(s=function(e,t,n,i){const s=e.continuesWithWrappedLine,r=e.fauxIndentLength,o=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,c=e.selectionsOnLine,d=1===e.renderWhitespace,h=3===e.renderWhitespace,u=e.renderSpaceWidth!==e.spaceWidth;let p=[],g=0,f=0,m=i[f].type,_=i[f].endIndex;const v=i.length;let b,y=!1,w=Le(t);-1===w?(y=!0,w=n,b=n):b=Ne(t);let C=!1,S=0,x=c&&c[S],k=a%o;for(let D=r;D<n;D++){const e=t.charCodeAt(D);let s;if(x&&D>=x.endOffset&&(S++,x=c&&c[S]),D<w||D>b)s=!0;else if(9===e)s=!0;else if(32===e)if(d)if(C)s=!0;else{const e=D+1<n?t.charCodeAt(D+1):0;s=32===e||9===e}else s=!0;else s=!1;if(s&&c&&(s=!!x&&x.startOffset<=D&&x.endOffset>D),s&&h&&(s=y||D>b),C){if(!s||!l&&k>=o){if(u){for(let e=(g>0?p[g-1].endIndex:r)+1;e<=D;e++)p[g++]=new eV(e,"mtkw",1)}else p[g++]=new eV(D,"mtkw",1);k%=o}}else(D===_||s&&D>r)&&(p[g++]=new eV(D,m,0),k%=o);for(9===e?k=o:Ie(e)?k+=2:k++,C=s;D===_;)f++,f<v&&(m=i[f].type,_=i[f].endIndex)}let E=!1;if(C)if(s&&d){let e=n>0?t.charCodeAt(n-1):0,i=n>1?t.charCodeAt(n-2):0;32===e&&32!==i&&9!==i||(E=!0)}else E=!0;if(E)if(u){for(let e=(g>0?p[g-1].endIndex:r)+1;e<=n;e++)p[g++]=new eV(e,"mtkw",1)}else p[g++]=new eV(n,"mtkw",1);else p[g++]=new eV(n,m,0);return p}(e,t,i,s));let r=0;if(e.lineDecorations.length>0){for(let t=0,n=e.lineDecorations.length;t<n;t++){const n=e.lineDecorations[t];3===n.type||1===n.type?r|=1:2===n.type&&(r|=2)}s=function(e,t,n,i){i.sort(XB.compare);const s=class{static normalize(e,t){if(0===t.length)return[];let n=[];const i=new QB;let s=0;for(let r=0,o=t.length;r<o;r++){const o=t[r];let a=o.startColumn,l=o.endColumn;const c=o.className,d=1===o.type?2:2===o.type?4:0;if(a>1){const t=e.charCodeAt(a-2);_e(t)&&a--}if(l>1){const t=e.charCodeAt(l-2);_e(t)&&l--}const h=a-1,u=l-2;s=i.consumeLowerThan(h,s,n),0===i.count&&(s=h),i.insert(u,c,d)}return i.consumeLowerThan(1073741824,s,n),n}}.normalize(e,i),r=s.length;let o=0,a=[],l=0,c=0;for(let h=0,u=n.length;h<u;h++){const e=n[h],t=e.endIndex,i=e.type,d=e.metadata;for(;o<r&&s[o].startOffset<t;){const e=s[o];if(e.startOffset>c&&(c=e.startOffset,a[l++]=new eV(c,i,d)),!(e.endOffset+1<=t)){c=t,a[l++]=new eV(c,i+" "+e.className,d|e.metadata);break}c=e.endOffset+1,a[l++]=new eV(c,i+" "+e.className,d|e.metadata),o++}t>c&&(c=t,a[l++]=new eV(c,i,d))}const d=n[n.length-1].endIndex;if(o<r&&s[o].startOffset===d){let e=[],t=0;for(;o<r&&s[o].startOffset===d;)e.push(s[o].className),t|=s[o].metadata,o++;a[l++]=new eV(c,e.join(" "),t)}return a}(t,0,s,e.lineDecorations)}e.containsRTL||(s=function(e,t,n){let i=0,s=[],r=0;if(n)for(let o=0,a=t.length;o<a;o++){const n=t[o],a=n.endIndex;if(i+50<a){const t=n.type,o=n.metadata;let l=-1,c=i;for(let n=i;n<a;n++)32===e.charCodeAt(n)&&(l=n),-1!==l&&n-c>=50&&(s[r++]=new eV(l+1,t,o),c=l+1,l=-1);c!==a&&(s[r++]=new eV(a,t,o))}else s[r++]=n;i=a}else for(let o=0,a=t.length;o<a;o++){const e=t[o],n=e.endIndex;let a=n-i;if(a>50){const t=e.type,o=e.metadata,l=Math.ceil(a/50);for(let e=1;e<l;e++){let n=i+50*e;s[r++]=new eV(n,t,o)}s[r++]=new eV(n,t,o)}else s[r++]=e;i=n}return s}(t,s,!e.isBasicASCII||e.fontLigatures));return new lV(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,i,n,s,r,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class oV{constructor(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}}function aV(e){let t=UF(1e4),n=rV(e,t);return new oV(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}class lV{constructor(e,t,n,i,s,r,o,a,l,c,d,h,u,p,g){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=i,this.isOverflowing=s,this.parts=r,this.containsForeignElements=o,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=d,this.spaceWidth=h,this.renderSpaceCharCode=u,this.renderWhitespace=p,this.renderControlCharacters=g}}class cV{constructor(e,t,n,i){this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}class dV{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}}class hV{constructor(e,t,n){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n}static getInputOffsetOfOutputPosition(e,t,n){return 0===t?n:e[t-1]+n}static getOutputPositionOfInputOffset(e,t){let n=0,i=e.length-1,s=0,r=0;for(;n<=i;){s=n+(i-n)/2|0;const o=e[s];if(r=s>0?e[s-1]:0,t<r)i=s-1;else{if(!(t>=o))break;n=s+1}}return new dV(s,t-r)}}class uV{constructor(e,t){this.tabSize=e,this.data=t}}class pV{constructor(e,t,n,i,s,r){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.startVisibleColumn=s,this.tokens=r}}class gV{constructor(e,t,n,i,s,r,o,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=n,this.continuesWithWrappedLine=i,this.isBasicASCII=gV.isBasicASCII(n,r),this.containsRTL=gV.containsRTL(n,this.isBasicASCII,s),this.tokens=o,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||Pe(e)}static containsRTL(e,t,n){return!(t||!n)&&Oe(e)}}class fV{constructor(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}class mV{constructor(e,t){this.range=e,this.options=t}}function _V(e){return!function(e){return Array.isArray(e)}(e)}function vV(e){return"string"==typeof e}function bV(e){return!vV(e)}function yV(e){return!e}function wV(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function CV(e){return e.replace(/[&<>'"_]/g,"-")}function SV(e,t){return new Error(`${e.languageId}: ${t}`)}function xV(e,t,n,i,s){let r=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,o,a,l,c,d,h,u,p){return yV(a)?yV(l)?!yV(c)&&c<i.length?wV(e,i[c]):!yV(h)&&e&&"string"==typeof e[h]?e[h]:(null===r&&(r=s.split("."),r.unshift(s)),!yV(d)&&d<r.length?wV(e,r[d]):""):wV(e,n):"$"}))}function kV(e,t){let n=t;for(;n&&n.length>0;){const t=e.tokenizer[n];if(t)return t;const i=n.lastIndexOf(".");n=i<0?null:n.substr(0,i)}return null}class EV{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new DV(e,t);let n=DV.getStackElementId(e);n.length>0&&(n+="|"),n+=t;let i=this._entries[n];return i||(i=new DV(e,t),this._entries[n]=i,i)}}EV._INSTANCE=new EV(5);class DV{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return DV._equals(this,e)}push(e){return EV.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return EV.create(this.parent,e)}}class TV{constructor(e,t){this.modeId=e,this.state=t}equals(e){return this.modeId===e.modeId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new TV(this.modeId,this.state)}}class LV{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new NV(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new NV(e,t);let n=DV.getStackElementId(e),i=this._entries[n];return i||(i=new NV(e,null),this._entries[n]=i,i)}}LV._INSTANCE=new LV(5);class NV{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:LV.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof NV&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class IV{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._language=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new ge(e,t,this._language)))}nestedModeTokenize(e,t,n,i){const s=n.modeId,r=n.state,o=fF.get(s);if(!o)return this.enterMode(i,s),this.emit(i,""),r;let a=o.tokenize(e,t,r,i);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState}finalize(e){return new pe(this._tokens,e)}}class PV{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(e,t){let n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))}static _merge(e,t,n){let i=null!==e?e.length:0,s=t.length,r=null!==n?n.length:0;if(0===i&&0===s&&0===r)return new Uint32Array(0);if(0===i&&0===s)return n;if(0===s&&0===r)return e;let o=new Uint32Array(i+s+r);null!==e&&o.set(e);for(let a=0;a<s;a++)o[i+a]=t[a];return null!==n&&o.set(n,i+s),o}nestedModeTokenize(e,t,n,i){const s=n.modeId,r=n.state,o=fF.get(s);if(!o)return this.enterMode(i,s),this.emit(i,""),r;let a=o.tokenize2(e,t,r,i);return this._prependTokens=PV._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new ue(PV._merge(this._prependTokens,this._tokens,null),e)}}class OV{constructor(e,t,n,i){this._modeService=e,this._standaloneThemeService=t,this._modeId=n,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=fF.onDidChange((e=>{if(s)return;let t=!1;for(let n=0,i=e.changedLanguages.length;n<i;n++){let i=e.changedLanguages[n];if(this._embeddedModes[i]){t=!0;break}}t&&(s=!0,fF.fire([this._modeId]),s=!1)}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const n=fF.get(t);if(n){if(n instanceof OV){const t=n.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const i=fF.getPromise(t);i&&e.push(i)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){let e=EV.create(null,this._lexer.start);return LV.create(e,null)}tokenize(e,t,n,i){let s=new IV,r=this._tokenize(e,t,n,i,s);return s.finalize(r)}tokenize2(e,t,n,i){let s=new PV(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(e,t,n,i,s);return s.finalize(r)}_tokenize(e,t,n,i,s){return n.embeddedModeData?this._nestedTokenize(e,t,n,i,s):this._myTokenize(e,t,n,i,s)}_findLeavingNestedModeOffset(e,t){let n=this._lexer.tokenizer[t.stack.state];if(!n&&(n=kV(this._lexer,t.stack.state),!n))throw SV(this._lexer,"tokenizer state is not defined: "+t.stack.state);let i=-1,s=!1;for(const r of n){if(!bV(r.action)||"@pop"!==r.action.nextEmbedded)continue;s=!0;let t=r.regex,n=r.regex.source;if("^(?:"===n.substr(0,4)&&")"===n.substr(n.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(n.substr(4,n.length-5),e)}let o=e.search(t);-1===o||0!==o&&r.matchOnlyAtLineStart||(-1===i||o<i)&&(i=o)}if(!s)throw SV(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i}_nestedTokenize(e,t,n,i,s){let r=this._findLeavingNestedModeOffset(e,n);if(-1===r){let r=s.nestedModeTokenize(e,t,n.embeddedModeData,i);return LV.create(n.stack,new TV(n.embeddedModeData.modeId,r))}let o=e.substring(0,r);o.length>0&&s.nestedModeTokenize(o,!1,n.embeddedModeData,i);let a=e.substring(r);return this._myTokenize(a,t,n,i+r,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,n,i,s){s.enterMode(i,this._modeId);const r=e.length,o=t&&this._lexer.includeLF?e+"\n":e,a=o.length;let l=n.embeddedModeData,c=n.stack,d=0,h=null,u=!0;for(;u||d<a;){const n=d,f=c.depth,m=h?h.groups.length:0,_=c.state;let v=null,b=null,y=null,w=null,C=null;if(h){v=h.matches;const e=h.groups.shift();b=e.matched,y=e.action,w=h.rule,0===h.groups.length&&(h=null)}else{if(!u&&d>=a)break;u=!1;let e=this._lexer.tokenizer[_];if(!e&&(e=kV(this._lexer,_),!e))throw SV(this._lexer,"tokenizer state is not defined: "+_);let t=o.substr(d);for(const n of e)if((0===d||!n.matchOnlyAtLineStart)&&(v=t.match(n.regex),v)){b=v[0],y=n.action;break}}if(v||(v=[""],b=""),y||(d<a&&(v=[o.charAt(d)],b=v[0]),y=this._lexer.defaultToken),null===b)break;for(d+=b.length;_V(y)&&bV(y)&&y.test;)y=y.test(b,v,_,d===a);let S=null;if("string"==typeof y||Array.isArray(y))S=y;else if(y.group)S=y.group;else if(null!==y.token&&void 0!==y.token){if(S=y.tokenSubst?xV(this._lexer,y.token,b,v,_):y.token,y.nextEmbedded)if("@pop"===y.nextEmbedded){if(!l)throw SV(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw SV(this._lexer,"cannot enter embedded mode from within an embedded mode");C=xV(this._lexer,y.nextEmbedded,b,v,_)}if(y.goBack&&(d=Math.max(0,d-y.goBack)),y.switchTo&&"string"==typeof y.switchTo){let e=xV(this._lexer,y.switchTo,b,v,_);if("@"===e[0]&&(e=e.substr(1)),!kV(this._lexer,e))throw SV(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.switchTo(e)}else{if(y.transform&&"function"==typeof y.transform)throw SV(this._lexer,"action.transform not supported");if(y.next)if("@push"===y.next){if(c.depth>=this._lexer.maxStack)throw SV(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(_)}else if("@pop"===y.next){if(c.depth<=1)throw SV(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));c=c.pop()}else if("@popall"===y.next)c=c.popall();else{let e=xV(this._lexer,y.next,b,v,_);if("@"===e[0]&&(e=e.substr(1)),!kV(this._lexer,e))throw SV(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.push(e)}}y.log&&"string"==typeof y.log&&(p=this._lexer,g=this._lexer.languageId+": "+xV(this._lexer,y.log,b,v,_),console.log(`${p.languageId}: ${g}`))}if(null===S)throw SV(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const x=n=>{let r=this._modeService.getModeIdForLanguageName(n);r&&(n=r);const o=this._getNestedEmbeddedModeData(n);if(d<a){const n=e.substr(d);return this._nestedTokenize(n,t,LV.create(c,o),i+d,s)}return LV.create(c,o)};if(Array.isArray(S)){if(h&&h.groups.length>0)throw SV(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(v.length!==S.length+1)throw SV(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let e=0;for(let t=1;t<v.length;t++)e+=v[t].length;if(e!==b.length)throw SV(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));h={rule:w,matches:v,groups:[]};for(let t=0;t<S.length;t++)h.groups[t]={action:S[t],matched:v[t+1]};d-=b.length}else{{if("@rematch"===S&&(d-=b.length,b="",v=null,S="",null!==C))return x(C);if(0===b.length){if(0===a||f!==c.depth||_!==c.state||(h?h.groups.length:0)!==m)continue;throw SV(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let e=null;if(vV(S)&&0===S.indexOf("@brackets")){let t=S.substr("@brackets".length),n=RV(this._lexer,b);if(!n)throw SV(this._lexer,"@brackets token returned but no bracket defined as: "+b);e=CV(n.token+t)}else{e=CV(""===S?"":S+this._lexer.tokenPostfix)}n<r&&s.emit(n+i,e)}if(null!==C)return x(C)}}var p,g;return LV.create(c,l)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=fF.get(t);if(e)return new TV(t,e.getInitialState())}return new TV(t||"vs.editor.nullMode",mF)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function RV(e,t){if(!t)return null;t=wV(e,t);let n=e.brackets;for(const i of n){if(i.open===t)return{token:i.token,bracketType:1};if(i.close===t)return{token:i.token,bracketType:-1}}return null}var AV;const MV=null===(AV=window.trustedTypes)||void 0===AV?void 0:AV.createPolicy("standaloneColorizer",{createHTML:e=>e});class FV{static colorizeElement(e,t,n,i){let s=(i=i||{}).theme||"vs",r=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();e.setTheme(s);let o=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+s;return this.colorize(t,o||"",r,i).then((e=>{var t;const i=null!==(t=null==MV?void 0:MV.createHTML(e))&&void 0!==t?t:e;n.innerHTML=i}),(e=>console.error(e)))}static colorize(e,t,n,i){let s=4;i&&"number"==typeof i.tabSize&&(s=i.tabSize),Re(t)&&(t=t.substr(1));let r=Ae(t),o=e.getModeId(n);if(!o)return Promise.resolve(VV(r,s));e.triggerMode(o);const a=fF.get(o);if(a)return BV(r,s,a);const l=fF.getPromise(o);return new Promise(l?(e,t)=>{l.then((n=>{BV(r,s,n).then(e,t)}),t)}:(e,t)=>{let n=null,i=null;const a=()=>{n&&(n.dispose(),n=null),i&&(i.dispose(),i=null);const a=fF.get(o);a?BV(r,s,a).then(e,t):e(VV(r,s))};i=new bO,i.cancelAndSet(a,500),n=fF.onDidChange((e=>{e.changedLanguages.indexOf(o)>=0&&a()}))})}static colorizeLine(e,t,n,i,s=4){const r=gV.isBasicASCII(e,t),o=gV.containsRTL(e,r,n);return aV(new nV(!1,!0,e,!1,r,o,0,i,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,n=4){let i=e.getLineContent(t);e.forceTokenization(t);let s=e.getLineTokens(t).inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,n)}}function BV(e,t,n){return new Promise(((i,s)=>{const r=()=>{const o=function(e,t,n){let i=[],s=n.getInitialState();for(let r=0,o=e.length;r<o;r++){let o=e[r],a=n.tokenize2(o,!0,s,0);YB.convertToEndOffset(a.tokens,o.length);let l=new YB(a.tokens,o);const c=gV.isBasicASCII(o,!0),d=gV.containsRTL(o,c,!0);let h=aV(new nV(!1,!0,o,!1,c,d,0,l.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>"),s=a.endState}return i.join("")}(e,t,n);if(n instanceof OV){const e=n.getLoadStatus();if(!1===e.loaded)return void e.promise.then(r,s)}i(o)};r()}))}function VV(e,t){let n=[];const i=new Uint32Array(2);i[0]=0,i[1]=16793600;for(let s=0,r=e.length;s<r;s++){let r=e[s];i[0]=r.length;const o=new YB(i,r),a=gV.isBasicASCII(r,!0),l=gV.containsRTL(r,a,!0);let c=aV(new nV(!1,!0,r,!1,a,l,0,o,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(c.html),n.push("<br/>")}return n.join("")}var WV,HV;(HV=WV||(WV={}))[HV.Ignore=0]="Ignore",HV[HV.Info=1]="Info",HV[HV.Warning=2]="Warning",HV[HV.Error=3]="Error",function(e){const t="error",n="warning",i="info";e.fromValue=function(s){return s?te(t,s)?e.Error:te(n,s)||te("warn",s)?e.Warning:te(i,s)?e.Info:e.Ignore:e.Ignore},e.toString=function(s){switch(s){case e.Error:return t;case e.Warning:return n;case e.Info:return i;default:return"ignore"}}}(WV||(WV={}));var UV=WV;function zV(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===$A.ICodeEditor}function jV(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===$A.IDiffEditor}function $V(e){return zV(e)?e:jV(e)?e.getModifiedEditor():null}const KV=RP("IWorkspaceEditService");class qV{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(ie(t=e)&&P.isUri(t.resource)&&ie(t.edit))return new GV(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(function(e){return ie(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new YV(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")}))}}class GV extends qV{constructor(e,t,n,i){super(i),this.resource=e,this.textEdit=t,this.versionId=n}}class YV extends qV{constructor(e,t,n,i){super(i),this.oldResource=e,this.newResource=t,this.options=n}}const ZV=new class{constructor(){this.data=new Map}add(e,t){IA(Me(e)),IA(ie(t)),IA(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},XV="base.contributions.json";const JV=new class{constructor(){this._onDidChangeSchema=new x,this.schemasById={}}registerSchema(e,t){var n;this.schemasById[(n=e,n.length>0&&"#"===n.charAt(n.length-1)?n.substring(0,n.length-1):n)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};ZV.add(XV,JV);const QV="base.contributions.configuration",eW={properties:{},patternProperties:{}},tW={properties:{},patternProperties:{}},nW={properties:{},patternProperties:{}},iW={properties:{},patternProperties:{}},sW={properties:{},patternProperties:{}},rW={properties:{},patternProperties:{}},oW=ZV.as(XV);const aW=new RegExp("\\[.*\\]$");function lW(e){return e.substring(1,e.length-1)}const cW=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new x,this._onDidUpdateConfiguration=new x,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:JI(0,"Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},oW.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const n=[];e.forEach((e=>{n.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),oW.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(e,t=!0,n,i=3){var s;i=se(e.scope)?i:e.scope;let r=[],o=e.properties;if(o)for(let l in o){if(t&&dW(l)){delete o[l];continue}const e=o[l];this.updatePropertyDefaultValue(l,e),aW.test(l)?e.scope=void 0:(e.scope=se(e.scope)?i:e.scope,e.restricted=se(e.restricted)?!!(null===(s=null==n?void 0:n.restrictedConfigurations)||void 0===s?void 0:s.includes(l)):e.restricted),!o[l].hasOwnProperty("included")||o[l].included?(this.configurationProperties[l]=o[l],!o[l].deprecationMessage&&o[l].markdownDeprecationMessage&&(o[l].deprecationMessage=o[l].markdownDeprecationMessage),r.push(l)):(this.excludedConfigurationProperties[l]=o[l],delete o[l])}let a=e.allOf;if(a)for(let l of a)r.push(...this.validateAndRegisterProperties(l,t,n,i));return r}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let n=e.properties;if(n)for(const t in n)this.updateSchema(t,n[t]);let i=e.allOf;i&&i.forEach(t)};t(e)}updateSchema(e,t){switch(eW.properties[e]=t,t.scope){case 1:tW.properties[e]=t;break;case 2:nW.properties[e]=t;break;case 6:iW.properties[e]=t;break;case 3:sW.properties[e]=t;break;case 4:rW.properties[e]=t;break;case 5:rW.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,n={type:"object",description:JI(0,"Configure editor settings to be overridden for a language."),errorMessage:JI(0,"This setting does not support per-language configuration."),$ref:"vscode://schemas/settings/resourceLanguage"};this.updatePropertyDefaultValue(t,n),eW.properties[t]=n,tW.properties[t]=n,nW.properties[t]=n,iW.properties[t]=n,sW.properties[t]=n,rW.properties[t]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let n=this.defaultValues[e];Fe(n)&&(n=t.default),Fe(n)&&(n=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=n}};function dW(e){return e.trim()?aW.test(e)?JI(0,"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==cW.getConfigurationProperties()[e]?JI(0,"Cannot register '{0}'. This property is already registered.",e):null:JI(0,"Cannot register an empty property")}ZV.add(QV,cW);const hW=Object.prototype.hasOwnProperty;class uW{constructor(){this.map=new Map}add(e,t){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)}delete(e,t){const n=this.map.get(e);n&&(n.delete(t),0===n.size&&this.map.delete(e))}forEach(e,t){const n=this.map.get(e);n&&n.forEach(t)}}const pW=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new x,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},gW=Object.hasOwnProperty;class fW{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class mW{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class _W{static readOptions(e){const t=e,n=new mW;for(const i of DP){const e="_never_"===i.name?void 0:t[i.name];n._write(i.id,e)}return n}static validateOptions(e){const t=new eP;for(const n of DP)t._write(n.id,n.validate(e._read(n.id)));return t}static computeOptions(e,t){const n=new fW;for(const i of DP)n._write(i.id,i.compute(t,n,e._read(i.id)));return n}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&gB(e,t);for(let n in e)if(!_W._deepEquals(e[n],t[n]))return!1;return!0}static checkEquals(e,t){const n=[];let i=!1;for(const s of DP){const r=!_W._deepEquals(e._read(s.id),t._read(s.id));n[s.id]=r,r&&(i=!0)}return i?new QI(n):null}}function vW(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const n=e.lineNumbers;!0===n?e.lineNumbers="on":!1===n&&(e.lineNumbers="off");!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never");"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const i=e.renderWhitespace;!0===i?e.renderWhitespace="boundary":!1===i&&(e.renderWhitespace="none");const s=e.renderLineHighlight;!0===s?e.renderLineHighlight="line":!1===s&&(e.renderLineHighlight="none");const r=e.acceptSuggestionOnEnter;!0===r?e.acceptSuggestionOnEnter="on":!1===r&&(e.acceptSuggestionOnEnter="off");const o=e.tabCompletion;!1===o?e.tabCompletion="off":!0===o&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(function(e,t){for(let n in e)if(hW.call(e,n)&&!1===t({key:n,value:e[n]},(function(){delete e[n]})))return})(e,(e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)}))}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const c=e.parameterHints;!0===c?e.parameterHints={enabled:!0}:!1===c&&(e.parameterHints={enabled:!1});const d=e.autoIndent;!0===d?e.autoIndent="full":!1===d&&(e.autoIndent="advanced");const h=e.matchBrackets;!0===h?e.matchBrackets="always":!1===h&&(e.matchBrackets="never")}function bW(e){const t=PA(e);return vW(t),t}class yW extends F{constructor(e,t){super(),this._onDidChange=this._register(new x),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new x),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new tP,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=bW(t),this._readOptions=_W.readOptions(this._rawOptions),this._validatedOptions=_W.validateOptions(this._readOptions),this._register(HA.onDidChangeZoomLevel((e=>this._recomputeOptions()))),this._register(pW.onDidChangeTabFocus((e=>this._recomputeOptions())))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const n=_W.checkEquals(e,t);if(null===n)return;this.options=t,this._onDidChangeFast.fire(n),this._onDidChange.fire(n)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=zA.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:pW.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return _W.computeOptions(this._validatedOptions,n)}static _subsetEquals(e,t){for(const n in t)if(gW.call(t,n)){const i=t[n],s=e[n];if(s===i)continue;if(Array.isArray(s)&&Array.isArray(i)){if(!gB(s,i))return!1;continue}if(s&&"object"==typeof s&&i&&"object"==typeof i){if(!this._subsetEquals(s,i))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=bW(e);yW._subsetEquals(this._rawOptions,t)||(this._rawOptions=MA(this._rawOptions,t||{}),this._readOptions=_W.readOptions(this._rawOptions),this._validatedOptions=_W.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=yW._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const wW=Object.freeze({id:"editor",order:5,type:"object",title:JI(0,"Editor"),scope:5}),CW=ZV.as(QV),SW=Object.assign(Object.assign({},wW),{properties:{"editor.tabSize":{type:"number",default:wP,minimum:1,markdownDescription:JI(0,"The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:SP,markdownDescription:JI(0,"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:xP,markdownDescription:JI(0,"Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:kP,description:JI(0,"Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:EP,description:JI(0,"Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:JI(0,"Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[JI(0,"Only suggest words from the active document."),JI(0,"Suggest words from all open documents of the same language."),JI(0,"Suggest words from all open documents.")],description:JI(0,"Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[JI(0,"Semantic highlighting enabled for all color themes."),JI(0,"Semantic highlighting disabled for all color themes."),JI(0,"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:JI(0,"Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:JI(0,"Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:JI(0,"Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:JI(0,"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:JI(0,"Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:JI(0,"When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:JI(0,"Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:JI(0,"Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[JI(0,"Lines will never wrap."),JI(0,"Lines will wrap at the viewport width."),JI(0,"Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const pCe of DP){const e=pCe.schema;if(void 0!==e)if(void 0!==(xW=e).type||void 0!==xW.anyOf)SW.properties[`editor.${pCe.name}`]=e;else for(let t in e)gW.call(e,t)&&(SW.properties[t]=e[t])}var xW;let kW=null;function EW(){return null===kW&&(kW=Object.create(null),Object.keys(SW.properties).forEach((e=>{kW[e]=!0}))),kW}CW.registerConfiguration(SW);class DW{static insert(e,t){return{range:new oe(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}const TW=RP("configurationService");function LW(e,t){const n=Object.create(null);for(let i in e)NW(n,i,e[i],t);return n}function NW(e,t,n,i){const s=t.split("."),r=s.pop();let o=e;for(let l=0;l<s.length;l++){let e=s[l],n=o[e];switch(typeof n){case"undefined":n=o[e]=Object.create(null);break;case"object":break;default:return void i(`Ignoring ${t} as ${s.slice(0,l+1).join(".")} is ${JSON.stringify(n)}`)}o=n}if("object"==typeof o&&null!==o)try{o[r]=n}catch(a){i(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(o)}`)}else i(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(o)}`)}function IW(e,t){PW(e,t.split("."))}function PW(e,t){const n=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(n)){const i=e[n];"object"!=typeof i||Array.isArray(i)||(PW(i,t),0===Object.keys(i).length&&delete e[n])}}else delete e[n]}class OW{constructor(e={},t=[],n=[]){this._contents=e,this._keys=t,this._overrides=n,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?function(e,t,n){const i=function(e,t){let n=e;for(const i of t){if("object"!=typeof n||null===n)return;n=n[i]}return n}(e,t.split("."));return void 0===i?n:i}(this.contents,e):this.contents}override(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let n={};for(const i of CB([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[i],s=t[i];s&&("object"==typeof e&&"object"==typeof s?(e=PA(e),this.mergeContents(e,s)):e=s),n[i]=e}return new OW(n,this.keys,this.overrides)}merge(...e){const t=PA(this.contents),n=PA(this.overrides),i=[...this.keys];for(const s of e){this.mergeContents(t,s.contents);for(const e of s.overrides){const[t]=n.filter((t=>gB(t.identifiers,e.identifiers)));t?this.mergeContents(t.contents,e.contents):n.push(PA(e))}for(const e of s.keys)-1===i.indexOf(e)&&i.push(e)}return new OW(t,i,n)}freeze(){return this.isFrozen=!0,this}mergeContents(e,t){for(const n of Object.keys(t))n in e&&ie(e[n])&&ie(t[n])?this.mergeContents(e[n],t[n]):e[n]=PA(t[n])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const n in e)if(OA.call(e,n)){const i=e[n];"object"!=typeof i||Object.isFrozen(i)||t.push(i)}}return e}(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),NW(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&IW(this.contents,e)}addKey(e){let t=this.keys.length;for(let n=0;n<t;n++)0===e.indexOf(this.keys[n])&&(t=n);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class RW extends OW{constructor(){const e=function(){const e=Object.create(null),t=ZV.as(QV).getConfigurationProperties();for(let n in t)NW(e,n,t[n].default,(e=>console.error(`Conflict in default settings: ${e}`)));return e}(),t=function(){const e=ZV.as(QV).getConfigurationProperties();return Object.keys(e)}(),n=[];for(const i of Object.keys(e))aW.test(i)&&n.push({identifiers:[lW(i).trim()],keys:Object.keys(e[i]),contents:LW(e[i],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(e,t,n)}}class AW{constructor(e,t,n=new OW,i=new OW,s=new jR,r=new OW,o=new jR,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=n,this._workspaceConfiguration=i,this._folderConfigurations=s,this._memoryConfiguration=r,this._memoryConfigurationByResource=o,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new jR,this._userConfiguration=null}getValue(e,t,n){return this.getConsolidateConfigurationModel(t,n).getValue(e)}updateValue(e,t,n={}){let i;n.resource?(i=this._memoryConfigurationByResource.get(n.resource),i||(i=new OW,this._memoryConfigurationByResource.set(n.resource,i))):i=this._memoryConfiguration,void 0===t?i.removeValue(e):i.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let n=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?n.override(e.overrideIdentifier):n}getConsolidatedConfigurationModelForResource({resource:e},t){let n=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const i=t.getFolder(e);i&&(n=this.getFolderConsolidatedConfiguration(i.uri)||n);const s=this._memoryConfigurationByResource.get(e);s&&(n=n.merge(s))}return n}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const n=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:n,overrides:i,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:n,overrides:i,keys:s}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),n=this.parseConfigurationModel(e.user),i=this.parseConfigurationModel(e.workspace),s=e.folders.reduce(((e,t)=>(e.set(P.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new jR);return new AW(t,n,new OW,i,s,new OW,new jR,!1)}static parseConfigurationModel(e){return new OW(e.contents,e.keys,e.overrides).freeze()}}class MW{constructor(e,t,n,i){this.change=e,this.previous=t,this.currentConfiguraiton=n,this.currentWorkspace=i,this._previousConfiguration=void 0;const s=new Set;e.keys.forEach((e=>s.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>s.add(e))))),this.affectedKeys=[...s.values()];const r=new OW;this.affectedKeys.forEach((e=>r.setValue(e,{}))),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=AW.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var n;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){return!FA(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(n=this.previous)||void 0===n?void 0:n.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}return!1}doesAffectedKeysTreeContains(e,t){let n,i=LW({[t]:!0},(()=>{}));for(;"object"==typeof i&&(n=Object.keys(i)[0]);){if(!(e=e[n]))return!1;i=i[n]}return!0}}class FW extends F{constructor(e,t,n,i,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=n,this._notificationService=i,this._logService=s,this._onDidUpdateKeybindings=this._register(new x),this._currentChord=null,this._currentChordChecker=new yO,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new bO,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:k.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e){const t=this._getResolver().lookupPrimaryKeybinding(e);if(t)return t.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const n=this.resolveKeyboardEvent(e);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[i]=n.getDispatchParts();if(null===i)return null;const s=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,r,i)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(JI(0,"({0}) was pressed. Waiting for second key of chord...",t));const n=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-n>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const n=this.resolveKeyboardEvent(e),[i]=n.getSingleModifierDispatchParts();return null!==i&&null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${i}.`),this._currentSingleModifier=i,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):null!==i&&i===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${i} ${i}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(e,t,n=!1){let i=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let s=null,r=null;if(n){const[t]=e.getSingleModifierDispatchParts();s=t,r=t}else[s]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(null===s)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),i;const o=this._contextKeyService.getContext(t),a=e.getLabel(),l=this._getResolver().resolve(o,r,s);return this._logService.trace("KeybindingService#dispatch",a,null==l?void 0:l.commandId),l&&l.enterChord?(i=!0,this._enterChordMode(s,a),i):(this._currentChord&&(l&&l.commandId||(this._notificationService.status(JI(0,"The key combination ({0}, {1}) is not a command.",this._currentChord.label,a),{hideAfter:1e4}),i=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(i=!0),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),i)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class BW{constructor(e,t,n){this._log=n,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let i=0,s=e.length;i<s;i++){const t=e[i].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=BW.combine(e,t);for(let i=0,s=this._keybindings.length;i<s;i++){let e=this._keybindings[i];0!==e.keypressParts.length&&(e.when&&0===e.when.type||this._addKeyPress(e.keypressParts[0],e))}}static _isTargetedForRemoval(e,t,n,i,s){if(e.command!==i)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(n&&e.keypressParts[1]!==n)return!1;if(s){if(!e.when)return!1;if(!s.equals(e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let n=[];for(const i of t){if(!i.command||0===i.command.length||"-"!==i.command.charAt(0)){n.push(i);continue}const t=i.command.substr(1),s=i.keypressParts[0],r=i.keypressParts[1],o=i.when;for(let n=e.length-1;n>=0;n--)this._isTargetedForRemoval(e[n],s,r,t,o)&&e.splice(n,1)}return e.concat(n)}_addKeyPress(e,t){const n=this._map.get(e);if(void 0===n)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let i=n.length-1;i>=0;i--){let e=n[i];if(e.command===t.command)continue;const s=e.keypressParts.length>1,r=t.keypressParts.length>1;s&&r&&e.keypressParts[1]!==t.keypressParts[1]||BW.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}n.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let n=0,i=t.length;n<i;n++)if(t[n]===e)return void t.splice(n,1)}static whenIsEntirelyIncluded(e,t){return!t||!!e&&this._implies(e,t)}static _implies(e,t){const n=e=>9===e.type?e.expr:[e];let i=n(e.negate()).concat(n(t));for(let s=0;s<i.length;s++){const e=i[s].negate();for(let t=s+1;t<i.length;t++){const n=i[t];if(e.equals(n))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e){let t=this._lookupMap.get(e);return void 0===t||0===t.length?null:t[t.length-1]}resolve(e,t,n){this._log(`| Resolving ${n}${t?` chorded from ${t}`:""}`);let i=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;i=[];for(let t=0,s=e.length;t<s;t++){let s=e[t];s.keypressParts[1]===n&&i.push(s)}}else{const e=this._map.get(n);if(void 0===e)return this._log("\\ No keybinding entries."),null;i=e}let s=this._findCommand(e,i);return s?null===t&&s.keypressParts.length>1&&null!==s.keypressParts[1]?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${VW(s.when)}, source: ${WW(s)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${s.command}, when: ${VW(s.when)}, source: ${WW(s)}.`),{enterChord:!1,leaveChord:s.keypressParts.length>1,commandId:s.command,commandArgs:s.commandArgs,bubble:s.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let n=t.length-1;n>=0;n--){let i=t[n];if(BW.contextMatchesRules(e,i.when))return i}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function VW(e){return e?`${e.serialize()}`:"no when condition"}function WW(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}class HW{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===Be){if(e&&e.win)return e.win}else if(2===Be){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=HW.bindToCurrentPlatform(e);if(t&&t.primary){const n=Ve(t.primary,Be);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let n=0,i=t.secondary.length;n<i;n++){const i=t.secondary[n],s=Ve(i,Be);s&&this._registerDefaultKeybinding(s,e.id,e.args,e.weight,-n-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),vA.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&HW._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,n,i,s,r){1===Be&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:n,when:r,weight1:i,weight2:s,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(zW)),this._cachedMergedKeybindings.slice(0)}}const UW=new HW;function zW(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}ZV.add("platform.keybindingsRegistry",UW);class jW{constructor(e,t,n,i,s,r,o){this.resolvedKeybinding=e,this.keypressParts=e?$W(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=$W(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=i,this.isDefault=s,this.extensionId=r,this.isBuiltinExtension=o}}function $W(e){let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i)return t;t.push(i)}return t}class KW{constructor(e,t,n=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}toLabel(e,t,n){if(0===t.length)return null;const i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=n(r);if(null===o)return null;i[s]=YW(r,o,this.modifierLabels[e])}return i.join(" ")}}const qW=new KW({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:JI(0,"Ctrl"),shiftKey:JI(0,"Shift"),altKey:JI(0,"Alt"),metaKey:JI(0,"Windows"),separator:"+"},{ctrlKey:JI(0,"Ctrl"),shiftKey:JI(0,"Shift"),altKey:JI(0,"Alt"),metaKey:JI(0,"Super"),separator:"+"}),GW=new KW({ctrlKey:JI(0,"Control"),shiftKey:JI(0,"Shift"),altKey:JI(0,"Alt"),metaKey:JI(0,"Command"),separator:"+"},{ctrlKey:JI(0,"Control"),shiftKey:JI(0,"Shift"),altKey:JI(0,"Alt"),metaKey:JI(0,"Windows"),separator:"+"},{ctrlKey:JI(0,"Control"),shiftKey:JI(0,"Shift"),altKey:JI(0,"Alt"),metaKey:JI(0,"Super"),separator:"+"});function YW(e,t,n){if(null===t)return"";const i=[];return e.ctrlKey&&i.push(n.ctrlKey),e.shiftKey&&i.push(n.shiftKey),e.altKey&&i.push(n.altKey),e.metaKey&&i.push(n.metaKey),""!==t&&i.push(t),i.join(n.separator)}class ZW extends We{constructor(e,t){if(super(),0===t.length)throw He("parts");this._os=e,this._parts=t}getLabel(){return qW.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return GW.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new Ue(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}class XW extends ZW{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return D.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":D.toString(e.keyCode)}_getDispatchPart(e){return XW.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=D.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}}const JW=RP("notificationService");const QW=RP("contextService");class eH{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var tH,nH,iH,sH,rH,oH,aH,lH,cH,dH,hH,uH,pH;(nH=tH||(tH={})).noSelection=JI(0,"No selection"),nH.singleSelectionRange=JI(0,"Line {0}, Column {1} ({2} selected)"),nH.singleSelection=JI(0,"Line {0}, Column {1}"),nH.multiSelectionRange=JI(0,"{0} selections ({1} characters selected)"),nH.multiSelection=JI(0,"{0} selections"),nH.emergencyConfOn=JI(0,"Now changing the setting `accessibilitySupport` to 'on'."),nH.openingDocs=JI(0,"Now opening the Editor Accessibility documentation page."),nH.readonlyDiffEditor=JI(0," in a read-only pane of a diff editor."),nH.editableDiffEditor=JI(0," in a pane of a diff editor."),nH.readonlyEditor=JI(0," in a read-only code editor"),nH.editableEditor=JI(0," in a code editor"),nH.changeConfigToOnMac=JI(0,"To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),nH.changeConfigToOnWinLinux=JI(0,"To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),nH.auto_on=JI(0,"The editor is configured to be optimized for usage with a Screen Reader."),nH.auto_off=JI(0,"The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),nH.tabFocusModeOnMsg=JI(0,"Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),nH.tabFocusModeOnMsgNoKb=JI(0,"Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),nH.tabFocusModeOffMsg=JI(0,"Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),nH.tabFocusModeOffMsgNoKb=JI(0,"Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),nH.openDocMac=JI(0,"Press Command+H now to open a browser window with more information related to editor accessibility."),nH.openDocWinLinux=JI(0,"Press Control+H now to open a browser window with more information related to editor accessibility."),nH.outroMsg=JI(0,"You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),nH.showAccessibilityHelpAction=JI(0,"Show Accessibility Help"),(iH||(iH={})).inspectTokensAction=JI(0,"Developer: Inspect Tokens"),(sH||(sH={})).gotoLineActionLabel=JI(0,"Go to Line/Column..."),(rH||(rH={})).helpQuickAccessActionLabel=JI(0,"Show all Quick Access Providers"),(aH=oH||(oH={})).quickCommandActionLabel=JI(0,"Command Palette"),aH.quickCommandHelp=JI(0,"Show And Run Commands"),(cH=lH||(lH={})).quickOutlineActionLabel=JI(0,"Go to Symbol..."),cH.quickOutlineByCategoryActionLabel=JI(0,"Go to Symbol by Category..."),(hH=dH||(dH={})).editorViewAccessibleLabel=JI(0,"Editor content"),hH.accessibilityHelpMessage=JI(0,"Press Alt+F1 for Accessibility Options."),(uH||(uH={})).toggleHighContrast=JI(0,"Toggle High Contrast Theme"),(pH||(pH={})).bulkEditServiceSummary=JI(0,"Made {0} edits in {1} files");var gH=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},fH=function(e,t){return function(n,i){t(n,i,e)}},mH=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class _H{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new x}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let vH=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var n,i,s;return this.editor&&(n=this.editor,i=t=>this.findModel(t,e),s=t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e),t=zV(n)?i(n):s(n)),t?Promise.resolve(new ze(new _H(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let n=this.modelService.getModel(t);return n&&n.uri.toString()!==t.toString()?null:n}};vH=gH([fH(0,CM)],vH);class bH{show(){return bH.NULL_PROGRESS_RUNNER}showWhile(e,t){return mH(this,void 0,void 0,(function*(){yield e}))}}bH.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class yH{confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,n,i){return Promise.resolve({choice:0})}}class wH{info(e){return this.notify({severity:UV.Info,message:e})}warn(e){return this.notify({severity:UV.Warning,message:e})}error(e){return this.notify({severity:UV.Error,message:e})}notify(e){switch(e.severity){case UV.Error:console.error(e.message);break;case UV.Warning:console.warn(e.message);break;default:console.log(e.message)}return wH.NO_OP}status(e,t){return F.None}}wH.NO_OP=new class{};class CH{constructor(e){this._onWillExecuteCommand=new x,this._onDidExecuteCommand=new x,this._instantiationService=e}executeCommand(e,...t){const n=vA.getCommand(e);if(!n)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const i=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(i)}catch(i){return Promise.reject(i)}}}class SH extends FW{constructor(e,t,n,i,s,r){super(e,t,n,i,s),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(RO(r,_R.KEY_DOWN,(e=>{const t=new iO(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),this._register(RO(window,_R.KEY_UP,(e=>{const t=new iO(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()})))}addDynamicKeybinding(e,t,n,i){const s=Ve(t,Be),r=new B;return s&&(this._dynamicKeybindings.push({keybinding:s,command:e,when:i,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add(I((()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}})))),r.add(vA.registerCommand(e,n)),this.updateResolver({source:1}),r}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(UW.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new BW(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let n=[],i=0;for(const s of e){const e=s.when||void 0,r=s.keybinding;if(r){const o=this.resolveKeybinding(r);for(const r of o)n[i++]=new jW(r,s.command,s.commandArgs,e,t,null,!1)}else n[i++]=new jW(void 0,s.command,s.commandArgs,e,t,null,!1)}return n}resolveKeybinding(e){return[new XW(e,Be)]}resolveKeyboardEvent(e){let t=new E(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new XW(t,Be)}}function xH(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof P)}class kH{constructor(){this._onDidChangeConfiguration=new x,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new AW(new RW,new OW)}getValue(e,t){const n="string"==typeof e?e:void 0,i=xH(e)?e:xH(t)?t:{};return this._configuration.getValue(n,i,void 0)}updateValues(e){const t={data:this._configuration.toData()};let n=[];for(const i of e){const[e,t]=i;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),n.push(e))}if(n.length>0){const e=new MW({keys:n,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class EH{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new x,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,n)=>e.affectsConfiguration(n)})}))}getValue(e,t,n){const i=(je.isIPosition(t)?t:null)?"string"==typeof n?n:void 0:"string"==typeof t?t:void 0;return void 0===i?this.configurationService.getValue():this.configurationService.getValue(i)}}let DH=class{constructor(e){this.configurationService=e}getEOL(e,t){const n=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return n&&"auto"!==n?n:w||S?"\n":"\r\n"}};DH=gH([fH(0,TW)],DH);class TH{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class LH{constructor(){const e=P.from({scheme:LH.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new eH({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function NH(e,t,n){if(!t)return;if(!(e instanceof kH))return;let i=[];Object.keys(t).forEach((e=>{(function(e){return EW()[`editor.${e}`]||!1})(e)&&i.push([`editor.${e}`,t[e]]),n&&function(e){return EW()[`diffEditor.${e}`]||!1}(e)&&i.push([`diffEditor.${e}`,t[e]])})),i.length>0&&e.updateValues(i)}LH.SCHEME="inmemory";class IH{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return mH(this,void 0,void 0,(function*(){const t=new Map;for(let s of e){if(!(s instanceof GV))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(s.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof s.versionId&&e.getVersionId()!==s.versionId)throw new Error("bad state - model changed in the meantime");let n=t.get(e);n||(n=[],t.set(e,n)),n.push(DW.replaceMove(oe.lift(s.textEdit.range),s.textEdit.text))}let n=0,i=0;for(const[e,s]of t)e.pushStackElement(),e.pushEditOperations([],s,(()=>[])),e.pushStackElement(),i+=1,n+=s.length;return{ariaSummary:$e(pH.bulkEditServiceSummary,n,i)}}))}}class PH{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class OH{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=k.None}get dimension(){return this._dimension||(this._dimension=GO(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}let RH,AH,MH,FH,BH;function VH(e){RH&&(AH.textContent!==e?(IO(MH),HH(AH,e)):(IO(AH),HH(MH,e)))}function WH(e){RH&&(S?VH(e):FH.textContent!==e?(IO(BH),HH(FH,e)):(IO(FH),HH(BH,e)))}function HH(e,t){IO(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}const UH=RP("markerDecorationsService");var zH=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class jH extends F{constructor(e,t="",n="",i=!0,s){super(),this._onDidChange=this._register(new x),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=e,this._label=t,this._cssClass=n,this._enabled=i,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return zH(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class $H extends F{constructor(){super(...arguments),this._onBeforeRun=this._register(new x),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new x),this.onDidRun=this._onDidRun.event}run(e,t){return zH(this,void 0,void 0,(function*(){if(!e.enabled)return;let n;this._onBeforeRun.fire({action:e});try{yield this.runAction(e,t)}catch(i){n=i}this._onDidRun.fire({action:e,error:n})}))}runAction(e,t){return zH(this,void 0,void 0,(function*(){yield e.run(t)}))}}class KH extends jH{constructor(e){super(KH.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}KH.ID="vs.actions.separator";class qH{constructor(e,t,n,i){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=i,this._actions=n}get actions(){return this._actions}dispose(){}run(){return zH(this,void 0,void 0,(function*(){}))}}class GH extends jH{constructor(){super(GH.ID,JI(0,"(empty)"),void 0,!1)}}GH.ID="vs.actions.empty";let YH=Ke||"";const ZH=new Map;ZH.set("false",!1),ZH.set("true",!0),ZH.set("isMac",S),ZH.set("isLinux",w),ZH.set("isWindows",T),ZH.set("isWeb",O),ZH.set("isMacNative",S&&!O),ZH.set("isEdge",YH.indexOf("Edg/")>=0),ZH.set("isFirefox",YH.indexOf("Firefox")>=0),ZH.set("isChrome",YH.indexOf("Chrome")>=0),ZH.set("isSafari",YH.indexOf("Safari")>=0),ZH.set("isIPad",YH.indexOf("iPad")>=0);const XH=Object.prototype.hasOwnProperty;class JH{static has(e){return nU.create(e)}static equals(e,t){return iU.create(e,t)}static regex(e,t){return uU.create(e,t)}static not(e){return aU.create(e)}static and(...e){return gU.create(e)}static or(...e){return fU.create(e)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let n=e.split("||");return fU.create(n.map((e=>this._deserializeAndExpression(e,t))))}static _deserializeAndExpression(e,t){let n=e.split("&&");return gU.create(n.map((e=>this._deserializeOne(e,t))))}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let n=e.split("!=");return oU.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("==")>=0){let n=e.split("==");return iU.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("=~")>=0){let n=e.split("=~");return uU.create(n[0].trim(),this._deserializeRegexValue(n[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return sU.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return cU.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return lU.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return hU.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return dU.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?aU.create(e.substr(1).trim()):nU.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let n=/^'([^']*)'$/.exec(e);return n?n[1].trim():e}static _deserializeRegexValue(e,t){if(qe(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let n=e.indexOf("/"),i=e.lastIndexOf("/");if(n===i||n<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let s=e.slice(n+1,i),r="i"===e[i+1]?"i":"";try{return new RegExp(s,r)}catch(o){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${o}`);return console.warn(`bad regexp-value '${e}', parse error: ${o}`),null}}}function QH(e,t){return e.cmp(t)}class eU{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return tU.INSTANCE}}eU.INSTANCE=new eU;class tU{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return eU.INSTANCE}}tU.INSTANCE=new tU;class nU{constructor(e){this.key=e,this.type=2}static create(e){const t=ZH.get(e);return"boolean"==typeof t?t?tU.INSTANCE:eU.INSTANCE:new nU(e)}cmp(e){return e.type!==this.type?this.type-e.type:vU(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return aU.create(this.key)}}class iU{constructor(e,t){this.key=e,this.value=t,this.type=4}static create(e,t){if("boolean"==typeof t)return t?nU.create(e):aU.create(e);const n=ZH.get(e);if("boolean"==typeof n){return t===(n?"true":"false")?tU.INSTANCE:eU.INSTANCE}return new iU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return oU.create(this.key,this.value)}}class sU{constructor(e,t){this.key=e,this.valueKey=t,this.type=10}static create(e,t){return new sU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}evaluate(e){const t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.indexOf(n)>=0:"string"==typeof n&&"object"==typeof t&&null!==t&&XH.call(t,n)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return rU.create(this)}}class rU{constructor(e){this._actual=e,this.type=11}static create(e){return new rU(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class oU{constructor(e,t){this.key=e,this.value=t,this.type=5}static create(e,t){if("boolean"==typeof t)return t?aU.create(e):nU.create(e);const n=ZH.get(e);if("boolean"==typeof n){return t===(n?"true":"false")?eU.INSTANCE:tU.INSTANCE}return new oU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return iU.create(this.key,this.value)}}class aU{constructor(e){this.key=e,this.type=3}static create(e){const t=ZH.get(e);return"boolean"==typeof t?t?eU.INSTANCE:tU.INSTANCE:new aU(e)}cmp(e){return e.type!==this.type?this.type-e.type:vU(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return nU.create(this.key)}}class lU{constructor(e,t){this.key=e,this.value=t,this.type=12}static create(e,t){return new lU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return hU.create(this.key,this.value)}}class cU{constructor(e,t){this.key=e,this.value=t,this.type=13}static create(e,t){return new cU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return dU.create(this.key,this.value)}}class dU{constructor(e,t){this.key=e,this.value=t,this.type=14}static create(e,t){return new dU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return cU.create(this.key,this.value)}}class hU{constructor(e,t){this.key=e,this.value=t,this.type=15}static create(e,t){return new hU(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bU(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return lU.create(this.key,this.value)}}class uU{constructor(e,t){this.key=e,this.regexp=t,this.type=7}static create(e,t){return new uU(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return pU.create(this)}}class pU{constructor(e){this._actual=e,this.type=8}static create(e){return new pU(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class gU{constructor(e){this.expr=e,this.type=6}static create(e){return gU._normalizeArr(e)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const n=QH(this.expr[t],e.expr[t]);if(0!==n)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e){const t=[];let n=!1;for(const i of e)if(i)if(1!==i.type){if(0===i.type)return eU.INSTANCE;6!==i.type?t.push(i):t.push(...i.expr)}else n=!0;if(0===t.length&&n)return tU.INSTANCE;if(0!==t.length){if(1===t.length)return t[0];for(t.sort(QH);t.length>1;){const e=t[t.length-1];if(9!==e.type)break;t.pop();const n=t.pop(),i=fU.create(e.expr.map((e=>gU.create([e,n]))));i&&(t.push(i),t.sort(QH))}return 1===t.length?t[0]:new gU(t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());return fU.create(e)}}class fU{constructor(e){this.expr=e,this.type=9}static create(e){const t=fU._normalizeArr(e);if(0!==t.length)return 1===t.length?t[0]:new fU(t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const n=QH(this.expr[t],e.expr[t]);if(0!==n)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e){let t=[],n=!1;if(e){for(let i=0,s=e.length;i<s;i++){const s=e[i];if(s)if(0!==s.type){if(1===s.type)return[tU.INSTANCE];9!==s.type?t.push(s):t=t.concat(s.expr)}else n=!0}if(0===t.length&&n)return[eU.INSTANCE];t.sort(QH)}return t}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let n of this.expr)e.push(n.negate());const t=e=>9===e.type?e.expr:[e];for(;e.length>1;){const n=e.shift(),i=e.shift(),s=[];for(const e of t(n))for(const n of t(i))s.push(JH.and(e,n));e.unshift(JH.or(...s))}return e[0]}}class mU extends nU{constructor(e,t,n){super(e),this._defaultValue=t,"object"==typeof n?mU._info.push(Object.assign(Object.assign({},n),{key:e})):!0!==n&&mU._info.push({key:e,description:n,type:null!=t?typeof t:void 0})}static all(){return mU._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return JH.not(this.key)}isEqualTo(e){return JH.equals(this.key,e)}}mU._info=[];const _U=RP("contextKeyService");function vU(e,t){return e<t?-1:e>t?1:0}function bU(e,t,n,i){return e<n?-1:e>n?1:t<i?-1:t>i?1:0}var yU,wU;(wU=yU||(yU={})).DARK="dark",wU.LIGHT="light",wU.HIGH_CONTRAST="hc";const CU=RP("themeService");var SU,xU;function kU(e){return{id:e}}function EU(e){switch(e){case yU.DARK:return"vs-dark";case yU.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(SU||(SU={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||SU.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${IM.iconNameExpression}(?:${IM.iconModifierExpression})?)\\)$`);e.fromString=function(e){const n=t.exec(e);if(!n)return;let[,i]=n;return{id:i}},e.modify=function(e,t){let n=e.id;const i=n.lastIndexOf("~");return-1!==i&&(n=n.substring(0,i)),t&&(n=`${n}~${t}`),{id:n}},e.isEqual=function(e,t){var n,i;return e.id===t.id&&(null===(n=e.color)||void 0===n?void 0:n.id)===(null===(i=t.color)||void 0===i?void 0:i.id)},e.asClassNameArray=IM.asClassNameArray,e.asClassName=IM.asClassName,e.asCSSSelector=IM.asCSSSelector}(xU||(xU={}));const DU="base.contributions.theming";let TU=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new x}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),I((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function LU(e){return TU.onColorThemeChange(e)}ZV.add(DU,TU);class NU extends F{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var IU=function(e,t){return function(n,i){t(n,i,e)}};function PU(e){return void 0!==e.command}class OU{constructor(e){this.id=OU._idPool++,this._debugName=e}}OU._idPool=0,OU.CommandPalette=new OU("CommandPalette"),OU.EditorContext=new OU("EditorContext"),OU.EditorContextCopy=new OU("EditorContextCopy"),OU.EditorContextPeek=new OU("EditorContextPeek"),OU.MenubarEditMenu=new OU("MenubarEditMenu"),OU.MenubarCopy=new OU("MenubarCopy"),OU.MenubarGoMenu=new OU("MenubarGoMenu"),OU.MenubarSelectionMenu=new OU("MenubarSelectionMenu");const RU=RP("menuService"),AU=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new x,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===OU.CommandPalette}}addCommand(e){return this.addCommands(ee.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),I((()=>{let t=!1;for(const n of e)t=this._commands.delete(n.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,n)=>e.set(n,t))),e}appendMenuItem(e,t){return this.appendMenuItems(ee.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,n=new Q;for(const{id:i,item:s}of e){let e=this._menuItems.get(i);e||(e=new Q,this._menuItems.set(i,e)),n.push(e.push(s)),t.add(i)}return this._onDidChangeMenu.fire(t),I((()=>{if(n.size>0){for(let e of n)e();this._onDidChangeMenu.fire(t),n.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===OU.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const n of e)PU(n)&&(t.add(n.command.id),n.alt&&t.add(n.alt.id));this._commands.forEach(((n,i)=>{t.has(i)||e.push({command:n})}))}};class MU extends qH{constructor(e,t,n,i){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=n,this._options=i}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),n=t.getActions(this._options);t.dispose();for(const[,i]of n)i.length>0&&(e.push(...i),e.push(new KH));return e.length&&e.pop(),e}}let FU=class e{constructor(t,n,i,s,r){var o;if(this._commandService=r,this.id=t.id,this.label="string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(o=t.tooltip)&&void 0!==o?o:"",this.enabled=!t.precondition||s.contextMatchesRules(t.precondition),this.checked=!1,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=s.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=n?new e(n,void 0,i,s,r):void 0,this._options=i,xU.isThemeIcon(t.icon)&&(this.class=IM.asClassName(t.icon))}dispose(){}run(...e){var t,n;let i=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(i=[...i,this._options.arg]),(null===(n=this._options)||void 0===n?void 0:n.shouldForwardArgs)&&(i=[...i,...e]),this._commandService.executeCommand(this.id,...i)}};FU=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([IU(3,_U),IU(4,_A)],FU);const BU=RP("telemetryService");class VU{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=this._kbOpts.kbExpr;this.precondition&&(e=e?JH.and(e,this.precondition):this.precondition),UW.registerCommandAndKeybindingRule({id:this.id,handler:(e,t)=>this.runCommand(e,t),weight:this._kbOpts.weight,args:this._kbOpts.args,when:e,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else vA.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){AU.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class WU extends VU{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,n){return this._implementations.push({priority:e,name:t,implementation:n}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===n)return void this._implementations.splice(e,1)}}}runCommand(e,t){const n=e.get(IB);for(const i of this._implementations){const s=i.implementation(e,t);if(s){if(n.trace(`Command '${this.id}' was handled by '${i.name}'.`),"boolean"==typeof s)return;return s}}}}class HU extends VU{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class UU extends VU{static bindToContribution(e){return class extends UU{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,n,i){e(n)&&this._callback(e(n),i)}}}runCommand(e,t){const n=e.get(MP),i=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(i)return i.invokeWithinContext((e=>{if(e.get(_U).contextMatchesRules(Ge(this.precondition)))return this.runEditorCommand(e,i,t)}))}}class zU extends UU{constructor(e){super(zU.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function n(t){return t.menuId||(t.menuId=OU.EditorContext),t.title||(t.title=e.label),t.when=JH.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(n)):e.contextMenuOpts&&t.push(n(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,n){return this.reportTelemetry(e,t),this.run(e,t,n||{})}reportTelemetry(e,t){e.get(BU).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class jU extends zU{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,n){for(const i of this._implementations){const s=i[1](e,t,n);if(s){if("boolean"==typeof s)return;return s}}}}function $U(e,t){vA.registerCommand(e,(function(e,...n){const[i,s]=n;Ye(P.isUri(i)),Ye(je.isIPosition(s));const r=e.get(CM).getModel(i);if(r){const e=je.lift(s);return t(r,e,...n.slice(2))}return e.get(CF).createModelReference(i).then((e=>new Promise(((i,r)=>{try{i(t(e.object.textEditorModel,je.lift(s),n.slice(2)))}catch(o){r(o)}})).finally((()=>{e.dispose()}))))}))}function KU(e){return QU.INSTANCE.registerEditorCommand(e),e}function qU(e){const t=new e;return QU.INSTANCE.registerEditorAction(t),t}function GU(e){return QU.INSTANCE.registerEditorAction(e),e}function YU(e){QU.INSTANCE.registerEditorAction(e)}function ZU(e,t){QU.INSTANCE.registerEditorContribution(e,t)}var XU,JU;(JU=XU||(XU={})).getEditorCommand=function(e){return QU.INSTANCE.getEditorCommand(e)},JU.getEditorActions=function(){return QU.INSTANCE.getEditorActions()},JU.getEditorContributions=function(){return QU.INSTANCE.getEditorContributions()},JU.getSomeEditorContributions=function(e){return QU.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},JU.getDiffEditorContributions=function(){return QU.INSTANCE.getDiffEditorContributions()};class QU{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function ez(e){return e.register(),e}QU.INSTANCE=new QU,ZV.add("editor.contributions",QU.INSTANCE);const tz=ez(new WU({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:OU.MenubarEditMenu,group:"1_do",title:JI(0,"&&Undo"),order:1},{menuId:OU.CommandPalette,group:"",title:JI(0,"Undo"),order:1}]}));ez(new HU(tz,{id:"default:undo",precondition:void 0}));const nz=ez(new WU({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:OU.MenubarEditMenu,group:"1_do",title:JI(0,"&&Redo"),order:2},{menuId:OU.CommandPalette,group:"",title:JI(0,"Redo"),order:1}]}));ez(new HU(nz,{id:"default:redo",precondition:void 0}));const iz=ez(new WU({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:OU.MenubarSelectionMenu,group:"1_basic",title:JI(0,"&&Select All"),order:1},{menuId:OU.CommandPalette,group:"",title:JI(0,"Select All"),order:1}]}));let sz=class{constructor(e,t){}dispose(){}};var rz,oz;sz.ID="editor.contrib.markerDecorations",sz=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([(rz=1,oz=UH,function(e,t){oz(e,t,rz)})],sz),ZU(sz.ID,sz);class az{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class lz{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);const n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight="bold",n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(n);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",e.appendChild(i);const s=[];for(const r of this._requests){let e;0===r.type&&(e=t),2===r.type&&(e=n),1===r.type&&(e=i),e.appendChild(document.createElement("br"));const o=document.createElement("span");lz._render(o,r),e.appendChild(o),s.push(o)}this._container=e,this._testElements=s}static _render(e,t){if(" "===t.chr){let t="";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let n=t.chr;for(let e=0;e<8;e++)n+=n;e.textContent=n}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],n=this._testElements[e];t.fulfill(n.offsetWidth/256)}}}class cz extends F{constructor(e,t,n){super(),this.referenceDomElement=e,this.changeCallback=n,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver((e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()})),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval((()=>this.observe()),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this.width===n&&this.height===i||(this.width=n,this.height=i,e&&this.changeCallback())}}class dz{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const n=e.getId();this._keys[n]=e,this._values[n]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}class hz extends F{constructor(){super(),this._onDidChange=this._register(new x),this.onDidChange=this._onDidChange.event,this._cache=new dz,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new dz,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const n of e)n.isTrusted||(t=!0,this._cache.remove(n));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=hz._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new jA({zoomLevel:BP(),pixelRatio:WP(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,n,i){const s=new az(e,t);return n.push(s),i&&i.push(s),s}static _actualReadConfiguration(e){const t=[],n=[],i=this.createRequest("n",0,t,n),s=this.createRequest("",0,t,null),r=this.createRequest(" ",0,t,n),o=this.createRequest("0",0,t,n),a=this.createRequest("1",0,t,n),l=this.createRequest("2",0,t,n),c=this.createRequest("3",0,t,n),d=this.createRequest("4",0,t,n),h=this.createRequest("5",0,t,n),u=this.createRequest("6",0,t,n),p=this.createRequest("7",0,t,n),g=this.createRequest("8",0,t,n),f=this.createRequest("9",0,t,n),m=this.createRequest("",0,t,n),_=this.createRequest("",0,t,null),v=this.createRequest("",0,t,n),b=this.createRequest(String.fromCharCode(11825),0,t,null);this.createRequest("|",0,t,n),this.createRequest("/",0,t,n),this.createRequest("-",0,t,n),this.createRequest("_",0,t,n),this.createRequest("i",0,t,n),this.createRequest("l",0,t,n),this.createRequest("m",0,t,n),this.createRequest("|",1,t,n),this.createRequest("_",1,t,n),this.createRequest("i",1,t,n),this.createRequest("l",1,t,n),this.createRequest("m",1,t,n),this.createRequest("n",1,t,n),this.createRequest("|",2,t,n),this.createRequest("_",2,t,n),this.createRequest("i",2,t,n),this.createRequest("l",2,t,n),this.createRequest("m",2,t,n),this.createRequest("n",2,t,n),function(e,t){new lz(e,t).read()}(e,t);const y=Math.max(o.width,a.width,l.width,c.width,d.width,h.width,u.width,p.width,g.width,f.width);let w=e.fontFeatureSettings===fP.OFF;const C=n[0].width;for(let k=1,E=n.length;w&&k<E;k++){const e=C-n[k].width;if(e<-.001||e>.001){w=!1;break}}let S=!0;w&&_.width!==C&&(S=!1),_.width>m.width&&(S=!1);const x=FP.INSTANCE.getTimeSinceLastZoomLevelChanged()>2e3;return new jA({zoomLevel:BP(),pixelRatio:WP(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:w,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:S,spaceWidth:r.width,middotWidth:v.width,wsmiddotWidth:b.width,maxDigitWidth:y},x)}}hz.INSTANCE=new hz;class uz extends yW{constructor(e,t,n=null,i){super(e,t),this.accessibilityService=i,this._elementSizeObserver=this._register(new cz(n,t.dimension,(()=>this._recomputeOptions()))),this._register(hz.INSTANCE.onDidChange((()=>this._recomputeOptions()))),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(VP((e=>this._recomputeOptions()))),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions()))),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return $P||KP||(e+="no-user-select "),$P&&(e+="no-minimap-shadow "),S&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:uz._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:zP||UP,pixelRatio:WP(),zoomLevel:BP(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return hz.INSTANCE.readConfiguration(e)}}class pz{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function gz(e){return new pz(e)}let fz=0;function mz(e,t,n){return function(){const e="$memoize"+fz++;let t;const n=function(n,i,s){let r=null,o=null;if("function"==typeof s.value?(r="value",o=s.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof s.get&&(r="get",o=s.get),!o)throw new Error("not supported");const a=`${e}:${i}`;s[r]=function(...e){return t=this,this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!0,enumerable:!1,writable:!0,value:o.apply(this,e)}),this[a]}};return n.clear=()=>{void 0!==t&&Object.getOwnPropertyNames(t).forEach((n=>{0===n.indexOf(e)&&delete t[n]}))},n}()(e,t,n)}var _z,vz;(vz=_z||(_z={})).Tap="-monaco-gesturetap",vz.Change="-monaco-gesturechange",vz.Start="-monaco-gesturestart",vz.End="-monaco-gesturesend",vz.Contextmenu="-monaco-gesturecontextmenu";class bz extends F{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(RO(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(RO(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(RO(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){return bz.isTouchDevice()?(bz.INSTANCE||(bz.INSTANCE=new bz),bz.INSTANCE.targets.push(e),{dispose:()=>{bz.INSTANCE.targets=bz.INSTANCE.targets.filter((t=>t!==e))}}):F.None}static ignoreTarget(e){return bz.isTouchDevice()?(bz.INSTANCE||(bz.INSTANCE=new bz),bz.INSTANCE.ignoreTargets.push(e),{dispose:()=>{bz.INSTANCE.ignoreTargets=bz.INSTANCE.ignoreTargets.filter((t=>t!==e))}}):F.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=e.targetTouches.length;n<i;n++){let i=e.targetTouches.item(n);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:t,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[t],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};let s=this.newGestureEvent(_z.Start,i.target);s.pageX=i.pageX,s.pageY=i.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,s=e.changedTouches.length;i<s;i++){let s=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let r=this.activeTouches[s.identifier],o=Date.now()-r.initialTimeStamp;if(o<bz.HOLD_DELAY&&Math.abs(r.initialPageX-pB(r.rollingPageX))<30&&Math.abs(r.initialPageY-pB(r.rollingPageY))<30){let e=this.newGestureEvent(_z.Tap,r.initialTarget);e.pageX=pB(r.rollingPageX),e.pageY=pB(r.rollingPageY),this.dispatchEvent(e)}else if(o>=bz.HOLD_DELAY&&Math.abs(r.initialPageX-pB(r.rollingPageX))<30&&Math.abs(r.initialPageY-pB(r.rollingPageY))<30){let e=this.newGestureEvent(_z.Contextmenu,r.initialTarget);e.pageX=pB(r.rollingPageX),e.pageY=pB(r.rollingPageY),this.dispatchEvent(e)}else if(1===n){let e=pB(r.rollingPageX),n=pB(r.rollingPageY),i=pB(r.rollingTimestamps)-r.rollingTimestamps[0],s=e-r.rollingPageX[0],o=n-r.rollingPageY[0];const a=this.targets.filter((e=>r.initialTarget instanceof Node&&e.contains(r.initialTarget)));this.inertia(a,t,Math.abs(s)/i,s>0?1:-1,e,Math.abs(o)/i,o>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(_z.End,r.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===_z.Tap){const t=(new Date).getTime();let n=0;n=t-this._lastSetTapCountTime>bz.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=n}else e.type!==_z.Change&&e.type!==_z.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach((t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}))}inertia(e,t,n,i,s,r,o,a){this.handle=HO((()=>{let l=Date.now(),c=l-t,d=0,h=0,u=!0;n+=bz.SCROLL_FRICTION*c,r+=bz.SCROLL_FRICTION*c,n>0&&(u=!1,d=i*n*c),r>0&&(u=!1,h=o*r*c);let p=this.newGestureEvent(_z.Change);p.translationX=d,p.translationY=h,e.forEach((e=>e.dispatchEvent(p))),u||this.inertia(e,l,n,i,s+d,r,o,a+h)}))}onTouchMove(e){let t=Date.now();for(let n=0,i=e.changedTouches.length;n<i;n++){let i=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}let s=this.activeTouches[i.identifier],r=this.newGestureEvent(_z.Change,s.initialTarget);r.translationX=i.pageX-pB(s.rollingPageX),r.translationY=i.pageY-pB(s.rollingPageY),r.pageX=i.pageX,r.pageY=i.pageY,this.dispatchEvent(r),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(i.pageX),s.rollingPageY.push(i.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}function yz(e,t){let n=new lO(t);return n.preventDefault(),{leftButton:n.leftButton,buttons:n.buttons,posx:n.posx,posy:n.posy}}bz.SCROLL_FRICTION=-.005,bz.HOLD_DELAY=700,bz.CLEAR_TAP_COUNT_TIME=400,function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);r>3&&o&&Object.defineProperty(t,n,o)}([mz],bz,"isTouchDevice",null);class wz{constructor(){this._hooks=new B,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,n,i,s){if(this.isMonitoring())return;this._mouseMoveEventMerger=n,this._mouseMoveCallback=i,this._onStopCallback=s;const r=aO.getSameOriginWindowChain(),o=r.map((e=>e.window.document)),a=cR(e);a&&o.unshift(a);for(const l of o)this._hooks.add(KO(l,"mousemove",(e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)}),((e,t)=>this._mouseMoveEventMerger(e,t)))),this._hooks.add(RO(l,"mouseup",(e=>this.stopMonitoring(!0))));if(aO.hasDifferentOriginAncestor()){let e=r[r.length-1];this._hooks.add(RO(e.window.document,"mouseout",(e=>{"html"===new lO(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(RO(e.window.document,"mouseover",(e=>{"html"===new lO(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(RO(e.window.document.body,"mouseleave",(e=>{this.stopMonitoring(!0)})))}}}class Cz{constructor(e,t){this.x=e,this.y=t}toClientCoordinates(){return new Sz(this.x-QO.scrollX,this.y-QO.scrollY)}}class Sz{constructor(e,t){this.clientX=e,this.clientY=t}toPageCoordinates(){return new Cz(this.clientX+QO.scrollX,this.clientY+QO.scrollY)}}class xz{constructor(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}}function kz(e){const t=JO(e);return new xz(t.left,t.top,t.width,t.height)}class Ez extends lO{constructor(e,t){super(e),this.pos=new Cz(this.posx,this.posy),this.editorPos=kz(t)}}class Dz{constructor(e){this._editorViewDomNode=e}_create(e){return new Ez(e,this._editorViewDomNode)}onContextMenu(e,t){return RO(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return RO(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return RO(e,"mousedown",(e=>{t(this._create(e))}))}onMouseLeave(e,t){return VO(e,(e=>{t(this._create(e))}))}onMouseMoveThrottled(e,t,n,i){return KO(e,"mousemove",t,((e,t)=>n(e,this._create(t))),i)}}class Tz{constructor(e){this._editorViewDomNode=e}_create(e){return new Ez(e,this._editorViewDomNode)}onPointerUp(e,t){return RO(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return RO(e,"pointerdown",(e=>{t(this._create(e))}))}onPointerLeave(e,t){return i=e=>{t(this._create(e))},RO(n=e,"pointerout",(e=>{let t=e.relatedTarget;for(;t&&t!==n;)t=t.parentNode;t!==n&&i(e)}));var n,i}onPointerMoveThrottled(e,t,n,i){return KO(e,"pointermove",t,((e,t)=>n(e,this._create(t))),i)}}class Lz extends F{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new wz),this._keydownListener=null}startMonitoring(e,t,n,i,s){this._keydownListener=MO(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,((e,t)=>n(e,new Ez(t,this._editorViewDomNode))),i,(e=>{this._keydownListener.dispose(),s(e)}))}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class Nz extends F{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,i=e.length;n<i;n++){let i=e[n];switch(i.type){case 0:this.onCompositionStart(i)&&(t=!0);break;case 1:this.onCompositionEnd(i)&&(t=!0);break;case 2:this.onConfigurationChanged(i)&&(t=!0);break;case 3:this.onCursorStateChanged(i)&&(t=!0);break;case 4:this.onDecorationsChanged(i)&&(t=!0);break;case 5:this.onFlushed(i)&&(t=!0);break;case 6:this.onFocusChanged(i)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(t=!0);break;case 8:this.onLineMappingChanged(i)&&(t=!0);break;case 9:this.onLinesChanged(i)&&(t=!0);break;case 10:this.onLinesDeleted(i)&&(t=!0);break;case 11:this.onLinesInserted(i)&&(t=!0);break;case 12:this.onRevealRangeRequest(i)&&(t=!0);break;case 13:this.onScrollChanged(i)&&(t=!0);break;case 15:this.onTokensChanged(i)&&(t=!0);break;case 14:this.onThemeChanged(i)&&(t=!0);break;case 16:this.onTokensColorsChanged(i)&&(t=!0);break;case 17:this.onZonesChanged(i)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(i)}}t&&(this._shouldRender=!0)}}class Iz extends Nz{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Pz{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let n=[],i=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n[i++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(i);for(let r=0;r<i;r++)s[r]=n[i-r-1];return s}}class Oz extends class{constructor(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,n){super(e,t),this._viewLines=n}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class Rz{constructor(e,t,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n}}class Az{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class Mz{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class Fz{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class Bz{constructor(e,t){this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class Vz{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,n,i,s){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(n,i),r.getClientRects()}catch(o){return null}finally{this._detachRange(r,s)}}static _mergeAdjacentRanges(e){if(1===e.length)return[new Az(e[0].left,e[0].width)];e.sort(Bz.compare);let t=[],n=0,i=e[0].left,s=e[0].width;for(let r=1,o=e.length;r<o;r++){const o=e[r],a=o.left,l=o.width;i+s+.9>=a?s=Math.max(s,a+l-i):(t[n++]=new Az(i,s),i=a,s=l)}return t[n++]=new Az(i,s),t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const n=[];for(let i=0,s=e.length;i<s;i++){const s=e[i];n[i]=new Bz(Math.max(0,s.left-t),s.width)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,n,i,s,r,o){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(i=Math.min(a,Math.max(0,i)))&&n===s&&0===n&&!e.children[t].firstChild){const n=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(n,r)}t!==i&&i>0&&0===s&&(i--,s=1073741824);let l=e.children[t].firstChild,c=e.children[i].firstChild;if(l&&c||(!l&&0===n&&t>0&&(l=e.children[t-1].firstChild,n=1073741824),!c&&0===s&&i>0&&(c=e.children[i-1].firstChild,s=1073741824)),!l||!c)return null;n=Math.min(l.textContent.length,Math.max(0,n)),s=Math.min(c.textContent.length,Math.max(0,s));const d=this._readClientRects(l,n,c,s,o);return this._createHorizontalRangesFromClientRects(d,r)}}const Wz=!!R||!(w||UP||$P);let Hz=!0;class Uz{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class zz{constructor(e,t){this.themeType=t;const n=e.options,i=n.get(40);this.renderWhitespace=n.get(85),this.renderControlCharacters=n.get(79),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.useMonospaceOptimizations=i.isMonospace&&!n.get(27),this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=n.get(55),this.stopRenderingLineAfter=n.get(102),this.fontLigatures=n.get(41)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class jz{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=gz(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(this._options.themeType===yU.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,n,i){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const s=n.getViewLineRenderingData(e),r=this._options,o=XB.filter(s.inlineDecorations,e,s.minColumn,s.maxColumn);let a=null;if(r.themeType===yU.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const t=n.selections;for(const n of t){if(n.endLineNumber<e||n.startLineNumber>e)continue;const t=n.startLineNumber===e?n.startColumn:s.minColumn,i=n.endLineNumber===e?n.endColumn:s.maxColumn;t<i&&(r.themeType===yU.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?o.push(new XB(t,i,"inline-selected-text",0)):(a||(a=[]),a.push(new tV(t-1,i-1))))}}const l=new nV(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,s.minColumn-1,s.tokens,o,s.tabSize,s.startVisibleColumn,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==fP.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;i.appendASCIIString('<div style="top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;height:"),i.appendASCIIString(String(this._options.lineHeight)),i.appendASCIIString('px;" class="'),i.appendASCIIString(jz.CLASS_NAME),i.appendASCIIString('">');const c=rV(l,i);i.appendASCIIString("</div>");let d=null;return Hz&&Wz&&s.isBasicASCII&&r.useMonospaceOptimizations&&0===c.containsForeignElements&&s.content.length<300&&l.lineTokens.getCount()<100&&(d=new $z(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping)),d||(d=Gz(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=d,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof $z}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof $z?this._renderedViewLine.monospaceAssumptionsAreValid():Hz}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof $z&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,n){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));const i=0|this._renderedViewLine.input.stopRenderingLineAfter;let s=!1;-1!==i&&e>i+1&&t>i+1&&(s=!0),-1!==i&&e>i+1&&(e=i+1),-1!==i&&t>i+1&&(t=i+1);const r=this._renderedViewLine.getVisibleRangesForRange(e,t,n);return r&&r.length>0?new Fz(s,r):null}getColumnOfNodeOffset(e,t,n){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,n):1}}jz.CLASS_NAME="view-line";class $z{constructor(e,t,n){this.domNode=e,this.input=t,this._characterMapping=n,this._charWidth=t.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Hz;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Hz=!1),Hz}toSlowRenderedLine(){return Gz(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,n){const i=this._getCharPosition(e),s=this._getCharPosition(t);return[new Az(i,s-i)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])}getColumnOfNodeOffset(e,t,n){const i=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.partDataToCharOffset(s,i,n)+1}}class Kz{constructor(e,t,n,i,s){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const i=this._readPixelOffset(this.domNode,e,n);if(-1===i)return null;const s=this._readPixelOffset(this.domNode,t,n);return-1===s?null:[new Az(i,s-i)]}return this._readVisibleRangesForRange(this.domNode,e,t,n)}_readVisibleRangesForRange(e,t,n,i){if(t===n){const n=this._readPixelOffset(e,t,i);return-1===n?null:[new Az(n,0)]}return this._readRawVisibleRangesForRange(e,t,n,i)}_readPixelOffset(e,t,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const i=this._pixelOffsetCache[t];if(-1!==i)return i;const s=this._actualReadPixelOffset(e,t,n);return this._pixelOffsetCache[t]=s,s}return this._actualReadPixelOffset(e,t,n)}_actualReadPixelOffset(e,t,n){if(0===this._characterMapping.length){const t=Vz.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.endNode);return t&&0!==t.length?t[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const i=this._characterMapping.charOffsetToPartData(t-1),s=iV.getPartIndex(i),r=iV.getCharIndex(i),o=Vz.readHorizontalRanges(this._getReadingTarget(e),s,r,s,r,n.clientRectDeltaLeft,n.endNode);if(!o||0===o.length)return-1;const a=o[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffsets(),n=Math.round(this.input.spaceWidth*e[t-1]);if(Math.abs(n-a)<=1)return n}return a}_readRawVisibleRangesForRange(e,t,n,i){if(1===t&&n===this._characterMapping.length)return[new Az(0,this.getWidth())];const s=this._characterMapping.charOffsetToPartData(t-1),r=iV.getPartIndex(s),o=iV.getCharIndex(s),a=this._characterMapping.charOffsetToPartData(n-1),l=iV.getPartIndex(a),c=iV.getCharIndex(a);return Vz.readHorizontalRanges(this._getReadingTarget(e),r,o,l,c,i.clientRectDeltaLeft,i.endNode)}getColumnOfNodeOffset(e,t,n){const i=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.partDataToCharOffset(s,i,n)+1}}class qz extends Kz{_readVisibleRangesForRange(e,t,n,i){const s=super._readVisibleRangesForRange(e,t,n,i);if(!s||0===s.length||t===n||1===t&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){const t=this._readPixelOffset(e,n,i);if(-1!==t){const e=s[s.length-1];e.left<t&&(e.width=t-e.left)}}return s}}const Gz=zP?Yz:Zz;function Yz(e,t,n,i,s){return new qz(e,t,n,i,s)}function Zz(e,t,n,i,s){return new Kz(e,t,n,i,s)}function Xz(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Jz{constructor(e,t,n,i){this.oldPosition=e,this.oldText=t,this.newPosition=n,this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Xz(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Xz(this.oldText)}")`:`(replace@${this.oldPosition} "${Xz(this.oldText)}" with "${Xz(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const i=t.length;eA(e,i,n),n+=4;for(let s=0;s<i;s++)JR(e,t.charCodeAt(s),n),n+=2;return n}static _readString(e,t){const n=QR(e,t);return zF(e,t+=4,n)}writeSize(){return 8+Jz._writeStringSize(this.oldText)+Jz._writeStringSize(this.newText)}write(e,t){return eA(e,this.oldPosition,t),t+=4,eA(e,this.newPosition,t),t+=4,t=Jz._writeString(e,this.oldText,t),t=Jz._writeString(e,this.newText,t)}static read(e,t,n){const i=QR(e,t),s=QR(e,t+=4);t+=4;const r=Jz._readString(e,t);t+=Jz._writeStringSize(r);const o=Jz._readString(e,t);return t+=Jz._writeStringSize(o),n.push(new Jz(i,r,s,o)),t}}class Qz{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),i=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===n){this._acceptCurr(i),i=this._getCurr(++t);continue}if(null===i){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++t);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldPosition<n.newPosition){const[e,t]=Qz._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(e),i=t;continue}if(n.newPosition<i.oldPosition){const[e,t]=Qz._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(e),n=t;continue}let s,r;if(i.oldEnd===n.newEnd)s=n,r=i,n=this._getPrev(++e),i=this._getCurr(++t);else if(i.oldEnd<n.newEnd){const[e,o]=Qz._splitPrev(n,i.oldLength);s=e,r=i,n=o,i=this._getCurr(++t)}else{const[t,o]=Qz._splitCurr(i,n.newLength);s=n,r=t,n=this._getPrev(++e),i=o}this._result[this._resultLen++]=new Jz(s.oldPosition,s.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=s.newLength-s.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const s=Qz._merge(this._result);return Qz._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=Qz._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Qz._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Jz(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Jz(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t),i=e.newText.substr(t);return[new Jz(e.oldPosition,e.oldText,e.newPosition,n),new Jz(e.oldEnd,"",e.newPosition+t,i)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t),i=e.oldText.substr(t);return[new Jz(e.oldPosition,n,e.newPosition,e.newText),new Jz(e.oldPosition+t,i,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],n=0,i=e[0];for(let s=1;s<e.length;s++){const r=e[s];i.oldEnd===r.oldPosition?i=new Jz(i.oldPosition,i.oldText+r.oldText,i.newPosition,i.newText+r.newText):(t[n++]=i,i=r)}return t[n++]=i,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],n=0;for(let i=0;i<e.length;i++){const s=e[i];s.oldText!==s.newText&&(t[n++]=s)}return t}}function ej(e){return e.toString()}class tj{constructor(e,t,n,i,s,r,o){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=i,this.beforeCursorState=s,this.afterCursorState=r,this.changes=o}static create(e,t){const n=e.getAlternativeVersionId(),i=ij(e);return new tj(n,n,i,i,t,t,[])}append(e,t,n,i,s){var r,o;t.length>0&&(this.changes=(r=this.changes,o=t,null===r||0===r.length?o:new Qz(r,o).compress())),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,n){if(eA(e,t?t.length:0,n),n+=4,t)for(const i of t)eA(e,i.selectionStartLineNumber,n),n+=4,eA(e,i.selectionStartColumn,n),n+=4,eA(e,i.positionLineNumber,n),n+=4,eA(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const i=QR(e,t);t+=4;for(let s=0;s<i;s++){const i=QR(e,t),s=QR(e,t+=4),r=QR(e,t+=4),o=QR(e,t+=4);t+=4,n.push(new Ze(i,s,r,o))}return t}serialize(){let e=10+tj._writeSelectionsSize(this.beforeCursorState)+tj._writeSelectionsSize(this.afterCursorState)+4;for(const i of this.changes)e+=i.writeSize();const t=new Uint8Array(e);let n=0;eA(t,this.beforeVersionId,n),n+=4,eA(t,this.afterVersionId,n),n+=4,nA(t,this.beforeEOL,n),n+=1,nA(t,this.afterEOL,n),n+=1,n=tj._writeSelections(t,this.beforeCursorState,n),n=tj._writeSelections(t,this.afterCursorState,n),eA(t,this.changes.length,n),n+=4;for(const i of this.changes)n=i.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const i=QR(t,n);n+=4;const s=QR(t,n);n+=4;const r=tA(t,n);n+=1;const o=tA(t,n);n+=1;const a=[];n=tj._readSelections(t,n,a);const l=[];n=tj._readSelections(t,n,l);const c=QR(t,n);n+=4;const d=[];for(let h=0;h<c;h++)n=Jz.read(t,n,d);return new tj(i,s,r,o,a,l,d)}}class nj{constructor(e,t){this.model=e,this._data=tj.create(e,t)}get type(){return 0}get resource(){return P.isUri(this.model)?this.model:this.model.uri}get label(){return JI(0,"Typing")}toString(){return(this._data instanceof tj?this._data:tj.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(P.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof tj}append(e,t,n,i,s){this._data instanceof tj&&this._data.append(e,t,n,i,s)}close(){this._data instanceof tj&&(this._data=this._data.serialize())}open(){this._data instanceof tj||(this._data=tj.deserialize(this._data))}undo(){if(P.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof tj&&(this._data=this._data.serialize());const e=tj.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(P.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof tj&&(this._data=this._data.serialize());const e=tj.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof tj&&(this._data=this._data.serialize()),this._data.byteLength+168}}function ij(e){return"\n"===e.getEOL()?0:1}function sj(e){return!!e&&(e instanceof nj||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const e=ej(n.resource);this._editStackElementsMap.set(e,n)}this._delegate=null}get resources(){return this._editStackElementsArr.map((e=>e.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=ej(e);return this._editStackElementsMap.has(t)}setModel(e){const t=ej(P.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=ej(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,n,i,s){const r=ej(e.uri);this._editStackElementsMap.get(r).append(e,t,n,i,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=ej(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${dA(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class rj{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);sj(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);sj(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(sj(t)&&t.canAppend(this._model))return t;const n=new nj(this._model,e);return this._undoRedoService.pushElement(n),n}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],ij(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n){const i=this._getOrCreateEditStackElement(e),s=this._model.applyEdits(t,!0),r=rj._computeCursorState(n,s),o=s.map(((e,t)=>({index:t,textChange:e.textChange})));return o.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),i.append(this._model,o.map((e=>e.textChange)),ij(this._model),this._model.getAlternativeVersionId(),r),r}static _computeCursorState(e,t){try{return e?e(t):null}catch(n){return V(n),null}}}class oj{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function aj(e,t,n,i,s){let r;for(s.spacesDiff=0,s.looksLikeAlignment=!1,r=0;r<t&&r<i;r++){if(e.charCodeAt(r)!==n.charCodeAt(r))break}let o=0,a=0;for(let u=r;u<t;u++){32===e.charCodeAt(u)?o++:a++}let l=0,c=0;for(let u=r;u<i;u++){32===n.charCodeAt(u)?l++:c++}if(o>0&&a>0)return;if(l>0&&c>0)return;let d=Math.abs(a-c),h=Math.abs(o-l);if(0===d)return s.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(s.looksLikeAlignment=!0));h%d!=0||(s.spacesDiff=h/d)}function lj(e,t,n){const i=Math.min(e.getLineCount(),1e4);let s=0,r=0,o="",a=0;const l=[2,4,6,8,3,5,7];let c=[0,0,0,0,0,0,0,0,0],d=new oj;for(let p=1;p<=i;p++){let i=e.getLineLength(p),l=e.getLineContent(p);const h=i<=65536;let u=!1,g=0,f=0,m=0;for(let t=0,n=i;t<n;t++){let n=h?l.charCodeAt(t):e.getLineCharCode(p,t);if(9===n)m++;else{if(32!==n){u=!0,g=t;break}f++}}if(!u)continue;if(m>0?s++:f>1&&r++,aj(o,a,l,g,d),d.looksLikeAlignment&&(!n||t!==d.spacesDiff))continue;let _=d.spacesDiff;_<=8&&c[_]++,o=l,a=g}let h=n;s!==r&&(h=s<r);let u=t;if(h){let e=h?0:.1*i;l.forEach((t=>{let n=c[t];n>e&&(e=n,u=t)})),4===u&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(u=2)}return{insertSpaces:h,tabSize:u}}function cj(e){return(1&e.metadata)>>>0}function dj(e,t){e.metadata=254&e.metadata|t<<0}function hj(e){return(2&e.metadata)>>>1==1}function uj(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function pj(e){return(4&e.metadata)>>>2==1}function gj(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function fj(e){return(8&e.metadata)>>>3==1}function mj(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function _j(e,t){e.metadata=207&e.metadata|t<<4}function vj(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}class bj{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,dj(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,gj(this,!1),_j(this,1),mj(this,!1),vj(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,uj(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;let t=this.options.className;gj(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),_j(this,this.options.stickiness),mj(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),vj(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const yj=new bj(null,0,0);yj.parent=yj,yj.left=yj,yj.right=yj,dj(yj,0);class wj{constructor(){this.root=yj,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,s){return this.root===yj?[]:function(e,t,n,i,s,r){let o=e.root,a=0,l=0,c=0,d=0,h=[],u=0;for(;o!==yj;)if(hj(o))uj(o.left,!1),uj(o.right,!1),o===o.parent.right&&(a-=o.parent.delta),o=o.parent;else{if(!hj(o.left)){if(l=a+o.maxEnd,l<t){uj(o,!0);continue}if(o.left!==yj){o=o.left;continue}}if(c=a+o.start,c>n)uj(o,!0);else{if(d=a+o.end,d>=t){o.setCachedOffsets(c,d,r);let e=!0;i&&o.ownerId&&o.ownerId!==i&&(e=!1),s&&pj(o)&&(e=!1),e&&(h[u++]=o)}uj(o,!0),o.right===yj||hj(o.right)||(a+=o.delta,o=o.right)}}return uj(e.root,!1),h}(this,e,t,n,i,s)}search(e,t,n){return this.root===yj?[]:function(e,t,n,i){let s=e.root,r=0,o=0,a=0,l=[],c=0;for(;s!==yj;){if(hj(s)){uj(s.left,!1),uj(s.right,!1),s===s.parent.right&&(r-=s.parent.delta),s=s.parent;continue}if(s.left!==yj&&!hj(s.left)){s=s.left;continue}o=r+s.start,a=r+s.end,s.setCachedOffsets(o,a,i);let e=!0;t&&s.ownerId&&s.ownerId!==t&&(e=!1),n&&pj(s)&&(e=!1),e&&(l[c++]=s),uj(s,!0),s.right===yj||hj(s.right)||(r+=s.delta,s=s.right)}return uj(e.root,!1),l}(this,e,t,n)}collectNodesFromOwner(e){return function(e,t){let n=e.root,i=[],s=0;for(;n!==yj;)hj(n)?(uj(n.left,!1),uj(n.right,!1),n=n.parent):n.left===yj||hj(n.left)?(n.ownerId===t&&(i[s++]=n),uj(n,!0),n.right===yj||hj(n.right)||(n=n.right)):n=n.left;return uj(e.root,!1),i}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,n=[],i=0;for(;t!==yj;)hj(t)?(uj(t.left,!1),uj(t.right,!1),t=t.parent):t.left===yj||hj(t.left)?t.right===yj||hj(t.right)?(n[i++]=t,uj(t,!0)):t=t.right:t=t.left;return uj(e.root,!1),n}(this)}insert(e){xj(this,e),this._normalizeDeltaIfNecessary()}delete(e){kj(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let i=0;for(;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;const s=n.start+i,r=n.end+i;n.setCachedOffsets(s,r,t)}acceptReplace(e,t,n,i){const s=function(e,t,n){let i=e.root,s=0,r=0,o=0,a=0,l=[],c=0;for(;i!==yj;)if(hj(i))uj(i.left,!1),uj(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;else{if(!hj(i.left)){if(r=s+i.maxEnd,r<t){uj(i,!0);continue}if(i.left!==yj){i=i.left;continue}}o=s+i.start,o>n?uj(i,!0):(a=s+i.end,a>=t&&(i.setCachedOffsets(o,a,0),l[c++]=i),uj(i,!0),i.right===yj||hj(i.right)||(s+=i.delta,i=i.right))}return uj(e.root,!1),l}(this,e,e+t);for(let r=0,o=s.length;r<o;r++){kj(this,s[r])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){let s=e.root,r=0,o=0,a=0;const l=i-(n-t);for(;s!==yj;)if(hj(s))uj(s.left,!1),uj(s.right,!1),s===s.parent.right&&(r-=s.parent.delta),Nj(s),s=s.parent;else{if(!hj(s.left)){if(o=r+s.maxEnd,o<t){uj(s,!0);continue}if(s.left!==yj){s=s.left;continue}}a=r+s.start,a>n?(s.start+=l,s.end+=l,s.delta+=l,(s.delta<-1073741824||s.delta>1073741824)&&(e.requestNormalizeDelta=!0),uj(s,!0)):(uj(s,!0),s.right===yj||hj(s.right)||(r+=s.delta,s=s.right))}uj(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let r=0,o=s.length;r<o;r++){const o=s[r];o.start=o.cachedAbsoluteStart,o.end=o.cachedAbsoluteEnd,Sj(o,e,e+t,n,i),o.maxEnd=o.end,xj(this,o)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,n=0;for(;t!==yj;)t.left===yj||hj(t.left)?t.right===yj||hj(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,Nj(t),uj(t,!0),uj(t.left,!1),uj(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;uj(e.root,!1)}(this))}}function Cj(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function Sj(e,t,n,i,s){const r=function(e){return(48&e.metadata)>>>4}(e),o=0===r||2===r,a=1===r||2===r,l=n-t,c=i,d=Math.min(l,c),h=e.start;let u=!1;const p=e.end;let g=!1;t<=h&&p<=n&&function(e){return(64&e.metadata)>>>6==1}(e)&&(e.start=t,u=!0,e.end=t,g=!0);{const e=s?1:l>0?2:0;!u&&Cj(h,o,t,e)&&(u=!0),!g&&Cj(p,a,t,e)&&(g=!0)}if(d>0&&!s){const e=l>c?2:0;!u&&Cj(h,o,t+d,e)&&(u=!0),!g&&Cj(p,a,t+d,e)&&(g=!0)}{const i=s?1:0;!u&&Cj(h,o,n,i)&&(e.start=t+c,u=!0),!g&&Cj(p,a,n,i)&&(e.end=t+c,g=!0)}const f=c-l;u||(e.start=Math.max(0,h+f)),g||(e.end=Math.max(0,p+f)),e.start>e.end&&(e.end=e.start)}function xj(e,t){if(e.root===yj)return t.parent=yj,t.left=yj,t.right=yj,dj(t,0),e.root=t,e.root;!function(e,t){let n=0,i=e.root;const s=t.start,r=t.end;for(;;){if(Pj(s,r,i.start+n,i.end+n)<0){if(i.left===yj){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===yj){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=yj,t.right=yj,dj(t,1)}(e,t),Ij(t.parent);let n=t;for(;n!==e.root&&1===cj(n.parent);)if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;1===cj(t)?(dj(n.parent,0),dj(t,0),dj(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,Dj(e,n)),dj(n.parent,0),dj(n.parent.parent,1),Tj(e,n.parent.parent))}else{const t=n.parent.parent.left;1===cj(t)?(dj(n.parent,0),dj(t,0),dj(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,Tj(e,n)),dj(n.parent,0),dj(n.parent.parent,1),Dj(e,n.parent.parent))}return dj(e.root,0),t}function kj(e,t){let n,i;if(t.left===yj?(n=t.right,i=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===yj?(n=t.left,i=t):(i=function(e){for(;e.left!==yj;)e=e.left;return e}(t.right),n=i.right,n.start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,dj(n,0),t.detach(),Ej(),Nj(n),void(e.root.parent=yj);let s,r=1===cj(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,dj(i,cj(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==yj&&(i.left.parent=i),i.right!==yj&&(i.right.parent=i)),t.detach(),r)return Ij(n.parent),i!==t&&(Ij(i),Ij(i.parent)),void Ej();for(Ij(n),Ij(n.parent),i!==t&&(Ij(i),Ij(i.parent));n!==e.root&&0===cj(n);)n===n.parent.left?(s=n.parent.right,1===cj(s)&&(dj(s,0),dj(n.parent,1),Dj(e,n.parent),s=n.parent.right),0===cj(s.left)&&0===cj(s.right)?(dj(s,1),n=n.parent):(0===cj(s.right)&&(dj(s.left,0),dj(s,1),Tj(e,s),s=n.parent.right),dj(s,cj(n.parent)),dj(n.parent,0),dj(s.right,0),Dj(e,n.parent),n=e.root)):(s=n.parent.left,1===cj(s)&&(dj(s,0),dj(n.parent,1),Tj(e,n.parent),s=n.parent.left),0===cj(s.left)&&0===cj(s.right)?(dj(s,1),n=n.parent):(0===cj(s.left)&&(dj(s.right,0),dj(s,1),Dj(e,s),s=n.parent.left),dj(s,cj(n.parent)),dj(n.parent,0),dj(s.left,0),Tj(e,n.parent),n=e.root));dj(n,0),Ej()}function Ej(){yj.parent=yj,yj.delta=0,yj.start=0,yj.end=0}function Dj(e,t){const n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==yj&&(n.left.parent=t),n.parent=t.parent,t.parent===yj?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,Nj(t),Nj(n)}function Tj(e,t){const n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==yj&&(n.right.parent=t),n.parent=t.parent,t.parent===yj?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,Nj(t),Nj(n)}function Lj(e){let t=e.end;if(e.left!==yj){const n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==yj){const n=e.right.maxEnd+e.delta;n>t&&(t=n)}return t}function Nj(e){e.maxEnd=Lj(e)}function Ij(e){for(;e!==yj;){const t=Lj(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function Pj(e,t,n,i){return e===n?t-i:e-n}class Oj{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Rj)return Aj(this.right);let e=this;for(;e.parent!==Rj&&e.parent.left!==e;)e=e.parent;return e.parent===Rj?Rj:e.parent}prev(){if(this.left!==Rj)return Mj(this.left);let e=this;for(;e.parent!==Rj&&e.parent.right!==e;)e=e.parent;return e.parent===Rj?Rj:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Rj=new Oj(null,0);function Aj(e){for(;e.left!==Rj;)e=e.left;return e}function Mj(e){for(;e.right!==Rj;)e=e.right;return e}function Fj(e){return e===Rj?0:e.size_left+e.piece.length+Fj(e.right)}function Bj(e){return e===Rj?0:e.lf_left+e.piece.lineFeedCnt+Bj(e.right)}function Vj(){Rj.parent=Rj}function Wj(e,t){let n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==Rj&&(n.left.parent=t),n.parent=t.parent,t.parent===Rj?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function Hj(e,t){let n=t.left;t.left=n.right,n.right!==Rj&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===Rj?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function Uj(e,t){let n,i;if(t.left===Rj?(i=t,n=i.right):t.right===Rj?(i=t,n=i.left):(i=Aj(t.right),n=i.right),i===e.root)return e.root=n,n.color=0,t.detach(),Vj(),void(e.root.parent=Rj);let s,r=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,$j(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,$j(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==Rj&&(i.left.parent=i),i.right!==Rj&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,$j(e,i)),t.detach(),n.parent.left===n){let t=Fj(n),i=Bj(n);if(t!==n.parent.size_left||i!==n.parent.lf_left){let s=t-n.parent.size_left,r=i-n.parent.lf_left;n.parent.size_left=t,n.parent.lf_left=i,jj(e,n.parent,s,r)}}if($j(e,n.parent),r)Vj();else{for(;n!==e.root&&0===n.color;)n===n.parent.left?(s=n.parent.right,1===s.color&&(s.color=0,n.parent.color=1,Wj(e,n.parent),s=n.parent.right),0===s.left.color&&0===s.right.color?(s.color=1,n=n.parent):(0===s.right.color&&(s.left.color=0,s.color=1,Hj(e,s),s=n.parent.right),s.color=n.parent.color,n.parent.color=0,s.right.color=0,Wj(e,n.parent),n=e.root)):(s=n.parent.left,1===s.color&&(s.color=0,n.parent.color=1,Hj(e,n.parent),s=n.parent.left),0===s.left.color&&0===s.right.color?(s.color=1,n=n.parent):(0===s.left.color&&(s.right.color=0,s.color=1,Wj(e,s),s=n.parent.left),s.color=n.parent.color,n.parent.color=0,s.left.color=0,Hj(e,n.parent),n=e.root));n.color=0,Vj()}}function zj(e,t){for($j(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&Wj(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,Hj(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&Hj(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,Wj(e,t.parent.parent))}e.root.color=0}function jj(e,t,n,i){for(;t!==e.root&&t!==Rj;)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function $j(e,t){let n=0,i=0;if(t!==e.root){if(0===n){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;n=Fj((t=t.parent).left)-t.size_left,i=Bj(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i}for(;t!==e.root&&(0!==n||0!==i);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}Rj.parent=Rj,Rj.left=Rj,Rj.right=Rj,Rj.color=0;class Kj extends Xe{constructor(e){super(0);for(let t=0,n=e.length;t<n;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const qj=function(e){let t={};return n=>(t.hasOwnProperty(n)||(t[n]=e(n)),t[n])}((e=>new Kj(e)));class Gj{constructor(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,n=e.length;t<n;t++){if(92===e.charCodeAt(t)){if(t++,t>=n)break;const i=e.charCodeAt(t);if(110===i||114===i||87===i||119===i)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=be(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(i){return null}if(!t)return null;let n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new Yj(t,this.wordSeparators?qj(this.wordSeparators):null,n?this.searchString:null)}}class Yj{constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}function Zj(e,t,n){if(!n)return new XA(e,null);let i=[];for(let s=0,r=t.length;s<r;s++)i[s]=t[s];return new XA(e,i)}class Xj{constructor(e){let t=[],n=0;for(let i=0,s=e.length;i<s;i++)10===e.charCodeAt(i)&&(t[n++]=i);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let n=0,i=t.length-1;if(-1===i)return 0;if(e<=t[0])return 0;for(;n<i;){const s=n+((i-n)/2>>0);t[s]>=e?i=s-1:t[s+1]>=e?(n=s,i=s):n=s+1}return n+1}}class Jj{static findMatches(e,t,n,i,s){const r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,n,new e$(r.wordSeparators,r.regex),i,s):this._doFindMatchesLineByLine(e,n,r,i,s):[]}static _getMultilineMatchRange(e,t,n,i,s,r){let o,a,l=0;if(i?(l=i.findLineFeedCountBeforeOffset(s),o=t+s+l):o=t+s,i){let e=i.findLineFeedCountBeforeOffset(s+r.length)-l;a=o+r.length+e}else a=o+r.length;const c=e.getPositionAt(o),d=e.getPositionAt(a);return new oe(c.lineNumber,c.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,n,i,s){const r=e.getOffsetAt(t.getStartPosition()),o=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new Xj(o):null,l=[];let c,d=0;for(n.reset(0);c=n.next(o);)if(l[d++]=Zj(this._getMultilineMatchRange(e,r,o,a,c.index,c[0]),c,i),d>=s)return l;return l}static _doFindMatchesLineByLine(e,t,n,i,s){const r=[];let o=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return o=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,o,r,i,s),r}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);o=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,o,r,i,s);for(let l=t.startLineNumber+1;l<t.endLineNumber&&o<s;l++)o=this._findMatchesInLine(n,e.getLineContent(l),l,0,o,r,i,s);if(o<s){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);o=this._findMatchesInLine(n,a,t.endLineNumber,0,o,r,i,s)}return r}static _findMatchesInLine(e,t,n,i,s,r,o,a){const l=e.wordSeparators;if(!o&&e.simpleSearch){const o=e.simpleSearch,c=o.length,d=t.length;let h=-c;for(;-1!==(h=t.indexOf(o,h+c));)if((!l||Qj(l,t,d,h,c))&&(r[s++]=new XA(new oe(n,h+1+i,n,h+1+c+i),null),s>=a))return s;return s}const c=new e$(e.wordSeparators,e.regex);let d;c.reset(0);do{if(d=c.next(t),d&&(r[s++]=Zj(new oe(n,d.index+1+i,n,d.index+1+d[0].length+i),d,o),s>=a))return s}while(d);return s}static findNextMatch(e,t,n,i){const s=t.parseSearchRequest();if(!s)return null;const r=new e$(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindNextMatchMultiline(e,n,r,i):this._doFindNextMatchLineByLine(e,n,r,i)}static _doFindNextMatchMultiline(e,t,n,i){const s=new je(t.lineNumber,1),r=e.getOffsetAt(s),o=e.getLineCount(),a=e.getValueInRange(new oe(s.lineNumber,s.column,o,e.getLineMaxColumn(o)),1),l="\r\n"===e.getEOL()?new Xj(a):null;n.reset(t.column-1);let c=n.next(a);return c?Zj(this._getMultilineMatchRange(e,r,a,l,c.index,c[0]),c,i):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new je(1,1),n,i):null}static _doFindNextMatchLineByLine(e,t,n,i){const s=e.getLineCount(),r=t.lineNumber,o=e.getLineContent(r),a=this._findFirstMatchInLine(n,o,r,t.column,i);if(a)return a;for(let l=1;l<=s;l++){const t=(r+l-1)%s,o=e.getLineContent(t+1),a=this._findFirstMatchInLine(n,o,t+1,1,i);if(a)return a}return null}static _findFirstMatchInLine(e,t,n,i,s){e.reset(i-1);const r=e.next(t);return r?Zj(new oe(n,r.index+1,n,r.index+1+r[0].length),r,s):null}static findPreviousMatch(e,t,n,i){const s=t.parseSearchRequest();if(!s)return null;const r=new e$(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindPreviousMatchMultiline(e,n,r,i):this._doFindPreviousMatchLineByLine(e,n,r,i)}static _doFindPreviousMatchMultiline(e,t,n,i){const s=this._doFindMatchesMultiline(e,new oe(1,1,t.lineNumber,t.column),n,i,9990);if(s.length>0)return s[s.length-1];const r=e.getLineCount();return t.lineNumber!==r||t.column!==e.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(e,new je(r,e.getLineMaxColumn(r)),n,i):null}static _doFindPreviousMatchLineByLine(e,t,n,i){const s=e.getLineCount(),r=t.lineNumber,o=e.getLineContent(r).substring(0,t.column-1),a=this._findLastMatchInLine(n,o,r,i);if(a)return a;for(let l=1;l<=s;l++){const t=(s+r-l-1)%s,o=e.getLineContent(t+1),a=this._findLastMatchInLine(n,o,t+1,i);if(a)return a}return null}static _findLastMatchInLine(e,t,n,i){let s,r=null;for(e.reset(0);s=e.next(t);)r=Zj(new oe(n,s.index+1,n,s.index+1+s[0].length),s,i);return r}}function Qj(e,t,n,i,s){return function(e,t,n,i,s){if(0===i)return!0;const r=t.charCodeAt(i-1);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(s>0){const n=t.charCodeAt(i);if(0!==e.get(n))return!0}return!1}(e,t,0,i,s)&&function(e,t,n,i,s){if(i+s===n)return!0;const r=t.charCodeAt(i+s);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(s>0){const n=t.charCodeAt(i+s-1);if(0!==e.get(n))return!0}return!1}(e,t,n,i,s)}class e${constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(n=this._searchRegex.exec(e),!n)return null;const i=n.index,s=n[0].length;if(i===this._prevMatchStartIndex&&s===this._prevMatchLength){if(0===s){Je(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=s,!this._wordSeparators||Qj(this._wordSeparators,e,t,i,s))return n}while(n);return null}}function t$(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class n${constructor(e,t,n,i,s){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=s}}function i$(e,t=!0){let n=[0],i=1;for(let s=0,r=e.length;s<r;s++){const t=e.charCodeAt(s);13===t?s+1<r&&10===e.charCodeAt(s+1)?(n[i++]=s+2,s++):n[i++]=s+1:10===t&&(n[i++]=s+1)}return t?t$(n):n}class s${constructor(e,t,n,i,s){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=s}}class r${constructor(e,t){this.buffer=e,this.lineStarts=t}}class o${constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Rj&&e.iterate(e.root,(e=>(e!==Rj&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class a${constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,n=this._cache;for(let i=0;i<n.length;i++){let s=n[i];(null===s.node.parent||s.nodeStartOffset>=e)&&(n[i]=null,t=!0)}if(t){let e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}class l${constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new r$("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Rj,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let i=null;for(let s=0,r=e.length;s<r;s++)if(e[s].buffer.length>0){e[s].lineStarts||(e[s].lineStarts=i$(e[s].buffer));let t=new s$(s+1,{line:0,column:0},{line:e[s].lineStarts.length-1,column:e[s].buffer.length-e[s].lineStarts[e[s].lineStarts.length-1]},e[s].lineStarts.length-1,e[s].buffer.length);this._buffers.push(e[s]),i=this.rbInsertRight(i,t)}this._searchCache=new a$(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),n=2*t,i="",s=0,r=[];if(this.iterate(this.root,(o=>{let a=this.getNodeContent(o),l=a.length;if(s<=t||s+l<n)return i+=a,s+=l,!0;let c=i.replace(/\r\n|\r|\n/g,e);return r.push(new r$(c,i$(c))),i=a,s=l,!0})),s>0){let t=i.replace(/\r\n|\r|\n/g,e);r.push(new r$(t,i$(t)))}this.create(r,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new o$(this,e)}getOffsetAt(e,t){let n=0,i=this.root;for(;i!==Rj;)if(i.left!==Rj&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e){return n+=i.size_left,n+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1)}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,i=e;for(;t!==Rj;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let s=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+s.index,0===s.index){let e=this.getOffsetAt(n+1,1);return new je(n+1,i-e+1)}return new je(n+1,s.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===Rj){let t=this.getOffsetAt(n+1,1);return new je(n+1,i-e-t+1)}t=t.right}return new je(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(s+e.remainder,s+t.remainder)}let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),r=i.substring(s+e.remainder,s+n.piece.length);for(n=n.next();n!==Rj;){let e=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){r+=e.substring(i,i+t.remainder);break}r+=e.substr(i,n.piece.length),n=n.next()}return r}getLinesContent(){let e=[],t=0,n="",i=!1;return this.iterate(this.root,(s=>{if(s===Rj)return!0;const r=s.piece;let o=r.length;if(0===o)return!0;const a=this._buffers[r.bufferIndex].buffer,l=this._buffers[r.bufferIndex].lineStarts,c=r.start.line,d=r.end.line;let h=l[c]+r.start.column;if(i&&(10===a.charCodeAt(h)&&(h++,o--),e[t++]=n,n="",i=!1,0===o))return!0;if(c===d)return this._EOLNormalized||13!==a.charCodeAt(h+o-1)?n+=a.substr(h,o):(i=!0,n+=a.substr(h,o-1)),!0;n+=this._EOLNormalized?a.substring(h,Math.max(h,l[c+1]-this._EOLLength)):a.substring(h,l[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let i=c+1;i<d;i++)n=this._EOLNormalized?a.substring(l[i],l[i+1]-this._EOLLength):a.substring(l[i],l[i+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return this._EOLNormalized||13!==a.charCodeAt(l[d]+r.end.column-1)?n=a.substr(l[d],r.end.column):(i=!0,0===r.end.column?t--:n=a.substr(l[d],r.end.column-1)),!0})),i&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let n=this._buffers[t.piece.bufferIndex],i=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(i)}{let t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,i,s,r,o,a,l,c,d){let h,u,p,g=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,s),_=this.offsetInBuffer(e.piece.bufferIndex,r),v={line:0,column:0};t._wordSeparators?(u=g.buffer.substring(m,_),p=e=>e+m,t.reset(0)):(u=g.buffer,p=e=>e,t.reset(m));do{if(h=t.next(u),h){if(p(h.index)>=_)return c;this.positionInBuffer(e,p(h.index)-f,v);let t=this.getLineFeedCnt(e.piece.bufferIndex,s,v),r=v.line===s.line?v.column-s.column+i:v.column+1,o=r+h[0].length;if(d[c++]=Zj(new oe(n+t,r,n+t,o),h,a),p(h.index)+h[0].length>=_)return c;if(c>=l)return c}}while(h);return c}findMatchesLineByLine(e,t,n,i){const s=[];let r=0;const o=new e$(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder),d=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,o,e.startLineNumber,e.startColumn,c,d,t,n,i,r,s),s;let h=e.startLineNumber,u=a.node;for(;u!==l.node;){let l=this.getLineFeedCnt(u.piece.bufferIndex,c,u.piece.end);if(l>=1){let a=this._buffers[u.piece.bufferIndex].lineStarts,d=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),p=a[c.line+l],g=h===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(u,o,h,g,c,this.positionInBuffer(u,p-d),t,n,i,r,s),r>=i)return s;h+=l}let d=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(d,e.endColumn-1);return r=this._findMatchesInLine(t,o,a,e.endLineNumber,d,r,s,n,i),s}if(r=this._findMatchesInLine(t,o,this.getLineContent(h).substr(d),h,d,r,s,n,i),r>=i)return s;h++,a=this.nodeAt2(h,1),u=a.node,c=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){let a=h===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(h).substring(a,e.endColumn-1);return r=this._findMatchesInLine(t,o,l,e.endLineNumber,a,r,s,n,i),s}let p=h===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(l.node,o,h,p,c,d,t,n,i,r,s),s}_findMatchesInLine(e,t,n,i,s,r,o,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,d=n.length;let h=-a;for(;-1!==(h=n.indexOf(t,h+a));)if((!c||Qj(c,n,d,h,a))&&(o[r++]=new XA(new oe(i,h+1+s,i,h+1+a+s),null),r>=l))return r;return r}let d;t.reset(0);do{if(d=t.next(n),d&&(o[r++]=Zj(new oe(i,d.index+1+s,i,d.index+1+d[0].length+s),d,a),r>=l))return r}while(d);return r}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Rj){let{node:n,remainder:i,nodeStartOffset:s}=this.nodeAt(e),r=n.piece,o=r.bufferIndex,a=this.positionInBuffer(n,i);if(0===n.piece.bufferIndex&&r.end.line===this._lastChangeBufferPos.line&&r.end.column===this._lastChangeBufferPos.column&&s+r.length===e&&t.length<65535)return this.appendToNode(n,t),void this.computeBufferMetadata();if(s===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(s+n.piece.length>e){let e=[],s=new s$(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),this.offsetInBuffer(o,r.end)-this.offsetInBuffer(o,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(n,i)){let e={line:s.start.line+1,column:0};s=new s$(s.bufferIndex,e,s.end,this.getLineFeedCnt(s.bufferIndex,e,s.end),s.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(n,i-1)){let s=this.positionInBuffer(n,i-1);this.deleteNodeTail(n,s),t="\r"+t,0===n.piece.length&&e.push(n)}else this.deleteNodeTail(n,a)}else this.deleteNodeTail(n,a);let l=this.createNewPieces(t);s.length>0&&this.rbInsertRight(n,s);let c=n;for(let t=0;t<l.length;t++)c=this.rbInsertRight(c,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,n)}else{let e=this.createNewPieces(t),n=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)n=this.rbInsertRight(n,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Rj)return;let n=this.nodeAt(e),i=this.nodeAt(e+t),s=n.node,r=i.node;if(s===r){let r=this.positionInBuffer(s,n.remainder),o=this.positionInBuffer(s,i.remainder);if(n.nodeStartOffset===e){if(t===s.piece.length){let e=s.next();return Uj(this,s),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(s,o),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),void this.computeBufferMetadata()}return n.nodeStartOffset+s.piece.length===e+t?(this.deleteNodeTail(s,r),this.validateCRLFWithNextNode(s),void this.computeBufferMetadata()):(this.shrinkNode(s,r,o),void this.computeBufferMetadata())}let o=[],a=this.positionInBuffer(s,n.remainder);this.deleteNodeTail(s,a),this._searchCache.validate(e),0===s.piece.length&&o.push(s);let l=this.positionInBuffer(r,i.remainder);this.deleteNodeHead(r,l),0===r.piece.length&&o.push(r);for(let d=s.next();d!==Rj&&d!==r;d=d.next())o.push(d);let c=0===s.piece.length?s.prev():s;this.deleteNodes(o),this.validateCRLFWithNextNode(c),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let i=t.piece,s={line:i.start.line+1,column:0},r=new s$(i.bufferIndex,s,i.end,this.getLineFeedCnt(i.bufferIndex,s,i.end),i.length-1);t.piece=r,e+="\n",jj(this,t,-1,-1),0===t.piece.length&&n.push(t)}let i=this.createNewPieces(e),s=this.rbInsertLeft(t,i[i.length-1]);for(let r=i.length-2;r>=0;r--)s=this.rbInsertLeft(s,i[r]);this.validateCRLFWithPrevNode(s),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]),s=i;for(let r=1;r<n.length;r++)s=this.rbInsertRight(s,n[r]);this.validateCRLFWithPrevNode(i)}positionInBuffer(e,t,n){let i=e.piece,s=e.piece.bufferIndex,r=this._buffers[s].lineStarts,o=r[i.start.line]+i.start.column+t,a=i.start.line,l=i.end.line,c=0,d=0,h=0;for(;a<=l&&(c=a+(l-a)/2|0,h=r[c],c!==l);)if(d=r[c+1],o<h)l=c-1;else{if(!(o>=d))break;a=c+1}return n?(n.line=c,n.column=o-h,null):{line:c,column:o-h}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;let i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;let s=i[n.line+1],r=i[n.line]+n.column;if(s>r+1)return n.line-t.line;let o=r-1;return 13===this._buffers[e].buffer.charCodeAt(o)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Uj(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const n=e.charCodeAt(65534);let i;13===n||n>=55296&&n<=56319?(i=e.substring(0,65534),e=e.substring(65534)):(i=e.substring(0,65535),e=e.substring(65535));let s=i$(i);t.push(new s$(this._buffers.length,{line:0,column:0},{line:s.length-1,column:i.length-s[s.length-1]},s.length-1,i.length)),this._buffers.push(new r$(i,s))}let n=i$(e);return t.push(new s$(this._buffers.length,{line:0,column:0},{line:n.length-1,column:e.length-n[n.length-1]},n.length-1,e.length)),this._buffers.push(new r$(e,n)),t}let t=this._buffers[0].buffer.length;const n=i$(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<n.length;e++)n[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<n.length;e++)n[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length;let r=this._buffers[0].lineStarts.length-1,o={line:r,column:s-this._buffers[0].lineStarts[r]},a=new s$(0,i,o,this.getLineFeedCnt(0,i,o),s-t);return this._lastChangeBufferPos=o,[a]}getLineRawContent(e,t=0){let n=this.root,i="",s=this._searchCache.get2(e);if(s){n=s.node;let r=this.getAccumulatedValue(n,e-s.nodeStartLineNumber-1),o=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(s.nodeStartLineNumber+n.piece.lineFeedCnt!==e){let i=this.getAccumulatedValue(n,e-s.nodeStartLineNumber);return o.substring(a+r,a+i-t)}i=o.substring(a+r,a+n.piece.length)}else{let s=0;const r=e;for(;n!==Rj;)if(n.left!==Rj&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2),o=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return s+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:s,nodeStartLineNumber:r-(e-1-n.lf_left)}),a.substring(l+i,l+o-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(n,e-n.lf_left-2),s=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=s.substring(r+t,r+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,s+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==Rj;){let e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let s=this.getAccumulatedValue(n,0),r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=e.substring(r,r+s-t),i}{let t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=e.substr(t,n.piece.length)}n=n.next()}return i}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==Rj;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){let n=e.piece,i=this.positionInBuffer(e,t),s=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(t!==s)return{index:t,remainder:0}}return{index:s,remainder:i.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,s=n.start.line+t+1;return s>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[s]-i[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,i=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.end),r=t,o=this.offsetInBuffer(n.bufferIndex,r),a=this.getLineFeedCnt(n.bufferIndex,n.start,r),l=a-i,c=o-s,d=n.length+c;e.piece=new s$(n.bufferIndex,n.start,r,a,d),jj(this,e,c,l)}deleteNodeHead(e,t){const n=e.piece,i=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.start),r=t,o=this.getLineFeedCnt(n.bufferIndex,r,n.end),a=o-i,l=s-this.offsetInBuffer(n.bufferIndex,r),c=n.length+l;e.piece=new s$(n.bufferIndex,r,n.end,o,c),jj(this,e,l,a)}shrinkNode(e,t,n){const i=e.piece,s=i.start,r=i.end,o=i.length,a=i.lineFeedCnt,l=t,c=this.getLineFeedCnt(i.bufferIndex,i.start,l),d=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,s);e.piece=new s$(i.bufferIndex,i.start,l,c,d),jj(this,e,d-o,c-a);let h=new s$(i.bufferIndex,n,r,this.getLineFeedCnt(i.bufferIndex,n,r),this.offsetInBuffer(i.bufferIndex,r)-this.offsetInBuffer(i.bufferIndex,n)),u=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(u)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=i$(t,!1);for(let h=0;h<s.length;h++)s[h]+=i;if(n){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const r=this._buffers[0].lineStarts.length-1,o={line:r,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[r]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,o),d=c-l;e.piece=new s$(e.piece.bufferIndex,e.piece.start,o,c,a),this._lastChangeBufferPos=o,jj(this,e,t.length,d)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let i=0;for(;t!==Rj;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;let n={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,i=0;for(;n!==Rj;)if(n.left!==Rj&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let s=this.getAccumulatedValue(n,e-n.lf_left-2),r=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(s+t-1,r),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){let s=this.getAccumulatedValue(n,e-n.lf_left-2);if(s+t-1<=n.piece.length)return{node:n,remainder:s+t-1,nodeStartOffset:i};t-=n.piece.length-s;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==Rj;){if(n.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(n,0),i=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:i}}if(n.piece.length>=t-1){return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)}}t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===Rj||0===e.piece.lineFeedCnt)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,s=n[i]+t.start.column;return i!==n.length-1&&(!(n[i+1]>s+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(s))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==Rj&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n,i=[],s=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:s[e.piece.end.line]-s[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,o=e.piece.lineFeedCnt-1;e.piece=new s$(e.piece.bufferIndex,e.piece.start,n,o,r),jj(this,e,-1,-1),0===e.piece.length&&i.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new s$(t.piece.bufferIndex,a,t.piece.end,c,l),jj(this,t,-1,-1),0===t.piece.length&&i.push(t);let d=this.createNewPieces("\r\n");this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)Uj(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)Uj(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},i=e.length-1,s=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new s$(e.bufferIndex,t,e.end,s,i),jj(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Rj)return t(Rj);let n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===Rj)return"";let t,n=this._buffers[e.piece.bufferIndex],i=e.piece,s=this.offsetInBuffer(i.bufferIndex,i.start),r=this.offsetInBuffer(i.bufferIndex,i.end);return t=n.buffer.substring(s,r),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),i=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,i)}rbInsertRight(e,t){let n=new Oj(t,1);if(n.left=Rj,n.right=Rj,n.parent=Rj,n.size_left=0,n.lf_left=0,this.root===Rj)this.root=n,n.color=0;else if(e.right===Rj)e.right=n,n.parent=e;else{let t=Aj(e.right);t.left=n,n.parent=t}return zj(this,n),n}rbInsertLeft(e,t){let n=new Oj(t,1);if(n.left=Rj,n.right=Rj,n.parent=Rj,n.size_left=0,n.lf_left=0,this.root===Rj)this.root=n,n.color=0;else if(e.left===Rj)e.left=n,n.parent=e;else{let t=Mj(e.left);t.right=n,n.parent=t}return zj(this,n),n}}function c$(e){let t=0,n=0,i=0,s=0;for(let r=0,o=e.length;r<o;r++){const a=e.charCodeAt(r);13===a?(0===t&&(n=r),t++,r+1<o&&10===e.charCodeAt(r+1)?(s|=2,r++):s|=3,i=r+1):10===a&&(s|=1,0===t&&(n=r),t++,i=r+1)}return 0===t&&(n=e.length),[t,n,e.length-i,s]}function d$(e){return(16384|e<<0|2<<23)>>>0}const h$=new Uint32Array(0).buffer;class u${constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const n=this.tokens[this.tokens.length-1];if(n.startLineNumber+n.tokens.length-1+1===e)return void n.tokens.push(t)}this.tokens.push(new m$(e,[t]))}}class p${constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let n=0;n<this._tokenCount;n++)t.push(`(${this._getDeltaLine(n)+e},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),n=this._getDeltaLine(e-1),i=this._getEndCharacter(e-1);return new oe(0,t+1,n,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,n=this._getTokenCount()-1;for(;t<n;){const i=t+Math.floor((n-t)/2),s=this._getDeltaLine(i);if(s<e)t=i+1;else{if(!(s>e)){let s=i;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let r=i;for(;r<n&&this._getDeltaLine(r+1)===e;)r++;return new g$(this._tokens.subarray(4*s,4*r+4))}n=i-1}}return this._getDeltaLine(t)===e?new g$(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,n,i){const s=this._tokens,r=this._tokenCount;let o=0,a=!1,l=0;for(let c=0;c<r;c++){const r=4*c,d=s[r],h=s[r+1],u=s[r+2],p=s[r+3];if((d>e||d===e&&u>=t)&&(d<n||d===n&&h<=i))a=!0;else{if(0===o&&(l=d),a){const e=4*o;s[e]=d-l,s[e+1]=h,s[e+2]=u,s[e+3]=p}o++}}return this._tokenCount=o,l}split(e,t,n,i){const s=this._tokens,r=this._tokenCount;let o=[],a=[],l=o,c=0,d=0;for(let h=0;h<r;h++){const r=4*h,o=s[r],u=s[r+1],p=s[r+2],g=s[r+3];if(o>e||o===e&&p>=t){if(o<n||o===n&&u<=i)continue;l!==a&&(l=a,c=0,d=o)}l[c++]=o-d,l[c++]=u,l[c++]=p,l[c++]=g}return[new p$(new Uint32Array(o)),new p$(new Uint32Array(a)),d]}acceptDeleteRange(e,t,n,i,s){const r=this._tokens,o=this._tokenCount,a=i-t;let l=0,c=!1;for(let d=0;d<o;d++){const h=4*d;let u=r[h],p=r[h+1],g=r[h+2];const f=r[h+3];if(u<t||u===t&&g<=n){l++;continue}if(u===t&&p<n)u===i&&g>s?g-=s-n:g=n;else if(u===t&&p===n){if(!(u===i&&g>s)){c=!0;continue}g-=s-n}else if(u<i||u===i&&p<s){if(!(u===i&&g>s)){c=!0;continue}u===t?(p=n,g=p+(g-s)):(p=0,g=p+(g-s))}else if(u>i){if(0===a&&!c){l=o;break}u-=a}else{if(!(u===i&&p>=s))throw new Error("Not possible!");e&&0===u&&(p+=e,g+=e),u-=a,p-=s-n,g-=s-n}const m=4*l;r[m]=u,r[m+1]=p,r[m+2]=g,r[m+3]=f,l++}this._tokenCount=l}acceptInsertText(e,t,n,i,s,r){const o=0===n&&1===i&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),a=this._tokens,l=this._tokenCount;for(let c=0;c<l;c++){const r=4*c;let l=a[r],d=a[r+1],h=a[r+2];if(!(l<e||l===e&&h<t)){if(l===e&&h===t){if(!o)continue;h+=1}else if(l===e&&d<t&&t<h)0===n?h+=i:h=t;else{if(l===e&&d===t&&o)continue;if(l===e)if(l+=n,0===n)d+=i,h+=i;else{const e=h-d;d=s+(d-t),h=d+e}else l+=n}a[r]=l,a[r+1]=d,a[r+2]=h}}}}class g${constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class f${constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new oe(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,n,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber,[i,s,r]=this.tokens.split(t,e.startColumn-1,n,e.endColumn-1);return[new f$(this.startLineNumber,i),new f$(this.startLineNumber+r,s)]}applyEdit(e,t){const[n,i,s]=c$(t);this.acceptEdit(e,n,i,s,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,n,i,s){this._acceptDeleteRange(e),this._acceptInsertText(new je(e.startLineNumber,e.startColumn),t,n,i,s),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;if(n<0){const e=n-t;return void(this.startLineNumber-=e)}const i=this.tokens.getMaxDeltaLine();if(!(t>=i+1)){if(t<0&&n>=i+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const i=-t;this.startLineNumber-=i,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,n,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,n,e.endColumn-1)}}_acceptInsertText(e,t,n,i,s){if(0===t&&0===n)return;const r=e.lineNumber-this.startLineNumber;if(r<0)return void(this.startLineNumber+=t);r>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(r,e.column-1,t,n,i,s)}}class m${constructor(e,t){this.startLineNumber=e,this.tokens=t}}function _$(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class v${constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){const i=t[0].getRange(),s=t[t.length-1].getRange();if(!i||!s)return e;n=e.plusRange(i).plusRange(s)}let i=null;for(let s=0,r=this._pieces.length;s<r;s++){const e=this._pieces[s];if(e.endLineNumber<n.startLineNumber)continue;if(e.startLineNumber>n.endLineNumber){i=i||{index:s};break}if(e.removeTokens(n),e.isEmpty()){this._pieces.splice(s,1),s--,r--;continue}if(e.endLineNumber<n.startLineNumber)continue;if(e.startLineNumber>n.endLineNumber){i=i||{index:s};continue}const[t,o]=e.split(n);t.isEmpty()?i=i||{index:s}:o.isEmpty()||(this._pieces.splice(s,1,t,o),s++,r++,i=i||{index:s})}return i=i||{index:this._pieces.length},t.length>0&&(this._pieces=DB(this._pieces,i.index,t)),n}isComplete(){return this._isComplete}addSemanticTokens(e,t){const n=this._pieces;if(0===n.length)return t;const i=n[v$._findFirstPieceWithLine(n,e)].getLineTokens(e);if(!i)return t;const s=t.getCount(),r=i.getCount();let o=0,a=[],l=0,c=0;const d=(e,t)=>{e!==c&&(c=e,a[l++]=e,a[l++]=t)};for(let h=0;h<r;h++){const e=i.getStartCharacter(h),n=i.getEndCharacter(h),r=i.getMetadata(h),a=((1&r?2048:0)|(2&r?4096:0)|(4&r?8192:0)|(8&r?8372224:0)|(16&r?4286578688:0))>>>0,l=~a>>>0;for(;o<s&&t.getEndOffset(o)<=e;)d(t.getEndOffset(o),t.getMetadata(o)),o++;for(o<s&&t.getStartOffset(o)<e&&d(e,t.getMetadata(o));o<s&&t.getEndOffset(o)<n;)d(t.getEndOffset(o),t.getMetadata(o)&l|r&a),o++;if(o<s)d(n,t.getMetadata(o)&l|r&a),t.getEndOffset(o)===n&&o++;else{const e=Math.min(Math.max(0,o-1),s-1);d(n,t.getMetadata(e)&l|r&a)}}for(;o<s;)d(t.getEndOffset(o),t.getMetadata(o)),o++;return new YB(new Uint32Array(a),t.getLineContent())}static _findFirstPieceWithLine(e,t){let n=0,i=e.length-1;for(;n<i;){let s=n+Math.floor((i-n)/2);if(e[s].endLineNumber<t)n=s+1;else{if(!(e[s].startLineNumber>t)){for(;s>n&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}i=s-1}}return n}acceptEdit(e,t,n,i,s){for(const r of this._pieces)r.acceptEdit(e,t,n,i,s)}}class b${constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,n){let i=null;if(t<this._len&&(i=this._lineTokens[t]),null!==i&&i!==h$)return new YB(_$(i),n);let s=new Uint32Array(2);return s[0]=n.length,s[1]=d$(e),new YB(s,n)}static _massageTokens(e,t,n){const i=n?_$(n):null;if(0===t){let t=!1;if(i&&i.length>1&&(t=RM.getLanguageId(i[1])!==e),!t)return h$}if(!i||0===i.length){const n=new Uint32Array(2);return n[0]=t,n[1]=d$(e),n.buffer}return i[i.length-2]=t,0===i.byteOffset&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let n=[];for(let i=0;i<t;i++)n[i]=null;this._lineTokens=DB(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,i,s){const r=b$._massageTokens(e,n,i);this._ensureLine(t);const o=this._lineTokens[t];return this._lineTokens[t]=r,!!s&&!b$._equals(o,r)}static _equals(e,t){if(!e||!t)return!e&&!t;const n=_$(e),i=_$(t);if(n.length!==i.length)return!1;for(let s=0,r=n.length;s<r;s++)if(n[s]!==i[s])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new je(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=b$._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=b$._deleteEnding(this._lineTokens[t],e.startColumn-1);const n=e.endLineNumber-1;let i=null;n<this._len&&(i=b$._deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=b$._append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(0===t&&0===n)return;const i=e.lineNumber-1;i>=this._len||(0!==t?(this._lineTokens[i]=b$._deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=b$._insert(this._lineTokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)):this._lineTokens[i]=b$._insert(this._lineTokens[i],e.column-1,n))}static _deleteBeginning(e,t){return null===e||e===h$?e:b$._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===h$)return e;const n=_$(e),i=n[n.length-2];return b$._delete(e,t,i)}static _delete(e,t,n){if(null===e||e===h$||t===n)return e;const i=_$(e),s=i.length>>>1;if(0===t&&i[i.length-2]===n)return h$;const r=YB.findIndexInTokensArray(i,t),o=r>0?i[r-1<<1]:0;if(n<i[r<<1]){const o=n-t;for(let e=r;e<s;e++)i[e<<1]-=o;return e}let a,l;o!==t?(i[r<<1]=t,a=r+1<<1,l=t):(a=r<<1,l=o);const c=n-t;for(let h=r+1;h<s;h++){const e=i[h<<1]-c;e>l&&(i[a++]=e,i[a++]=i[1+(h<<1)],l=e)}if(a===i.length)return e;let d=new Uint32Array(a);return d.set(i.subarray(0,a),0),d.buffer}static _append(e,t){if(t===h$)return e;if(e===h$)return t;if(null===e)return e;if(null===t)return null;const n=_$(e),i=_$(t),s=i.length>>>1;let r=new Uint32Array(n.length+i.length);r.set(n,0);let o=n.length;const a=n[n.length-2];for(let l=0;l<s;l++)r[o++]=i[l<<1]+a,r[o++]=i[1+(l<<1)];return r.buffer}static _insert(e,t,n){if(null===e||e===h$)return e;const i=_$(e),s=i.length>>>1;let r=YB.findIndexInTokensArray(i,t);if(r>0){i[r-1<<1]===t&&r--}for(let o=r;o<s;o++)i[o<<1]+=n;return e}}class y$ extends F{constructor(e,t,n,i,s,r,o){super(),this._onDidChangeContent=this._register(new x),this._BOM=t,this._mightContainNonBasicASCII=!r,this._mightContainRTL=i,this._mightContainUnusualLineTerminators=s,this._pieceTree=new l$(e,n,o)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let n=e+t;const i=this.getPositionAt(e),s=this.getPositionAt(n);return new oe(i.lineNumber,i.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let n=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-n}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0;const i=e.startLineNumber,s=e.endLineNumber;for(let t=i;t<=s;t++){const r=this.getLineContent(t),o=t===i?e.startColumn-1:0,a=t===s?e.endColumn-1:r.length;for(let e=o;e<a;e++)_e(r.charCodeAt(e))?(n+=1,e+=1):n+=1}return n+=this._getEndOfLine(t).length*(s-i),n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Le(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Ne(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let i=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,o=!0,a=[];for(let g=0;g<e.length;g++){let t=e[g];o&&t._isTracked&&(o=!1);let n=t.range;if(t.text){let e=!0;r||(e=!Pe(t.text),r=e),!i&&e&&(i=Oe(t.text)),!s&&e&&(s=Qe(t.text))}let l="",c=0,d=0,h=0;if(t.text){let e;[c,d,h,e]=c$(t.text);const n=this.getEOL(),i="\r\n"===n?2:1;l=0===e||e===i?t.text:t.text.replace(/\r\n|\r|\n/g,n)}a[g]={sortIndex:g,identifier:t.identifier||null,range:n,rangeOffset:this.getOffsetAt(n.startLineNumber,n.startColumn),rangeLength:this.getValueLengthInRange(n),text:l,eolCount:c,firstLineLength:d,lastLineLength:h,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(y$._sortOpsAscending);let l=!1;for(let g=0,f=a.length-1;g<f;g++){let e=a[g].range.getEndPosition(),t=a[g+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}o&&(a=this._reduceOperations(a));let c=n||t?y$._getInverseEditRanges(a):[],d=[];if(t)for(let g=0;g<a.length;g++){let e=a[g],t=c[g];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let n=t.startLineNumber;n<=t.endLineNumber;n++){let i="";n===t.startLineNumber&&(i=this.getLineContent(e.range.startLineNumber),-1!==Le(i))||d.push({lineNumber:n,oldContent:i})}}let h=null;if(n){let e=0;h=[];for(let t=0;t<a.length;t++){const n=a[t],i=c[t],s=this.getValueInRange(n.range),r=n.rangeOffset+e;e+=n.text.length-s.length,h[t]={sortIndex:n.sortIndex,identifier:n.identifier,range:i,text:s,textChange:new Jz(n.rangeOffset,s,r,n.text)}}l||h.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=i,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=r;const u=this._doApplyEdits(a);let p=null;if(t&&d.length>0){d.sort(((e,t)=>t.lineNumber-e.lineNumber)),p=[];for(let e=0,t=d.length;e<t;e++){let t=d[e].lineNumber;if(e>0&&d[e-1].lineNumber===t)continue;let n=d[e].oldContent,i=this.getLineContent(t);0!==i.length&&i!==n&&-1===Le(i)&&p.push(t)}}return this._onDidChangeContent.fire(),new QA(h,u,p)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const n=e[0].range,i=e[e.length-1].range,s=new oe(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn);let r=n.startLineNumber,o=n.startColumn;const a=[];for(let u=0,p=e.length;u<p;u++){const n=e[u],i=n.range;t=t||n.forceMoveMarkers,a.push(this.getValueInRange(new oe(r,o,i.startLineNumber,i.startColumn))),n.text.length>0&&a.push(n.text),r=i.endLineNumber,o=i.endColumn}const l=a.join(""),[c,d,h]=c$(l);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:l,eolCount:c,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(y$._sortOpsDescending);let t=[];for(let n=0;n<e.length;n++){let i=e[n];const s=i.range.startLineNumber,r=i.range.startColumn,o=i.range.endLineNumber,a=i.range.endColumn;if(s===o&&r===a&&0===i.text.length)continue;i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength);const l=new oe(s,r,o,a);t.push({range:l,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)}static _getInverseEditRanges(e){let t=[],n=0,i=0,s=null;for(let r=0,o=e.length;r<o;r++){let o,a,l,c=e[r];if(s?s.range.endLineNumber===c.range.startLineNumber?(o=n,a=i+(c.range.startColumn-s.range.endColumn)):(o=n+(c.range.startLineNumber-s.range.endLineNumber),a=c.range.startColumn):(o=c.range.startLineNumber,a=c.range.startColumn),c.text.length>0){const e=c.eolCount+1;l=1===e?new oe(o,a,o,a+c.firstLineLength):new oe(o,a,o+e-1,c.lastLineLength+1)}else l=new oe(o,a,o,a);n=l.endLineNumber,i=l.endColumn,t.push(l),s=c}return t}static _sortOpsAscending(e,t){let n=oe.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){let n=oe.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n}}class w${constructor(e,t,n,i,s,r,o,a,l){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=s,this._containsRTL=r,this._containsUnusualLineTerminators=o,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let s=0,r=n.length;s<r;s++){let e=n[s].buffer.replace(/\r\n|\r|\n/g,t),i=i$(e);n[s]=new r$(e,i)}const i=new y$(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}class C${constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&Re(e)&&(this.BOM=et,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let n=1,i=0,s=0,r=0,o=!0;for(let l=0,c=t.length;l<c;l++){const a=t.charCodeAt(l);13===a?l+1<c&&10===t.charCodeAt(l+1)?(r++,e[n++]=l+2,l++):(i++,e[n++]=l+1):10===a?(s++,e[n++]=l+1):o&&9!==a&&(a<32||a>126)&&(o=!1)}const a=new n$(t$(e),i,s,r,o);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new r$(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=Oe(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=Qe(e))}finish(e=!0){return this._finish(),new w$(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=i$(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class S${constructor(){this.changeType=1}}class x${constructor(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}}class k${constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class E${constructor(e,t,n){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}class D${constructor(){this.changeType=5}}class T${constructor(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const n=[].concat(e.changes).concat(t.changes),i=t.versionId,s=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new T$(n,i,s,r)}}class L${constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=T$.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=L$._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new L$(t,n)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}class N${constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let n=[],i=[];for(let s=0;s<t;s++)n[s]=null,i[s]=!1;this._beginState=DB(this._beginState,e,n),this._valid=DB(this._valid,e,i),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,n){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const i=this.getBeginState(t+1);if(null===i||!n.equals(i))return this._setBeginState(t+1,n),void this._invalidateLine(t+1);let s=t+1;for(;s<e&&this._isValid(s);)s++;this._invalidLineStartIndex=s}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const n=e.endLineNumber-e.startLineNumber,i=t;for(let s=Math.min(n,i);s>=0;s--)this._invalidateLine(e.startLineNumber+s-1);this._acceptDeleteRange(e),this._acceptInsertText(new je(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class I$ extends F{constructor(e){super(),this._isDisposed=!1,this._textModel=e,this._tokenizationStateStore=new N$,this._tokenizationSupport=null,this._register(fF.onDidChange((e=>{const t=this._textModel.getLanguageIdentifier();-1!==e.changedLanguages.indexOf(t.language)&&(this._resetTokenizationState(),this._textModel.clearTokens())}))),this._register(this._textModel.onDidChangeRawContentFast((e=>{e.containsEvent(1)&&this._resetTokenizationState()}))),this._register(this._textModel.onDidChangeContentFast((e=>{for(let t=0,n=e.changes.length;t<n;t++){const n=e.changes[t],[i]=c$(n.text);this._tokenizationStateStore.applyEdits(n.range,i)}this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeAttached((()=>{this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeLanguage((()=>{this._resetTokenizationState(),this._textModel.clearTokens()}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageIdentifier();let n=e.isTooLargeForTokenization()?null:fF.get(t.language),i=null;if(n)try{i=n.getInitialState()}catch(s){V(s),n=null}return[n,i]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&tt((()=>{this._isDisposed||this._revalidateTokensNow()}))}_revalidateTokensNow(e=this._textModel.getLineCount()){const t=new u$,n=Se.create(!1);for(;this._hasLinesToTokenize()&&!(n.elapsed()>1);){if(this._tokenizeOneInvalidLine(t)>=e)break}this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(e,t){const n=new u$;this._tokenizeViewport(n,e,t),this._textModel.setTokens(n.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new u$;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const n=this._textModel.getLanguageIdentifier(),i=this._textModel.getLineCount(),s=t-1;for(let r=this._tokenizationStateStore.invalidLineStartIndex;r<=s;r++){const t=this._textModel.getLineContent(r+1),s=this._tokenizationStateStore.getBeginState(r),o=P$(n,this._tokenizationSupport,t,!0,s);e.add(r+1,o.tokens),this._tokenizationStateStore.setEndState(i,r,o.endState),r=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,n){if(!this._tokenizationSupport)return;if(n<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,n);let i=this._textModel.getLineFirstNonWhitespaceColumn(t),s=[],r=null;for(let l=t-1;i>0&&l>=1;l--){let e=this._textModel.getLineFirstNonWhitespaceColumn(l);if(0!==e&&e<i){if(r=this._tokenizationStateStore.getBeginState(l-1),r)break;s.push(this._textModel.getLineContent(l)),i=e}}r||(r=this._tokenizationSupport.getInitialState());const o=this._textModel.getLanguageIdentifier();let a=r;for(let l=s.length-1;l>=0;l--){a=P$(o,this._tokenizationSupport,s[l],!1,a).endState}for(let l=t;l<=n;l++){let t=this._textModel.getLineContent(l),n=P$(o,this._tokenizationSupport,t,!0,a);e.add(l,n.tokens),this._tokenizationStateStore.setFakeTokens(l-1),a=n.endState}}}function P$(e,t,n,i,s){let r=null;if(t)try{r=t.tokenize2(n,i,s.clone(),0)}catch(o){V(o)}return r||(r=bF(e.id,0,s,0)),YB.convertToEndOffset(r.tokens,n.length),r}function O$(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}class R${constructor(e,t,n,i=1){this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,n)),this.a=O$(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class A${constructor(e,t,n,i){this.h=0|Math.max(Math.min(360,e),0),this.s=O$(Math.max(Math.min(1,t),0),3),this.l=O$(Math.max(Math.min(1,n),0),3),this.a=O$(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,i=e.b/255,s=e.a,r=Math.max(t,n,i),o=Math.min(t,n,i);let a=0,l=0;const c=(o+r)/2,d=r-o;if(d>0){switch(l=Math.min(c<=.5?d/(2*c):d/(2-2*c),1),r){case t:a=(n-i)/d+(n<i?6:0);break;case n:a=(i-t)/d+2;break;case i:a=(t-n)/d+4}a*=60,a=Math.round(a)}return new A$(a,l,c,s)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){const t=e.h/360,{s:n,l:i,a:s}=e;let r,o,a;if(0===n)r=o=a=i;else{const e=i<.5?i*(1+n):i+n-i*n,s=2*i-e;r=A$._hue2rgb(s,e,t+1/3),o=A$._hue2rgb(s,e,t),a=A$._hue2rgb(s,e,t-1/3)}return new R$(Math.round(255*r),Math.round(255*o),Math.round(255*a),s)}}class M${constructor(e,t,n,i){this.h=0|Math.max(Math.min(360,e),0),this.s=O$(Math.max(Math.min(1,t),0),3),this.v=O$(Math.max(Math.min(1,n),0),3),this.a=O$(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,i=e.b/255,s=Math.max(t,n,i),r=s-Math.min(t,n,i),o=0===s?0:r/s;let a;return a=0===r?0:s===t?((n-i)/r%6+6)%6:s===n?(i-t)/r+2:(t-n)/r+4,new M$(Math.round(60*a),o,s,e.a)}static toRGBA(e){const{h:t,s:n,v:i,a:s}=e,r=i*n,o=r*(1-Math.abs(t/60%2-1)),a=i-r;let[l,c,d]=[0,0,0];return t<60?(l=r,c=o):t<120?(l=o,c=r):t<180?(c=r,d=o):t<240?(c=o,d=r):t<300?(l=o,d=r):t<=360&&(l=r,d=o),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),d=Math.round(255*(d+a)),new R$(l,c,d,s)}}class F${constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof R$)this.rgba=e;else if(e instanceof A$)this._hsla=e,this.rgba=A$.toRGBA(e);else{if(!(e instanceof M$))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=M$.toRGBA(e)}}static fromHex(e){return F$.Format.CSS.parseHex(e)||F$.red}get hsla(){return this._hsla?this._hsla:A$.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:M$.fromRGBA(this.rgba)}equals(e){return!!e&&R$.equals(this.rgba,e.rgba)&&A$.equals(this.hsla,e.hsla)&&M$.equals(this.hsva,e.hsva)}getRelativeLuminance(){return O$(.2126*F$._relativeLuminanceForComponent(this.rgba.r)+.7152*F$._relativeLuminanceForComponent(this.rgba.g)+.0722*F$._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new F$(new A$(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new F$(new A$(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:n,b:i,a:s}=this.rgba;return new F$(new R$(t,n,i,s*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new F$(new R$(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+F$.Format.CSS.format(this)}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;const i=e.getRelativeLuminance(),s=t.getRelativeLuminance();return n=n*(s-i)/s,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;const i=e.getRelativeLuminance();return n=n*(i-t.getRelativeLuminance())/i,e.darken(n)}}var B$,V$;function W$(e){const t=new C$;return t.acceptChunk(e),t.finish()}function H$(e,t){return("string"==typeof e?W$(e):e).create(t)}F$.white=new F$(new R$(255,255,255,1)),F$.black=new F$(new R$(0,0,0,1)),F$.red=new F$(new R$(255,0,0,1)),F$.blue=new F$(new R$(0,0,255,1)),F$.cyan=new F$(new R$(0,255,255,1)),F$.lightgrey=new F$(new R$(211,211,211,1)),F$.transparent=new F$(new R$(0,0,0,0)),B$=F$||(F$={}),function(e){function t(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:B$.Format.CSS.formatRGBA(e)},e.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:B$.Format.CSS.formatHSLA(e)},e.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},e.formatHex=function(e){return`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}`},e.formatHexA=function(e,n=!1){return n&&1===e.rgba.a?B$.Format.CSS.formatHex(e):`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}${t(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?B$.Format.CSS.formatHex(e):B$.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){const t=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),i=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),s=16*n(e.charCodeAt(5))+n(e.charCodeAt(6));return new B$(new R$(t,i,s,1))}if(9===t){const t=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),i=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),s=16*n(e.charCodeAt(5))+n(e.charCodeAt(6)),r=16*n(e.charCodeAt(7))+n(e.charCodeAt(8));return new B$(new R$(t,i,s,r/255))}if(4===t){const t=n(e.charCodeAt(1)),i=n(e.charCodeAt(2)),s=n(e.charCodeAt(3));return new B$(new R$(16*t+t,16*i+i,16*s+s))}if(5===t){const t=n(e.charCodeAt(1)),i=n(e.charCodeAt(2)),s=n(e.charCodeAt(3)),r=n(e.charCodeAt(4));return new B$(new R$(16*t+t,16*i+i,16*s+s,(16*r+r)/255))}return null}}((V$=B$.Format||(B$.Format={})).CSS||(V$.CSS={}));let U$=0;class z${constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,n=0;for(;;){let i=this._source.read();if(null===i)return this._eos=!0,0===t?null:e.join("");if(i.length>0&&(e[t++]=i,n+=i.length),n>=65536)return e.join("")}}}const j$=()=>{throw new Error("Invalid change accessor")};class $${constructor(){this._searchCanceledBrand=void 0}}function K$(e){return e instanceof $$?null:e}$$.INSTANCE=new $$;class q$ extends F{constructor(e,t,n,i=null,s){super(),this._onWillDispose=this._register(new x),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new nK),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new x),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new x),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new x),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new x),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new x),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new iK),U$++,this.id="$model"+U$,this.isForSimpleWidget=t.isForSimpleWidget,this._associatedResource=null==i?P.parse("inmemory://model/"+U$):i,this._undoRedoService=s,this._attachedEditorCount=0;const{textBuffer:r,disposable:o}=H$(e,t.defaultEOL);this._buffer=r,this._bufferDisposable=o,this._options=q$.resolveOptions(this._buffer,t);const a=this._buffer.getLineCount(),l=this._buffer.getValueLengthInRange(new oe(1,1,a,this._buffer.getLineLength(a)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=l>q$.LARGE_FILE_SIZE_THRESHOLD||a>q$.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=l>q$.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=n||_F,this._languageRegistryListener=dB.onDidChange((e=>{e.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})})),this._instanceId=nt(U$),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new G$,this._commandManager=new rj(this,s),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new b$,this._tokens2=new v$,this._tokenization=new I$(this)}static resolveOptions(e,t){if(t.detectIndentation){const n=lj(e,t.tabSize,t.insertSpaces);return new ZA({tabSize:n.tabSize,indentSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new ZA({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}onDidChangeRawContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.rawContentChangedEvent)))}onDidChangeContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.contentChangedEvent)))}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new y$([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._isDisposing||this._eventEmitter.fire(new L$(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const{textBuffer:t,disposable:n}=H$(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,n)}_createContentChanged2(e,t,n,i,s,r,o){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:s,isRedoing:r,isFlush:o}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),s=this.getLineCount(),r=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new G$,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new T$([new S$],this._versionId,!1,!1),this._createContentChanged2(new oe(1,1,s,r),0,i,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),s=this.getLineCount(),r=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new T$([new D$],this._versionId,!1,!1),this._createContentChanged2(new oe(1,1,s,r),0,i,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.search(0,!1,!1,e);this._ensureNodesHaveRanges(t)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let n=0,i=t.length;n<i;n++){const i=t[n],s=i.cachedAbsoluteStart-i.start,r=this._buffer.getOffsetAt(i.range.startLineNumber,i.range.startColumn),o=this._buffer.getOffsetAt(i.range.endLineNumber,i.range.endColumn);i.cachedAbsoluteStart=r,i.cachedAbsoluteEnd=o,i.cachedVersionId=e,i.start=r-s,i.end=o-s,Nj(i)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const n=this._buffer.getLineCount();for(let i=1;i<=n;i++){const n=this._buffer.getLineLength(i);n>=1e4?t+=n:e+=n}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,n=void 0!==e.indentSize?e.indentSize:this._options.indentSize,i=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,s=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=new ZA({tabSize:t,indentSize:n,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s});if(this._options.equals(r))return;let o=this._options.createChangeEvent(r);this._options=r,this._onDidChangeOptions.fire(o)}detectIndentation(e,t){this._assertNotDisposed();let n=lj(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})}static _normalizeIndentationFromWhitespace(e,t,n){let i=0;for(let r=0;r<e.length;r++)"\t"===e.charAt(r)?i+=t:i++;let s="";if(!n){let e=Math.floor(i/t);i%=t;for(let t=0;t<e;t++)s+="\t"}for(let r=0;r<i;r++)s+=" ";return s}static normalizeIndentation(e,t,n){let i=Le(e);return-1===i&&(i=e.length),q$._normalizeIndentationFromWhitespace(e.substring(0,i),t,n)+e.substring(i)}normalizeIndentation(e){return this._assertNotDisposed(),q$.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(it.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i}createSnapshot(e=!1){return new z$(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),n=e.startLineNumber,i=e.startColumn;let s=Math.floor("number"!=typeof n||isNaN(n)?1:n),r=Math.floor("number"!=typeof i||isNaN(i)?1:i);if(s<1)s=1,r=1;else if(s>t)s=t,r=this.getLineMaxColumn(s);else if(r<=1)r=1;else{const e=this.getLineMaxColumn(s);r>=e&&(r=e)}const o=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof o||isNaN(o)?1:o),c=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,c=1;else if(l>t)l=t,c=this.getLineMaxColumn(l);else if(c<=1)c=1;else{const e=this.getLineMaxColumn(l);c>=e&&(c=e)}return n===s&&i===r&&o===l&&a===c&&e instanceof oe&&!(e instanceof Ze)?e:new oe(s,r,l,c)}_isValidPosition(e,t,n){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===n){const n=this._buffer.getLineCharCode(e,t-2);if(_e(n))return!1}return!0}_validatePosition(e,t,n){const i=Math.floor("number"!=typeof e||isNaN(e)?1:e),s=Math.floor("number"!=typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(i<1)return new je(1,1);if(i>r)return new je(r,this.getLineMaxColumn(r));if(s<=1)return new je(i,1);const o=this.getLineMaxColumn(i);if(s>=o)return new je(i,o);if(1===n){const e=this._buffer.getLineCharCode(i,s-2);if(_e(e))return new je(i,s-1)}return new je(i,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof je&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const n=e.startLineNumber,i=e.startColumn,s=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(n,i,0))return!1;if(!this._isValidPosition(s,r,0))return!1;if(1===t){const e=i>1?this._buffer.getLineCharCode(n,i-2):0,t=r>1&&r<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,r-2):0,o=_e(e),a=_e(t);return!o&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof oe&&!(e instanceof Ze)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),i=t.lineNumber,s=t.column,r=n.lineNumber,o=n.column;{const e=s>1?this._buffer.getLineCharCode(i,s-2):0,t=o>1&&o<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,o-2):0,n=_e(e),a=_e(t);return n||a?i===r&&s===o?new oe(i,s-1,r,o-1):n&&a?new oe(i,s-1,r,o+1):n?new oe(i,s-1,r,o):new oe(i,s,r,o+1):new oe(i,s,r,o)}}modifyPosition(e,t){this._assertNotDisposed();let n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new oe(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)}findMatches(e,t,n,i,s,r,o=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>oe.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let c;if(l.push(a.reduce(((e,t)=>oe.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!n&&e.indexOf("\n")<0){const t=new Gj(e,n,i,s).parseSearchRequest();if(!t)return[];c=e=>this.findMatchesLineByLine(e,t,r,o)}else c=t=>Jj.findMatches(this,new Gj(e,n,i,s),t,r,o);return l.map(c).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,n,i,s,r){this._assertNotDisposed();const o=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){const t=new Gj(e,n,i,s).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new oe(o.lineNumber,o.column,a,this.getLineMaxColumn(a)),c=this.findMatchesLineByLine(l,t,r,1);return Jj.findNextMatch(this,new Gj(e,n,i,s),o,r),c.length>0?c[0]:(l=new oe(1,1,o.lineNumber,this.getLineMaxColumn(o.lineNumber)),c=this.findMatchesLineByLine(l,t,r,1),c.length>0?c[0]:null)}return Jj.findNextMatch(this,new Gj(e,n,i,s),o,r)}findPreviousMatch(e,t,n,i,s,r){this._assertNotDisposed();const o=this.validatePosition(t);return Jj.findPreviousMatch(this,new Gj(e,n,i,s),o,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof JA?e:new JA(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this._validateEditOperation(e[n]);return t}pushEditOperations(e,t,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,n){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let n=t.map((e=>({range:this.validateRange(e.range),text:e.text}))),i=!0;if(e)for(let t=0,s=e.length;t<s;t++){let s=e[t],r=!1;for(let e=0,t=n.length;e<t;e++){let t=n[e].range,i=t.startLineNumber>s.endLineNumber,o=s.startLineNumber>t.endLineNumber;if(!i&&!o){r=!0;break}}if(!r){i=!1;break}}if(i)for(let e=0,s=this._trimAutoWhitespaceLines.length;e<s;e++){let i=this._trimAutoWhitespaceLines[e],s=this.getLineMaxColumn(i),r=!0;for(let e=0,t=n.length;e<t;e++){let t=n[e].range,o=n[e].text;if(!(i<t.startLineNumber||i>t.endLineNumber)&&!(i===t.startLineNumber&&t.startColumn===s&&t.isEmpty()&&o&&o.length>0&&"\n"===o.charAt(0)||i===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&o&&o.length>0&&"\n"===o.charAt(o.length-1))){r=!1;break}}if(r){const e=new oe(i,1,i,s);t.push(new JA(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,n)}_applyUndo(e,t,n,i){const s=e.map((e=>{const t=this.getPositionAt(e.newPosition),n=this.getPositionAt(e.newEnd);return{range:new oe(t.lineNumber,t.column,n.lineNumber,n.column),text:e.oldText}}));this._applyUndoRedoEdits(s,t,!0,!1,n,i)}_applyRedo(e,t,n,i){const s=e.map((e=>{const t=this.getPositionAt(e.oldPosition),n=this.getPositionAt(e.oldEnd);return{range:new oe(t.lineNumber,t.column,n.lineNumber,n.column),text:e.newText}}));this._applyUndoRedoEdits(s,t,!1,!0,n,i)}_applyUndoRedoEdits(e,t,n,i,s,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=n,this._isRedoing=i,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const n=this._validateEditOperations(e);return this._doApplyEdits(n,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const n=this._buffer.getLineCount(),i=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),r=i.changes;if(this._trimAutoWhitespaceLines=i.trimAutoWhitespaceLineNumbers,0!==r.length){let e=[],t=n;for(let n=0,i=r.length;n<i;n++){const i=r[n],[o,a,l]=c$(i.text);this._tokens.acceptEdit(i.range,o,a),this._tokens2.acceptEdit(i.range,o,a,l,i.text.length>0?i.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(i.rangeOffset,i.rangeLength,i.text.length,i.forceMoveMarkers);const c=i.range.startLineNumber,d=i.range.endLineNumber,h=d-c,u=o,p=Math.min(h,u),g=u-h;for(let n=p;n>=0;n--){const i=c+n,r=s-t-g+i;e.push(new x$(i,this.getLineContent(r)))}if(p<h){const t=c+p;e.push(new k$(t+1,d))}if(p<u){const n=c+p,i=u-p,r=s-t-i+n+1;let o=[];for(let e=0;e<i;e++){let t=r+e;o[t-r]=this.getLineContent(t)}e.push(new E$(n+1,c+u,o))}t+=g}this._increaseVersionId(),this._emitContentChangedEvent(new T$(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===i.reverseEdits?void 0:i.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let n={addDecoration:(t,n)=>this._deltaDecorationsImpl(e,[],[{range:t,options:n}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,tK(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,n)=>0===t.length&&0===n.length?[]:this._deltaDecorationsImpl(e,t,n)},i=null;try{i=t(n)}catch(s){V(s)}return n.addDecoration=j$,n.changeDecoration=j$,n.changeDecorationOptions=j$,n.removeDecoration=j$,n.deltaDecorations=j$,i}deltaDecorations(e,t,n=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,n){const i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:eK[n]}])[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;const s=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),o=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,o,s),i.setOptions(eK[n]),this._decorationsTree.insert(i),i.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let n=0,i=t.length;n<i;n++){const e=t[n];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];if(!t)return null;const n=this.getVersionId();return t.cachedVersionId!==n&&this._decorationsTree.resolveNode(t,n),null===t.range&&(t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}getLineDecorations(e,t=0,n=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)}getLinesDecorations(e,t,n=0,i=!1){let s=this.getLineCount(),r=Math.min(s,Math.max(1,e)),o=Math.min(s,Math.max(1,t)),a=this.getLineMaxColumn(o);return this._getDecorationsInRange(new oe(r,1,o,a),n,i)}getDecorationsInRange(e,t=0,n=!1){let i=this.validateRange(e);return this._getDecorationsInRange(i,t,n)}getOverviewRulerDecorations(e=0,t=!1){const n=this.getVersionId(),i=this._decorationsTree.search(e,t,!0,n);return this._ensureNodesHaveRanges(i)}getAllDecorations(e=0,t=!1){const n=this.getVersionId(),i=this._decorationsTree.search(e,t,!1,n);return this._ensureNodesHaveRanges(i)}_getDecorationsInRange(e,t,n){const i=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),r=this.getVersionId(),o=this._decorationsTree.intervalSearch(i,s,t,n,r);return this._ensureNodesHaveRanges(o)}_ensureNodesHaveRanges(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];null===n.range&&(n.range=this._getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd))}return e}_getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const n=this._decorations[e];if(!n)return;const i=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),r=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,r,i),this._decorationsTree.insert(n),this._onDidChangeDecorations.checkAffectedAndFire(n.options)}_changeDecorationOptionsImpl(e,t){const n=this._decorations[e];if(!n)return;const i=!(!n.options.overviewRuler||!n.options.overviewRuler.color),s=!(!t.overviewRuler||!t.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(n.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i!==s?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t)}_deltaDecorationsImpl(e,t,n){const i=this.getVersionId(),s=t.length;let r=0;const o=n.length;let a=0,l=new Array(o);for(;r<s||a<o;){let c=null;if(r<s){do{c=this._decorations[t[r++]]}while(!c&&r<s);c&&(this._decorationsTree.delete(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options))}if(a<o){if(!c){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;c=new bj(t,0,0),this._decorations[t]=c}const t=n[a],s=this._validateRangeRelaxedNoAllocations(t.range),r=tK(t.options),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),d=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);c.ownerId=e,c.reset(i,o,d,s),c.setOptions(r),this._onDidChangeDecorations.checkAffectedAndFire(r),this._decorationsTree.insert(c),l[a]=c.id,a++}else c&&delete this._decorations[c.id]}return l}setTokens(e){if(0===e.length)return;let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];let s=0,r=0,o=!1;for(let e=0,t=i.tokens.length;e<t;e++){const t=i.startLineNumber+e;if(o)this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),i.tokens[e],!1),r=t;else{this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),i.tokens[e],!0)&&(o=!0,s=t,r=t)}}o&&t.push({fromLineNumber:s,toLineNumber:r})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const n=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),n=this._tokens.getTokens(this._languageIdentifier.id,e-1,t);return this._tokens2.addSemanticTokens(e,n)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(e){if(this._languageIdentifier.id===e.id)return;let t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const n=this.validatePosition(new je(e,t)),i=this.getLineTokens(n.lineNumber);return i.getLanguageId(i.findTokenIndexAtOffset(n.column-1))}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),n=this.getLineContent(t.lineNumber),i=this._getLineTokens(t.lineNumber),s=i.findTokenIndexAtOffset(t.column-1),[r,o]=q$._findLanguageBoundaries(i,s),a=st(t.column,dB.getWordDefinition(i.getLanguageId(s)),n.substring(r,o),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(s>0&&r===t.column-1){const[r,o]=q$._findLanguageBoundaries(i,s-1),a=st(t.column,dB.getWordDefinition(i.getLanguageId(s-1)),n.substring(r,o),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(e,t){const n=e.getLanguageId(t);let i=0;for(let r=t;r>=0&&e.getLanguageId(r)===n;r--)i=e.getStartOffset(r);let s=e.getLineContent().length;for(let r=t,o=e.getCount();r<o&&e.getLanguageId(r)===n;r++)s=e.getEndOffset(r);return[i,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let n=e.toLowerCase(),i=this.validatePosition(t),s=this._getLineTokens(i.lineNumber),r=s.getLanguageId(s.findTokenIndexAtOffset(i.column-1)),o=dB.getBracketsSupport(r);if(!o)return null;let a=o.textIsBracket[n];return a?K$(this._findMatchingBracketUp(a,i,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,n,i){const s=t.getCount(),r=t.getLanguageId(i);let o=Math.max(0,e.column-1-n.maxBracketLength);for(let l=i-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=o)break;if(RF(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){o=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let l=i+1;l<s;l++){const e=t.getStartOffset(l);if(e>=a)break;if(RF(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){a=e;break}}return{searchStartOffset:o,searchEndOffset:a}}_matchBracket(e){const t=e.lineNumber,n=this._getLineTokens(t),i=this._buffer.getLineContent(t),s=n.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const r=dB.getBracketsSupport(n.getLanguageId(s));if(r&&!RF(n.getStandardTokenType(s))){let{searchStartOffset:o,searchEndOffset:a}=this._establishBracketSearchOffsets(e,n,r,s),l=null;for(;;){const n=tB.findNextBracketInRange(r.forwardRegex,t,i,o,a);if(!n)break;if(n.startColumn<=e.column&&e.column<=n.endColumn){const e=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase(),t=this._matchFoundBracket(n,r.textIsBracket[e],r.textIsOpenBracket[e],null);if(t){if(t instanceof $$)return null;l=t}}o=n.endColumn-1}if(l)return l}if(s>0&&n.getStartOffset(s)===e.column-1){const r=s-1,o=dB.getBracketsSupport(n.getLanguageId(r));if(o&&!RF(n.getStandardTokenType(r))){let{searchStartOffset:s,searchEndOffset:a}=this._establishBracketSearchOffsets(e,n,o,r);const l=tB.findPrevBracketInRange(o.reversedRegex,t,i,s,a);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn){const e=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),t=this._matchFoundBracket(l,o.textIsBracket[e],o.textIsOpenBracket[e],null);if(t)return t instanceof $$?null:t}}}return null}_matchFoundBracket(e,t,n,i){if(!t)return null;const s=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return s?s instanceof $$?s:[e,s]:null}_findMatchingBracketUp(e,t,n){const i=e.languageIdentifier.id,s=e.reversedRegex;let r=-1,o=0;const a=(t,i,a,l)=>{for(;;){if(n&&++o%100==0&&!n())return $$.INSTANCE;const c=tB.findPrevBracketInRange(s,t,i,a,l);if(!c)break;const d=i.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(d)?r++:e.isClose(d)&&r--,0===r)return c;l=c.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this._getLineTokens(l),n=e.getCount(),s=this._buffer.getLineContent(l);let r=n-1,o=s.length,c=s.length;l===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),o=t.column-1,c=t.column-1);let d=!0;for(;r>=0;r--){const t=e.getLanguageId(r)===i&&!RF(e.getStandardTokenType(r));if(t)d?o=e.getStartOffset(r):(o=e.getStartOffset(r),c=e.getEndOffset(r));else if(d&&o!==c){const e=a(l,s,o,c);if(e)return e}d=t}if(d&&o!==c){const e=a(l,s,o,c);if(e)return e}}return null}_findMatchingBracketDown(e,t,n){const i=e.languageIdentifier.id,s=e.forwardRegex;let r=1,o=0;const a=(t,i,a,l)=>{for(;;){if(n&&++o%100==0&&!n())return $$.INSTANCE;const c=tB.findNextBracketInRange(s,t,i,a,l);if(!c)break;const d=i.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(d)?r++:e.isClose(d)&&r--,0===r)return c;a=c.endColumn-1}return null},l=this.getLineCount();for(let c=t.lineNumber;c<=l;c++){const e=this._getLineTokens(c),n=e.getCount(),s=this._buffer.getLineContent(c);let r=0,o=0,l=0;c===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),o=t.column-1,l=t.column-1);let d=!0;for(;r<n;r++){const t=e.getLanguageId(r)===i&&!RF(e.getStandardTokenType(r));if(t)d||(o=e.getStartOffset(r)),l=e.getEndOffset(r);else if(d&&o!==l){const e=a(c,s,o,l);if(e)return e}d=t}if(d&&o!==l){const e=a(c,s,o,l);if(e)return e}}return null}findPrevBracket(e){const t=this.validatePosition(e);let n=-1,i=null;for(let s=t.lineNumber;s>=1;s--){const e=this._getLineTokens(s),r=e.getCount(),o=this._buffer.getLineContent(s);let a=r-1,l=o.length,c=o.length;if(s===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const s=e.getLanguageId(a);n!==s&&(n=s,i=dB.getBracketsSupport(n))}let d=!0;for(;a>=0;a--){const t=e.getLanguageId(a);if(n!==t){if(i&&d&&l!==c){const e=tB.findPrevBracketInRange(i.reversedRegex,s,o,l,c);if(e)return this._toFoundBracket(i,e);d=!1}n=t,i=dB.getBracketsSupport(n)}const r=!!i&&!RF(e.getStandardTokenType(a));if(r)d?l=e.getStartOffset(a):(l=e.getStartOffset(a),c=e.getEndOffset(a));else if(i&&d&&l!==c){const e=tB.findPrevBracketInRange(i.reversedRegex,s,o,l,c);if(e)return this._toFoundBracket(i,e)}d=r}if(i&&d&&l!==c){const e=tB.findPrevBracketInRange(i.reversedRegex,s,o,l,c);if(e)return this._toFoundBracket(i,e)}}return null}findNextBracket(e){const t=this.validatePosition(e),n=this.getLineCount();let i=-1,s=null;for(let r=t.lineNumber;r<=n;r++){const e=this._getLineTokens(r),n=e.getCount(),o=this._buffer.getLineContent(r);let a=0,l=0,c=0;if(r===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const n=e.getLanguageId(a);i!==n&&(i=n,s=dB.getBracketsSupport(i))}let d=!0;for(;a<n;a++){const t=e.getLanguageId(a);if(i!==t){if(s&&d&&l!==c){const e=tB.findNextBracketInRange(s.forwardRegex,r,o,l,c);if(e)return this._toFoundBracket(s,e);d=!1}i=t,s=dB.getBracketsSupport(i)}const n=!!s&&!RF(e.getStandardTokenType(a));if(n)d||(l=e.getStartOffset(a)),c=e.getEndOffset(a);else if(s&&d&&l!==c){const e=tB.findNextBracketInRange(s.forwardRegex,r,o,l,c);if(e)return this._toFoundBracket(s,e)}d=n}if(s&&d&&l!==c){const e=tB.findNextBracketInRange(s.forwardRegex,r,o,l,c);if(e)return this._toFoundBracket(s,e)}}return null}findEnclosingBrackets(e,t){let n;if(void 0===t)n=null;else{const e=Date.now();n=()=>Date.now()-e<=t}const i=this.validatePosition(e),s=this.getLineCount(),r=new Map;let o=[];const a=(e,t)=>{if(!r.has(e)){let n=[];for(let e=0,i=t?t.brackets.length:0;e<i;e++)n[e]=0;r.set(e,n)}o=r.get(e)};let l=0;const c=(e,t,i,s,r)=>{for(;;){if(n&&++l%100==0&&!n())return $$.INSTANCE;const a=tB.findNextBracketInRange(e.forwardRegex,t,i,s,r);if(!a)break;const c=i.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),d=e.textIsBracket[c];if(d&&(d.isOpen(c)?o[d.index]++:d.isClose(c)&&o[d.index]--,-1===o[d.index]))return this._matchFoundBracket(a,d,!1,n);s=a.endColumn-1}return null};let d=-1,h=null;for(let u=i.lineNumber;u<=s;u++){const e=this._getLineTokens(u),t=e.getCount(),n=this._buffer.getLineContent(u);let s=0,r=0,o=0;if(u===i.lineNumber){s=e.findTokenIndexAtOffset(i.column-1),r=i.column-1,o=i.column-1;const t=e.getLanguageId(s);d!==t&&(d=t,h=dB.getBracketsSupport(d),a(d,h))}let l=!0;for(;s<t;s++){const t=e.getLanguageId(s);if(d!==t){if(h&&l&&r!==o){const e=c(h,u,n,r,o);if(e)return K$(e);l=!1}d=t,h=dB.getBracketsSupport(d),a(d,h)}const i=!!h&&!RF(e.getStandardTokenType(s));if(i)l||(r=e.getStartOffset(s)),o=e.getEndOffset(s);else if(h&&l&&r!==o){const e=c(h,u,n,r,o);if(e)return K$(e)}l=i}if(h&&l&&r!==o){const e=c(h,u,n,r,o);if(e)return K$(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let n=this.getValueInRange(t);n=n.toLowerCase();let i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null}static computeIndentLevel(e,t){let n=0,i=0,s=e.length;for(;i<s;){let s=e.charCodeAt(i);if(32===s)n++;else{if(9!==s)break;n=n-n%t+t}i++}return i===s?-1:n}_computeIndentLevel(e){return q$.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,n){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for lineNumber");const s=dB.getFoldingRules(this._languageIdentifier.id),r=Boolean(s&&s.offSide);let o=-2,a=-1,l=-2,c=-1;const d=e=>{if(-1!==o&&(-2===o||o>e-1)){o=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){o=t,a=e;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<i;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}};let h=-2,u=-1,p=-2,g=-1;const f=e=>{if(-2===h){h=-1,u=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){h=t,u=e;break}}}if(-1!==p&&(-2===p||p<e-1)){p=-1,g=-1;for(let t=e;t<i;t++){let e=this._computeIndentLevel(t);if(e>=0){p=t,g=e;break}}}};let m=0,_=!0,v=0,b=!0,y=0,w=0;for(let C=0;_||b;C++){const s=e-C,o=e+C;C>1&&(s<1||s<t)&&(_=!1),C>1&&(o>i||o>n)&&(b=!1),C>5e4&&(_=!1,b=!1);let p=-1;if(_){const e=this._computeIndentLevel(s-1);e>=0?(l=s-1,c=e,p=Math.ceil(e/this._options.indentSize)):(d(s),p=this._getIndentLevelForWhitespaceLine(r,a,c))}let S=-1;if(b){const e=this._computeIndentLevel(o-1);e>=0?(h=o-1,u=e,S=Math.ceil(e/this._options.indentSize)):(f(o),S=this._getIndentLevelForWhitespaceLine(r,u,g))}if(0!==C){if(1===C){if(o<=i&&S>=0&&w+1===S){_=!1,m=o,v=o,y=S;continue}if(s>=1&&p>=0&&p-1===w){b=!1,m=s,v=s,y=p;continue}if(m=e,v=e,y=w,0===y)return{startLineNumber:m,endLineNumber:v,indent:y}}_&&(p>=y?m=s:_=!1),b&&(S>=y?v=o:b=!1)}else w=p}return{startLineNumber:m,endLineNumber:v,indent:y}}getLinesIndentGuides(e,t){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const i=dB.getFoldingRules(this._languageIdentifier.id),s=Boolean(i&&i.offSide);let r=new Array(t-e+1),o=-2,a=-1,l=-2,c=-1;for(let d=e;d<=t;d++){let t=d-e;const i=this._computeIndentLevel(d-1);if(i>=0)o=d-1,a=i,r[t]=Math.ceil(i/this._options.indentSize);else{if(-2===o){o=-1,a=-1;for(let e=d-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){o=e,a=t;break}}}if(-1!==l&&(-2===l||l<d-1)){l=-1,c=-1;for(let e=d;e<n;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,c=t;break}}}r[t]=this._getIndentLevelForWhitespaceLine(s,a,c)}}return r}_getIndentLevelForWhitespaceLine(e,t,n){return-1===t||-1===n?0:t<n?1+Math.floor(t/this._options.indentSize):t===n||e?Math.ceil(n/this._options.indentSize):1+Math.floor(n/this._options.indentSize)}}q$.MODEL_SYNC_LIMIT=52428800,q$.LARGE_FILE_SIZE_THRESHOLD=20971520,q$.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,q$.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:wP,indentSize:CP,insertSpaces:SP,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:kP,largeFileOptimizations:EP};class G${constructor(){this._decorationsTree0=new wj,this._decorationsTree1=new wj}intervalSearch(e,t,n,i,s){const r=this._decorationsTree0.intervalSearch(e,t,n,i,s),o=this._decorationsTree1.intervalSearch(e,t,n,i,s);return r.concat(o)}search(e,t,n,i){if(n)return this._decorationsTree1.search(e,t,i);{const n=this._decorationsTree0.search(e,t,i),s=this._decorationsTree1.search(e,t,i);return n.concat(s)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)}insert(e){fj(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){fj(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}resolveNode(e,t){fj(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i)}}function Y$(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Z${constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class X$ extends Z${constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:KA.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let n=e?t.getColor(e.id):null;return n?n.toString():""}}class J$ extends Z${constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?F$.fromHex(e):t.getColor(e.id)}}class Q${constructor(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Y$(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new X$(e.overviewRuler):null,this.minimap=e.minimap?new J$(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Y$(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Y$(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Y$(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Y$(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Y$(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Y$(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Y$(e.afterContentClassName):null}static register(e){return new Q$(e)}static createDynamic(e){return new Q$(e)}}Q$.EMPTY=Q$.register({});const eK=[Q$.register({stickiness:0}),Q$.register({stickiness:1}),Q$.register({stickiness:2}),Q$.register({stickiness:3})];function tK(e){return e instanceof Q$?e:Q$.createDynamic(e)}class nK extends F{constructor(){super(),this._actual=this._register(new x),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,0===this._deferredCnt&&this._shouldFire){const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class iK extends F{constructor(){super(),this._fastEmitter=this._register(new x),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new x),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}const sK=()=>!0,rK=()=>!1,oK=e=>" "===e||"\t"===e;class aK{constructor(e,t,n){this._languageIdentifier=e;const i=n.options,s=i.get(127);this.readOnly=i.get(77),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=i.get(101),this.lineHeight=i.get(55),this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=i.get(112),this.wordSeparators=i.get(113),this.emptySelectionClipboard=i.get(30),this.copyWithSyntaxHighlighting=i.get(19),this.multiCursorMergeOverlapping=i.get(65),this.multiCursorPaste=i.get(67),this.autoClosingBrackets=i.get(5),this.autoClosingQuotes=i.get(8),this.autoClosingDelete=i.get(6),this.autoClosingOvertype=i.get(7),this.autoSurround=i.get(11),this.autoIndent=i.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:aK._getShouldAutoClose(e,this.autoClosingQuotes),bracket:aK._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=dB.getAutoClosingPairs(e.id);let r=aK._getSurroundingPairs(e);if(r)for(const o of r)this.surroundingPairs[o.open]=o.close}static shouldRecreate(e){return e.hasChanged(127)||e.hasChanged(113)||e.hasChanged(30)||e.hasChanged(65)||e.hasChanged(67)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(112)||e.hasChanged(55)||e.hasChanged(77)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=aK._getElectricCharacters(this._languageIdentifier);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return q$.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return dB.getElectricCharacters(e.id)}catch(t){return V(t),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return oK;case"languageDefined":return aK._getLanguageDefinedShouldAutoClose(e);case"always":return sK;case"never":return rK}}static _getLanguageDefinedShouldAutoClose(e){try{const t=dB.getAutoCloseBeforeSet(e.id);return e=>-1!==t.indexOf(e)}catch(t){return V(t),rK}}static _getSurroundingPairs(e){try{return dB.getSurroundingPairs(e.id)}catch(t){return V(t),null}}}class lK{constructor(e,t,n,i){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=n,this.leftoverVisibleColumns=i,this.selection=lK._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,n,i){return e?new lK(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new je(t,n),i):new lK(new oe(t,n,t,n),i,new je(t,n),i)}static _computeSelection(e,t){let n,i,s,r;return e.isEmpty()?(n=e.startLineNumber,i=e.startColumn,s=t.lineNumber,r=t.column):t.isBeforeOrEqual(e.getStartPosition())?(n=e.endLineNumber,i=e.endColumn,s=t.lineNumber,r=t.column):(n=e.startLineNumber,i=e.startColumn,s=t.lineNumber,r=t.column),new Ze(n,i,s,r)}}class cK{constructor(e,t,n){this.model=e,this.coordinatesConverter=t,this.cursorConfig=n}}class dK{constructor(e){this.modelState=e,this.viewState=null}}class hK{constructor(e){this.modelState=null,this.viewState=e}}class uK{constructor(e,t){this.modelState=e,this.viewState=t}static fromModelState(e){return new dK(e)}static fromViewState(e){return new hK(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,n=e.selectionStartColumn,i=e.positionLineNumber,s=e.positionColumn,r=new lK(new oe(t,n,t,n),0,new je(i,s),0);return uK.fromModelState(r)}static fromModelSelections(e){let t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class pK{constructor(e,t,n){this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}class gK{static visibleColumnFromColumn(e,t,n){const i=e.length,s=t-1<i?t-1:i;let r=0,o=0;for(;o<s;){const t=Je(e,s,o);if(o+=t>=65536?2:1,9===t)r=gK.nextRenderTabStop(r,n);else{let n=rt(t);for(;o<s;){const t=Je(e,s,o),i=rt(t);if(ot(n,i))break;o+=t>=65536?2:1,n=i}Ie(t)||at(t)?r+=2:r+=1}}return r}static visibleColumnFromColumn2(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;const i=e.length;let s=0,r=1,o=0;for(;o<i;){const a=Je(e,i,o);let l;if(o+=a>=65536?2:1,9===a)l=gK.nextRenderTabStop(s,n);else{let t=rt(a);for(;o<i;){const n=Je(e,i,o),s=rt(n);if(ot(t,s))break;o+=n>=65536?2:1,t=s}l=Ie(a)||at(a)?s+2:s+1}const c=o+1;if(l>=t){return l-t<t-s?c:r}s=l,r=c}return i+1}static columnFromVisibleColumn2(e,t,n,i){let s=this.columnFromVisibleColumn(t.getLineContent(n),i,e.tabSize),r=t.getLineMinColumn(n);if(s<r)return r;let o=t.getLineMaxColumn(n);return s>o?o:s}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function fK(e){return"'"===e||'"'===e||"`"===e}class mK{static whitespaceVisibleColumn(e,t,n){const i=e.length;let s=0,r=-1,o=-1;for(let a=0;a<i;a++){if(a===t)return[r,o,s];s%n==0&&(r=a,o=s);switch(e.charCodeAt(a)){case 32:s+=1;break;case 9:s=gK.nextRenderTabStop(s,n);break;default:return[-1,-1,-1]}}return t===i?[r,o,s]:[-1,-1,-1]}static atomicPosition(e,t,n,i){const s=e.length,[r,o,a]=mK.whitespaceVisibleColumn(e,t,n);if(-1===a)return-1;let l;switch(i){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%n==0)return t;l=a%n<=n/2}if(l){if(-1===r)return-1;let t=o;for(let i=r;i<s;++i){if(t===o+n)return r;switch(e.charCodeAt(i)){case 32:t+=1;break;case 9:t=gK.nextRenderTabStop(t,n);break;default:return-1}}return t===o+n?r:-1}const c=gK.nextRenderTabStop(a,n);let d=a;for(let h=t;h<s;h++){if(d===c)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=gK.nextRenderTabStop(d,n);break;default:return-1}}return d===c?s:-1}}class _K{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class vK{constructor(e,t,n=0,i=null,s=null,r=null){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,!s&&i&&(s=new oe(i.lineNumber,i.column,i.lineNumber,i.column)),this.range=s,this.detail=r}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return vK.toString(this)}}class bK{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class yK{constructor(e,t,n){this.model=e.model;const i=e.configuration.options;this.layoutInfo=i.get(127),this.viewDomNode=t.viewDomNode,this.lineHeight=i.get(55),this.stickyTabStops=i.get(101),this.typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return yK.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){const i=n.verticalOffset+n.height/2,s=e.model.getLineCount();let r,o=null,a=null;return n.afterLineNumber!==s&&(a=new je(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(o=new je(n.afterLineNumber,e.model.getLineMaxColumn(n.afterLineNumber))),r=null===a?o:null===o?a:t<i?o:a,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:o,positionAfter:a,position:r}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new oe(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),n=this._context.model.getLineMaxColumn(t);return{range:new oe(t,1,t,n),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return yK._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class wK extends class{constructor(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft&&n.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,xK._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,n,i){super(e,t,n),this._ctx=e,i?(this.target=i,this.targetPath=Pz.collect(i,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,n=null,i=null){let s=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(s=gK.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new vK(this.target,e,s,t,n,i)}withTarget(e){return new wK(this._ctx,this.editorPos,this.pos,e)}}const CK={isAfterLines:!0};function SK(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class xK{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,n=Pz.collect(t,this._viewHelper.viewDomNode);return!(!bK.isChildOfContentWidgets(n)&&!bK.isChildOfOverflowingContentWidgets(n))||!!bK.isChildOfOverlayWidgets(n)}createMouseTarget(e,t,n,i){const s=new yK(this._context,this._viewHelper,e),r=new wK(s,t,n,i);try{return xK._createMouseTarget(s,r,!1)}catch(o){return r.fulfill(0)}}static _createMouseTarget(e,t,n){if(null===t.target){if(n)return t.fulfill(0);const i=xK._doHitTest(e,t);return i.position?xK.createMouseTargetFromHitTestPosition(e,t,i.position.lineNumber,i.position.column):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}const i=t;let s=null;return s=s||xK._hitTestContentWidget(e,i),s=s||xK._hitTestOverlayWidget(e,i),s=s||xK._hitTestMinimap(e,i),s=s||xK._hitTestScrollbarSlider(e,i),s=s||xK._hitTestViewZone(e,i),s=s||xK._hitTestMargin(e,i),s=s||xK._hitTestViewCursor(e,i),s=s||xK._hitTestTextArea(e,i),s=s||xK._hitTestViewLines(e,i,n),s=s||xK._hitTestScrollbar(e,i),s||t.fulfill(0)}static _hitTestContentWidget(e,t){if(bK.isChildOfContentWidgets(t.targetPath)||bK.isChildOfOverflowingContentWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(9,null,null,n):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(bK.isChildOfOverlayWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(12,null,null,n):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const n=e.lastRenderData.lastViewCursorsRenderData;for(const e of n)if(t.target===e.domNode)return t.fulfill(6,e.position)}if(t.isInContentArea){const n=e.lastRenderData.lastViewCursorsRenderData,i=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const r of n){if(i<r.contentLeft)continue;if(i>r.contentLeft+r.width)continue;const n=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(n<=s&&s<=n+r.height)return t.fulfill(6,r.position)}}return null}static _hitTestViewZone(e,t){const n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){const e=t.isInContentArea?8:5;return t.fulfill(e,n.position,null,n)}return null}static _hitTestTextArea(e,t){return bK.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition();let s=Math.abs(t.pos.x-t.editorPos.x);const r={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};return s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,i,n.range,r):(s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,i,n.range,r):(s-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,i,n.range,r)))}return null}static _hitTestViewLines(e,t,n){if(!bK.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new je(1,1),void 0,CK);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return t.fulfill(7,new je(n,i),void 0,CK)}if(n){if(bK.isStrictChildOfViewLines(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(n)){const i=e.getLineWidth(n),s=SK(t.mouseContentHorizontalOffset-i);return t.fulfill(7,new je(n,1),void 0,s)}const i=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>=i){const s=SK(t.mouseContentHorizontalOffset-i),r=new je(n,e.model.getLineMaxColumn(n));return t.fulfill(7,r,void 0,s)}}return t.fulfill(0)}const i=xK._doHitTest(e,t);return i.position?xK.createMouseTargetFromHitTestPosition(e,t,i.position.lineNumber,i.position.column):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}static _hitTestMinimap(e,t){if(bK.isChildOfMinimap(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new je(n,i))}return null}static _hitTestScrollbarSlider(e,t){if(bK.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new je(n,i))}}return null}static _hitTestScrollbar(e,t){if(bK.isChildOfScrollableElement(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new je(n,i))}return null}getMouseColumn(e,t){const n=this._context.configuration.options,i=n.get(127),s=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-i.contentLeft;return xK._getMouseColumn(s,n.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,n,i){const s=new je(n,i),r=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>r){const e=SK(t.mouseContentHorizontalOffset-r);return t.fulfill(7,s,void 0,e)}const o=e.visibleRangeForPosition(n,i);if(!o)return t.fulfill(0,s);const a=o.left;if(t.mouseContentHorizontalOffset===a)return t.fulfill(6,s);const l=[];if(l.push({offset:o.left,column:i}),i>1){const t=e.visibleRangeForPosition(n,i-1);t&&l.push({offset:t.left,column:i-1})}if(i<e.model.getLineMaxColumn(n)){const t=e.visibleRangeForPosition(n,i+1);t&&l.push({offset:t.left,column:i+1})}l.sort(((e,t)=>e.offset-t.offset));for(let c=1;c<l.length;c++){const e=l[c-1],i=l[c];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=i.offset){const r=new oe(n,e.column,n,i.column);return t.fulfill(6,s,r)}}return t.fulfill(6,s)}static _doHitTestWithCaretRangeFromPoint(e,t){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2);let s=t.pos.y+(i-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+e.layoutInfo.height&&(s=t.editorPos.y+e.layoutInfo.height-1);const r=new Cz(t.pos.x,s),o=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates());return o.position?o:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const n=cR(e.viewDomNode);let i;if(i=n?void 0===n.caretRangeFromPoint?function(e,t,n){const i=document.createRange();let s=e.elementFromPoint(t,n);if(null!==s){for(;s&&s.firstChild&&s.firstChild.nodeType!==s.firstChild.TEXT_NODE&&s.lastChild&&s.lastChild.firstChild;)s=s.lastChild;const e=s.getBoundingClientRect(),n=window.getComputedStyle(s,null).getPropertyValue("font"),r=s.innerText;let o,a=e.left,l=0;if(t>e.left+e.width)l=r.length;else{const e=kK.getInstance();for(let i=0;i<r.length+1;i++){if(o=e.getCharWidth(r.charAt(i),n)/2,a+=o,t<a){l=i;break}a+=o}}i.setStart(s.firstChild,l),i.setEnd(s.firstChild,l)}return i}(n,t.clientX,t.clientY):n.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!i||!i.startContainer)return{position:null,hitTarget:null};const s=i.startContainer;let r=null;if(s.nodeType===s.TEXT_NODE){const t=s.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;if((o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===jz.CLASS_NAME){return{position:e.getPositionFromDOMInfo(t,i.startOffset),hitTarget:null}}r=s.parentNode}else if(s.nodeType===s.ELEMENT_NODE){const t=s.parentNode,n=t?t.parentNode:null;if((n&&n.nodeType===n.ELEMENT_NODE?n.className:null)===jz.CLASS_NAME){return{position:e.getPositionFromDOMInfo(s,s.textContent.length),hitTarget:null}}r=s}return{position:null,hitTarget:r}}static _doHitTestWithCaretPositionFromPoint(e,t){const n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){const t=n.offsetNode.parentNode,i=t?t.parentNode:null,s=i?i.parentNode:null;if((s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===jz.CLASS_NAME){return{position:e.getPositionFromDOMInfo(n.offsetNode.parentNode,n.offset),hitTarget:null}}return{position:null,hitTarget:n.offsetNode.parentNode}}if(n.offsetNode.nodeType===n.offsetNode.ELEMENT_NODE){const t=n.offsetNode.parentNode,i=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,s=t?t.parentNode:null,r=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(i===jz.CLASS_NAME){const t=n.offsetNode.childNodes[Math.min(n.offset,n.offsetNode.childNodes.length-1)];if(t){return{position:e.getPositionFromDOMInfo(t,0),hitTarget:null}}}else if(r===jz.CLASS_NAME){return{position:e.getPositionFromDOMInfo(n.offsetNode,0),hitTarget:null}}}return{position:null,hitTarget:n.offsetNode}}static _snapToSoftTabBoundary(e,t){const n=t.getLineContent(e.lineNumber),{tabSize:i}=t.getTextModelOptions(),s=mK.atomicPosition(n,e.column-1,i,2);return-1!==s?new je(e.lineNumber,s+1):e}static _doHitTest(e,t){let n;return n="function"==typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null},n.position&&e.stickyTabStops&&(n.position=this._snapToSoftTabBoundary(n.position,e.model)),n}}class kK{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return kK._INSTANCE||(kK._INSTANCE=new kK),kK._INSTANCE}getCharWidth(e,t){const n=e+t;if(this._cache[n])return this._cache[n];const i=this._canvas.getContext("2d");i.font=t;const s=i.measureText(e).width;return this._cache[n]=s,s}}function EK(e){return function(t,n){let i=!1;return e&&(i=e.mouseTargetIsWidget(n)),i||n.preventDefault(),n}}kK._INSTANCE=null;class DK extends Nz{constructor(e,t,n){super(),this._context=e,this.viewController=t,this.viewHelper=n,this.mouseTargetFactory=new xK(this._context,n),this._mouseDownOperation=this._register(new TK(this._context,this.viewController,this.viewHelper,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(127).height;const i=new Dz(this.viewHelper.viewDomNode);this._register(i.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(i.onMouseMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),EK(this.mouseTargetFactory),DK.MOUSE_MOVE_MINIMUM_TIME)),this._register(i.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(i.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(i.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))));this._register(RO(this.viewHelper.viewDomNode,_R.MOUSE_WHEEL,(e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(64))return;const t=new cO(e);if(S?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){const e=HA.getZoomLevel(),n=t.deltaY>0?1:-1;HA.setZoomLevel(e+n),t.preventDefault(),t.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(127)){const e=this._context.configuration.options.get(127).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const n=new Sz(e,t).toPageCoordinates(),i=kz(this.viewHelper.viewDomNode);return n.y<i.y||n.y>i.y+i.height||n.x<i.x||n.x>i.x+i.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i,n,null)}_createMouseTarget(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),n=6===t.type||7===t.type,i=2===t.type||3===t.type||4===t.type,s=3===t.type,r=this._context.configuration.options.get(95),o=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;S&&e.leftButton&&e.ctrlKey&&(l=!1);const c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(l&&(n||s&&r))c(),this._mouseDownOperation.start(t.type,e);else if(i)e.preventDefault();else if(o){const n=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(n.viewZoneId)&&(c(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}DK.MOUSE_MOVE_MINIMUM_TIME=100;class TK extends F{constructor(e,t,n,i,s){super(),this._context=e,this._viewController=t,this._viewHelper=n,this._createMouseTarget=i,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new Lz(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new bO),this._mouseState=new LK,this._currentSelection=new Ze(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;const i=this._context.configuration.options;if(!i.get(77)&&i.get(29)&&!i.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,EK(null),(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!0);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,EK(null),(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))}),10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,n=this._context.model,i=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const n=Math.max(i.getCurrentScrollTop()-(t.y-e.posy),0),r=yK.getZoneAtCoord(this._context,n);if(r){const e=this._helpPositionJumpOverViewZone(r);if(e)return new vK(null,13,s,e)}const o=i.getLineNumberAtVerticalOffset(n);return new vK(null,13,s,new je(o,1))}if(e.posy>t.y+t.height){const r=i.getCurrentScrollTop()+(e.posy-t.y),o=yK.getZoneAtCoord(this._context,r);if(o){const e=this._helpPositionJumpOverViewZone(o);if(e)return new vK(null,13,s,e)}const a=i.getLineNumberAtVerticalOffset(r);return new vK(null,13,s,new je(a,n.getLineMaxColumn(a)))}const r=i.getLineNumberAtVerticalOffset(i.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new vK(null,13,s,new je(r,1)):e.posx>t.x+t.width?new vK(null,13,s,new je(r,n.getLineMaxColumn(r))):null}_findMousePosition(e,t){const n=this._getPositionOutsideEditor(e);if(n)return n;const i=this._createMouseTarget(e,t);if(!i.position)return null;if(8===i.type||5===i.type){const e=this._helpPositionJumpOverViewZone(i.detail);if(e)return new vK(i.element,i.type,i.mouseColumn,e,null,i.detail)}return i}_helpPositionJumpOverViewZone(e){const t=new je(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,i=e.positionAfter;return n&&i?n.isBefore(t)?n:i:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class LK{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const n=(new Date).getTime();n-this._lastSetMouseDownCountTime>LK.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}LK.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class NK{constructor(e,t,n,i,s){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionStartPosition=i,this.selectionEndPosition=s}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new NK(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new NK(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const n=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,-1)}_finishDeduceEditorPosition(e,t,n){let i=0,s=-1;for(;-1!==(s=t.indexOf("\n",s+1));)i++;return[e,n*t.length,i]}static selectedText(e){return new NK(e,0,e.length,null,null)}static deduceInput(e,t,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let i=e.value,s=e.selectionStart,r=e.selectionEnd,o=t.value,a=t.selectionStart,l=t.selectionEnd;const c=i.substring(r),d=o.substring(l),h=lt(c,d);o=o.substring(0,o.length-h),i=i.substring(0,i.length-h);const u=i.substring(0,s),p=o.substring(0,a),g=ct(u,p);if(o=o.substring(g),i=i.substring(g),a-=g,s-=g,l-=g,r-=g,n&&a===l&&i.length>0){let e=null;if(a===o.length?o.startsWith(i)&&(e=o.substring(i.length)):o.endsWith(i)&&(e=o.substring(0,o.length-i.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||dt(e)))return{text:e,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(a===l){if(i===o&&0===s&&r===i.length&&a===o.length&&-1===o.indexOf("\n")&&ht(o))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};return{text:o,replacePrevCharCnt:u.length-g,replaceNextCharCnt:0,positionDelta:0}}return{text:o,replacePrevCharCnt:r-s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const n=Math.min(ct(e.value,t.value),e.selectionEnd),i=Math.min(lt(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(n,e.value.length-i),r=t.value.substring(n,t.value.length-i);e.selectionStart;const o=e.selectionEnd-n;t.selectionStart;const a=t.selectionEnd-n;return{text:r,replacePrevCharCnt:o,replaceNextCharCnt:s.length-o,positionDelta:a-r.length}}}NK.EMPTY=new NK("",0,0,null,null);class IK{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const n=e*t;return new oe(n+1,1,n+t+1,1)}static fromEditorSelection(e,t,n,i,s){const r=IK._getPageOfLine(n.startLineNumber,i),o=IK._getRangeForPage(r,i),a=IK._getPageOfLine(n.endLineNumber,i),l=IK._getRangeForPage(a,i),c=o.intersectRanges(new oe(1,1,n.startLineNumber,n.startColumn));let d=t.getValueInRange(c,1);const h=t.getLineCount(),u=t.getLineMaxColumn(h),p=l.intersectRanges(new oe(n.endLineNumber,n.endColumn,h,u));let g,f=t.getValueInRange(p,1);if(r===a||r+1===a)g=t.getValueInRange(n,1);else{const e=o.intersectRanges(n),i=l.intersectRanges(n);g=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(i,1)}if(s){const e=500;d.length>e&&(d=d.substring(d.length-e,d.length)),f.length>e&&(f=f.substring(0,e)),g.length>2*e&&(g=g.substring(0,e)+String.fromCharCode(8230)+g.substring(g.length-e,g.length))}return new NK(d+g+f,d.length,d.length+g.length,new je(n.startLineNumber,n.startColumn),new je(n.endLineNumber,n.endColumn))}}var PK;(PK||(PK={})).Tap="-monaco-textarea-synthetic-tap";const OK={forceCopyWithSyntaxHighlighting:!1};class RK{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}RK.INSTANCE=new RK;class AK extends F{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new x),this.onFocus=this._onFocus.event,this._onBlur=this._register(new x),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new x),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new x),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new x),this.onCut=this._onCut.event,this._onPaste=this._register(new x),this.onPaste=this._onPaste.event,this._onType=this._register(new x),this.onType=this._onType.event,this._onCompositionStart=this._register(new x),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new x),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new x),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new x),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new FK(t)),this._asyncTriggerCut=this._register(new wO((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new wO((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=NK.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let n=null;this._register(MO(t.domNode,"keydown",(e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),n=e,this._onKeyDown.fire(e)}))),this._register(MO(t.domNode,"keyup",(e=>{this._onKeyUp.fire(e)}))),this._register(RO(t.domNode,"compositionstart",(e=>{if(!this._isDoingComposition){if(this._isDoingComposition=!0,S&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data){if(n&&n.equals(109)&&("ArrowRight"===n.code||"ArrowLeft"===n.code)||UP)return this._textAreaState=new NK(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new je(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1})}GP?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",NK.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}})));const i=e=>{const t=this._textAreaState,n=NK.readFromTextArea(this._textArea);return[n,NK.deduceInput(t,n,e)]},s=()=>{const e=this._textAreaState,t=NK.readFromTextArea(this._textArea);return[t,NK.deduceAndroidCompositionInput(e,t)]},r=e=>{const t=this._textAreaState,n=NK.selectedText(e);return[n,{text:n.value,replacePrevCharCnt:t.selectionEnd-t.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(RO(t.domNode,"compositionupdate",(e=>{if(GP){const[t,n]=s();return this._textAreaState=t,this._onType.fire(n),void this._onCompositionUpdate.fire(e)}const[t,n]=r(e.data||"");this._textAreaState=t,this._onType.fire(n),this._onCompositionUpdate.fire(e)}))),this._register(RO(t.domNode,"compositionend",(e=>{if(!this._isDoingComposition)return;if(this._isDoingComposition=!1,GP){const[e,t]=s();return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const[t,n]=r(e.data||"");this._textAreaState=t,this._onType.fire(n),(jP||UP)&&(this._textAreaState=NK.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}))),this._register(RO(t.domNode,"input",(()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=i(S);0===t.replacePrevCharCnt&&1===t.text.length&&_e(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""===t.text&&0===t.replacePrevCharCnt||this._onType.fire(t):(""===t.text&&0===t.replacePrevCharCnt||this._firePaste(t.text,null),this._nextCommand=0))}))),this._register(RO(t.domNode,"cut",(e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(RO(t.domNode,"copy",(e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(RO(t.domNode,"paste",(e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),MK.canUseTextData(e)){const[t,n]=MK.getTextData(e);""!==t&&this._firePaste(t,n)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",NK.EMPTY),this._nextCommand=1}))),this._register(RO(t.domNode,"focus",(()=>{const e=this._hasFocus;this._setHasFocus(!0),$P&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(RO(t.domNode,"blur",(()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(RO(t.domNode,PK.Tap,(()=>{GP&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return RO(document,"selectionchange",(t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!jP)return;const n=Date.now(),i=n-e;if(e=n,i<5)return;const s=n-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const o=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===o&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(o),c=this._host.deduceModelPosition(l[0],l[1],l[2]),d=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(d[0],d[1],d[2]),u=new Ze(c.lineNumber,c.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(u)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=cR(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):PO(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(MK.canUseTextData(e)),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};RK.INSTANCE.set(UP?t.text.replace(/\r\n/g,"\n"):t.text,n),MK.canUseTextData(e)?MK.setTextData(e,t.text,t.html,n):this._setAndWriteTextAreaState("copy or cut",NK.selectedText(t.text))}_firePaste(e,t){t||(t=RK.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class MK{static canUseTextData(e){return!!e.clipboardData||!!window.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const n=e.clipboardData.getData("text/plain");let i=null;const s=e.clipboardData.getData("vscode-editor-data");if("string"==typeof s)try{i=JSON.parse(s),1!==i.version&&(i=null)}catch(t){}return[n,i]}if(window.clipboardData){e.preventDefault();return[window.clipboardData.getData("Text"),null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,n,i){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),"string"==typeof n&&e.clipboardData.setData("text/html",n),e.clipboardData.setData("vscode-editor-data",JSON.stringify(i)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class FK extends F{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const n=this._actual.domNode;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,n){const i=this._actual.domNode;let s=null;const r=cR(i);s=r?r.activeElement:document.activeElement;const o=s===i,a=i.selectionStart,l=i.selectionEnd;if(o&&a===t&&l===n)UP&&window.parent!==window&&i.focus();else{if(o)return this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(t,n),void(UP&&window.parent!==window&&i.focus());try{const e=function(e){let t=[];for(let n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(t,n),function(e,t){for(let n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}(i,e)}catch(c){}}}}class BK extends DK{constructor(e,t,n){super(e,t,n),this._register(bz.addTarget(this.viewHelper.linesContentDomNode)),this._register(RO(this.viewHelper.linesContentDomNode,_z.Tap,(e=>this.onTap(e)))),this._register(RO(this.viewHelper.linesContentDomNode,_z.Change,(e=>this.onChange(e)))),this._register(RO(this.viewHelper.linesContentDomNode,_z.Contextmenu,(e=>this._onContextMenu(new Ez(e,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(RO(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const i=new Tz(this.viewHelper.viewDomNode);this._register(i.onPointerMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),EK(this.mouseTargetFactory),DK.MOUSE_MOVE_MINIMUM_TIME)),this._register(i.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(i.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(i.onPointerDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Ez(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class VK extends DK{constructor(e,t,n){super(e,t,n),this._register(bz.addTarget(this.viewHelper.linesContentDomNode)),this._register(RO(this.viewHelper.linesContentDomNode,_z.Tap,(e=>this.onTap(e)))),this._register(RO(this.viewHelper.linesContentDomNode,_z.Change,(e=>this.onChange(e)))),this._register(RO(this.viewHelper.linesContentDomNode,_z.Contextmenu,(e=>this._onContextMenu(new Ez(e,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Ez(e,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(PK.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class WK extends F{constructor(e,t,n){super(),M&&NO?this.handler=this._register(new BK(e,t,n)):window.TouchEvent?this.handler=this._register(new VK(e,t,n)):this.handler=this._register(new DK(e,t,n))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class HK extends Nz{}const UK="base.contributions.colors";const zK=new class{constructor(){this._onDidChangeSchema=new x,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,n,i=!1,s){let r={id:e,description:n,defaults:t,needsTransparency:i,deprecationMessage:s};this.colorsById[e]=r;let o={type:"string",description:n,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(o.deprecationMessage=s),this.colorSchema.properties[e]=o,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const n=this.colorsById[e];if(n&&n.defaults){return SY(n.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{let n=-1===e.indexOf(".")?0:1,i=-1===t.indexOf(".")?0:1;return n!==i?n-i:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function jK(e,t,n,i,s){return zK.registerColor(e,t,n,i,s)}ZV.add(UK,zK);const $K=jK("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},JI(0,"Overall foreground color. This color is only used if not overridden by a component.")),KK=jK("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},JI(0,"Overall foreground color for error messages. This color is only used if not overridden by a component.")),qK=jK("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},JI(0,"The default color for icons in the workbench.")),GK=jK("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},JI(0,"Overall border color for focused elements. This color is only used if not overridden by a component.")),YK=jK("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},JI(0,"An extra border around elements to separate them from others for greater contrast.")),ZK=jK("contrastActiveBorder",{light:null,dark:null,hc:GK},JI(0,"An extra border around active elements to separate them from others for greater contrast.")),XK=jK("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},JI(0,"Foreground color for links in text.")),JK=jK("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:F$.black},JI(0,"Background color for code blocks in text.")),QK=jK("widget.shadow",{dark:yY(F$.black,.36),light:yY(F$.black,.16),hc:null},JI(0,"Shadow color of widgets such as find/replace inside the editor.")),eq=jK("input.background",{dark:"#3C3C3C",light:F$.white,hc:F$.black},JI(0,"Input box background.")),tq=jK("input.foreground",{dark:$K,light:$K,hc:$K},JI(0,"Input box foreground.")),nq=jK("input.border",{dark:null,light:null,hc:YK},JI(0,"Input box border.")),iq=jK("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:YK},JI(0,"Border color of activated options in input fields.")),sq=jK("inputOption.activeBackground",{dark:yY(GK,.4),light:yY(GK,.2),hc:F$.transparent},JI(0,"Background color of activated options in input fields.")),rq=jK("inputOption.activeForeground",{dark:F$.white,light:F$.black,hc:null},JI(0,"Foreground color of activated options in input fields.")),oq=jK("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:F$.black},JI(0,"Input validation background color for information severity.")),aq=jK("inputValidation.infoForeground",{dark:null,light:null,hc:null},JI(0,"Input validation foreground color for information severity.")),lq=jK("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:YK},JI(0,"Input validation border color for information severity.")),cq=jK("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:F$.black},JI(0,"Input validation background color for warning severity.")),dq=jK("inputValidation.warningForeground",{dark:null,light:null,hc:null},JI(0,"Input validation foreground color for warning severity.")),hq=jK("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:YK},JI(0,"Input validation border color for warning severity.")),uq=jK("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:F$.black},JI(0,"Input validation background color for error severity.")),pq=jK("inputValidation.errorForeground",{dark:null,light:null,hc:null},JI(0,"Input validation foreground color for error severity.")),gq=jK("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:YK},JI(0,"Input validation border color for error severity.")),fq=jK("dropdown.background",{dark:"#3C3C3C",light:F$.white,hc:F$.black},JI(0,"Dropdown background.")),mq=jK("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:F$.white},JI(0,"Dropdown foreground.")),_q=jK("button.foreground",{dark:F$.white,light:F$.white,hc:F$.white},JI(0,"Button foreground color.")),vq=jK("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},JI(0,"Button background color.")),bq=jK("button.hoverBackground",{dark:bY(vq,.2),light:vY(vq,.2),hc:null},JI(0,"Button background color when hovering.")),yq=jK("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:F$.black},JI(0,"Badge background color. Badges are small information labels, e.g. for search results count.")),wq=jK("badge.foreground",{dark:F$.white,light:"#333",hc:F$.white},JI(0,"Badge foreground color. Badges are small information labels, e.g. for search results count.")),Cq=jK("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},JI(0,"Scrollbar shadow to indicate that the view is scrolled.")),Sq=jK("scrollbarSlider.background",{dark:F$.fromHex("#797979").transparent(.4),light:F$.fromHex("#646464").transparent(.4),hc:yY(YK,.6)},JI(0,"Scrollbar slider background color.")),xq=jK("scrollbarSlider.hoverBackground",{dark:F$.fromHex("#646464").transparent(.7),light:F$.fromHex("#646464").transparent(.7),hc:yY(YK,.8)},JI(0,"Scrollbar slider background color when hovering.")),kq=jK("scrollbarSlider.activeBackground",{dark:F$.fromHex("#BFBFBF").transparent(.4),light:F$.fromHex("#000000").transparent(.6),hc:YK},JI(0,"Scrollbar slider background color when clicked on.")),Eq=jK("progressBar.background",{dark:F$.fromHex("#0E70C0"),light:F$.fromHex("#0E70C0"),hc:YK},JI(0,"Background color of the progress bar that can show for long running operations.")),Dq=jK("editorError.background",{dark:null,light:null,hc:null},JI(0,"Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Tq=jK("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},JI(0,"Foreground color of error squigglies in the editor.")),Lq=jK("editorError.border",{dark:null,light:null,hc:F$.fromHex("#E47777").transparent(.8)},JI(0,"Border color of error boxes in the editor.")),Nq=jK("editorWarning.background",{dark:null,light:null,hc:null},JI(0,"Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Iq=jK("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},JI(0,"Foreground color of warning squigglies in the editor.")),Pq=jK("editorWarning.border",{dark:null,light:null,hc:F$.fromHex("#FFCC00").transparent(.8)},JI(0,"Border color of warning boxes in the editor.")),Oq=jK("editorInfo.background",{dark:null,light:null,hc:null},JI(0,"Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Rq=jK("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},JI(0,"Foreground color of info squigglies in the editor.")),Aq=jK("editorInfo.border",{dark:null,light:null,hc:F$.fromHex("#75BEFF").transparent(.8)},JI(0,"Border color of info boxes in the editor.")),Mq=jK("editorHint.foreground",{dark:F$.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},JI(0,"Foreground color of hint squigglies in the editor.")),Fq=jK("editorHint.border",{dark:null,light:null,hc:F$.fromHex("#eeeeee").transparent(.8)},JI(0,"Border color of hint boxes in the editor.")),Bq=jK("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:F$.black},JI(0,"Editor background color.")),Vq=jK("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:F$.white},JI(0,"Editor default foreground color.")),Wq=jK("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},JI(0,"Background color of editor widgets, such as find/replace.")),Hq=jK("editorWidget.foreground",{dark:$K,light:$K,hc:$K},JI(0,"Foreground color of editor widgets, such as find/replace.")),Uq=jK("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:YK},JI(0,"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),zq=jK("editorWidget.resizeBorder",{light:null,dark:null,hc:null},JI(0,"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),jq=jK("quickInput.background",{dark:Wq,light:Wq,hc:Wq},JI(0,"Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),$q=jK("quickInput.foreground",{dark:Hq,light:Hq,hc:Hq},JI(0,"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Kq=jK("quickInputTitle.background",{dark:new F$(new R$(255,255,255,.105)),light:new F$(new R$(0,0,0,.06)),hc:"#000000"},JI(0,"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),qq=jK("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:F$.white},JI(0,"Quick picker color for grouping labels.")),Gq=jK("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:F$.white},JI(0,"Quick picker color for grouping borders.")),Yq=jK("keybindingLabel.background",{dark:new F$(new R$(128,128,128,.17)),light:new F$(new R$(221,221,221,.4)),hc:F$.transparent},JI(0,"Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Zq=jK("keybindingLabel.foreground",{dark:F$.fromHex("#CCCCCC"),light:F$.fromHex("#555555"),hc:F$.white},JI(0,"Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Xq=jK("keybindingLabel.border",{dark:new F$(new R$(51,51,51,.6)),light:new F$(new R$(204,204,204,.4)),hc:new F$(new R$(111,195,223))},JI(0,"Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Jq=jK("keybindingLabel.bottomBorder",{dark:new F$(new R$(68,68,68,.6)),light:new F$(new R$(187,187,187,.4)),hc:new F$(new R$(111,195,223))},JI(0,"Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Qq=jK("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},JI(0,"Color of the editor selection.")),eG=jK("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},JI(0,"Color of the selected text for high contrast.")),tG=jK("editor.inactiveSelectionBackground",{light:yY(Qq,.5),dark:yY(Qq,.5),hc:yY(Qq,.5)},JI(0,"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),nG=jK("editor.selectionHighlightBackground",{light:CY(Qq,Bq,.3,.6),dark:CY(Qq,Bq,.3,.6),hc:null},JI(0,"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),iG=jK("editor.selectionHighlightBorder",{light:null,dark:null,hc:ZK},JI(0,"Border color for regions with the same content as the selection.")),sG=jK("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},JI(0,"Color of the current search match.")),rG=jK("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},JI(0,"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),oG=jK("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},JI(0,"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),aG=jK("editor.findMatchBorder",{light:null,dark:null,hc:ZK},JI(0,"Border color of the current search match.")),lG=jK("editor.findMatchHighlightBorder",{light:null,dark:null,hc:ZK},JI(0,"Border color of the other search matches.")),cG=jK("editor.findRangeHighlightBorder",{dark:null,light:null,hc:yY(ZK,.4)},JI(0,"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),dG=jK("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},JI(0,"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),hG=jK("editorHoverWidget.background",{light:Wq,dark:Wq,hc:Wq},JI(0,"Background color of the editor hover.")),uG=jK("editorHoverWidget.foreground",{light:Hq,dark:Hq,hc:Hq},JI(0,"Foreground color of the editor hover.")),pG=jK("editorHoverWidget.border",{light:Uq,dark:Uq,hc:Uq},JI(0,"Border color of the editor hover.")),gG=jK("editorHoverWidget.statusBarBackground",{dark:bY(hG,.2),light:vY(hG,.05),hc:Wq},JI(0,"Background color of the editor hover status bar.")),fG=jK("editorLink.activeForeground",{dark:"#4E94CE",light:F$.blue,hc:F$.cyan},JI(0,"Color of active links.")),mG=jK("editorInlineHint.foreground",{dark:Wq,light:Hq,hc:Wq},JI(0,"Foreground color of inline hints")),_G=jK("editorInlineHint.background",{dark:Hq,light:Wq,hc:Hq},JI(0,"Background color of inline hints")),vG=jK("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},JI(0,"The color used for the lightbulb actions icon.")),bG=jK("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},JI(0,"The color used for the lightbulb auto fix actions icon.")),yG=new F$(new R$(155,185,85,.2)),wG=new F$(new R$(255,0,0,.2)),CG=jK("diffEditor.insertedTextBackground",{dark:yG,light:yG,hc:null},JI(0,"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),SG=jK("diffEditor.removedTextBackground",{dark:wG,light:wG,hc:null},JI(0,"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),xG=jK("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},JI(0,"Outline color for the text that got inserted.")),kG=jK("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},JI(0,"Outline color for text that got removed.")),EG=jK("diffEditor.border",{dark:null,light:null,hc:YK},JI(0,"Border color between the two text editors.")),DG=jK("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},JI(0,"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),TG=jK("list.focusBackground",{dark:null,light:null,hc:null},JI(0,"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),LG=jK("list.focusForeground",{dark:null,light:null,hc:null},JI(0,"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),NG=jK("list.focusOutline",{dark:GK,light:GK,hc:ZK},JI(0,"List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),IG=jK("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},JI(0,"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),PG=jK("list.activeSelectionForeground",{dark:F$.white,light:F$.white,hc:null},JI(0,"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),OG=jK("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},JI(0,"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),RG=jK("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},JI(0,"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),AG=jK("list.inactiveFocusBackground",{dark:null,light:null,hc:null},JI(0,"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),MG=jK("list.inactiveFocusOutline",{dark:null,light:null,hc:null},JI(0,"List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),FG=jK("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},JI(0,"List/Tree background when hovering over items using the mouse.")),BG=jK("list.hoverForeground",{dark:null,light:null,hc:null},JI(0,"List/Tree foreground when hovering over items using the mouse.")),VG=jK("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},JI(0,"List/Tree drag and drop background when moving items around using the mouse.")),WG=jK("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:GK},JI(0,"List/Tree foreground color of the match highlights when searching inside the list/tree.")),HG=jK("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:F$.black},JI(0,"Background color of the type filter widget in lists and trees.")),UG=jK("listFilterWidget.outline",{dark:F$.transparent,light:F$.transparent,hc:"#f38518"},JI(0,"Outline color of the type filter widget in lists and trees.")),zG=jK("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:YK},JI(0,"Outline color of the type filter widget in lists and trees, when there are no matches.")),jG=jK("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},JI(0,"Tree stroke color for the indentation guides.")),$G=jK("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},JI(0,"Tree stroke color for the indentation guides.")),KG=jK("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,JI(0,"Please use quickInputList.focusBackground instead")),qG=jK("quickInputList.focusBackground",{dark:wY(KG,TG,"#062F4A"),light:wY(KG,TG,"#D6EBFF"),hc:null},JI(0,"Quick picker background color for the focused item.")),GG=jK("menu.border",{dark:null,light:null,hc:YK},JI(0,"Border color of menus.")),YG=jK("menu.foreground",{dark:mq,light:$K,hc:mq},JI(0,"Foreground color of menu items.")),ZG=jK("menu.background",{dark:fq,light:fq,hc:fq},JI(0,"Background color of menu items.")),XG=jK("menu.selectionForeground",{dark:PG,light:PG,hc:PG},JI(0,"Foreground color of the selected menu item in menus.")),JG=jK("menu.selectionBackground",{dark:IG,light:IG,hc:IG},JI(0,"Background color of the selected menu item in menus.")),QG=jK("menu.selectionBorder",{dark:null,light:null,hc:ZK},JI(0,"Border color of the selected menu item in menus.")),eY=jK("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:YK},JI(0,"Color of a separator menu item in menus.")),tY=jK("editor.snippetTabstopHighlightBackground",{dark:new F$(new R$(124,124,124,.3)),light:new F$(new R$(10,50,100,.2)),hc:new F$(new R$(124,124,124,.3))},JI(0,"Highlight background color of a snippet tabstop.")),nY=jK("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},JI(0,"Highlight border color of a snippet tabstop.")),iY=jK("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},JI(0,"Highlight background color of the final tabstop of a snippet.")),sY=jK("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new F$(new R$(10,50,100,.5)),hc:"#525252"},JI(0,"Highlight border color of the final tabstop of a snippet.")),rY=jK("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},JI(0,"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),oY=jK("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},JI(0,"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),aY=jK("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},JI(0,"Minimap marker color for find matches."),!0),lY=jK("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},JI(0,"Minimap marker color for the editor selection."),!0),cY=jK("minimap.errorHighlight",{dark:new F$(new R$(255,18,18,.7)),light:new F$(new R$(255,18,18,.7)),hc:new F$(new R$(255,50,50,1))},JI(0,"Minimap marker color for errors.")),dY=jK("minimap.warningHighlight",{dark:Iq,light:Iq,hc:Pq},JI(0,"Minimap marker color for warnings.")),hY=jK("minimap.background",{dark:null,light:null,hc:null},JI(0,"Minimap background color.")),uY=jK("minimapSlider.background",{light:yY(Sq,.5),dark:yY(Sq,.5),hc:yY(Sq,.5)},JI(0,"Minimap slider background color.")),pY=jK("minimapSlider.hoverBackground",{light:yY(xq,.5),dark:yY(xq,.5),hc:yY(xq,.5)},JI(0,"Minimap slider background color when hovering.")),gY=jK("minimapSlider.activeBackground",{light:yY(kq,.5),dark:yY(kq,.5),hc:yY(kq,.5)},JI(0,"Minimap slider background color when clicked on.")),fY=jK("problemsErrorIcon.foreground",{dark:Tq,light:Tq,hc:Tq},JI(0,"The color used for the problems error icon.")),mY=jK("problemsWarningIcon.foreground",{dark:Iq,light:Iq,hc:Iq},JI(0,"The color used for the problems warning icon.")),_Y=jK("problemsInfoIcon.foreground",{dark:Rq,light:Rq,hc:Rq},JI(0,"The color used for the problems info icon."));function vY(e,t){return n=>{let i=SY(e,n);if(i)return i.darken(t)}}function bY(e,t){return n=>{let i=SY(e,n);if(i)return i.lighten(t)}}function yY(e,t){return n=>{let i=SY(e,n);if(i)return i.transparent(t)}}function wY(...e){return t=>{for(let n of e){let e=SY(n,t);if(e)return e}}}function CY(e,t,n,i){return s=>{let r=SY(e,s);if(r){let e=SY(t,s);return e?r.isDarkerThan(e)?F$.getLighterColor(r,e,n).transparent(i):F$.getDarkerColor(r,e,n).transparent(i):r.transparent(n*i)}}}function SY(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?F$.fromHex(e):t.getColor(e):e instanceof F$?e:"function"==typeof e?e(t):void 0}let xY=ZV.as(XV);xY.registerSchema("vscode://schemas/workbench-colors",zK.getColorSchema());const kY=new wO((()=>xY.notifySchemaChanged("vscode://schemas/workbench-colors")),200);zK.onDidChangeSchema((()=>{kY.isScheduled()||kY.schedule()}));const EY=jK("editor.lineHighlightBackground",{dark:null,light:null,hc:null},JI(0,"Background color for the highlight of line at the cursor position.")),DY=jK("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},JI(0,"Background color for the border around the line at the cursor position.")),TY=jK("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},JI(0,"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),LY=jK("editor.rangeHighlightBorder",{dark:null,light:null,hc:ZK},JI(0,"Background color of the border around highlighted ranges."),!0),NY=jK("editor.symbolHighlightBackground",{dark:rG,light:rG,hc:null},JI(0,"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),IY=jK("editor.symbolHighlightBorder",{dark:null,light:null,hc:ZK},JI(0,"Background color of the border around highlighted symbols."),!0),PY=jK("editorCursor.foreground",{dark:"#AEAFAD",light:F$.black,hc:F$.white},JI(0,"Color of the editor cursor.")),OY=jK("editorCursor.background",null,JI(0,"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),RY=jK("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},JI(0,"Color of whitespace characters in the editor.")),AY=jK("editorIndentGuide.background",{dark:RY,light:RY,hc:RY},JI(0,"Color of the editor indentation guides.")),MY=jK("editorIndentGuide.activeBackground",{dark:RY,light:RY,hc:RY},JI(0,"Color of the active editor indentation guides.")),FY=jK("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:F$.white},JI(0,"Color of editor line numbers.")),BY=jK("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:ZK},JI(0,"Color of editor active line number"),!1,JI(0,"Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),VY=jK("editorLineNumber.activeForeground",{dark:BY,light:BY,hc:BY},JI(0,"Color of editor active line number")),WY=jK("editorRuler.foreground",{dark:"#5A5A5A",light:F$.lightgrey,hc:F$.white},JI(0,"Color of the editor rulers.")),HY=jK("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},JI(0,"Foreground color of editor CodeLens")),UY=jK("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},JI(0,"Background color behind matching brackets")),zY=jK("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:YK},JI(0,"Color for matching brackets boxes")),jY=jK("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},JI(0,"Color of the overview ruler border.")),$Y=jK("editorOverviewRuler.background",null,JI(0,"Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),KY=jK("editorGutter.background",{dark:Bq,light:Bq,hc:Bq},JI(0,"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),qY=jK("editorUnnecessaryCode.border",{dark:null,light:null,hc:F$.fromHex("#fff").transparent(.8)},JI(0,"Border color of unnecessary (unused) source code in the editor.")),GY=jK("editorUnnecessaryCode.opacity",{dark:F$.fromHex("#000a"),light:F$.fromHex("#0007"),hc:null},JI(0,"Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),YY=new F$(new R$(0,122,204,.6)),ZY=jK("editorOverviewRuler.rangeHighlightForeground",{dark:YY,light:YY,hc:YY},JI(0,"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),XY=jK("editorOverviewRuler.errorForeground",{dark:new F$(new R$(255,18,18,.7)),light:new F$(new R$(255,18,18,.7)),hc:new F$(new R$(255,50,50,1))},JI(0,"Overview ruler marker color for errors.")),JY=jK("editorOverviewRuler.warningForeground",{dark:Iq,light:Iq,hc:Pq},JI(0,"Overview ruler marker color for warnings.")),QY=jK("editorOverviewRuler.infoForeground",{dark:Rq,light:Rq,hc:Aq},JI(0,"Overview ruler marker color for infos."));LU(((e,t)=>{const n=e.getColor(Bq);n&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${n}; }`);const i=e.getColor(Vq);i&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const s=e.getColor(KY);s&&t.addRule(`.monaco-editor .margin { background-color: ${s}; }`);const r=e.getColor(TY);r&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${r}; }`);const o=e.getColor(LY);o&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${o}; }`);const a=e.getColor(NY);a&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=e.getColor(IY);l&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${l}; }`);const c=e.getColor(RY);c&&(t.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))}));class eZ extends HK{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new je(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(55);const t=e.get(56);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(81);const n=e.get(127);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let n=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,n=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(n=!0),n}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new je(e,1));if(1!==t.column)return"";const n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===e?'<span class="relative-current-line-number">'+n+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===n||n%10==0?String(n):"":String(n)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=w?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,s='<div class="'+eZ.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',r=this._context.model.getLineCount(),o=[];for(let a=n;a<=i;a++){const e=a-n;if(!this._renderFinalNewline&&a===r&&0===this._context.model.getLineLength(a)){o[e]="";continue}const i=this._getLineRenderLineNumber(a);i?a===this._activeLineNumber?o[e]='<div class="active-line-number '+eZ.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+i+"</div>":o[e]=s+i+"</div>":o[e]=""}this._renderResult=o}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}eZ.CLASS_NAME="line-numbers",LU(((e,t)=>{const n=e.getColor(FY);n&&t.addRule(`.monaco-editor .line-numbers { color: ${n}; }`);const i=e.getColor(VY);i&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)}));class tZ extends Iz{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(127);this._canUseLayerHinting=!t.get(26),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._domNode=gz(document.createElement("div")),this._domNode.setClassName(tZ.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=gz(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(tZ.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(127);return this._canUseLayerHinting=!t.get(26),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)}}tZ.CLASS_NAME="glyph-margin",tZ.OUTER_CLASS_NAME="margin";class nZ{constructor(e,t,n){this.top=e,this.left=t,this.width=n}setWidth(e){return new nZ(this.top,this.left,e)}}const iZ=UP;class sZ extends Iz{constructor(e,t,n){super(e),this._primaryCursorPosition=new je(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=n,this._scrollLeft=0,this._scrollTop=0;const i=this._context.configuration.options,s=i.get(127);this._setAccessibilityOptions(i),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._contentHeight=s.height,this._fontInfo=i.get(40),this._lineHeight=i.get(55),this._emptySelectionClipboard=i.get(30),this._copyWithSyntaxHighlighting=i.get(19),this._visibleTextArea=null,this._selections=[new Ze(1,1,1,1)],this._modelSelections=[new Ze(1,1,1,1)],this._lastRenderPosition=null,this.textArea=gz(document.createElement("textarea")),Pz.write(this.textArea,6),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(i)),this.textArea.setAttribute("tabindex",String(i.get(109))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",JI(0,"editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),i.get(28)&&i.get(77)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=gz(document.createElement("div")),this.textAreaCover.setPosition("absolute");const r={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},o={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,T),n=this._context.model.getEOL(),i=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),s=Array.isArray(t)?t:null,r=Array.isArray(t)?t.join(n):t;let o,a=null;if(e&&(OK.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&r.length<65536)){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(o=e.html,a=e.mode)}return{isFromEmptySelection:i,multicursorText:s,text:r,html:o,mode:a}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(S){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let n=this._getWordBeforePosition(t);if(0===n.length&&(n=this._getCharacterBeforePosition(t)),n.length>0)return new NK(n,n.length,n.length,t,t)}}return NK.EMPTY}if(GP){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[n,i]=this._getAndroidWordAtPosition(t);if(n.length>0)return new NK(n,i,i,t,t)}return NK.EMPTY}return IK.fromEditorSelection(e,r,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,n)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,n)};this._textAreaInput=this._register(new AK(o,this.textArea)),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,n=null,i=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,n=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,i=e.metadata.mode),this._viewController.paste(e.text,t,n,i)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this._selections[0].startLineNumber,n=this._selections[0].startColumn+e.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new oe(t,n,t,n),0,1);const i=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,n);i&&(this._visibleTextArea=new nZ(this._context.viewLayout.getVerticalOffsetForLineNumber(t),i.left,iZ?0:1),this._render()),this.textArea.setClassName("inputarea monaco-mouse-cursor-text ime-input"),this._viewController.compositionStart(),this._context.model.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(e,t){const n=document.createElement("canvas").getContext("2d");n.font=(i=t,s="normal",r=i.fontWeight,o=i.fontSize,a=i.lineHeight,l=i.fontFamily,`${s} normal ${r} ${o}px / ${a}px ${l}`);var i,s,r,o,a,l;const c=n.measureText(e);return UP?c.width+2:c.width}(e.data,this._fontInfo)),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.model.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.model.setHasFocus(!1)})))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.model.getLineContent(e.lineNumber),n=qj('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let i=!0,s=e.column,r=!0,o=e.column,a=0;for(;a<50&&(i||r);){if(i&&s<=1&&(i=!1),i){const e=t.charCodeAt(s-2);0!==n.get(e)?i=!1:s--}if(r&&o>t.length&&(r=!1),r){const e=t.charCodeAt(o-1);0!==n.get(e)?r=!1:o++}a++}return[t.substring(s-1,o-1),e.column-s]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),n=qj(this._context.configuration.options.get(113));let i=e.column,s=0;for(;i>1;){const r=t.charCodeAt(i-2);if(0!==n.get(r)||s>50)return t.substring(i-1,e.column-1);s++,i--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!_e(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?JI(0,"The editor is not accessible at this time. Press {0} for options.",w?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===LP.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(127);return this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(40),this._lineHeight=t.get(55),this._emptySelectionClipboard=t.get(30),this._copyWithSyntaxHighlighting=t.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(109))),(e.hasChanged(28)||e.hasChanged(77))&&(t.get(28)&&t.get(77)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new je(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():S?this._renderInsideEditor(this._primaryCursorPosition,t,e,iZ?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,iZ?0:1,iZ?0:1)}_renderInsideEditor(e,t,n,i,s){this._lastRenderPosition=e;const r=this.textArea,o=this.textAreaCover;uz.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(n),r.setWidth(i),r.setHeight(s),o.setTop(0),o.setLeft(0),o.setWidth(0),o.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(uz.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),iZ)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const n=this._context.configuration.options;n.get(46)?t.setClassName("monaco-editor-background textAreaCover "+tZ.OUTER_CLASS_NAME):0!==n.get(56).renderType?t.setClassName("monaco-editor-background textAreaCover "+eZ.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}class rZ{static columnSelect(e,t,n,i,s,r){let o=Math.abs(s-n)+1,a=n>s,l=i>r,c=i<r,d=[];for(let h=0;h<o;h++){let s=n+(a?-h:h),o=gK.columnFromVisibleColumn2(e,t,s,i),u=gK.columnFromVisibleColumn2(e,t,s,r),p=gK.visibleColumnFromColumn2(e,t,new je(s,o)),g=gK.visibleColumnFromColumn2(e,t,new je(s,u));if(c){if(p>r)continue;if(g<i)continue}if(l){if(g>i)continue;if(p<r)continue}d.push(new lK(new oe(s,o,s,o),0,new je(s,u),0))}if(0===d.length)for(let h=0;h<o;h++){const e=n+(a?-h:h),i=t.getLineMaxColumn(e);d.push(new lK(new oe(e,i,e,i),0,new je(e,i),0))}return{viewStates:d,reversed:a,fromLineNumber:n,fromVisualColumn:i,toLineNumber:s,toVisualColumn:r}}static columnSelectLeft(e,t,n){let i=n.toViewVisualColumn;return i>0&&i--,rZ.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,i)}static columnSelectRight(e,t,n){let i=0;const s=Math.min(n.fromViewLineNumber,n.toViewLineNumber),r=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(let a=s;a<=r;a++){const n=t.getLineMaxColumn(a),s=gK.visibleColumnFromColumn2(e,t,new je(a,n));i=Math.max(i,s)}let o=n.toViewVisualColumn;return o<i&&o++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,o)}static columnSelectUp(e,t,n,i){const s=i?e.pageSize:1,r=Math.max(1,n.toViewLineNumber-s);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)}static columnSelectDown(e,t,n,i){const s=i?e.pageSize:1,r=Math.min(t.getLineCount(),n.toViewLineNumber+s);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)}}class oZ{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new Ze(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn)}}class aZ{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return new Ze(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)}}class lZ{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new Ze(n.startLineNumber,n.startColumn,n.startLineNumber,n.startColumn)}}class cZ{constructor(e,t,n,i,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new Ze(n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset,n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset)}}class dZ{constructor(e,t,n,i=!1){this._range=e,this._text=t,this._initialSelection=n,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class hZ{constructor(e,t,n){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class uZ{static leftPosition(e,t,n){return n>e.getLineMinColumn(t)?n-=ut(e.getLineContent(t),n-1):t>1&&(t-=1,n=e.getLineMaxColumn(t)),new je(t,n)}static leftPositionAtomicSoftTabs(e,t,n,i){const s=e.getLineMinColumn(t),r=e.getLineContent(t),o=mK.atomicPosition(r,n-1,i,0);return-1===o||o+1<s?this.leftPosition(e,t,n):new je(t,o+1)}static left(e,t,n,i){const s=e.stickyTabStops?uZ.leftPositionAtomicSoftTabs(t,n,i,e.tabSize):uZ.leftPosition(t,n,i);return new hZ(s.lineNumber,s.column,0)}static moveLeft(e,t,n,i,s){let r,o;if(n.hasSelection()&&!i)r=n.selection.startLineNumber,o=n.selection.startColumn;else{let i=uZ.left(e,t,n.position.lineNumber,n.position.column-(s-1));r=i.lineNumber,o=i.column}return n.move(i,r,o,0)}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n+=pt(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new je(t,n)}static rightPositionAtomicSoftTabs(e,t,n,i,s){const r=e.getLineContent(t),o=mK.atomicPosition(r,n-1,i,1);return-1===o?this.rightPosition(e,t,n):new je(t,o+1)}static right(e,t,n,i){const s=e.stickyTabStops?uZ.rightPositionAtomicSoftTabs(t,n,i,e.tabSize,e.indentSize):uZ.rightPosition(t,n,i);return new hZ(s.lineNumber,s.column,0)}static moveRight(e,t,n,i,s){let r,o;if(n.hasSelection()&&!i)r=n.selection.endLineNumber,o=n.selection.endColumn;else{let i=uZ.right(e,t,n.position.lineNumber,n.position.column+(s-1));r=i.lineNumber,o=i.column}return n.move(i,r,o,0)}static down(e,t,n,i,s,r,o){const a=gK.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+s,l=t.getLineCount(),c=n===l&&i===t.getLineMaxColumn(n);return(n+=r)>l?(n=l,i=o?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=gK.columnFromVisibleColumn2(e,t,n,a),s=c?0:a-gK.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),new hZ(n,i,s)}static moveDown(e,t,n,i,s){let r,o;n.hasSelection()&&!i?(r=n.selection.endLineNumber,o=n.selection.endColumn):(r=n.position.lineNumber,o=n.position.column);let a=uZ.down(e,t,r,o,n.leftoverVisibleColumns,s,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,n){let i=n.selection,s=uZ.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),r=uZ.down(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new lK(new oe(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new je(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(e,t,n,i,s,r,o){const a=gK.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+s,l=1===n&&1===i;return(n-=r)<1?(n=1,i=o?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=gK.columnFromVisibleColumn2(e,t,n,a),s=l?0:a-gK.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),new hZ(n,i,s)}static moveUp(e,t,n,i,s){let r,o;n.hasSelection()&&!i?(r=n.selection.startLineNumber,o=n.selection.startColumn):(r=n.position.lineNumber,o=n.position.column);let a=uZ.up(e,t,r,o,n.leftoverVisibleColumns,s,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,n){let i=n.selection,s=uZ.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),r=uZ.up(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new lK(new oe(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new je(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,n,i){let s=n.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return n.move(i,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,n,i){const s=t.getLineCount();let r=n.position.lineNumber;for(;r<s&&this._isBlankLine(t,r);)r++;for(;r<s&&!this._isBlankLine(t,r);)r++;return n.move(i,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,n,i){let s,r=n.position.lineNumber,o=t.getLineMinColumn(r),a=t.getLineFirstNonWhitespaceColumn(r)||o;return s=n.position.column===a?o:a,n.move(i,r,s,0)}static moveToEndOfLine(e,t,n,i,s){let r=n.position.lineNumber,o=t.getLineMaxColumn(r);return n.move(i,r,o,s?1073741824-o:0)}static moveToBeginningOfBuffer(e,t,n,i){return n.move(i,1,1,0)}static moveToEndOfBuffer(e,t,n,i){let s=t.getLineCount(),r=t.getLineMaxColumn(s);return n.move(i,s,r,0)}}class pZ{static deleteRight(e,t,n,i){let s=[],r=3!==e;for(let o=0,a=i.length;o<a;o++){const e=i[o];let a=e;if(a.isEmpty()){let i=e.getPosition(),s=uZ.right(t,n,i.lineNumber,i.column);a=new oe(s.lineNumber,s.column,i.lineNumber,i.column)}a.isEmpty()?s[o]=null:(a.startLineNumber!==a.endLineNumber&&(r=!0),s[o]=new oZ(a,""))}return[r,s]}static isAutoClosingPairDelete(e,t,n,i,s,r,o){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(let a=0,l=r.length;a<l;a++){const l=r[a],c=l.getPosition();if(!l.isEmpty())return!1;const d=s.getLineContent(c.lineNumber);if(c.column<2||c.column>=d.length+1)return!1;const h=d.charAt(c.column-2),u=i.get(h);if(!u)return!1;if(fK(h)){if("never"===n)return!1}else if("never"===t)return!1;const p=d.charAt(c.column-1);let g=!1;for(const e of u)e.open===h&&e.close===p&&(g=!0);if(!g)return!1;if("auto"===e){let e=!1;for(let t=0,n=o.length;t<n;t++){const n=o[t];if(c.lineNumber===n.startLineNumber&&c.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){let i=[];for(let s=0,r=n.length;s<r;s++){const e=n[s].getPosition(),t=new oe(e.lineNumber,e.column-1,e.lineNumber,e.column+1);i[s]=new oZ(t,"")}return[!0,i]}static deleteLeft(e,t,n,i,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,i,s))return this._runAutoClosingPairDelete(t,n,i);let r=[],o=2!==e;for(let a=0,l=i.length;a<l;a++){const e=i[a];let s=e;if(s.isEmpty()){let i=e.getPosition();if(t.useTabStops&&i.column>1){let e=n.getLineContent(i.lineNumber),r=Le(e),o=-1===r?e.length+1:r+1;if(i.column<=o){let e=gK.visibleColumnFromColumn2(t,n,i),r=gK.prevIndentTabStop(e,t.indentSize),o=gK.columnFromVisibleColumn2(t,n,i.lineNumber,r);s=new oe(i.lineNumber,o,i.lineNumber,i.column)}else s=new oe(i.lineNumber,i.column-1,i.lineNumber,i.column)}else{let e=uZ.left(t,n,i.lineNumber,i.column);s=new oe(e.lineNumber,e.column,i.lineNumber,i.column)}}s.isEmpty()?r[a]=null:(s.startLineNumber!==s.endLineNumber&&(o=!0),r[a]=new oZ(s,""))}return[o,r]}static cut(e,t,n){let i=[];for(let s=0,r=n.length;s<r;s++){const r=n[s];if(r.isEmpty())if(e.emptySelectionClipboard){let e,n,o,a,l=r.getPosition();l.lineNumber<t.getLineCount()?(e=l.lineNumber,n=1,o=l.lineNumber+1,a=1):l.lineNumber>1?(e=l.lineNumber-1,n=t.getLineMaxColumn(l.lineNumber-1),o=l.lineNumber,a=t.getLineMaxColumn(l.lineNumber)):(e=l.lineNumber,n=1,o=l.lineNumber,a=t.getLineMaxColumn(l.lineNumber));let c=new oe(e,n,o,a);c.isEmpty()?i[s]=null:i[s]=new oZ(c,"")}else i[s]=null;else i[s]=new oZ(r,"")}return new pK(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class gZ{static _createWord(e,t,n,i,s){return{start:i,end:s,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(e,t,n){let i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)}static _doFindPreviousWordOnLine(e,t,n){let i=0;for(let s=n.column-2;s>=0;s--){let n=e.charCodeAt(s),r=t.get(n);if(0===r){if(2===i)return this._createWord(e,i,r,s+1,this._findEndOfWord(e,t,i,s+1));i=1}else if(2===r){if(1===i)return this._createWord(e,i,r,s+1,this._findEndOfWord(e,t,i,s+1));i=2}else if(1===r&&0!==i)return this._createWord(e,i,r,s+1,this._findEndOfWord(e,t,i,s+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null}static _findEndOfWord(e,t,n,i){let s=e.length;for(let r=i;r<s;r++){let i=e.charCodeAt(r),s=t.get(i);if(1===s)return r;if(1===n&&2===s)return r;if(2===n&&0===s)return r}return s}static _findNextWordOnLine(e,t,n){let i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)}static _doFindNextWordOnLine(e,t,n){let i=0,s=e.length;for(let r=n.column-1;r<s;r++){let n=e.charCodeAt(r),s=t.get(n);if(0===s){if(2===i)return this._createWord(e,i,s,this._findStartOfWord(e,t,i,r-1),r);i=1}else if(2===s){if(1===i)return this._createWord(e,i,s,this._findStartOfWord(e,t,i,r-1),r);i=2}else if(1===s&&0!==i)return this._createWord(e,i,s,this._findStartOfWord(e,t,i,r-1),r)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,s-1),s):null}static _findStartOfWord(e,t,n,i){for(let s=i;s>=0;s--){let i=e.charCodeAt(s),r=t.get(i);if(1===r)return s+1;if(1===n&&2===r)return s+1;if(2===n&&0===r)return s+1}return 0}static moveWordLeft(e,t,n,i){let s=n.lineNumber,r=n.column;1===r&&s>1&&(s-=1,r=t.getLineMaxColumn(s));let o=gZ._findPreviousWordOnLine(e,t,new je(s,r));if(0===i)return new je(s,o?o.start+1:1);if(1===i)return o&&2===o.wordType&&o.end-o.start==1&&0===o.nextCharClass&&(o=gZ._findPreviousWordOnLine(e,t,new je(s,o.start+1))),new je(s,o?o.start+1:1);if(3===i){for(;o&&2===o.wordType;)o=gZ._findPreviousWordOnLine(e,t,new je(s,o.start+1));return new je(s,o?o.start+1:1)}return o&&r<=o.end+1&&(o=gZ._findPreviousWordOnLine(e,t,new je(s,o.start+1))),new je(s,o?o.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(1===t.column)return n>1?new je(n-1,e.getLineMaxColumn(n-1)):t;const s=e.getLineContent(n);for(let r=t.column-1;r>1;r--){const e=s.charCodeAt(r-2),t=s.charCodeAt(r-1);if(95===e&&95!==t)return new je(n,r);if(gt(e)&&ft(t))return new je(n,r);if(ft(e)&&ft(t)&&r+1<i){const e=s.charCodeAt(r);if(gt(e))return new je(n,r)}}return new je(n,1)}static moveWordRight(e,t,n,i){let s=n.lineNumber,r=n.column,o=!1;r===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(o=!0,s+=1,r=1);let a=gZ._findNextWordOnLine(e,t,new je(s,r));if(2===i)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=gZ._findNextWordOnLine(e,t,new je(s,a.end+1))),r=a?a.end+1:t.getLineMaxColumn(s);else if(3===i){for(o&&(r=0);a&&(2===a.wordType||a.start+1<=r);)a=gZ._findNextWordOnLine(e,t,new je(s,a.end+1));r=a?a.start+1:t.getLineMaxColumn(s)}else a&&!o&&r>=a.start+1&&(a=gZ._findNextWordOnLine(e,t,new je(s,a.end+1))),r=a?a.start+1:t.getLineMaxColumn(s);return new je(s,r)}static _moveWordPartRight(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(t.column===i)return n<e.getLineCount()?new je(n+1,1):t;const s=e.getLineContent(n);for(let r=t.column+1;r<i;r++){const e=s.charCodeAt(r-2),t=s.charCodeAt(r-1);if(95!==e&&95===t)return new je(n,r);if(gt(e)&&ft(t))return new je(n,r);if(ft(e)&&ft(t)&&r+1<i){const e=s.charCodeAt(r);if(gt(e))return new je(n,r)}}return new je(n,i)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-2,s=Ne(n,i);return s+1<i?new oe(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,i=e.model,s=e.selection,r=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(pZ.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new oe(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const o=new je(s.positionLineNumber,s.positionColumn);let a=o.lineNumber,l=o.column;if(1===a&&1===l)return null;if(r){let e=this._deleteWordLeftWhitespace(i,o);if(e)return e}let c=gZ._findPreviousWordOnLine(n,i,o);return 0===t?c?l=c.start+1:l>1?l=1:(a--,l=i.getLineMaxColumn(a)):(c&&l<=c.end+1&&(c=gZ._findPreviousWordOnLine(n,i,new je(a,c.start+1))),c?l=c.end+1:l>1?l=1:(a--,l=i.getLineMaxColumn(a))),new oe(a,l,o.lineNumber,o.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const i=new je(n.positionLineNumber,n.positionColumn);let s=this._deleteInsideWordWhitespace(t,i);return s||this._deleteInsideWordDetermineDeleteRange(e,t,i)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=n.length;if(0===i)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,s))return null;let r=Math.min(t.column-1,i-1);if(!this._charAtIsWhitespace(n,r))return null;for(;s>0&&this._charAtIsWhitespace(n,s-1);)s--;for(;r+1<i&&this._charAtIsWhitespace(n,r+1);)r++;return new oe(t.lineNumber,s+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const i=t.getLineContent(n.lineNumber),s=i.length;if(0===s)return n.lineNumber>1?new oe(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new oe(n.lineNumber,1,n.lineNumber+1,1):new oe(n.lineNumber,1,n.lineNumber,1);const r=e=>e.start+1<=n.column&&n.column<=e.end+1,o=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new oe(n.lineNumber,e,n.lineNumber,t)),a=e=>{let t=e.start+1,n=e.end+1,r=!1;for(;n-1<s&&this._charAtIsWhitespace(i,n-1);)r=!0,n++;if(!r)for(;t>1&&this._charAtIsWhitespace(i,t-2);)t--;return o(t,n)},l=gZ._findPreviousWordOnLine(e,t,n);if(l&&r(l))return a(l);const c=gZ._findNextWordOnLine(e,t,n);return c&&r(c)?a(c):l&&c?o(l.end+1,c.start+1):l?o(l.start+1,l.end+1):c?o(c.start+1,c.end+1):o(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=gZ._moveWordPartLeft(e,n);return new oe(n.lineNumber,n.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(e,t){let n=e.length;for(let i=t;i<n;i++){let t=e.charAt(i);if(" "!==t&&"\t"!==t)return i}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-1,s=this._findFirstNonWhitespaceChar(n,i);return i+1<s?new oe(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,i=e.model,s=e.selection,r=e.whitespaceHeuristics;if(!s.isEmpty())return s;const o=new je(s.positionLineNumber,s.positionColumn);let a=o.lineNumber,l=o.column;const c=i.getLineCount(),d=i.getLineMaxColumn(a);if(a===c&&l===d)return null;if(r){let e=this._deleteWordRightWhitespace(i,o);if(e)return e}let h=gZ._findNextWordOnLine(n,i,o);return 2===t?h?l=h.end+1:l<d||a===c?l=d:(a++,h=gZ._findNextWordOnLine(n,i,new je(a,1)),l=h?h.start+1:i.getLineMaxColumn(a)):(h&&l>=h.start+1&&(h=gZ._findNextWordOnLine(n,i,new je(a,h.end+1))),h?l=h.start+1:l<d||a===c?l=d:(a++,h=gZ._findNextWordOnLine(n,i,new je(a,1)),l=h?h.start+1:i.getLineMaxColumn(a))),new oe(a,l,o.lineNumber,o.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=gZ._moveWordPartRight(e,n);return new oe(n.lineNumber,n.column,i.lineNumber,i.column)}static _createWordAtPosition(e,t,n){const i=new oe(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,n){const i=qj(t),s=gZ._findPreviousWordOnLine(i,e,n);if(s&&1===s.wordType&&s.start<=n.column-1&&n.column-1<=s.end)return gZ._createWordAtPosition(e,n.lineNumber,s);const r=gZ._findNextWordOnLine(i,e,n);return r&&1===r.wordType&&r.start<=n.column-1&&n.column-1<=r.end?gZ._createWordAtPosition(e,n.lineNumber,r):null}static word(e,t,n,i,s){const r=qj(e.wordSeparators);let o,a,l=gZ._findPreviousWordOnLine(r,t,s),c=gZ._findNextWordOnLine(r,t,s);if(!i){let e,n;return l&&1===l.wordType&&l.start<=s.column-1&&s.column-1<=l.end?(e=l.start+1,n=l.end+1):c&&1===c.wordType&&c.start<=s.column-1&&s.column-1<=c.end?(e=c.start+1,n=c.end+1):(e=l?l.end+1:1,n=c?c.start+1:t.getLineMaxColumn(s.lineNumber)),new lK(new oe(s.lineNumber,e,s.lineNumber,n),0,new je(s.lineNumber,n),0)}l&&1===l.wordType&&l.start<s.column-1&&s.column-1<l.end?(o=l.start+1,a=l.end+1):c&&1===c.wordType&&c.start<s.column-1&&s.column-1<c.end?(o=c.start+1,a=c.end+1):(o=s.column,a=s.column);let d,h=s.lineNumber;if(n.selectionStart.containsPosition(s))d=n.selectionStart.endColumn;else if(s.isBeforeOrEqual(n.selectionStart.getStartPosition())){d=o;let e=new je(h,d);n.selectionStart.containsPosition(e)&&(d=n.selectionStart.endColumn)}else{d=a;let e=new je(h,d);n.selectionStart.containsPosition(e)&&(d=n.selectionStart.startColumn)}return n.move(!0,h,d,0)}}class fZ extends gZ{static deleteWordPartLeft(e){const t=mZ([gZ.deleteWordLeft(e,0),gZ.deleteWordLeft(e,2),gZ._deleteWordPartLeft(e.model,e.selection)]);return t.sort(oe.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=mZ([gZ.deleteWordRight(e,0),gZ.deleteWordRight(e,2),gZ._deleteWordPartRight(e.model,e.selection)]);return t.sort(oe.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,n){const i=mZ([gZ.moveWordLeft(e,t,n,0),gZ.moveWordLeft(e,t,n,2),gZ._moveWordPartLeft(t,n)]);return i.sort(je.compare),i[2]}static moveWordPartRight(e,t,n){const i=mZ([gZ.moveWordRight(e,t,n,0),gZ.moveWordRight(e,t,n,2),gZ._moveWordPartRight(t,n)]);return i.sort(je.compare),i[0]}}function mZ(e){return e.filter((e=>Boolean(e)))}class _Z{static addCursorDown(e,t,n){let i=[],s=0;for(let r=0,o=t.length;r<o;r++){const o=t[r];i[s++]=new uK(o.modelState,o.viewState),i[s++]=n?uK.fromModelState(uZ.translateDown(e.cursorConfig,e.model,o.modelState)):uK.fromViewState(uZ.translateDown(e.cursorConfig,e,o.viewState))}return i}static addCursorUp(e,t,n){let i=[],s=0;for(let r=0,o=t.length;r<o;r++){const o=t[r];i[s++]=new uK(o.modelState,o.viewState),i[s++]=n?uK.fromModelState(uZ.translateUp(e.cursorConfig,e.model,o.modelState)):uK.fromViewState(uZ.translateUp(e.cursorConfig,e,o.viewState))}return i}static moveToBeginningOfLine(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];i[s]=this._moveToLineStart(e,r,n)}return i}static _moveToLineStart(e,t,n){const i=t.viewState.position.column,s=i===t.modelState.position.column,r=t.viewState.position.lineNumber,o=e.getLineFirstNonWhitespaceColumn(r);return s||i===o?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}static _moveToLineStartByView(e,t,n){return uK.fromViewState(uZ.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return uK.fromModelState(uZ.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,i){let s=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];s[r]=this._moveToLineEnd(e,o,n,i)}return s}static _moveToLineEnd(e,t,n,i){const s=t.viewState.position,r=e.getLineMaxColumn(s.lineNumber),o=s.column===r,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),c=r-s.column==l-a.column;return o||c?this._moveToLineEndByModel(e,t,n,i):this._moveToLineEndByView(e,t,n,i)}static _moveToLineEndByView(e,t,n,i){return uK.fromViewState(uZ.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,i))}static _moveToLineEndByModel(e,t,n,i){return uK.fromModelState(uZ.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,i))}static expandLineSelection(e,t){let n=[];for(let i=0,s=t.length;i<s;i++){const s=t[i],r=s.modelState.selection.startLineNumber,o=e.model.getLineCount();let a,l=s.modelState.selection.endLineNumber;l===o?a=e.model.getLineMaxColumn(o):(l++,a=1),n[i]=uK.fromModelState(new lK(new oe(r,1,r,1),0,new je(l,a),0))}return n}static moveToBeginningOfBuffer(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];i[s]=uK.fromModelState(uZ.moveToBeginningOfBuffer(e.cursorConfig,e.model,r.modelState,n))}return i}static moveToEndOfBuffer(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];i[s]=uK.fromModelState(uZ.moveToEndOfBuffer(e.cursorConfig,e.model,r.modelState,n))}return i}static selectAll(e,t){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return uK.fromModelState(new lK(new oe(1,1,1,1),0,new je(n,i),0))}static line(e,t,n,i,s){const r=e.model.validatePosition(i),o=s?e.coordinatesConverter.validateViewPosition(new je(s.lineNumber,s.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!n||!t.modelState.hasSelection()){const t=e.model.getLineCount();let n=r.lineNumber+1,i=1;return n>t&&(n=t,i=e.model.getLineMaxColumn(n)),uK.fromModelState(new lK(new oe(r.lineNumber,1,n,i),0,new je(n,i),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<a)return uK.fromViewState(t.viewState.move(t.modelState.hasSelection(),o.lineNumber,1,0));if(r.lineNumber>a){const n=e.getLineCount();let i=o.lineNumber+1,s=1;return i>n&&(i=n,s=e.getLineMaxColumn(i)),uK.fromViewState(t.viewState.move(t.modelState.hasSelection(),i,s,0))}{const e=t.modelState.selectionStart.getEndPosition();return uK.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,n,i){const s=e.model.validatePosition(i);return uK.fromModelState(gZ.word(e.cursorConfig,e.model,t.modelState,n,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new uK(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,i=t.viewState.position.column;return uK.fromViewState(new lK(new oe(n,i,n,i),0,new je(n,i),0))}static moveTo(e,t,n,i,s){const r=e.model.validatePosition(i),o=s?e.coordinatesConverter.validateViewPosition(new je(s.lineNumber,s.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return uK.fromViewState(t.viewState.move(n,o.lineNumber,o.column,0))}static simpleMove(e,t,n,i,s,r){switch(n){case 0:return 4===r?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,s);case 1:return 4===r?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,s);case 2:return 2===r?this._moveUpByViewLines(e,t,i,s):this._moveUpByModelLines(e,t,i,s);case 3:return 2===r?this._moveDownByViewLines(e,t,i,s):this._moveDownByModelLines(e,t,i,s);case 4:return 2===r?t.map((t=>uK.fromViewState(uZ.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>uK.fromModelState(uZ.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 5:return 2===r?t.map((t=>uK.fromViewState(uZ.moveToNextBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>uK.fromModelState(uZ.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 6:return this._moveToViewMinColumn(e,t,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 8:return this._moveToViewCenterColumn(e,t,i);case 9:return this._moveToViewMaxColumn(e,t,i);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,i);default:return null}}static viewportMove(e,t,n,i,s){const r=e.getCompletelyVisibleViewRange(),o=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(n){case 11:{const n=this._firstLineNumberInRange(e.model,o,s),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 13:{const n=this._lastLineNumberInRange(e.model,o,s),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 12:{const n=Math.round((o.startLineNumber+o.endLineNumber)/2),s=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,s)]}case 14:{let n=[];for(let s=0,o=t.length;s<o;s++){const o=t[s];n[s]=this.findPositionInViewportIfOutside(e,o,r,i)}return n}default:return null}}static findPositionInViewportIfOutside(e,t,n,i){let s=t.viewState.position.lineNumber;if(n.startLineNumber<=s&&s<=n.endLineNumber-1)return new uK(t.modelState,t.viewState);{s>n.endLineNumber-1&&(s=n.endLineNumber-1),s<n.startLineNumber&&(s=n.startLineNumber);const r=e.getLineFirstNonWhitespaceColumn(s);return this._moveToViewPosition(e,t,i,s,r)}}static _firstLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)}static _lastLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)}static _moveLeft(e,t,n,i){const s=t.length>1;let r=[];for(let o=0,a=t.length;o<a;o++){const a=t[o],l=s||!a.viewState.hasSelection();let c=uZ.moveLeft(e.cursorConfig,e,a.viewState,n,i);if(l&&1===i&&a.viewState.position.column===e.getLineMinColumn(a.viewState.position.lineNumber)&&c.position.lineNumber!==a.viewState.position.lineNumber){e.coordinatesConverter.convertViewPositionToModelPosition(c.position).lineNumber===a.modelState.position.lineNumber&&(c=uZ.moveLeft(e.cursorConfig,e,c,n,1))}r[o]=uK.fromViewState(c)}return r}static _moveHalfLineLeft(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=Math.round(e.getLineContent(o).length/2);i[s]=uK.fromViewState(uZ.moveLeft(e.cursorConfig,e,r.viewState,n,a))}return i}static _moveRight(e,t,n,i){const s=t.length>1;let r=[];for(let o=0,a=t.length;o<a;o++){const a=t[o],l=s||!a.viewState.hasSelection();let c=uZ.moveRight(e.cursorConfig,e,a.viewState,n,i);if(l&&1===i&&a.viewState.position.column===e.getLineMaxColumn(a.viewState.position.lineNumber)&&c.position.lineNumber!==a.viewState.position.lineNumber){e.coordinatesConverter.convertViewPositionToModelPosition(c.position).lineNumber===a.modelState.position.lineNumber&&(c=uZ.moveRight(e.cursorConfig,e,c,n,1))}r[o]=uK.fromViewState(c)}return r}static _moveHalfLineRight(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=Math.round(e.getLineContent(o).length/2);i[s]=uK.fromViewState(uZ.moveRight(e.cursorConfig,e,r.viewState,n,a))}return i}static _moveDownByViewLines(e,t,n,i){let s=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];s[r]=uK.fromViewState(uZ.moveDown(e.cursorConfig,e,o.viewState,n,i))}return s}static _moveDownByModelLines(e,t,n,i){let s=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];s[r]=uK.fromModelState(uZ.moveDown(e.cursorConfig,e.model,o.modelState,n,i))}return s}static _moveUpByViewLines(e,t,n,i){let s=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];s[r]=uK.fromViewState(uZ.moveUp(e.cursorConfig,e,o.viewState,n,i))}return s}static _moveUpByModelLines(e,t,n,i){let s=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];s[r]=uK.fromModelState(uZ.moveUp(e.cursorConfig,e.model,o.modelState,n,i))}return s}static _moveToViewPosition(e,t,n,i,s){return uK.fromViewState(t.viewState.move(n,i,s,0))}static _moveToModelPosition(e,t,n,i,s){return uK.fromModelState(t.modelState.move(n,i,s,0))}static _moveToViewMinColumn(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=e.getLineMinColumn(o);i[s]=this._moveToViewPosition(e,r,n,o,a)}return i}static _moveToViewFirstNonWhitespaceColumn(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(o);i[s]=this._moveToViewPosition(e,r,n,o,a)}return i}static _moveToViewCenterColumn(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(o)+e.getLineMinColumn(o))/2);i[s]=this._moveToViewPosition(e,r,n,o,a)}return i}static _moveToViewMaxColumn(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=e.getLineMaxColumn(o);i[s]=this._moveToViewPosition(e,r,n,o,a)}return i}static _moveToViewLastNonWhitespaceColumn(e,t,n){let i=[];for(let s=0,r=t.length;s<r;s++){const r=t[s],o=r.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(o);i[s]=this._moveToViewPosition(e,r,n,o,a)}return i}}var vZ,bZ;(bZ=vZ||(vZ={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!ie(e))return!1;let t=e;return!(!Me(t.to)||!Fe(t.select)&&!mt(t.select)||!Fe(t.by)&&!Me(t.by)||!Fe(t.value)&&!_t(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},bZ.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},bZ.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},bZ.parse=function(e){if(!e.to)return null;let t;switch(e.to){case bZ.RawDirection.Left:t=0;break;case bZ.RawDirection.Right:t=1;break;case bZ.RawDirection.Up:t=2;break;case bZ.RawDirection.Down:t=3;break;case bZ.RawDirection.PrevBlankLine:t=4;break;case bZ.RawDirection.NextBlankLine:t=5;break;case bZ.RawDirection.WrappedLineStart:t=6;break;case bZ.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case bZ.RawDirection.WrappedLineColumnCenter:t=8;break;case bZ.RawDirection.WrappedLineEnd:t=9;break;case bZ.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case bZ.RawDirection.ViewPortTop:t=11;break;case bZ.RawDirection.ViewPortBottom:t=13;break;case bZ.RawDirection.ViewPortCenter:t=12;break;case bZ.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let n=0;switch(e.by){case bZ.RawUnit.Line:n=1;break;case bZ.RawUnit.WrappedLine:n=2;break;case bZ.RawUnit.Character:n=3;break;case bZ.RawUnit.HalfLine:n=4}return{direction:t,unit:n,select:!!e.select,value:e.value||1}};const yZ=Object.create(null);function wZ(e,t){if(t<=0)return"";yZ[e]||(yZ[e]=["",e]);const n=yZ[e];for(let i=n.length;i<=t;i++)n[i]=n[i-1]+e;return n[t]}class CZ{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,n,i,s){const r=gK.visibleColumnFromColumn(e,t,n);if(s){const e=wZ(" ",i);return wZ(e,gK.prevIndentTabStop(r,i)/i)}return wZ("\t",gK.prevRenderTabStop(r,n)/n)}static shiftIndent(e,t,n,i,s){const r=gK.visibleColumnFromColumn(e,t,n);if(s){const e=wZ(" ",i);return wZ(e,gK.nextIndentTabStop(r,i)/i)}return wZ("\t",gK.nextRenderTabStop(r,n)/n)}_addEditOperation(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)}getEditOperations(e,t){const n=this._selection.startLineNumber;let i=this._selection.endLineNumber;1===this._selection.endColumn&&n!==i&&(i-=1);const{tabSize:s,indentSize:r,insertSpaces:o}=this._opts,a=n===i;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,c=0;for(let d=n;d<=i;d++,l=c){c=0;let i,h=e.getLineContent(d),u=Le(h);if((!this._opts.isUnshift||0!==h.length&&0!==u)&&(a||this._opts.isUnshift||0!==h.length)){if(-1===u&&(u=h.length),d>1){if(gK.visibleColumnFromColumn(h,u+1,s)%r!=0&&e.isCheapToTokenize(d-1)){let t=dB.getEnterAction(this._opts.autoIndent,e,new oe(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)));if(t){if(c=l,t.appendText)for(let e=0,n=t.appendText.length;e<n&&c<r&&32===t.appendText.charCodeAt(e);e++)c++;t.removeText&&(c=Math.max(0,c-t.removeText));for(let e=0;e<c&&(0!==u&&32===h.charCodeAt(u-1));e++)u--}}}this._opts.isUnshift&&0===u||(i=this._opts.isUnshift?CZ.unshiftIndent(h,u+1,s,r,o):CZ.shiftIndent(h,u+1,s,r,o),this._addEditOperation(t,new oe(d,1,d,u+1),i),d!==n||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=u+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(n)&&(this._useLastEditRangeForCursorEndPosition=!0);const s=o?wZ(" ",r):"\t";for(let o=n;o<=i;o++){const i=e.getLineContent(o);let l=Le(i);if((!this._opts.isUnshift||0!==i.length&&0!==l)&&((a||this._opts.isUnshift||0!==i.length)&&(-1===l&&(l=i.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,r);for(let e=0;e<l;e++){if(9===i.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new oe(o,1,o,l+1),"")}else this._addEditOperation(t,new oe(o,1,o,1),s),o!==n||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new Ze(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return n.startColumn<=e?n:0===n.getDirection()?new Ze(n.startLineNumber,e,n.endLineNumber,n.endColumn):new Ze(n.endLineNumber,n.endColumn,n.startLineNumber,e)}return n}}class SZ{constructor(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}getEditOperations(e,t){t.addTrackedEditOperation(new oe(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new oe(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let n=t.getInverseEditOperations(),i=n[0].range,s=n[1].range;return new Ze(i.endLineNumber,i.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}class xZ{static indent(e,t,n){if(null===t||null===n)return[];let i=[];for(let s=0,r=n.length;s<r;s++)i[s]=new CZ(n[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i}static outdent(e,t,n){let i=[];for(let s=0,r=n.length;s<r;s++)i[s]=new CZ(n[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i}static shiftIndent(e,t,n){return n=n||1,CZ.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,CZ.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,i){let s=[];for(let r=0,o=n.length;r<o;r++)s[r]=new oZ(n[r],i[r]);return new pK(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,i,s){let r=[];for(let o=0,a=n.length;o<a;o++){const e=n[o];let t=e.getPosition();if(s&&!e.isEmpty()&&(s=!1),s&&i.indexOf("\n")!==i.length-1&&(s=!1),s){let n=new oe(t.lineNumber,1,t.lineNumber,1);r[o]=new dZ(n,i,e,!0)}else r[o]=new oZ(e,i)}return new pK(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,i,s){if(i)return null;if(1===t.length)return null;if(s&&s.length===t.length)return s;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));let e=Ae(n);if(e.length===t.length)return e}return null}static paste(e,t,n,i,s,r){const o=this._distributePasteToCursors(e,n,i,s,r);return o?(n=n.sort(oe.compareRangesUsingStarts),this._distributedPaste(e,t,n,o)):this._simplePaste(e,t,n,i,s)}static _goodIndentForLine(e,t,n){let i=null,s="";const r=dB.getInheritIndentForLine(e.autoIndent,t,n,!1);if(r)i=r.action,s=r.indentation;else if(n>1){let i;for(i=n-1;i>=1;i--){const e=t.getLineContent(i);if(Ne(e)>=0)break}if(i<1)return null;const r=t.getLineMaxColumn(i),o=dB.getEnterAction(e.autoIndent,t,new oe(i,r,i,r));o&&(s=o.indentation+o.appendText)}return i&&(i===DF.Indent&&(s=xZ.shiftIndent(e,s)),i===DF.Outdent&&(s=xZ.unshiftIndent(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,n,i){let s="",r=n.getStartPosition();if(e.insertSpaces){let n=gK.visibleColumnFromColumn2(e,t,r),i=e.indentSize,o=i-n%i;for(let e=0;e<o;e++)s+=" "}else s="\t";return new oZ(n,s,i)}static tab(e,t,n){let i=[];for(let s=0,r=n.length;s<r;s++){const r=n[s];if(r.isEmpty()){let n=t.getLineContent(r.startLineNumber);if(/^\s*$/.test(n)&&t.isCheapToTokenize(r.startLineNumber)){let o=this._goodIndentForLine(e,t,r.startLineNumber);o=o||"\t";let a=e.normalizeIndentation(o);if(!n.startsWith(a)){i[s]=new oZ(new oe(r.startLineNumber,1,r.startLineNumber,n.length+1),a,!0);continue}}i[s]=this._replaceJumpToNextIndent(e,t,r,!0)}else{if(r.startLineNumber===r.endLineNumber){let n=t.getLineMaxColumn(r.startLineNumber);if(1!==r.startColumn||r.endColumn!==n){i[s]=this._replaceJumpToNextIndent(e,t,r,!1);continue}}i[s]=new CZ(r,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return i}static compositionType(e,t,n,i,s,r,o,a){const l=i.map((e=>this._compositionType(n,e,s,r,o,a)));return new pK(1,l,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,i,s,r){if(!t.isEmpty())return null;const o=t.getPosition(),a=Math.max(1,o.column-i),l=Math.min(e.getLineMaxColumn(o.lineNumber),o.column+s),c=new oe(o.lineNumber,a,o.lineNumber,l);return e.getValueInRange(c)===n&&0===r?null:new cZ(c,n,0,r)}static _typeCommand(e,t,n){return n?new lZ(e,t,!0):new oZ(e,t,!0)}static _enter(e,t,n,i){if(0===e.autoIndent)return xZ._typeCommand(i,"\n",n);if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){let s=t.getLineContent(i.startLineNumber),r=we(s).substring(0,i.startColumn-1);return xZ._typeCommand(i,"\n"+e.normalizeIndentation(r),n)}const s=dB.getEnterAction(e.autoIndent,t,i);if(s){if(s.indentAction===DF.None)return xZ._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===DF.Indent)return xZ._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===DF.IndentOutdent){const t=e.normalizeIndentation(s.indentation),r=e.normalizeIndentation(s.indentation+s.appendText),o="\n"+r+"\n"+t;return n?new lZ(i,o,!0):new cZ(i,o,-1,r.length-t.length,!0)}if(s.indentAction===DF.Outdent){const t=xZ.unshiftIndent(e,s.indentation);return xZ._typeCommand(i,"\n"+e.normalizeIndentation(t+s.appendText),n)}}const r=t.getLineContent(i.startLineNumber),o=we(r).substring(0,i.startColumn-1);if(e.autoIndent>=4){const s=dB.getIndentForEnter(e.autoIndent,t,i,{unshiftIndent:t=>xZ.unshiftIndent(e,t),shiftIndent:t=>xZ.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(s){let r=gK.visibleColumnFromColumn2(e,t,i.getEndPosition());const o=i.endColumn,a=t.getLineContent(i.endLineNumber),l=Le(a);if(i=l>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,l+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new lZ(i,"\n"+e.normalizeIndentation(s.afterEnter),!0);{let t=0;return o<=l+1&&(e.insertSpaces||(r=Math.ceil(r/e.indentSize)),t=Math.min(r+1-e.normalizeIndentation(s.afterEnter).length-1,0)),new cZ(i,"\n"+e.normalizeIndentation(s.afterEnter),0,t,!0)}}}return xZ._typeCommand(i,"\n"+e.normalizeIndentation(o),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let i=0,s=n.length;i<s;i++)if(!t.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,i){const s=dB.getIndentationAtPosition(t,n.startLineNumber,n.startColumn),r=dB.getIndentActionForType(e.autoIndent,t,n,i,{shiftIndent:t=>xZ.shiftIndent(e,t),unshiftIndent:t=>xZ.unshiftIndent(e,t)});if(null===r)return null;if(r!==e.normalizeIndentation(s)){const s=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===s?xZ._typeCommand(new oe(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(r)+i,!1):xZ._typeCommand(new oe(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(r)+t.getLineContent(n.startLineNumber).substring(s-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,t,n,i,s){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(s))return!1;for(let r=0,o=n.length;r<o;r++){const o=n[r];if(!o.isEmpty())return!1;const a=o.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==s)return!1;const c=fK(s);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(a.lineNumber===n.startLineNumber&&a.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,i,s){let r=[];for(let o=0,a=i.length;o<a;o++){const e=i[o].getPosition(),t=new oe(e.lineNumber,e.column,e.lineNumber,e.column+1);r[o]=new oZ(t,s)}return new pK(1,r,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],r=i.some((e=>t.startsWith(e.open))),o=s.some((e=>t.startsWith(e.close)));return!r&&o}static _findAutoClosingPairOpen(e,t,n,i){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!s)return null;let r=null;for(const o of s)if(null===r||o.open.length>r.open.length){let e=!0;for(const s of n){if(t.getValueInRange(new oe(s.lineNumber,s.column-o.open.length+1,s.lineNumber,s.column))+i!==o.open){e=!1;break}}e&&(r=o)}return r}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const n=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let s=null;for(const r of i)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!s||r.open.length>s.open.length)&&(s=r);return s?s.close:""}static _getAutoClosingPairClose(e,t,n,i,s){const r=fK(i),o=r?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===o)return null;const a=this._findAutoClosingPairOpen(e,t,n.map((e=>e.getPosition())),i);if(!a)return null;const l=this._findSubAutoClosingPairClose(e,a);let c=!0;const d=r?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let u=0,p=n.length;u<p;u++){const i=n[u];if(!i.isEmpty())return null;const p=i.getPosition(),g=t.getLineContent(p.lineNumber),f=g.substring(p.column-1);if(f.startsWith(l)||(c=!1),g.length>p.column-1){const t=g.charAt(p.column-1);if(!xZ._isBeforeClosingBrace(e,f)&&!d(t))return null}if(!t.isCheapToTokenize(p.lineNumber))return null;if(1===a.open.length&&r&&"always"!==o){const t=qj(e.wordSeparators);if(s&&p.column>1&&0===t.get(g.charCodeAt(p.column-2)))return null;if(!s&&p.column>2&&0===t.get(g.charCodeAt(p.column-3)))return null}t.forceTokenization(p.lineNumber);const m=t.getLineTokens(p.lineNumber);let _=!1;try{_=dB.shouldAutoClosePair(a,m,s?p.column:p.column-1)}catch(h){V(h)}if(!_)return null}return c?a.close.substring(0,a.close.length-l.length):a.close}static _runAutoClosingOpenCharType(e,t,n,i,s,r,o){let a=[];for(let l=0,c=i.length;l<c;l++){const e=i[l];a[l]=new kZ(e,s,r,o)}return new pK(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return fK(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,n,i){if(!xZ._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const s=fK(i);for(let r=0,o=n.length;r<o;r++){const e=n[r];if(e.isEmpty())return!1;let i=!0;for(let n=e.startLineNumber;n<=e.endLineNumber;n++){const s=t.getLineContent(n),r=n===e.startLineNumber?e.startColumn-1:0,o=n===e.endLineNumber?e.endColumn-1:s.length,a=s.substring(r,o);if(/[^ \t]/.test(a)){i=!1;break}}if(i)return!1;if(s&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){if(fK(t.getValueInRange(e)))return!1}}return!0}static _runSurroundSelectionType(e,t,n,i,s){let r=[];for(let o=0,a=i.length;o<a;o++){const e=i[o],n=t.surroundingPairs[s];r[o]=new SZ(e,s,n)}return new pK(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!(1!==n.length||!t.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,i,s){if(!t.electricChars.hasOwnProperty(s)||!i.isEmpty())return null;let r=i.getPosition();n.forceTokenization(r.lineNumber);let o,a=n.getLineTokens(r.lineNumber);try{o=dB.onElectricCharacter(s,a,r.column)}catch(l){return V(l),null}if(!o)return null;if(o.matchOpenBracket){let e=(a.getLineContent()+s).lastIndexOf(o.matchOpenBracket)+1,i=n.findMatchingBracketUp(o.matchOpenBracket,{lineNumber:r.lineNumber,column:e});if(i){if(i.startLineNumber===r.lineNumber)return null;let e=n.getLineContent(i.startLineNumber),o=we(e),a=t.normalizeIndentation(o),l=n.getLineContent(r.lineNumber),c=n.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,d=a+l.substring(c-1,r.column-1)+s,h=new oe(r.lineNumber,1,r.lineNumber,r.column);const u=new oZ(h,d);return new pK(1,[u],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,i,s,r){if(!i||Ze.selectionsArrEqual(i,s))return null;let o=null;for(const l of s){if(!l.isEmpty())return null;const e=l.getPosition(),t=n.getValueInRange(new oe(e.lineNumber,e.column-1,e.lineNumber,e.column));if(null===o)o=t;else if(o!==t)return null}if(!o)return null;if(this._isAutoClosingOvertype(t,n,s,r,o)){const e=s.map((e=>new oZ(new oe(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new pK(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._getAutoClosingPairClose(t,n,s,o,!1);return null!==a?this._runAutoClosingOpenCharType(e,t,n,s,o,!1,a):null}static typeWithInterceptors(e,t,n,i,s,r,o){if(!e&&"\n"===o){let e=[];for(let t=0,r=s.length;t<r;t++)e[t]=xZ._enter(n,i,!1,s[t]);return new pK(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,i,s)){let e=[],t=!1;for(let r=0,a=s.length;r<a;r++)if(e[r]=this._runAutoIndentType(n,i,s[r],o),!e[r]){t=!0;break}if(!t)return new pK(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(n,i,s,r,o))return this._runAutoClosingOvertype(t,n,i,s,o);if(!e){const e=this._getAutoClosingPairClose(n,i,s,o,!0);if(e)return this._runAutoClosingOpenCharType(t,n,i,s,o,!0,e)}if(this._isSurroundSelectionType(n,i,s,o))return this._runSurroundSelectionType(t,n,i,s,o);if(!e&&this._isTypeInterceptorElectricChar(n,i,s)){const e=this._typeInterceptorElectricChar(t,n,i,s[0],o);if(e)return e}let a=[];for(let c=0,d=s.length;c<d;c++)a[c]=new oZ(s[c],o);let l=1!==t;return" "===o&&(l=!0),new pK(1,a,{shouldPushStackElementBefore:l,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,i,s){let r=[];for(let o=0,a=i.length;o<a;o++)r[o]=new oZ(i[o],s);return new pK(1,r,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(null===t||null===n)return[];let i=[];for(let s=0,r=n.length;s<r;s++){let r=n[s].positionLineNumber;if(1===r)i[s]=new lZ(new oe(1,1,1,1),"\n");else{r--;let n=t.getLineMaxColumn(r);i[s]=this._enter(e,t,!1,new oe(r,n,r,n))}}return i}static lineInsertAfter(e,t,n){if(null===t||null===n)return[];let i=[];for(let s=0,r=n.length;s<r;s++){const r=n[s].positionLineNumber;let o=t.getLineMaxColumn(r);i[s]=this._enter(e,t,!1,new oe(r,o,r,o))}return i}static lineBreakInsert(e,t,n){let i=[];for(let s=0,r=n.length;s<r;s++)i[s]=this._enter(e,t,!0,n[s]);return i}}class kZ extends cZ{constructor(e,t,n,i){super(e,(n?t:"")+i,0,-i.length),this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new oe(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new oe(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}var EZ,DZ;(DZ=EZ||(EZ={})).editorSimpleInput=new mU("editorSimpleInput",!1,!0),DZ.editorTextFocus=new mU("editorTextFocus",!1,JI(0,"Whether the editor text has focus (cursor is blinking)")),DZ.focus=new mU("editorFocus",!1,JI(0,"Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),DZ.textInputFocus=new mU("textInputFocus",!1,JI(0,"Whether an editor or a rich text input has focus (cursor is blinking)")),DZ.readOnly=new mU("editorReadonly",!1,JI(0,"Whether the editor is read only")),DZ.inDiffEditor=new mU("inDiffEditor",!1,JI(0,"Whether the context is a diff editor")),DZ.columnSelection=new mU("editorColumnSelection",!1,JI(0,"Whether `editor.columnSelection` is enabled")),DZ.writable=DZ.readOnly.toNegated(),DZ.hasNonEmptySelection=new mU("editorHasSelection",!1,JI(0,"Whether the editor has text selected")),DZ.hasOnlyEmptySelection=DZ.hasNonEmptySelection.toNegated(),DZ.hasMultipleSelections=new mU("editorHasMultipleSelections",!1,JI(0,"Whether the editor has multiple selections")),DZ.hasSingleSelection=DZ.hasMultipleSelections.toNegated(),DZ.tabMovesFocus=new mU("editorTabMovesFocus",!1,JI(0,"Whether `Tab` will move focus out of the editor")),DZ.tabDoesNotMoveFocus=DZ.tabMovesFocus.toNegated(),DZ.isInWalkThroughSnippet=new mU("isInEmbeddedEditor",!1,!0),DZ.canUndo=new mU("canUndo",!1,!0),DZ.canRedo=new mU("canRedo",!1,!0),DZ.hoverVisible=new mU("editorHoverVisible",!1,JI(0,"Whether the editor hover is visible")),DZ.inCompositeEditor=new mU("inCompositeEditor",void 0,JI(0,"Whether the editor is part of a larger editor (e.g. notebooks)")),DZ.notInCompositeEditor=DZ.inCompositeEditor.toNegated(),DZ.languageId=new mU("editorLangId","",JI(0,"The language identifier of the editor")),DZ.hasCompletionItemProvider=new mU("editorHasCompletionItemProvider",!1,JI(0,"Whether the editor has a completion item provider")),DZ.hasCodeActionsProvider=new mU("editorHasCodeActionsProvider",!1,JI(0,"Whether the editor has a code actions provider")),DZ.hasCodeLensProvider=new mU("editorHasCodeLensProvider",!1,JI(0,"Whether the editor has a code lens provider")),DZ.hasDefinitionProvider=new mU("editorHasDefinitionProvider",!1,JI(0,"Whether the editor has a definition provider")),DZ.hasDeclarationProvider=new mU("editorHasDeclarationProvider",!1,JI(0,"Whether the editor has a declaration provider")),DZ.hasImplementationProvider=new mU("editorHasImplementationProvider",!1,JI(0,"Whether the editor has an implementation provider")),DZ.hasTypeDefinitionProvider=new mU("editorHasTypeDefinitionProvider",!1,JI(0,"Whether the editor has a type definition provider")),DZ.hasHoverProvider=new mU("editorHasHoverProvider",!1,JI(0,"Whether the editor has a hover provider")),DZ.hasDocumentHighlightProvider=new mU("editorHasDocumentHighlightProvider",!1,JI(0,"Whether the editor has a document highlight provider")),DZ.hasDocumentSymbolProvider=new mU("editorHasDocumentSymbolProvider",!1,JI(0,"Whether the editor has a document symbol provider")),DZ.hasReferenceProvider=new mU("editorHasReferenceProvider",!1,JI(0,"Whether the editor has a reference provider")),DZ.hasRenameProvider=new mU("editorHasRenameProvider",!1,JI(0,"Whether the editor has a rename provider")),DZ.hasSignatureHelpProvider=new mU("editorHasSignatureHelpProvider",!1,JI(0,"Whether the editor has a signature help provider")),DZ.hasInlineHintsProvider=new mU("editorHasInlineHintsProvider",!1,JI(0,"Whether the editor has an inline hints provider")),DZ.hasDocumentFormattingProvider=new mU("editorHasDocumentFormattingProvider",!1,JI(0,"Whether the editor has a document formatting provider")),DZ.hasDocumentSelectionFormattingProvider=new mU("editorHasDocumentSelectionFormattingProvider",!1,JI(0,"Whether the editor has a document selection formatting provider")),DZ.hasMultipleDocumentFormattingProvider=new mU("editorHasMultipleDocumentFormattingProvider",!1,JI(0,"Whether the editor has multiple document formatting providers")),DZ.hasMultipleDocumentSelectionFormattingProvider=new mU("editorHasMultipleDocumentSelectionFormattingProvider",!1,JI(0,"Whether the editor has multiple document selection formatting providers"));class TZ extends UU{runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditorCommand(i,n||{})}}var LZ,NZ,IZ,PZ,OZ;(NZ=LZ||(LZ={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!ie(e))return!1;const t=e;return!(!Me(t.to)||!Fe(t.by)&&!Me(t.by)||!Fe(t.value)&&!_t(t.value)||!Fe(t.revealCursor)&&!mt(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},NZ.RawDirection={Up:"up",Down:"down"},NZ.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},NZ.parse=function(e){let t,n;switch(e.to){case NZ.RawDirection.Up:t=1;break;case NZ.RawDirection.Down:t=2;break;default:return null}switch(e.by){case NZ.RawUnit.Line:n=1;break;case NZ.RawUnit.WrappedLine:n=2;break;case NZ.RawUnit.Page:n=3;break;case NZ.RawUnit.HalfPage:n=4;break;default:n=2}return{direction:t,unit:n,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(PZ=IZ||(IZ={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!ie(e))return!1;const t=e;return!(!_t(t.lineNumber)&&!Me(t.lineNumber)||!Fe(t.at)&&!Me(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},PZ.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class RZ{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const n=e.get(MP).getFocusedCodeEditor();return!(!n||!n.hasTextFocus())&&this._runEditorCommand(e,n,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const n=document.activeElement;return!!(n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const n=e.get(MP).getActiveCodeEditor();return!!n&&(n.focus(),this._runEditorCommand(e,n,t))}))}_runEditorCommand(e,t,n){const i=this.runEditorCommand(e,t,n);return i||!0}}!function(e){class t extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_Z.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=KU(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=KU(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class n extends TZ{runCoreEditorCommand(e,t){e.model.pushStackElement();const n=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,n.viewStates.map((e=>uK.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),n.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=KU(new class extends n{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,n,i){const s=e.model.validatePosition(i.position),r=e.coordinatesConverter.validateViewPosition(new je(i.viewPosition.lineNumber,i.viewPosition.column),s);let o=i.doColumnSelect?n.fromViewLineNumber:r.lineNumber,a=i.doColumnSelect?n.fromViewVisualColumn:i.mouseColumn-1;return rZ.columnSelect(e.cursorConfig,e,o,a,r.lineNumber,i.mouseColumn-1)}}),e.CursorColumnSelectLeft=KU(new class extends n{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,n,i){return rZ.columnSelectLeft(e.cursorConfig,e,n)}}),e.CursorColumnSelectRight=KU(new class extends n{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,n,i){return rZ.columnSelectRight(e.cursorConfig,e,n)}});class i extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,n,i){return rZ.columnSelectUp(e.cursorConfig,e,n,this._isPaged)}}e.CursorColumnSelectUp=KU(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=KU(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3595,linux:{primary:0}}}));class s extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,n,i){return rZ.columnSelectDown(e.cursorConfig,e,n,this._isPaged)}}e.CursorColumnSelectDown=KU(new s({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=KU(new s({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3596,linux:{primary:0}}}));class r extends TZ{constructor(){super({id:"cursorMove",precondition:void 0,description:vZ.description})}runCoreEditorCommand(e,t){const n=vZ.parse(t);n&&this._runCursorMove(e,t.source,n)}_runCursorMove(e,t,n){e.model.pushStackElement(),e.setCursorStates(t,3,r._move(e,e.getCursorStates(),n)),e.revealPrimaryCursor(t,!0)}static _move(e,t,n){const i=n.select,s=n.value;switch(n.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return _Z.simpleMove(e,t,n.direction,i,s,n.unit);case 11:case 13:case 12:case 14:return _Z.viewportMove(e,t,n.direction,i,s);default:return null}}}e.CursorMoveImpl=r,e.CursorMove=KU(new r);class o extends TZ{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let n=this._staticArgs;-1===this._staticArgs.value&&(n={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,_Z.simpleMove(e,e.getCursorStates(),n.direction,n.select,n.value,n.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=KU(new o({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=KU(new o({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1039}})),e.CursorRight=KU(new o({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=KU(new o({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1041}})),e.CursorUp=KU(new o({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=KU(new o({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=KU(new o({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:11}})),e.CursorPageUpSelect=KU(new o({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1035}})),e.CursorDown=KU(new o({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=KU(new o({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=KU(new o({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:12}})),e.CursorPageDownSelect=KU(new o({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1036}})),e.CreateCursor=KU(new class extends TZ{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let n;n=t.wholeLine?_Z.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):_Z.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const i=e.getCursorStates();if(i.length>1){const s=n.modelState?n.modelState.position:null,r=n.viewState?n.viewState.position:null;for(let n=0,o=i.length;n<o;n++){const o=i[n];if((!s||o.modelState.selection.containsPosition(s))&&(!r||o.viewState.selection.containsPosition(r)))return i.splice(n,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,i)}}i.push(n),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}}),e.LastCursorMoveToSelect=KU(new class extends TZ{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),s=i.slice(0);s[n]=_Z.moveTo(e,i[n],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,s)}});class a extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_Z.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=KU(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=KU(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],s=i.modelState.position.lineNumber;t[n]=uK.fromModelState(i.modelState.move(this._inSelectionMode,s,1,0))}return t}}e.CursorLineStart=KU(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=KU(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_Z.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=KU(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:EZ.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:JI(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=KU(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:EZ.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:JI(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const n=[];for(let i=0,s=t.length;i<s;i++){const s=t[i],r=s.modelState.position.lineNumber,o=e.model.getLineMaxColumn(r);n[i]=uK.fromModelState(s.modelState.move(this._inSelectionMode,r,o,0))}return n}}e.CursorLineEnd=KU(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=KU(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_Z.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=KU(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=KU(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3086,mac:{primary:3088}}}));class u extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_Z.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=KU(new u({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=KU(new u({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:3085,mac:{primary:3090}}}));class p extends TZ{constructor(){super({id:"editorScroll",precondition:void 0,description:LZ.description})}runCoreEditorCommand(e,t){const n=LZ.parse(t);n&&this._runEditorScroll(e,t.source,n)}_runEditorScroll(e,t,n){const i=this._computeDesiredScrollTop(e,n);if(n.revealCursor){const s=e.getCompletelyVisibleViewRangeAtScrollTop(i);e.setCursorStates(t,3,[_Z.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),s,n.select)])}e.setScrollTop(i,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const n=e.getCompletelyVisibleViewRange(),i=e.coordinatesConverter.convertViewRangeToModelRange(n);let s;s=1===t.direction?Math.max(1,i.startLineNumber-t.value):Math.min(e.model.getLineCount(),i.startLineNumber+t.value);const r=e.coordinatesConverter.convertModelPositionToViewPosition(new je(s,1));return e.getVerticalOffsetForLineNumber(r.lineNumber)}let n;n=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const i=(1===t.direction?-1:1)*n;return e.getScrollTop()+i*e.cursorConfig.lineHeight}}e.EditorScrollImpl=p,e.EditorScroll=KU(new p),e.ScrollLineUp=KU(new class extends TZ{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=KU(new class extends TZ{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=KU(new class extends TZ{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=KU(new class extends TZ{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class g extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_Z.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=KU(new g({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=KU(new g({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=KU(new class extends TZ{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),s=i.slice(0),r=i[n];s[n]=_Z.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,s)}});class f extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_Z.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=KU(new f({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=KU(new f({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class m extends TZ{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),s=i.slice(0);s[n]=_Z.line(e,i[n],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,s)}}e.LastCursorLineSelect=KU(new m({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=KU(new m({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=KU(new class extends TZ{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_Z.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=KU(new class extends TZ{constructor(){super({id:"cancelSelection",precondition:EZ.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_Z.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=KU(new class extends TZ{constructor(){super({id:"removeSecondaryCursors",precondition:EZ.hasMultipleSelections,kbOpts:{weight:1,kbExpr:EZ.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),WH(JI(0,"Removed secondary cursors"))}}),e.RevealLine=KU(new class extends TZ{constructor(){super({id:"revealLine",precondition:void 0,description:IZ.description})}runCoreEditorCommand(e,t){const n=t,i=n.lineNumber||0;let s="number"==typeof i?i+1:parseInt(i)+1;s<1&&(s=1);const r=e.model.getLineCount();s>r&&(s=r);const o=new oe(s,1,s,e.model.getLineMaxColumn(s));let a=0;if(n.at)switch(n.at){case IZ.RawAtArgument.Top:a=3;break;case IZ.RawAtArgument.Center:a=1;break;case IZ.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(o);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends RZ{constructor(){super(iz)}runDOMCommand(){UP&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditorCommand(i,n)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[_Z.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=KU(new class extends TZ{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[uK.fromModelSelection(t.selection)])}})}(OZ||(OZ={}));const AZ=JH.and(EZ.textInputFocus,EZ.columnSelection);function MZ(e,t){UW.registerKeybindingRule({id:e,primary:t,when:AZ,weight:1})}function FZ(e){return e.register(),e}var BZ,VZ;MZ(OZ.CursorColumnSelectLeft.id,1039),MZ(OZ.CursorColumnSelectRight.id,1041),MZ(OZ.CursorColumnSelectUp.id,1040),MZ(OZ.CursorColumnSelectPageUp.id,1035),MZ(OZ.CursorColumnSelectDown.id,1042),MZ(OZ.CursorColumnSelectPageDown.id,1036),function(e){class t extends UU{runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditingCommand(t,i,n||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=KU(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:EZ.writable,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,xZ.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=KU(new class extends t{constructor(){super({id:"outdent",precondition:EZ.writable,kbOpts:{weight:0,kbExpr:JH.and(EZ.editorTextFocus,EZ.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,xZ.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=KU(new class extends t{constructor(){super({id:"tab",precondition:EZ.writable,kbOpts:{weight:0,kbExpr:JH.and(EZ.editorTextFocus,EZ.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,xZ.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=KU(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,n){const[i,s]=pZ.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());i&&e.pushUndoStop(),e.executeCommands(this.id,s),t.setPrevEditOperationType(2)}}),e.DeleteRight=KU(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:EZ.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,n){const[i,s]=pZ.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));i&&e.pushUndoStop(),e.executeCommands(this.id,s),t.setPrevEditOperationType(3)}}),e.Undo=new class extends RZ{constructor(){super(tz)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,n){if(t.hasModel()&&!0!==t.getOption(77))return t.getModel().undo()}},e.Redo=new class extends RZ{constructor(){super(nz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,n){if(t.hasModel()&&!0!==t.getOption(77))return t.getModel().redo()}}}(BZ||(BZ={}));class WZ extends VU{constructor(e,t,n){super({id:e,precondition:void 0,description:n}),this._handlerId=t}runCommand(e,t){const n=e.get(MP).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)}}function HZ(e,t){FZ(new WZ("default:"+e,e)),FZ(new WZ(e,e,t))}HZ("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),HZ("replacePreviousChar"),HZ("compositionType"),HZ("compositionStart"),HZ("compositionEnd"),HZ("paste"),HZ("cut");class UZ{constructor(e,t,n,i){this.configuration=e,this.viewModel=t,this.userInputEvents=n,this.commandDelegate=i}paste(e,t,n,i){this.commandDelegate.paste(e,t,n,i)}type(e){this.commandDelegate.type(e)}compositionType(e,t,n,i){this.commandDelegate.compositionType(e,t,n,i)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){OZ.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new je(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(66)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(66)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,n=w&&t.get(93),i=t.get(16);e.middleButton&&!n?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||i?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){OZ.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){OZ.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,n){e=this._validateViewColumn(e),OZ.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:n})}_createCursor(e,t){e=this._validateViewColumn(e),OZ.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){OZ.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){OZ.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){OZ.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){OZ.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){OZ.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){OZ.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){OZ.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){OZ.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){OZ.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class zZ{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return zZ.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new jZ(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class jZ{constructor(e,t,n,i,s,r){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,this.range=s,this.detail=r}toString(){return vK.toString(this)}}class $Z{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){const n=t-e+1;return this._rendLineNumberStart-=n,null}if(e>i)return null;let s=0,r=0;for(let o=n;o<=i;o++){const n=o-this._rendLineNumberStart;e<=o&&o<=t&&(0===r?(s=n,r=1):r++)}if(e<n){let i=0;i=t<n?t-e+1:n-e,this._rendLineNumberStart-=i}return this._lines.splice(s,r)}onLinesChanged(e,t){if(0===this.getCount())return!1;const n=this.getStartLineNumber(),i=this.getEndLineNumber();let s=!1;for(let r=e;r<=t;r++)r>=n&&r<=i&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(0===this.getCount())return null;const n=t-e+1,i=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>s)return null;if(n+e>s){return this._lines.splice(e-this._rendLineNumberStart,s-e+1)}const r=[];for(let d=0;d<n;d++)r[d]=this._createLine();const o=e-this._rendLineNumberStart,a=this._lines.slice(0,o),l=this._lines.slice(o,this._lines.length-n),c=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=a.concat(r).concat(l),c}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let s=0,r=e.length;s<r;s++){const r=e[s];if(r.toLineNumber<t||r.fromLineNumber>n)continue;const o=Math.max(t,r.fromLineNumber),a=Math.min(n,r.toLineNumber);for(let e=o;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),i=!0}}return i}}class KZ{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new $Z((()=>this._host.createVisibleLine()))}_createDomNode(){const e=gz(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(127)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,i=t.length;n<i;n++){const e=t[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,i=t.length;n<i;n++){const e=t[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),n=new qZ(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},s=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}class qZ{constructor(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}render(e,t,n,i){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||n<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=n-t+1,s.lines=[];for(let e=t;e<=n;e++)s.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(s,!0,i),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(n-s.rendLineNumberStart,s.linesLength-1),i,t),s.rendLineNumberStart>t){const e=t,r=Math.min(n,s.rendLineNumberStart-1);e<=r&&(this._insertLinesBefore(s,e,r,i,t),s.linesLength+=r-e+1)}else if(s.rendLineNumberStart<t){const e=Math.min(s.linesLength,t-s.rendLineNumberStart);e>0&&(this._removeLinesBefore(s,e),s.linesLength-=e)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<n){const e=s.rendLineNumberStart+s.linesLength,r=n;e<=r&&(this._insertLinesAfter(s,e,r,i,t),s.linesLength+=r-e+1)}else if(s.rendLineNumberStart+s.linesLength-1>n){const e=Math.max(0,n-s.rendLineNumberStart+1),t=s.linesLength-1-e+1;t>0&&(this._removeLinesAfter(s,t),s.linesLength-=t)}return this._finishRendering(s,!1,i),s}_renderUntouchedLines(e,t,n,i,s){const r=e.rendLineNumberStart,o=e.lines;for(let a=t;a<=n;a++){const e=r+a;o[a].layoutLine(e,i[e-s])}}_insertLinesBefore(e,t,n,i,s){const r=[];let o=0;for(let a=t;a<=n;a++)r[o++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let n=0;n<t;n++){const t=e.lines[n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,n,i,s){const r=[];let o=0;for(let a=t;a<=n;a++)r[o++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const n=e.linesLength-t;for(let i=0;i<t;i++){const t=e.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(n,t)}_finishRenderingNewLines(e,t,n,i){qZ._ttPolicy&&(n=qZ._ttPolicy.createHTML(n));const s=this.domNode.lastChild;t||!s?this.domNode.innerHTML=n:s.insertAdjacentHTML("afterend",n);let r=this.domNode.lastChild;for(let o=e.linesLength-1;o>=0;o--){const t=e.lines[o];i[o]&&(t.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,n){const i=document.createElement("div");qZ._ttPolicy&&(t=qZ._ttPolicy.createHTML(t)),i.innerHTML=t;for(let s=0;s<e.linesLength;s++){const t=e.lines[s];if(n[s]){const e=i.firstChild,n=t.getDomNode();n.parentNode.replaceChild(e,n),t.setDomNode(e)}}}_finishRendering(e,t,n){const i=qZ._sb,s=e.linesLength,r=e.lines,o=e.rendLineNumberStart,a=[];{i.reset();let l=!1;for(let e=0;e<s;e++){const t=r[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+o,n[e],this.viewportData,i)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,i.build(),a)}{i.reset();let t=!1;const l=[];for(let e=0;e<s;e++){const s=r[e];if(l[e]=!1,a[e])continue;s.renderLine(e+o,n[e],this.viewportData,i)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,i.build(),l)}}}qZ._ttPolicy=null===(VZ=window.trustedTypes)||void 0===VZ?void 0:VZ.createPolicy("editorViewLayer",{createHTML:e=>e}),qZ._sb=UF(1e5);class GZ extends Iz{constructor(e){super(e),this._visibleLines=new KZ(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new YZ(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let i=t;i<=n;i++){this._visibleLines.getVisibleLine(i).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let n=0,i=t.length;n<i;n++){const i=t[n];i.prepareRender(e),i.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class YZ{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(55),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=gz(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(55)}renderLine(e,t,n,i){let s="";for(let r=0,o=this._dynamicOverlays.length;r<o;r++){s+=this._dynamicOverlays[r].render(n.startLineNumber,e)}return this._renderedContent!==s&&(this._renderedContent=s,i.appendASCIIString('<div style="position:absolute;top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;width:100%;height:"),i.appendASCIIString(String(this._lineHeight)),i.appendASCIIString('px;">'),i.appendASCIIString(s),i.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class ZZ extends GZ{constructor(e){super(e);const t=this._context.configuration.options.get(127);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(127);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class XZ extends GZ{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(127);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),uz.applyFontInfo(this.domNode,t.get(40))}onConfigurationChanged(e){const t=this._context.configuration.options;uz.applyFontInfo(this.domNode,t.get(40));const n=t.get(127);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class JZ{constructor(e,t){this.top=e,this.left=t}}class QZ extends Iz{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=gz(document.createElement("div")),Pz.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=gz(document.createElement("div")),Pz.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new eX(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,n){this._widgets[e.getId()].setPosition(t,n),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const n=e.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].render(e)}}class eX{constructor(e,t,n){this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=gz(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const i=this._context.configuration.options,s=i.get(127);this._fixedOverflowWidgets=i.get(34),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=i.get(55),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(55),e.hasChanged(127)){const e=t.get(127);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,n,i,s){const r=e.top,o=r,a=t.top+this._lineHeight,l=r-i,c=o>=i,d=a,h=s.viewportHeight-a>=i;let u=e.left,p=t.left;return u+n>s.scrollLeft+s.viewportWidth&&(u=s.scrollLeft+s.viewportWidth-n),p+n>s.scrollLeft+s.viewportWidth&&(p=s.scrollLeft+s.viewportWidth-n),u<s.scrollLeft&&(u=s.scrollLeft),p<s.scrollLeft&&(p=s.scrollLeft),{fitsAbove:c,aboveTop:l,aboveLeft:u,fitsBelow:h,belowTop:d,belowLeft:p}}_layoutHorizontalSegmentInPage(e,t,n,i){const s=Math.max(0,t.left-i),r=Math.min(t.left+t.width+i,e.width);let o=t.left+n-QO.scrollX;if(o+i>r){const e=o-(r-i);o-=e,n-=e}if(o<s){const e=o-s;o-=e,n-=e}return[n,o]}_layoutBoxInPage(e,t,n,i,s){const r=e.top-i,o=t.top+this._lineHeight,a=JO(this._viewDomNode.domNode),l=a.top+r-QO.scrollY,c=a.top+o-QO.scrollY,d=GO(document.body),[h,u]=this._layoutHorizontalSegmentInPage(d,a,e.left-s.scrollLeft+this._contentLeft,n),[p,g]=this._layoutHorizontalSegmentInPage(d,a,t.left-s.scrollLeft+this._contentLeft,n),f=l>=22,m=c+i<=d.height-22;return this._fixedOverflowWidgets?{fitsAbove:f,aboveTop:Math.max(l,22),aboveLeft:u,fitsBelow:m,belowTop:c,belowLeft:g}:{fitsAbove:f,aboveTop:r,aboveLeft:h,fitsBelow:m,belowTop:o,belowLeft:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new JZ(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let n=t[0],i=t[0];for(const c of t)c.lineNumber<n.lineNumber&&(n=c),c.lineNumber>i.lineNumber&&(i=c);let s=1073741824;for(const c of n.ranges)c.left<s&&(s=c.left);let r=1073741824;for(const c of i.ranges)c.left<r&&(r=c.left);const o=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,a=new JZ(o,s),l=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop;return[a,new JZ(l,r)]}_prepareRenderWidget(e){const[t,n]=this._getTopAndBottomLeft(e);if(!t||!n)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=tX(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeClientWidth=e.width,this._cachedDomNodeClientHeight=e.height;else{const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}}let i;if(i=this.allowEditorOverflow?this._layoutBoxInPage(t,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let s=1;s<=2;s++)for(const e of this._preference)if(1===e){if(!i)return null;if(2===s||i.fitsAbove)return{coordinate:new JZ(i.aboveTop,i.aboveLeft),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!i)return null;if(2===s||i.fitsBelow)return{coordinate:new JZ(i.belowTop,i.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&tX(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&tX(this._actual.afterRender,this._actual,this._renderData.position)}}function tX(e,t,...n){try{return e.call(t,...n)}catch(i){return null}}let nX=!0;class iX extends HK{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(127);this._lineHeight=t.get(55),this._renderLineHighlight=t.get(82),this._renderLineHighlightOnlyWhenFocus=t.get(83),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ze(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=nX?this._selections.slice(0,1):this._selections,n=t.map((e=>e.positionLineNumber));n.sort(((e,t)=>e-t)),gB(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,e=!0);const i=t.every((e=>e.isEmpty()));return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(127);return this._lineHeight=t.get(55),this._renderLineHighlight=t.get(82),this._renderLineHighlightOnlyWhenFocus=t.get(83),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let r=0;const o=[];for(let a=n;a<=i;a++){const e=a-n;for(;r<s&&this._cursorLineNumbers[r]<a;)r++;r<s&&this._cursorLineNumbers[r]===a?o[e]=t:o[e]=""}this._renderData=o}render(e,t){if(!this._renderData)return"";const n=t-e;return n>=this._renderData.length?"":this._renderData[n]}}class sX extends iX{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class rX extends iX{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}LU(((e,t)=>{nX=!1;const n=e.getColor(EY);if(n&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||e.defines(DY)){const n=e.getColor(DY);n&&(nX=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${n}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class oX extends HK{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(55),this._typicalHalfwidthCharacterWidth=t.get(40).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(55),this._typicalHalfwidthCharacterWidth=t.get(40).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(n[i++]=e)}n=n.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const n=e.options.className,i=t.options.className;return n<i?-1:n>i?1:oe.compareRangesUsingStarts(e.range,t.range)}));const s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,o=[];for(let a=s;a<=r;a++){o[a-s]=""}this._renderWholeLineDecorations(e,n,o),this._renderNormalDecorations(e,n,o),this._renderResult=o}_renderWholeLineDecorations(e,t,n){const i=String(this._lineHeight),s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let o=0,a=t.length;o<a;o++){const e=t[o];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',l=Math.max(e.range.startLineNumber,s),c=Math.min(e.range.endLineNumber,r);for(let t=l;t<=c;t++){n[t-s]+=a}}}_renderNormalDecorations(e,t,n){const i=String(this._lineHeight),s=e.visibleRange.startLineNumber;let r=null,o=!1,a=null;for(let l=0,c=t.length;l<c;l++){const c=t[l];if(c.options.isWholeLine)continue;const d=c.options.className,h=Boolean(c.options.showIfCollapsed);let u=c.range;h&&1===u.endColumn&&u.endLineNumber!==u.startLineNumber&&(u=new oe(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.model.getLineMaxColumn(u.endLineNumber-1))),r===d&&o===h&&oe.areIntersectingOrTouching(a,u)?a=oe.plusRange(a,u):(null!==r&&this._renderNormalDecoration(e,a,r,o,i,s,n),r=d,o=h,a=u)}null!==r&&this._renderNormalDecoration(e,a,r,o,i,s,n)}_renderNormalDecoration(e,t,n,i,s,r,o){const a=e.linesVisibleRangesForRange(t,"findMatch"===n);if(a)for(let l=0,c=a.length;l<c;l++){const e=a[l];if(e.outsideRenderedLine)continue;const t=e.lineNumber-r;if(i&&1===e.ranges.length){const t=e.ranges[0];0===t.width&&(e.ranges[0]=new Az(t.left,this._typicalHalfwidthCharacterWidth))}for(let i=0,r=e.ranges.length;i<r;i++){const r=e.ranges[i],a='<div class="cdr '+n+'" style="left:'+String(r.left)+"px;width:"+String(r.width)+"px;height:"+s+'px;"></div>';o[t]+=a}}}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class aX extends F{onclick(e,t){this._register(RO(e,_R.CLICK,(e=>t(new lO(e)))))}onmousedown(e,t){this._register(RO(e,_R.MOUSE_DOWN,(e=>t(new lO(e)))))}onmouseover(e,t){this._register(RO(e,_R.MOUSE_OVER,(e=>t(new lO(e)))))}onnonbubblingmouseout(e,t){this._register(VO(e,(e=>t(new lO(e)))))}onkeydown(e,t){this._register(RO(e,_R.KEY_DOWN,(e=>t(new iO(e)))))}onkeyup(e,t){this._register(RO(e,_R.KEY_UP,(e=>t(new iO(e)))))}oninput(e,t){this._register(RO(e,_R.INPUT,t))}onblur(e,t){this._register(RO(e,_R.BLUR,t))}onfocus(e,t){this._register(RO(e,_R.FOCUS,t))}ignoreGesture(e){bz.ignoreTarget(e)}}class lX extends aX{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new wz),this.onmousedown(this.bgDomNode,(e=>this._arrowMouseDown(e))),this.onmousedown(this.domNode,(e=>this._arrowMouseDown(e))),this._mousedownRepeatTimer=this._register(new yO),this._mousedownScheduleRepeatTimer=this._register(new bO)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,yz,(e=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class cX extends F{constructor(e,t,n){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new bO)}applyVisibilitySetting(e){return 2!==this._visibility&&(3===this._visibility||e)}setShouldBeVisible(e){const t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}class dX extends aX{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new cX(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new wz),this._shouldRender=!0,this.domNode=gz(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,(e=>this._domNodeMouseDown(e)))}_createArrow(e){const t=this._register(new lX(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,n,i){this.slider=gz(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof n&&this.slider.setWidth(n),"number"==typeof i&&this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))})),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(e);n<=s&&s<=i?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{}))):this._onMouseDown(e)}_onMouseDown(e){let t,n;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,n=e.browserEvent.offsetY;else{const i=JO(this.domNode.domNode);t=e.posx-i.left,n=e.posy-i.top}const i=this._mouseDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(i):this._scrollbarState.getDesiredScrollPositionFromOffset(i)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))}_sliderMouseDown(e,t){const n=this._sliderMousePosition(e),i=this._sliderOrthogonalMousePosition(e),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,yz,(e=>{const t=this._sliderOrthogonalMousePosition(e),r=Math.abs(t-i);if(T&&r>140)return void this._setDesiredScrollPositionNow(s.getScrollPosition());const o=this._sliderMousePosition(e)-n;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(o))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class hX{constructor(e,t,n,i,s,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=i,this._scrollSize=s,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new hX(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=e}static _computeValues(e,t,n,i,s){const r=Math.max(0,n-e),o=Math.max(0,r-2*t),a=i>0&&i>n;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(o),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(n*o/i))),c=(o-l)/(i-n),d=s*c;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=hX._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let n=this._scrollPosition;return t<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const uX=LM("scrollbar-button-left",NM.triangleLeft),pX=LM("scrollbar-button-right",NM.triangleRight);class gX extends dX{constructor(e,t,n){const i=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new hX(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,i.width,i.scrollWidth,s.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-11)/2,n=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:uX,top:n,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new cO(null,1,0))}),this._createArrow({className:"scra",icon:pX,top:n,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new cO(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}}const fX=LM("scrollbar-button-up",NM.triangleUp),mX=LM("scrollbar-button-down",NM.triangleDown);class _X extends dX{constructor(e,t,n){const i=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new hX(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,i.height,i.scrollHeight,s.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-11)/2,n=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:fX,top:e,left:n,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new cO(null,0,1))}),this._createArrow({className:"scra",icon:mX,top:void 0,left:n,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new cO(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}}class vX{constructor(e,t,n,i,s,r){e|=0,t|=0,n|=0,i|=0,s|=0,r|=0,this.rawScrollLeft=n,this.rawScrollTop=r,e<0&&(e=0),n+e>t&&(n=t-e),n<0&&(n=0),i<0&&(i=0),r+i>s&&(r=s-i),r<0&&(r=0),this.width=e,this.scrollWidth=t,this.scrollLeft=n,this.height=i,this.scrollHeight=s,this.scrollTop=r}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new vX(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new vX(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const n=this.width!==e.width,i=this.scrollWidth!==e.scrollWidth,s=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,o=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:i,scrollLeftChanged:s,heightChanged:r,scrollHeightChanged:o,scrollTopChanged:a}}}class bX extends F{constructor(e,t){super(),this._onScroll=this._register(new x),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new vX(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const n=this._state.withScrollDimensions(e,t);this._setState(n,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let i;i=t?new CX(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=i}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=CX.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const n=this._state;n.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}class yX{constructor(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}}function wX(e,t){const n=t-e;return function(t){return e+n*(1-function(e){return Math.pow(e,3)}(1-t))}}class CX{constructor(e,t,n,i){this.from=e,this.to=t,this.duration=i,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,n){if(Math.abs(e-t)>2.5*n){let o,a;return e<t?(o=e+.75*n,a=t-.75*n):(o=e-.75*n,a=t+.75*n),i=wX(e,o),s=wX(a,t),r=.33,function(e){return e<r?i(e/r):s((e-r)/(1-r))}}var i,s,r;return wX(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),n=this.scrollTop(t);return new yX(e,n,!1)}return new yX(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,n){return CX.start(e,t,n)}static start(e,t,n){n+=10;const i=Date.now()-10;return new CX(e,t,i,n)}}class SX{constructor(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}}class xX{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,n=1,i=this._rear;for(;;){const s=i===this._front?e:Math.pow(2,-n);if(e-=s,t+=this._memory[i].score*s,i===this._front)break;i=(this._capacity+i-1)%this._capacity,n++}return t<=.5}accept(e,t,n){const i=new SX(e,t,n);i.score=this._computeScore(i),-1===this._front&&-1===this._rear?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return(-1!==this._front||-1!==this._rear)&&this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}xX.INSTANCE=new xX;class kX extends aX{constructor(e,t,n){super(),this._onScroll=this._register(new x),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new x),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,S&&(t.className+=" mac");return t}(t),this._scrollable=n,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const i={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new _X(this._scrollable,this._options,i)),this._horizontalScrollbar=this._register(new gX(this._scrollable,this._options,i)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=gz(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=gz(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=gz(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onnonbubblingmouseout(this._listenOnDomNode,(e=>this._onMouseOut(e))),this._hideTimeout=this._register(new bO),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=De(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,S&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontalScrollbarSize&&this._horizontalScrollbar.updateScrollbarSize(e.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=De(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new cO(e))};this._mouseWheelToDispose.push(RO(this._listenOnDomNode,_R.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=xX.INSTANCE;{const n=window.devicePixelRatio/FP.INSTANCE.getZoomFactor();T||w?t.accept(Date.now(),e.deltaX/n,e.deltaY/n):t.accept(Date.now(),e.deltaX,e.deltaY)}let n=!1;if(e.deltaY||e.deltaX){let i=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(i)>=Math.abs(s)?s=0:i=0),this._options.flipAxes&&([i,s]=[s,i]);const r=!S&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!r||s||(s=i,i=0),e.browserEvent&&e.browserEvent.altKey&&(s*=this._options.fastScrollSensitivity,i*=this._options.fastScrollSensitivity);const o=this._scrollable.getFutureScrollPosition();let a={};if(i){const e=o.scrollTop-50*i;this._verticalScrollbar.writeScrollPosition(a,e)}if(s){const e=o.scrollLeft-50*s;this._horizontalScrollbar.writeScrollPosition(a,e)}if(a=this._scrollable.validateScrollPosition(a),o.scrollLeft!==a.scrollLeft||o.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),n=!0}}let i=n;!i&&this._options.alwaysConsumeMouseWheel&&(i=!0),!i&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(i=!0),i&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0,i=n?" left":"",s=t?" top":"",r=n||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${i}`),this._topShadowDomNode.setClassName(`shadow${s}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${s}${i}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class EX extends kX{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const n=new bX(0,(e=>HO(e)));super(e,t,n),this._register(n)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class DX extends kX{constructor(e,t,n){super(e,t,n)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class TX extends EX{constructor(e,t){super(e,t),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class LX extends Iz{constructor(e,t,n,i){super(e);const s=this._context.configuration.options,r=s.get(89),o=s.get(63),a=s.get(32),l=s.get(92),c={listenOnDomNode:n.domNode,className:"editor-scrollable "+EU(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:o,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new DX(t.domNode,c,this._context.viewLayout.getScrollable())),Pz.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=gz(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(e,t,n)=>{const i={};if(t){const t=e.scrollTop;t&&(i.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(n){const t=e.scrollLeft;t&&(i.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(i,1)};this._register(RO(n.domNode,"scroll",(e=>d(n.domNode,!0,!0)))),this._register(RO(t.domNode,"scroll",(e=>d(t.domNode,!0,!1)))),this._register(RO(i.domNode,"scroll",(e=>d(i.domNode,!0,!1)))),this._register(RO(this.scrollbarDomNode.domNode,"scroll",(e=>d(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(127);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(61).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(89)||e.hasChanged(63)||e.hasChanged(32)){const e=this._context.configuration.options,t=e.get(89),n=e.get(63),i=e.get(32),s=e.get(92),r={handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:i,scrollPredominantAxis:s};this.scrollbar.updateOptions(r)}return e.hasChanged(127)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+EU(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class NX{constructor(e,t,n){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}}class IX extends HK{_render(e,t,n){const i=[];for(let o=e;o<=t;o++){i[o-e]=[]}if(0===n.length)return i;n.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let s=null,r=0;for(let o=0,a=n.length;o<a;o++){const a=n[o],l=a.className;let c=Math.max(a.startLineNumber,e)-e;const d=Math.min(a.endLineNumber,t)-e;s===l?(c=Math.max(r+1,c),r=Math.max(r,d)):(s=l,r=d);for(let e=c;e<=r;e++)i[e].push(s)}return i}}class PX extends IX{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(127);this._lineHeight=t.get(55),this._glyphMargin=t.get(46),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(127);return this._lineHeight=t.get(55),this._glyphMargin=t.get(46),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let s=0,r=t.length;s<r;s++){const e=t[s],r=e.options.glyphMarginClassName;r&&(n[i++]=new NX(e.range.startLineNumber,e.range.endLineNumber,r))}return n}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),s=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+s+'px;"></div>',o=[];for(let a=t;a<=n;a++){const e=a-t,n=i[e];0===n.length?o[e]="":o[e]='<div class="cgmr codicon '+n.join(" ")+r}this._renderResult=o}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class OX extends HK{constructor(e){super(),this._context=e,this._primaryLineNumber=0;const t=this._context.configuration.options,n=t.get(128),i=t.get(40);this._lineHeight=t.get(55),this._spaceWidth=i.spaceWidth,this._enabled=t.get(80),this._activeIndentEnabled=t.get(49),this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(128),i=t.get(40);return this._lineHeight=t.get(55),this._spaceWidth=i.spaceWidth,this._enabled=t.get(80),this._activeIndentEnabled=t.get(49),this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){const t=e.selections[0],n=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==n&&(this._primaryLineNumber=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){if(!this._enabled)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,{indentSize:i}=this._context.model.getTextModelOptions(),s=i*this._spaceWidth,r=e.scrollWidth,o=this._lineHeight,a=this._context.model.getLinesIndentGuides(t,n);let l=0,c=0,d=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const e=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,n);l=e.startLineNumber,c=e.endLineNumber,d=e.indent}const h=[];for(let u=t;u<=n;u++){const n=l<=u&&u<=c,i=u-t,p=a[i];let g="";if(p>=1){const t=e.visibleRangeForPosition(new je(u,1));let i=t?t.left:0;for(let e=1;e<=p;e++){if(g+=`<div class="${n&&e===d?"cigra":"cigr"}" style="left:${i}px;height:${o}px;width:${s}px"></div>`,i+=s,i>r||this._maxIndentLeft>0&&i>this._maxIndentLeft)break}}h[i]=g}this._renderResult=h}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}LU(((e,t)=>{const n=e.getColor(AY);n&&t.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${n} inset; }`);const i=e.getColor(MY)||n;i&&t.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${i} inset; }`)}));class RX{constructor(){this._currentVisibleRange=new oe(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class AX{constructor(e,t,n,i,s,r){this.lineNumber=e,this.startColumn=t,this.endColumn=n,this.startScrollTop=i,this.stopScrollTop=s,this.scrollType=r,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class MX{constructor(e,t,n,i){this.selections=e,this.startScrollTop=t,this.stopScrollTop=n,this.scrollType=i,this.type="selections";let s=e[0].startLineNumber,r=e[0].endLineNumber;for(let o=1,a=e.length;o<a;o++){const t=e[o];s=Math.min(s,t.startLineNumber),r=Math.max(r,t.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=r}}class FX extends Iz{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new KZ(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration,i=this._context.configuration.options,s=i.get(40),r=i.get(128);this._lineHeight=i.get(55),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=i.get(86),this._cursorSurroundingLines=i.get(23),this._cursorSurroundingLinesStyle=i.get(24),this._canUseLayerHinting=!i.get(26),this._viewLineOptions=new zz(n,this._context.theme.type),Pz.write(this.domNode,7),this.domNode.setClassName("view-lines monaco-mouse-cursor-text"),uz.applyFontInfo(this.domNode,s),this._maxLineWidth=0,this._asyncUpdateLineWidths=new wO((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new wO((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new RX,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new jz(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(128)&&(this._maxLineWidth=0);const t=this._context.configuration.options,n=t.get(40),i=t.get(128);return this._lineHeight=t.get(55),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=i.isViewportWrapping,this._revealHorizontalRightPadding=t.get(86),this._cursorSurroundingLines=t.get(23),this._cursorSurroundingLinesStyle=t.get(24),this._canUseLayerHinting=!t.get(26),uz.applyFontInfo(this.domNode,n),this._onOptionsMaybeChanged(),e.hasChanged(127)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new zz(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let t=e;t<=n;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let i=!1;for(let s=t;s<=n;s++)i=this._visibleLines.getVisibleLine(s).onSelectionChanged()||i;return i}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let n=e;n<=t;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let n=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new AX(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new MX(e.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const i=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(n,i),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const n=this._getViewLineDomNode(e);if(null===n)return null;const i=this._getLineNumberFor(n);if(-1===i)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return new je(i,1);const s=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(i<s||i>r)return null;let o=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(i,e,t);const a=this._context.model.getLineMinColumn(i);return o<a&&(o=a),new je(i,o)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===jz.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let i=t;i<=n;i++){if(e===this._visibleLines.getVisibleLine(i).getDomNode())return i}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return e<t||e>n?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const n=e.endLineNumber,i=oe.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!i)return null;let s=[],r=0;const o=new Uz(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new je(i.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let d=i.startLineNumber;d<=i.endLineNumber;d++){if(d<l||d>c)continue;const e=d===i.startLineNumber?i.startColumn:1,h=d===i.endLineNumber?i.endColumn:this._context.model.getLineMaxColumn(d),u=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(e,h,o);if(u){if(t&&d<n){const e=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new je(d+1,1)).lineNumber,e!==a&&(u.ranges[u.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[r++]=new Rz(u.outsideRenderedLine,d,u.ranges)}}return 0===r?null:s}_visibleRangesForLineRange(e,t,n){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,n,new Uz(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new Mz(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let i=1,s=!0;for(let r=t;r<=n;r++){const t=this._visibleLines.getVisibleLine(r);!e||t.getWidthIsFast()?i=Math.max(i,t.getWidth()):s=!1}return s&&1===t&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(i),s}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let s=n;s<=i;s++){const n=this._visibleLines.getVisibleLine(s);if(n.needsMonospaceFontCheck()){const i=n.getWidth();i>t&&(t=i,e=s)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let s=n;s<=i;s++){this._visibleLines.getVisibleLine(s).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),w&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let n=e;n<=t;n++){if(this._visibleLines.getVisibleLine(n).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,n,i,s){const r=e.top,o=e.height,a=r+o;let l,c,d;if(i&&i.length>0){let e=i[0].startLineNumber,t=i[0].endLineNumber;for(let n=1,s=i.length;n<s;n++){const s=i[n];e=Math.min(e,s.startLineNumber),t=Math.max(t,s.endLineNumber)}l=!1,c=this._context.viewLayout.getVerticalOffsetForLineNumber(e),d=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!n)return-1;l=!0,c=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),d=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(o/this._lineHeight/2,this._cursorSurroundingLines);c-=e*this._lineHeight,d+=Math.max(0,e-1)*this._lineHeight}let h;if(0!==s&&4!==s||(d+=this._lineHeight),d-c>o){if(!l)return-1;h=c}else if(5===s||6===s)if(6===s&&r<=c&&d<=a)h=r;else{const e=c-Math.max(5*this._lineHeight,.2*o),t=d-o;h=Math.max(t,e)}else if(1===s||2===s)if(2===s&&r<=c&&d<=a)h=r;else{const e=(c+d)/2;h=Math.max(0,e-o/2)}else h=this._computeMinimumScrolling(r,a,c,d,3===s,4===s);return h}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),n=t.left,i=n+t.width;let s=1073741824,r=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)s=Math.min(s,e.left),r=Math.max(r,e.left+e.width)}else for(const o of e.selections){if(o.startLineNumber!==o.endLineNumber)return null;const e=this._visibleRangesForLineRange(o.startLineNumber,o.startColumn,o.endColumn);if(!e)return null;for(const t of e.ranges)s=Math.min(s,t.left),r=Math.max(r,t.left+t.width)}if(s=Math.max(0,s-FX.HORIZONTAL_EXTRA_PX),r+=this._revealHorizontalRightPadding,"selections"===e.type&&r-s>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(n,i,s,r),maxHorizontalOffset:r}}_computeMinimumScrolling(e,t,n,i,s,r){s=!!s,r=!!r;const o=(t|=0)-(e|=0);return(i|=0)-(n|=0)<o?s?n:r?Math.max(0,i-o):n<e?n:i>t?Math.max(0,i-o):e:n}}FX.HORIZONTAL_EXTRA_PX=30;class BX extends IX{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(127);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(127);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let s=0,r=t.length;s<r;s++){const e=t[s],r=e.options.linesDecorationsClassName;r&&(n[i++]=new NX(e.range.startLineNumber,e.range.endLineNumber,r));const o=e.options.firstLineDecorationClassName;o&&(n[i++]=new NX(e.range.startLineNumber,e.range.startLineNumber,o))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),s='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[];for(let o=t;o<=n;o++){const e=o-t,n=i[e];let a="";for(let t=0,i=n.length;t<i;t++)a+='<div class="cldr '+n[t]+s;r[e]=a}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class VX extends IX{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let s=0,r=t.length;s<r;s++){const e=t[s],r=e.options.marginClassName;r&&(n[i++]=new NX(e.range.startLineNumber,e.range.endLineNumber,r))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),s=[];for(let r=t;r<=n;r++){const e=r-t,n=i[e];let o="";for(let t=0,i=n.length;t<i;t++)o+='<div class="cmdr '+n[t]+'" style=""></div>';s[e]=o}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class WX{constructor(e,t,n,i){this.r=WX._clamp(e),this.g=WX._clamp(t),this.b=WX._clamp(n),this.a=WX._clamp(i)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}WX.Empty=new WX(0,0,0,0);class HX{constructor(){this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._updateColorMap(),fF.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new HX),this._INSTANCE}_updateColorMap(){const e=fF.getColorMap();if(!e)return this._colors=[WX.Empty],void(this._backgroundIsLight=!0);this._colors=[WX.Empty];for(let n=1;n<e.length;n++){const t=e[n].rgba;this._colors[n]=new WX(t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}HX._INSTANCE=null;const UX=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class zX{constructor(e,t){this.scale=t,this.charDataNormal=zX.soften(e,.8),this.charDataLight=zX.soften(e,50/60)}static soften(e,t){let n=new Uint8ClampedArray(e.length);for(let i=0,s=e.length;i<s;i++)n[i]=vt(e[i]*t);return n}renderChar(e,t,n,i,s,r,o,a,l){const c=1*this.scale,d=2*this.scale,h=l?1:d;if(t+c>e.width||n+h>e.height)return void console.warn("bad render request outside image data");const u=a?this.charDataLight:this.charDataNormal,p=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(i,o),g=4*e.width,f=r.r,m=r.g,_=r.b,v=s.r-f,b=s.g-m,y=s.b-_,w=e.data;let C=p*c*d,S=n*g+4*t;for(let x=0;x<h;x++){let e=S;for(let t=0;t<c;t++){const t=u[C++]/255;w[e++]=f+v*t,w[e++]=m+b*t,w[e++]=_+y*t,e++}S+=g}}blockRenderChar(e,t,n,i,s,r,o){const a=1*this.scale,l=2*this.scale,c=o?1:l;if(t+a>e.width||n+c>e.height)return void console.warn("bad render request outside image data");const d=4*e.width,h=s.r,u=s.g,p=s.b,g=h+.5*(i.r-h),f=u+.5*(i.g-u),m=p+.5*(i.b-p),_=e.data;let v=n*d+4*t;for(let b=0;b<c;b++){let e=v;for(let t=0;t<a;t++)_[e++]=g,_[e++]=f,_[e++]=m,e++;v+=d}}}function jX(e){const t=this;let n,i=!1;return function(){return i||(i=!0,n=e.apply(t,arguments)),n}}const $X={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},KX=e=>{const t=new Uint8ClampedArray(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=$X[e[n]]<<4|15&$X[e[n+1]];return t},qX={1:jX((()=>KX("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:jX((()=>KX("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class GX{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let n;return n=qX[e]?new zX(qX[e](),e):GX.createFromSampleData(GX.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=n,n}static createSampleData(e){const t=document.createElement("canvas"),n=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",n.fillStyle="#ffffff",n.font=`bold 16px ${e}`,n.textBaseline="middle";let i=0;for(const s of UX)n.fillText(String.fromCharCode(s),i,8),i+=10;return n.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let n=GX._downsample(e,t);return new zX(n,t)}static _downsampleChar(e,t,n,i,s){const r=1*s,o=2*s;let a=i,l=0;for(let c=0;c<o;c++){const i=c/o*16,s=(c+1)/o*16;for(let o=0;o<r;o++){const c=o/r*10,d=(o+1)/r*10;let h=0,u=0;for(let n=i;n<s;n++){const i=t+3840*Math.floor(n),s=1-(n-Math.floor(n));for(let t=c;t<d;t++){const n=1-(t-Math.floor(t)),r=i+4*Math.floor(t),o=n*s;u+=o,h+=e[r]*e[r+3]/255*o}}const p=h/u;l=Math.max(l,p),n[a++]=vt(p)}}return l}static _downsample(e,t){const n=2*t*1*t,i=96*n,s=new Uint8ClampedArray(i);let r=0,o=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,o,s,r,t)),r+=n,o+=40;if(a>0){const e=255/a;for(let t=0;t<i;t++)s[t]*=e}return s}}class YX{constructor(e,t,n){const i=e.options,s=i.get(125),r=i.get(127),o=r.minimap,a=i.get(40),l=i.get(61);this.renderMinimap=o.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=o.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=i.get(91),this.showSlider=l.showSlider,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=i.get(55),this.minimapLeft=o.minimapLeft,this.minimapWidth=o.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=o.minimapCanvasInnerWidth,this.canvasInnerHeight=o.minimapCanvasInnerHeight,this.canvasOuterWidth=o.minimapCanvasOuterWidth,this.canvasOuterHeight=o.minimapCanvasOuterHeight,this.isSampling=o.minimapIsSampling,this.editorHeight=r.height,this.fontScale=o.minimapScale,this.minimapLineHeight=o.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=jX((()=>GX.create(this.fontScale,a.fontFamily))),this.backgroundColor=YX._getMinimapBackground(t,n)}static _getMinimapBackground(e,t){const n=e.getColor(hY);return n?new WX(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a):t.getColor(2)}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)}}class ZX{constructor(e,t,n,i,s,r,o,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=n,this._computedSliderRatio=i,this.sliderTop=s,this.sliderHeight=r,this.startLineNumber=o,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,n,i,s,r,o,a,l,c,d){const h=e.pixelRatio,u=e.minimapLineHeight,p=Math.floor(e.canvasInnerHeight/u),g=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=a*e.lineHeight+(e.scrollBeyondLastLine?s-e.lineHeight:0),n=Math.max(1,Math.floor(s*s/t)),i=Math.max(0,e.minimapHeight-n),r=i/(c-s),d=l*r,h=i>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new ZX(l,c,h,r,d,n,1,Math.min(o,u))}let f,m;if(r&&n!==o){const e=n-t+1;f=Math.floor(e*u/h)}else{const e=s/g;f=Math.floor(e*u/h)}m=e.scrollBeyondLastLine?(o-1)*u/h:Math.max(0,o*u/h-f),m=Math.min(e.minimapHeight-f,m);const _=m/(c-s),v=l*_;let b=0;if(e.scrollBeyondLastLine){b=s/g-1}if(p>=o+b){return new ZX(l,c,m>0,_,v,f,1,o)}{let e=Math.max(1,Math.floor(t-v*h/u));d&&d.scrollHeight===c&&(d.scrollTop>l&&(e=Math.min(e,d.startLineNumber)),d.scrollTop<l&&(e=Math.max(e,d.startLineNumber)));const n=Math.min(o,e+p-1);return new ZX(l,c,!0,_,(t-e+(l-i)/g)*u/h,f,e,n)}}}class XX{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}XX.INVALID=new XX(-1);class JX{constructor(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new $Z((()=>XX.INVALID)),this._renderedLines._set(e.startLineNumber,n)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let n=0,i=t.length;n<i;n++)if(-1===t[n].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class QX{constructor(e,t,n,i){this._backgroundFillData=QX._createBackgroundFillData(t,n,i),this._buffers=[e.createImageData(t,n),e.createImageData(t,n)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,n){const i=n.r,s=n.g,r=n.b,o=new Uint8ClampedArray(e*t*4);let a=0;for(let l=0;l<t;l++)for(let t=0;t<e;t++)o[a]=i,o[a+1]=s,o[a+2]=r,o[a+3]=255,a+=4;return o}}class eJ{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,n){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const i=e.pixelRatio,s=e.lineHeight,r=e.scrollBeyondLastLine,{minimapLineCount:o}=_P.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:r,height:e.editorHeight,lineHeight:s,pixelRatio:i}),a=t/o,l=a/2;if(!n||0===n.minimapLines.length){let e=[];if(e[0]=1,o>1){for(let t=0,n=o-1;t<n;t++)e[t]=Math.round(t*a+l);e[o-1]=t}return[new eJ(a,e),[]]}const c=n.minimapLines,d=c.length;let h=[],u=0,p=0,g=1;let f=[],m=null;for(let _=0;_<o;_++){const e=Math.max(g,Math.round(_*a)),n=Math.max(e,Math.round((_+1)*a));for(;u<d&&c[u]<e;){if(f.length<10){const e=u+1+p;m&&"deleted"===m.type&&m._oldIndex===u-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},f.push(m)),p--}u++}let i;if(u<d&&c[u]<=n)i=c[u],u++;else if(i=0===_?1:_+1===o?t:Math.round(_*a+l),f.length<10){const e=u+1+p;m&&"inserted"===m.type&&m._i===_-1?m.insertToLineNumber++:(m={type:"inserted",_i:_,insertFromLineNumber:e,insertToLineNumber:e},f.push(m)),p++}h[_]=i,g=i}if(f.length<10)for(;u<d;){const e=u+1+p;m&&"deleted"===m.type&&m._oldIndex===u-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},f.push(m)),p--,u++}else f=[{type:"flush"}];return[new eJ(a,h),f]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e)-1;for(;n>0&&this.minimapLines[n-1]>=e;)n--;let i=this.modelLineToMinimapLine(t)-1;for(;i+1<this.minimapLines.length&&this.minimapLines[i+1]<=t;)i++;if(n===i){const i=this.minimapLines[n];if(i<e||i>t)return null}return[n+1,i+1]}decorationLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e),i=this.modelLineToMinimapLine(t);return e!==t&&i===n&&(i===this.minimapLines.length?n>1&&n--:i++),[n,i]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let n=this.minimapLines.length,i=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),n=Math.min(n,s),i=Math.max(i,s)):this.minimapLines[s]-=t;return[n,i]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let n=this.minimapLines.length-1;n>=0&&!(this.minimapLines[n]<e.fromLineNumber);n--)this.minimapLines[n]+=t}}class tJ extends Iz{constructor(e){super(e),this.tokensColorTracker=HX.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new YX(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=eJ.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new nJ(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new YX(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,n]=this._samplingState.onLinesDeleted(e);return t<=n&&this._actual.onLinesChanged(t+1,n+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const n of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(n.fromLineNumber,n.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),n=this._samplingState.modelLineToMinimapLine(n));const i={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:n,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(i)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,n]=eJ.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const i of n)switch(i.type){case"deleted":this._actual.onLinesDeleted(i.deleteFromLineNumber,i.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(i.insertFromLineNumber,i.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getMinimapLinesRenderingData(e,t,n){if(this._samplingState){let i=[];for(let s=0,r=t-e+1;s<r;s++)n[s]?i[s]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+s-1]):i[s]=null;return i}return this._context.model.getMinimapLinesRenderingData(e,t,n).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,n]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Ze(t,e.startColumn,n,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let n;if(this._samplingState){const i=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];n=new oe(i,1,s,this._context.model.getLineMaxColumn(s))}else n=new oe(e,1,t,this._context.model.getLineMaxColumn(t));const i=this._context.model.getDecorationsInViewport(n);if(this._samplingState){let e=[];for(const t of i){if(!t.options.minimap)continue;const n=t.range,i=this._samplingState.modelLineToMinimapLine(n.startLineNumber),s=this._samplingState.modelLineToMinimapLine(n.endLineNumber);e.push(new mV(new oe(i,n.startColumn,s,n.endColumn),t.options))}return e}return i}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new oe(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class nJ extends F{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(lY),this._domNode=gz(document.createElement("div")),Pz.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=gz(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=gz(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=gz(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=gz(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=gz(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=MO(this._domNode.domNode,"mousedown",(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=JO(this._slider.domNode),n=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,n,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,n=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let i=Math.floor(n/t)+this._lastRenderData.renderedLayout.startLineNumber;i=Math.min(i,this._model.getLineCount()),this._model.revealLineNumber(i)})),this._sliderMouseMoveMonitor=new wz,this._sliderMouseDownListener=MO(this._slider.domNode,"mousedown",(e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)})),this._gestureDisposable=bz.addTarget(this._domNode.domNode),this._sliderTouchStartListener=RO(this._domNode.domNode,_z.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=RO(this._domNode.domNode,_z.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=MO(this._domNode.domNode,_z.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,n,i,s){this._slider.toggleClassName("active",!0);const r=(e,i)=>{const r=Math.abs(i-t);if(T&&r>140)return void this._model.setScrollTop(s.scrollTop);const o=e-n;this._model.setScrollTop(s.getDesiredScrollTopFromDelta(o))};i!==n&&r(i,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,yz,(e=>r(e.posy,e.posx)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,n=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(n)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new QX(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(lY),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=ZX.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);const n=e.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,i=Math.min(this._model.options.minimapWidth,Math.round(n*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(i),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-i),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections(),n=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber),{canvasInnerWidth:i,canvasInnerHeight:s}=this._model.options,r=this._model.options.minimapLineHeight,o=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,i,s);const c=new Map;for(let d=0;d<t.length;d++){const n=t[d];for(let t=n.startLineNumber;t<=n.endLineNumber;t++)this.renderDecorationOnLine(l,c,n,this._selectionColor,e,t,r,r,a,o)}for(let d=0;d<n.length;d++){const t=n[d];if(!t.options.minimap)continue;const i=t.options.minimap.getColor(this._theme);for(let n=t.range.startLineNumber;n<=t.range.endLineNumber;n++)switch(t.options.minimap.position){case GA.Inline:this.renderDecorationOnLine(l,c,t.range,i,e,n,r,r,a,o);continue;case GA.Gutter:const s=(n-e.startLineNumber)*r,d=2;this.renderDecoration(l,i,d,s,2,r);continue}}}}renderDecorationOnLine(e,t,n,i,s,r,o,a,l,c){const d=(r-s.startLineNumber)*a;if(d+o<0||d>this._model.options.canvasInnerHeight)return;let h=t.get(r);const u=!h;if(!h){const e=this._model.getLineContent(r);h=[8];for(let t=1;t<e.length+1;t++){const n=e.charCodeAt(t-1),i=9===n?l*c:Ie(n)?2*c:c;h[t]=h[t-1]+i}t.set(r,h)}const{startColumn:p,endColumn:g,startLineNumber:f,endLineNumber:m}=n,_=f===r?h[p-1]:8,v=m>r?h.length-1:g-1;if(v>0){const t=h[v]-_||2;this.renderDecoration(e,i,_,d,t,o)}u&&this.renderLineHighlight(e,i,d,o)}renderLineHighlight(e,t,n,i){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(8,n,e.canvas.width,i)}renderDecoration(e,t,n,i,s,r){e.fillStyle=t&&t.toString()||"",e.fillRect(n,i,s,r)}renderLines(e){const t=e.startLineNumber,n=e.endLineNumber,i=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new JX(e,t.imageData,t.lines)}const s=this._getBuffer();if(!s)return null;let[r,o,a]=nJ._renderUntouchedLines(s,t,n,i,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,n,a),c=this._model.getOptions().tabSize,d=this._model.options.backgroundColor,h=this._model.tokensColorTracker,u=h.backgroundIsLight(),p=this._model.options.renderMinimap,g=this._model.options.charRenderer(),f=this._model.options.fontScale,m=this._model.options.minimapCharWidth,_=(1===p?2:3)*f,v=i>_?Math.floor((i-_)/2):0;let b=0;const y=[];for(let S=0,x=n-t+1;S<x;S++)a[S]&&nJ._renderLine(s,d,u,p,m,h,g,b,v,c,l[S],f,i),y[S]=new XX(b),b+=i;const w=-1===r?0:r,C=(-1===o?s.height:o)-w;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,w,s.width,C),new JX(e,s,y)}static _renderUntouchedLines(e,t,n,i,s){const r=[];if(!s){for(let e=0,i=n-t+1;e<i;e++)r[e]=!0;return[-1,-1,r]}const o=s._get(),a=o.imageData.data,l=o.rendLineNumberStart,c=o.lines,d=c.length,h=e.width,u=e.data,p=(n-t+1)*i*h*4;let g=-1,f=-1,m=-1,_=-1,v=-1,b=-1,y=0;for(let w=t;w<=n;w++){const e=w-t,n=w-l,s=n>=0&&n<d?c[n].dy:-1;if(-1===s){r[e]=!0,y+=i;continue}const o=s*h*4,C=(s+i)*h*4,S=y*h*4,x=(y+i)*h*4;_===o&&b===S?(_=C,b=x):(-1!==m&&(u.set(a.subarray(m,_),v),-1===g&&0===m&&m===v&&(g=_),-1===f&&_===p&&m===v&&(f=m)),m=o,_=C,v=S,b=x),r[e]=!1,y+=i}-1!==m&&(u.set(a.subarray(m,_),v),-1===g&&0===m&&m===v&&(g=_),-1===f&&_===p&&m===v&&(f=m));return[-1===g?-1:g/(4*h),-1===f?-1:f/(4*h),r]}static _renderLine(e,t,n,i,s,r,o,a,l,c,d,h,u){const p=d.content,g=d.tokens,f=e.width-s,m=1===u;let _=8,v=0,b=0;for(let y=0,w=g.getCount();y<w;y++){const d=g.getEndOffset(y),u=g.getForeground(y),w=r.getColor(u);for(;v<d;v++){if(_>f)return;const r=p.charCodeAt(v);if(9===r){const e=c-(v+b)%c;b+=e-1,_+=e*s}else if(32===r)_+=s;else{const c=Ie(r)?2:1;for(let d=0;d<c;d++)if(2===i?o.blockRenderChar(e,_,a+l,w,t,n,m):o.renderChar(e,_,a+l,r,w,t,h,n,m),_+=s,_>f)return}}}}}LU(((e,t)=>{const n=e.getColor(hY);n&&t.addRule(`.monaco-editor .minimap > canvas { opacity: ${n.rgba.a}; will-change: opacity; }`);const i=e.getColor(uY);i&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${i}; }`);const s=e.getColor(pY);s&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${s}; }`);const r=e.getColor(gY);r&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${r}; }`);const o=e.getColor(Cq);o&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${o} -6px 0 6px -6px inset; }`)}));class iJ extends Iz{constructor(e){super(e);const t=this._context.configuration.options.get(127);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=gz(document.createElement("div")),Pz.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(127);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=gz(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const n=this._widgets[e.getId()];return n.preference!==t&&(n.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let n=0,i=t.length;n<i;n++){const e=t[n];this._renderWidget(this._widgets[e])}}}class sJ{constructor(e,t){const n=e.options;this.lineHeight=n.get(55),this.pixelRatio=n.get(125),this.overviewRulerLanes=n.get(70),this.renderBorder=n.get(69);const i=t.getColor(jY);this.borderColor=i?i.toString():null,this.hideCursor=n.get(48);const s=t.getColor(PY);this.cursorColor=s?s.transparent(.7).toString():null,this.themeType=t.type;const r=n.get(61),o=r.enabled,a=r.side,l=o?t.getColor($Y)||fF.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:F$.Format.CSS.formatHex(l);const c=n.get(127).overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[d,h]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=d,this.w=h}_initLanes(e,t,n){const i=t-e;if(n>=3){const t=Math.floor(i/3),n=Math.floor(i/3),s=i-t-n,r=e+t;return[[0,e,r,e,e+t+s,e,r,e],[0,t,s,t+s,n,t+s+n,s+n,t+s+n]]}if(2===n){const t=Math.floor(i/2),n=i-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,n,t+n,t+n,t+n]]}return[[0,e,e,e,e,e,e,e],[0,i,i,i,i,i,i,i]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class rJ extends Iz{constructor(e){super(e),this._domNode=gz(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=fF.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new sJ(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(je.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,n=this._settings.lineHeight,i=this._context.viewLayout,s=t/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),o=6*this._settings.pixelRatio|0,a=o/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const c=this._settings.x,d=this._settings.w,h=Object.keys(r);h.sort();for(let u=0,p=h.length;u<p;u++){const e=h[u],p=r[e];l.fillStyle=e;let g=0,f=0,m=0;for(let r=0,h=p.length;r<h;r++){const e=p[3*r],h=p[3*r+1],u=p[3*r+2];let _=i.getVerticalOffsetForLineNumber(h)*s|0,v=(i.getVerticalOffsetForLineNumber(u)+n)*s|0;if(v-_<o){let e=(_+v)/2|0;e<a?e=a:e+a>t&&(e=t-a),_=e-a,v=e+a}_>m+1||e!==g?(0!==r&&l.fillRect(c[g],f,d[g],m-f),g=e,f=_,m=v):v>m&&(m=v)}l.fillRect(c[g],f,d[g],m-f)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,n=e/2|0,r=this._settings.x[7],o=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,c=-100;for(let d=0,h=this._cursorPositions.length;d<h;d++){const h=this._cursorPositions[d];let u=i.getVerticalOffsetForLineNumber(h.lineNumber)*s|0;u<n?u=n:u+n>t&&(u=t-n);const p=u-n,g=p+e;p>c+1?(0!==d&&l.fillRect(r,a,o,c-a),a=p,c=g):g>c&&(c=g)}l.fillRect(r,a,o,c-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}class oJ{constructor(e,t,n){this.from=0|e,this.to=0|t,this.colorId=0|n}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class aJ{constructor(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class lJ{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(aJ.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=n/Math.floor(this._outerHeight),s=Math.floor(4*this._pixelRatio/2);let r=[];for(let o=0,a=this._zones.length;o<a;o++){const a=this._zones[o];if(!e){const e=a.getColorZones();if(e){r.push(e);continue}}const l=Math.floor(i*this._getVerticalOffsetForLine(a.startLineNumber)),c=Math.floor(i*(this._getVerticalOffsetForLine(a.endLineNumber)+t));let d=Math.floor((l+c)/2),h=c-d;h<s&&(h=s),d-h<0&&(d=h),d+h>n&&(d=n-h);const u=a.color;let p=this._color2Id[u];p||(p=++this._lastAssignedId,this._color2Id[u]=p,this._id2Color[p]=u);const g=new oJ(d-h,d+h,p);a.setColorZone(g),r.push(g)}return this._colorZonesInvalid=!1,r.sort(oJ.compare),r}}class cJ extends Nz{constructor(e,t){super(),this._context=e;const n=this._context.configuration.options;this._domNode=gz(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new lJ((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(n.get(55)),this._zoneManager.setPixelRatio(n.get(125)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(55)&&(this._zoneManager.setLineHeight(t.get(55)),this._render()),e.hasChanged(125)&&(this._zoneManager.setPixelRatio(t.get(125)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),i=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),n.length>0&&this._renderOneLane(s,n,i,e),!0}_renderOneLane(e,t,n,i){let s=0,r=0,o=0;for(const a of t){const t=a.colorId,l=a.from,c=a.to;t!==s?(e.fillRect(0,r,i,o-r),s=t,e.fillStyle=n[s],r=l,o=c):o>=l?o=Math.max(o,c):(e.fillRect(0,r,i,o-r),r=l,o=c)}e.fillRect(0,r,i,o-r)}}class dJ extends Iz{constructor(e){super(e),this.domNode=gz(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(88),this._typicalHalfwidthCharacterWidth=t.get(40).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(88),this._typicalHalfwidthCharacterWidth=t.get(40).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:n}=this._context.model.getTextModelOptions(),i=n;let s=t-e;for(;s>0;){const e=gz(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(i),this.domNode.appendChild(e),this._renderedRulers.push(e),s--}return}let n=e-t;for(;n>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),n--}}render(e){this._ensureRulersCount();for(let t=0,n=this._rulers.length;t<n;t++){const n=this._renderedRulers[t],i=this._rulers[t];n.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}LU(((e,t)=>{const n=e.getColor(WY);n&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${n} inset; }`)}));class hJ extends Iz{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(89);this._useShadows=t.useShadows,this._domNode=gz(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(127);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(89);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}LU(((e,t)=>{const n=e.getColor(Cq);n&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${n} 0 6px 6px -6px inset; }`)}));class uJ{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class pJ{constructor(e,t){this.lineNumber=e,this.ranges=t}}function gJ(e){return new uJ(e)}function fJ(e){return new pJ(e.lineNumber,e.ranges.map(gJ))}class mJ extends HK{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(55),this._roundedSelection=t.get(87),this._typicalHalfwidthCharacterWidth=t.get(40).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(55),this._roundedSelection=t.get(87),this._typicalHalfwidthCharacterWidth=t.get(40).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,n=e.length;t<n;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,n){const i=this._typicalHalfwidthCharacterWidth/4;let s=null,r=null;if(n&&n.length>0&&t.length>0){const i=t[0].lineNumber;if(i===e.startLineNumber)for(let e=0;!s&&e<n.length;e++)n[e].lineNumber===i&&(s=n[e].ranges[0]);const o=t[t.length-1].lineNumber;if(o===e.endLineNumber)for(let e=n.length-1;!r&&e>=0;e--)n[e].lineNumber===o&&(r=n[e].ranges[0]);s&&!s.startStyle&&(s=null),r&&!r.startStyle&&(r=null)}for(let o=0,a=t.length;o<a;o++){const e=t[o].ranges[0],n=e.left,l=e.left+e.width,c={top:0,bottom:0},d={top:0,bottom:0};if(o>0){const e=t[o-1].ranges[0].left,s=t[o-1].ranges[0].left+t[o-1].ranges[0].width;_J(n-e)<i?c.top=2:n>e&&(c.top=1),_J(l-s)<i?d.top=2:e<l&&l<s&&(d.top=1)}else s&&(c.top=s.startStyle.top,d.top=s.endStyle.top);if(o+1<a){const e=t[o+1].ranges[0].left,s=t[o+1].ranges[0].left+t[o+1].ranges[0].width;_J(n-e)<i?c.bottom=2:e<n&&n<s&&(c.bottom=1),_J(l-s)<i?d.bottom=2:l<s&&(d.bottom=1)}else r&&(c.bottom=r.startStyle.bottom,d.bottom=r.endStyle.bottom);e.startStyle=c,e.endStyle=d}}_getVisibleRangesWithStyle(e,t,n){const i=(t.linesVisibleRangesForRange(e,!0)||[]).map(fJ);return!this._visibleRangesHaveGaps(i)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,i,n),i}_createSelectionPiece(e,t,n,i,s){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+s.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,n,i){if(0===i.length)return;const s=!!i[0].ranges[0].startStyle,r=this._lineHeight.toString(),o=(this._lineHeight-1).toString(),a=i[0].lineNumber,l=i[i.length-1].lineNumber;for(let c=0,d=i.length;c<d;c++){const d=i[c],h=d.lineNumber,u=h-t,p=n&&(h===l||h===a)?o:r,g=n&&h===a?1:0;let f="",m="";for(let e=0,t=d.ranges.length;e<t;e++){const t=d.ranges[e];if(s){const e=t.startStyle,n=t.endStyle;if(1===e.top||1===e.bottom){f+=this._createSelectionPiece(g,p,mJ.SELECTION_CLASS_NAME,t.left-mJ.ROUNDED_PIECE_WIDTH,mJ.ROUNDED_PIECE_WIDTH);let n=mJ.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(n+=" "+mJ.SELECTION_TOP_RIGHT),1===e.bottom&&(n+=" "+mJ.SELECTION_BOTTOM_RIGHT),f+=this._createSelectionPiece(g,p,n,t.left-mJ.ROUNDED_PIECE_WIDTH,mJ.ROUNDED_PIECE_WIDTH)}if(1===n.top||1===n.bottom){f+=this._createSelectionPiece(g,p,mJ.SELECTION_CLASS_NAME,t.left+t.width,mJ.ROUNDED_PIECE_WIDTH);let e=mJ.EDITOR_BACKGROUND_CLASS_NAME;1===n.top&&(e+=" "+mJ.SELECTION_TOP_LEFT),1===n.bottom&&(e+=" "+mJ.SELECTION_BOTTOM_LEFT),f+=this._createSelectionPiece(g,p,e,t.left+t.width,mJ.ROUNDED_PIECE_WIDTH)}}let n=mJ.SELECTION_CLASS_NAME;if(s){const e=t.startStyle,i=t.endStyle;0===e.top&&(n+=" "+mJ.SELECTION_TOP_LEFT),0===e.bottom&&(n+=" "+mJ.SELECTION_BOTTOM_LEFT),0===i.top&&(n+=" "+mJ.SELECTION_TOP_RIGHT),0===i.bottom&&(n+=" "+mJ.SELECTION_BOTTOM_RIGHT)}m+=this._createSelectionPiece(g,p,n,t.left,t.width)}e[u][0]+=f,e[u][1]+=m}}prepareRender(e){const t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;for(let r=n;r<=i;r++){t[r-n]=["",""]}const s=[];for(let r=0,o=this._selections.length;r<o;r++){const i=this._selections[r];if(i.isEmpty()){s[r]=null;continue}const o=this._getVisibleRangesWithStyle(i,e,this._previousFrameVisibleRangesWithStyle[r]);s[r]=o,this._actualRenderOneSelection(t,n,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}function _J(e){return e<0?-e:e}mJ.SELECTION_CLASS_NAME="selected-text",mJ.SELECTION_TOP_LEFT="top-left-radius",mJ.SELECTION_BOTTOM_LEFT="bottom-left-radius",mJ.SELECTION_TOP_RIGHT="top-right-radius",mJ.SELECTION_BOTTOM_RIGHT="bottom-right-radius",mJ.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",mJ.ROUNDED_PIECE_WIDTH=10,LU(((e,t)=>{const n=e.getColor(Qq);n&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const i=e.getColor(tG);i&&t.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const s=e.getColor(eG);s&&!s.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${s}; }`)}));class vJ{constructor(e,t,n,i,s,r){this.top=e,this.left=t,this.width=n,this.height=i,this.textContent=s,this.textContentClassName=r}}class bJ{constructor(e){this._context=e;const t=this._context.configuration.options,n=t.get(40);this._cursorStyle=t.get(22),this._lineHeight=t.get(55),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=gz(document.createElement("div")),this._domNode.setClassName("cursor monaco-mouse-cursor-text"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),uz.applyFontInfo(this._domNode,n),this._domNode.setDisplay("none"),this._position=new je(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(40);return this._cursorStyle=t.get(22),this._lineHeight=t.get(55),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(25),this._typicalHalfwidthCharacterWidth),uz.applyFontInfo(this._domNode,n),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===pP.Line||this._cursorStyle===pP.LineThin){const n=e.visibleRangeForPosition(this._position);if(!n||n.outsideRenderedLine)return null;let i;if(this._cursorStyle===pP.Line){if(i=OR(this._lineCursorWidth>0?this._lineCursorWidth:2),i>2){const e=this._context.model.getLineContent(this._position.lineNumber),n=pt(e,this._position.column-1);t=e.substr(this._position.column-1,n)}}else i=OR(1);let s=n.left;i>=2&&s>=1&&(s-=1);const r=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new vJ(r,s,i,this._lineHeight,t,"")}const n=this._context.model.getLineContent(this._position.lineNumber),i=pt(n,this._position.column-1),s=e.linesVisibleRangesForRange(new oe(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+i),!1);if(!s||0===s.length)return null;const r=s[0];if(r.outsideRenderedLine||0===r.ranges.length)return null;const o=r.ranges[0],a=o.width<1?this._typicalHalfwidthCharacterWidth:o.width;let l="";if(this._cursorStyle===pP.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=n.substr(this._position.column-1,i);const s=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(s)}let c=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return this._cursorStyle!==pP.Underline&&this._cursorStyle!==pP.UnderlineThin||(c+=this._lineHeight-2,d=2),new vJ(c,o.left,a,d,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor monaco-mouse-cursor-text ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class yJ extends Iz{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(77),this._cursorBlinking=t.get(20),this._cursorStyle=t.get(22),this._cursorSmoothCaretAnimation=t.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new bJ(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=gz(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new bO,this._cursorFlatBlinkInterval=new yO,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(77),this._cursorBlinking=t.get(20),this._cursorStyle=t.get(22),this._cursorSmoothCaretAnimation=t.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let n=0,i=this._secondaryCursors.length;n<i;n++)this._secondaryCursors[n].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new bJ(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let n=0;n<t.length;n++)this._secondaryCursors[n].onCursorPositionChanged(t[n])}onCursorStateChanged(e){const t=[];for(let i=0,s=e.selections.length;i<s;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,n=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||n||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),yJ.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),yJ.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case pP.Line:e+=" cursor-line-style";break;case pP.Block:e+=" cursor-block-style";break;case pP.Underline:e+=" cursor-underline-style";break;case pP.LineThin:e+=" cursor-line-thin-style";break;case pP.BlockOutline:e+=" cursor-block-outline-style";break;case pP.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],n=0;const i=this._primaryCursor.render(e);i&&(t[n++]=i);for(let s=0,r=this._secondaryCursors.length;s<r;s++){const i=this._secondaryCursors[s].render(e);i&&(t[n++]=i)}this._renderData=t}getLastRenderData(){return this._renderData}}yJ.BLINK_INTERVAL=500,LU(((e,t)=>{const n=e.getColor(PY);if(n){let i=e.getColor(OY);i||(i=n.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${i}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}}));const wJ=()=>{throw new Error("Invalid change accessor")};class CJ extends Iz{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(127);this._lineHeight=t.get(55),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=gz(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=gz(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const i of e)t.set(i.id,i);let n=!1;return this._context.model.changeWhitespace((e=>{const i=Object.keys(this._zones);for(let s=0,r=i.length;s<r;s++){const r=i[s],o=this._zones[r],a=this._computeWhitespaceProps(o.delegate),l=t.get(r);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(r,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(o.delegate,a.heightInPx),n=!0)}})),n}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(127);return this._lineHeight=t.get(55),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,e.hasChanged(55)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,n;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new je(n,this._context.model.getModelLineMaxColumn(n))}n=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),s=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{afterViewLineNumber:i.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace((n=>{const i={addZone:e=>(t=!0,this._addZone(n,e)),removeZone:e=>{e&&(t=this._removeZone(n,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(n,e)||t)}};!function(e,t){try{e(t)}catch(n){V(n)}}(e,i),i.addZone=wJ,i.removeZone=wJ,i.layoutZone=wJ})),t}_addZone(e,t){const n=this._computeWhitespaceProps(t),i={whitespaceId:e.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(t),n.heightInPx,n.minWidthInPx),delegate:t,isVisible:!1,domNode:gz(t.domNode),marginDomNode:t.marginDomNode?gz(t.marginDomNode):null};return this._safeCallOnComputedHeight(i.delegate,n.heightInPx),i.domNode.setPosition("absolute"),i.domNode.domNode.style.width="100%",i.domNode.setDisplay("none"),i.domNode.setAttribute("monaco-view-zone",i.whitespaceId),this.domNode.appendChild(i.domNode),i.marginDomNode&&(i.marginDomNode.setPosition("absolute"),i.marginDomNode.domNode.style.width="100%",i.marginDomNode.setDisplay("none"),i.marginDomNode.setAttribute("monaco-view-zone",i.whitespaceId),this.marginDomNode.appendChild(i.marginDomNode)),this._zones[i.whitespaceId]=i,this.setShouldRender(),i.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t];return delete this._zones[t],e.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t],i=this._computeWhitespaceProps(n.delegate);return e.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(n){V(n)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(n){V(n)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,n={};let i=!1;for(let r=0,o=t.length;r<o;r++)n[t[r].id]=t[r],i=!0;const s=Object.keys(this._zones);for(let r=0,o=s.length;r<o;r++){const t=s[r],i=this._zones[t];let o=0,a=0,l="none";n.hasOwnProperty(t)?(o=n[t].verticalOffset-e.bigNumbersDelta,a=n[t].height,l="block",i.isVisible||(i.domNode.setAttribute("monaco-visible-view-zone","true"),i.isVisible=!0),this._safeCallOnDomNodeTop(i.delegate,e.getScrolledTopFromAbsoluteTop(n[t].verticalOffset))):(i.isVisible&&(i.domNode.removeAttribute("monaco-visible-view-zone"),i.isVisible=!1),this._safeCallOnDomNodeTop(i.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),i.domNode.setTop(o),i.domNode.setHeight(a),i.domNode.setDisplay(l),i.marginDomNode&&(i.marginDomNode.setTop(o),i.marginDomNode.setHeight(a),i.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class SJ{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class xJ{constructor(e,t,n){this.configuration=e,this.theme=new SJ(t),this.model=n,this.viewLayout=n.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class kJ{constructor(e,t,n,i){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=n,this._model=i,this.visibleRange=new oe(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class EJ extends Nz{constructor(e,t,n,i,s,r){super(),this._selections=[new Ze(1,1,1,1)],this._renderAnimationFrame=null;const o=new UZ(t,i,s,e);this._context=new xJ(t,n.getColorTheme(),i),this._configPixelRatio=this._context.configuration.options.get(125),this._context.addEventHandler(this),this._register(n.onDidColorThemeChange((e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)}))),this._viewParts=[],this._textAreaHandler=new sZ(this._context,o,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=gz(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=gz(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=gz(document.createElement("div")),Pz.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new LX(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new FX(this._context,this._linesContent),this._viewZones=new CJ(this._context),this._viewParts.push(this._viewZones);const a=new rJ(this._context);this._viewParts.push(a);const l=new hJ(this._context);this._viewParts.push(l);const c=new ZZ(this._context);this._viewParts.push(c),c.addDynamicOverlay(new sX(this._context)),c.addDynamicOverlay(new mJ(this._context)),c.addDynamicOverlay(new OX(this._context)),c.addDynamicOverlay(new oX(this._context));const d=new XZ(this._context);this._viewParts.push(d),d.addDynamicOverlay(new rX(this._context)),d.addDynamicOverlay(new PX(this._context)),d.addDynamicOverlay(new VX(this._context)),d.addDynamicOverlay(new BX(this._context)),d.addDynamicOverlay(new eZ(this._context));const h=new tZ(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(d.getDomNode()),this._viewParts.push(h),this._contentWidgets=new QZ(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new yJ(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new iJ(this._context),this._viewParts.push(this._overlayWidgets);const u=new dJ(this._context);this._viewParts.push(u);const p=new tJ(this._context);if(this._viewParts.push(p),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(c.getDomNode()),this._linesContent.appendChild(u.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(p.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new WK(this._context,o,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new _K(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new je(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new je(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(127);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(124)+" "+EU(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(125),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=WO(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(t){V(t)}}((()=>this._actualRender()))}_getViewPartsToRender(){let e=[],t=0;for(const n of this._viewParts)n.shouldRender()&&(e[t++]=n);return e}_actualRender(){if(!PO(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const n=new kJ(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(n),this._viewLines.shouldRender()&&(this._viewLines.renderText(n),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const i=new Oz(this._context.viewLayout,n,this._viewLines);for(const s of e)s.prepareRender(i);for(const s of e)s.render(i),s.onDidRender();Math.abs(WP()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const n=this._context.model.validateModelPosition({lineNumber:e,column:t}),i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new je(i.lineNumber,i.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const n=this._pointerHandler.getTargetAtClientPoint(e,t);return n?zZ.convertViewToModelMouseTarget(n,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new cJ(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const n=e.position?e.position.position:null;null!==n&&(t=new oe(n.lineNumber,n.column,n.lineNumber,n.column))}const n=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,n),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class DJ{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new lK(new oe(1,1,1,1),0,new je(1,1),0),new lK(new oe(1,1,1,1),0,new je(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new uK(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new Ze(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new Ze(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,n){this._setState(e,t,n)}_setState(e,t,n){if(t){const n=e.model.validateRange(t.selectionStart),i=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),r=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new lK(n,i,s,r)}else{if(!n)return;const i=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(n.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(n.position));t=new lK(i,n.selectionStartLeftoverVisibleColumns,s,n.leftoverVisibleColumns)}if(n){const i=e.coordinatesConverter.validateViewRange(n.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(n.position,t.position);n=new lK(i,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const i=e.coordinatesConverter.convertModelPositionToViewPosition(new je(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new je(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new oe(i.lineNumber,i.column,s.lineNumber,s.column),o=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);n=new lK(r,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)}}class TJ{constructor(e){this.context=e,this.primaryCursor=new DJ(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++){const n=this.secondaryCursors[t].viewState.position;n.isBefore(e)&&(e=n)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++){const n=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(n)&&(e=n)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(uK.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,n=e.length;if(t<n){let e=n-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>n){let e=t-n;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let i=0;i<n;i++)this.secondaryCursors[i].setState(this.context,e[i].modelState,e[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new DJ(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort(((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber));for(let n=0;n<t.length-1;n++){const i=t[n],s=t[n+1],r=i.selection,o=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=o.isEmpty()||r.isEmpty()?o.getStartPosition().isBeforeOrEqual(r.getEndPosition()):o.getStartPosition().isBefore(r.getEndPosition()),a){const r=i.index<s.index?n:n+1,o=i.index<s.index?n+1:n,a=t[o].index,l=t[r].index,c=t[o].selection,d=t[r].selection;if(!c.equalsSelection(d)){const n=c.plusRange(d),i=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,s=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;let o,h;a===this.lastAddedCursorIndex?(o=i,this.lastAddedCursorIndex=l):o=s,h=o?new Ze(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new Ze(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn),t[r].selection=h;const u=uK.fromModelSelection(h);e[l].setState(this.context,u.modelState,u.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(o,1),this._removeSecondaryCursor(a-1),n--}}}}class LJ{constructor(){this.type=0}}class NJ{constructor(){this.type=1}}class IJ{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class PJ{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class OJ{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class RJ{constructor(){this.type=5}}class AJ{constructor(e){this.type=6,this.isFocused=e}}class MJ{constructor(){this.type=7}}class FJ{constructor(){this.type=8}}class BJ{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class VJ{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class WJ{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class HJ{constructor(e,t,n,i,s,r){this.type=12,this.source=e,this.range=t,this.selections=n,this.verticalType=i,this.revealHorizontal=s,this.scrollType=r}}class UJ{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class zJ{constructor(){this.type=14}}class jJ{constructor(e){this.type=15,this.ranges=e}}class $J{constructor(){this.type=16}}class KJ{constructor(){this.type=17}}class qJ extends F{constructor(){super(),this._onEvent=this._register(new x),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,n=this._outgoingEvents.length;t<n;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new GJ),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const n of e)this._addOutgoingEvent(n);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const n of t)n.handleEvents(e)}}}class GJ{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class YJ{constructor(e,t,n,i){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=n,this.contentHeight=i,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new YJ(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class ZJ{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new ZJ(this.oldHasFocus,e.hasFocus)}}class XJ{constructor(e,t,n,i,s,r,o,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=n,this._oldScrollTop=i,this.scrollWidth=s,this.scrollLeft=r,this.scrollHeight=o,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new XJ(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class JJ{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class QJ{constructor(e,t,n,i,s,r,o){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=n,this.modelVersionId=i,this.source=s,this.reason=r,this.reachedMaxCursorCount=o}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!e[i].equalsSelection(t[i]))return!1;return!0}isNoOp(){return QJ._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new QJ(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class eQ{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class tQ{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class nQ{constructor(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}static getAllAutoClosedCharacters(e){let t=[];for(const n of e)t=t.concat(n.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}isValid(e){let t=[];for(let n=0;n<this._autoClosedEnclosingDecorations.length;n++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(oe.compareRangesUsingStarts),e.sort(oe.compareRangesUsingStarts);for(let n=0;n<e.length;n++){if(n>=t.length)return!1;if(!t[n].strictContainsRange(e[n]))return!1}return!0}}class iQ extends F{constructor(e,t,n,i){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=n,this.context=new cK(this._model,this._coordinatesConverter,i),this._cursors=new TJ(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=De(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new cK(this._model,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,n,i){let s=!1;null!==i&&i.length>iQ.MAX_CURSOR_COUNT&&(i=i.slice(0,iQ.MAX_CURSOR_COUNT),s=!0);const r=new tQ(this._model,this);return this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,r,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,n,i){const s=this._cursors.getViewPositions();if(s.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,n,i);else{const r=s[0],o=new oe(r.lineNumber,r.column,r.lineNumber,r.column);this._emitCursorRevealRange(e,t,o,null,0,n,i)}}_revealPrimaryCursor(e,t,n,i,s){const r=this._cursors.getViewPositions();if(r.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),n,i,s);else{const o=r[0],a=new oe(o.lineNumber,o.column,o.lineNumber,o.column);this._emitCursorRevealRange(e,t,a,null,n,i,s)}}_emitCursorRevealRange(e,t,n,i,s,r,o){e.emitViewEvent(new HJ(t,n,i,s,r,o))}saveState(){let e=[];const t=this._cursors.getSelections();for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}})}return e}restoreState(e,t){let n=[];for(let i=0,s=t.length;i<s;i++){const e=t[i];let s=1,r=1;e.position&&e.position.lineNumber&&(s=e.position.lineNumber),e.position&&e.position.column&&(r=e.position.column);let o=s,a=r;e.selectionStart&&e.selectionStart.lineNumber&&(o=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),n.push({selectionStartLineNumber:o,selectionStartColumn:a,positionLineNumber:s,positionColumn:r})}this.setStates(e,"restoreState",0,uK.fromModelSelections(n)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(this._knownModelVersionId=t.versionId,this._isHandling)return;const n=t.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new TJ(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const n=uK.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,n)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,uK.fromModelSelections(t))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:gK.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:gK.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,n,i){this.setStates(e,t,i,uK.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let n=[],i=[];for(let o=0,a=e.length;o<a;o++)n.push({range:e[o],options:{inlineClassName:"auto-closed-character",stickiness:1}}),i.push({range:t[o],options:{stickiness:1}});const s=this._model.deltaDecorations([],n),r=this._model.deltaDecorations([],i);this._autoClosedActions.push(new nQ(this._model,s,r))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,n){const i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(i,n);for(let r=0,o=i.trackedRanges.length;r<o;r++)i.model._setTrackedRange(i.trackedRanges[r],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const n=this._getEditOperations(e,t);if(0===n.operations.length)return null;const i=n.operations,s=this._getLoserCursorMap(i);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let r=[];for(let l=0,c=i.length;l<c;l++)s.hasOwnProperty(i[l].identifier.major.toString())||r.push(i[l]);n.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let o=e.model.pushEditOperations(e.selectionsBefore,r,(n=>{let i=[];for(let t=0;t<e.selectionsBefore.length;t++)i[t]=[];for(const e of n)e.identifier&&i[e.identifier.major].push(e);const s=(e,t)=>e.identifier.minor-t.identifier.minor;let r=[];for(let o=0;o<e.selectionsBefore.length;o++)i[o].length>0?(i[o].sort(s),r[o]=t[o].computeCursorState(e.model,{getInverseEditOperations:()=>i[o],getTrackedSelection:t=>{const n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new Ze(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new Ze(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):r[o]=e.selectionsBefore[o];return r}));o||(o=e.selectionsBefore);let a=[];for(let l in s)s.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)o.splice(l,1);return o}static _arrayIsEmpty(e){for(let t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let n=[],i=!1;for(let s=0,r=t.length;s<r;s++){const r=t[s];if(r){const t=this._getEditOperationsFromCommand(e,s,r);n=n.concat(t.operations),i=i||t.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:i}}static _getEditOperationsFromCommand(e,t,n){let i=[],s=0;const r=(e,r,o=!1)=>{oe.isEmpty(e)&&""===r||i.push({identifier:{major:t,minor:s++},range:e,text:r,forceMoveMarkers:o,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};let o=!1;const a=(e,t,n)=>{o=!0,r(e,t,n)},l={addEditOperation:r,addTrackedEditOperation:a,trackSelection:(t,n)=>{const i=Ze.liftSelection(t);let s;if(i.isEmpty())if("boolean"==typeof n)s=n?2:3;else{const t=e.model.getLineMaxColumn(i.startLineNumber);s=i.startColumn===t?2:3}else s=1;const r=e.trackedRanges.length,o=e.model._setTrackedRange(null,i,s);return e.trackedRanges[r]=o,e.trackedRangesDirection[r]=i.getDirection(),r.toString()}};try{n.getEditOperations(e.model,l)}catch(c){return V(c),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:o}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-oe.compareRangesUsingEnds(e.range,t.range)));let t={};for(let n=1;n<e.length;n++){const i=e[n-1],s=e[n];if(oe.getStartPosition(i.range).isBefore(oe.getEndPosition(s.range))){let r;r=i.identifier.major>s.identifier.major?i.identifier.major:s.identifier.major,t[r.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===r&&(e.splice(t,1),t<n&&n--,t--);n>0&&n--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let n=[],i=[];for(let t=0;t<e.commands.length;t++){const s=e.commands[t];s instanceof kZ&&s.enclosingRange&&s.closeCharacterRange&&(n.push(s.closeCharacterRange),i.push(s.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,i),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,n,i,s){const r=new tQ(this._model,this);if(r.equals(i))return!1;const o=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new PJ(a,o)),!i||i.cursorState.length!==r.cursorState.length||r.cursorState.some(((e,t)=>!e.modelState.equals(i.cursorState[t].modelState)))){const a=i?i.cursorState.map((e=>e.modelState.selection)):null,l=i?i.modelVersionId:0;e.emitOutgoingEvent(new QJ(a,o,l,r.modelVersionId,t||"keyboard",n,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.text||i.text.indexOf("\n")>=0)return null;const s=i.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;const r=s[1],o=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(r);if(!o||1!==o.length)return null;const a=o[0].open,l=i.text.length-s[2].length-1,c=i.text.lastIndexOf(a,l-1);if(-1===c)return null;t.push([c,l])}return t}executeEdits(e,t,n,i){let s=null;"snippet"===t&&(s=this._findAutoClosingPairs(n)),s&&(n[0]._isTracked=!0);let r=[],o=[];const a=this._model.pushEditOperations(this.getSelections(),n,(e=>{if(s)for(let n=0,i=s.length;n<i;n++){const[t,i]=s[n],a=e[n],l=a.range.startLineNumber,c=a.range.startColumn-1+t,d=a.range.startColumn-1+i;r.push(new oe(l,d+1,l,d+2)),o.push(new oe(l,c+1,l,d+2))}const t=i(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),r.length>0&&this._pushAutoClosedAction(r,o)}_executeEdit(e,t,n,i=0){if(this.context.cursorConfig.readOnly)return;const s=new tQ(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){V(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,i,s,!1)&&this._revealPrimaryCursor(t,n,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return nQ.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit((()=>{"keyboard"===t&&(this._executeEditOperation(xZ.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)}),e,t)}type(e,t,n){this._executeEdit((()=>{if("keyboard"===n){const e=t.length;let n=0;for(;n<e;){const e=pt(t,n),i=t.substr(n,e);this._executeEditOperation(xZ.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),i)),n+=e}}else this._executeEditOperation(xZ.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,n)}compositionType(e,t,n,i,s,r){if(0!==t.length||0!==n||0!==i)this._executeEdit((()=>{this._executeEditOperation(xZ.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,n,i,s))}),e,r);else if(0!==s){const t=this.getSelections().map((e=>{const t=e.getPosition();return new Ze(t.lineNumber,t.column+s,t.lineNumber,t.column+s)}));this.setSelections(e,r,t,0)}}paste(e,t,n,i,s){this._executeEdit((()=>{this._executeEditOperation(xZ.paste(this.context.cursorConfig,this._model,this.getSelections(),t,n,i||[]))}),e,s,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(pZ.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,n){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new pK(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}executeCommands(e,t,n){this._executeEdit((()=>{this._executeEditOperation(new pK(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}}iQ.MAX_CURSOR_COUNT=1e4;class sQ{constructor(e,t,n,i,s,r){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=s,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const rQ={getInitialState:()=>mF,tokenize2:(e,t,n,i)=>bF(0,0,n,i)};function oQ(e,t=rQ){return function(e,t){let n='<div class="monaco-tokenized-source">',i=Ae(e),s=t.getInitialState();for(let r=0,o=i.length;r<o;r++){let e=i[r];r>0&&(n+="<br/>");let o=t.tokenize2(e,!0,s,0);YB.convertToEndOffset(o.tokens,e.length);let a=new YB(o.tokens,e).inflate(),l=0;for(let t=0,i=a.getCount();t<i;t++){const i=a.getClassName(t),s=a.getEndOffset(t);n+=`<span class="${i}">${bt(e.substring(l,s))}</span>`,l=s}s=o.endState}return n+="</div>",n}(e,t||rQ)}function aQ(e,t,n,i,s,r,o){let a="<div>",l=i,c=0;for(let d=0,h=t.getCount();d<h;d++){const h=t.getEndOffset(d);if(h<=i)continue;let u="";for(;l<h&&l<s;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=r-(l+c)%r;for(c+=e-1;e>0;)u+=o?"&#160;":" ",e--;break;case 60:u+="&lt;";break;case 62:u+="&gt;";break;case 38:u+="&amp;";break;case 0:u+="&#00;";break;case 65279:case 8232:case 8233:case 133:u+="";break;case 13:u+="&#8203";break;case 32:u+=o?"&#160;":" ";break;default:u+=String.fromCharCode(t)}}if(a+=`<span style="${t.getInlineStyle(d,n)}">${u}</span>`,h>s||l>=s)break}return a+="</div>",a}class lQ{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,n=this._changes,i=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,i)}}class cQ{constructor(e,t,n,i,s){this.id=e,this.afterLineNumber=t,this.ordinal=n,this.height=i,this.minWidth=s,this.prefixSum=0}}class dQ{constructor(e,t,n,i){this._instanceId=nt(++dQ.INSTANCE_COUNT),this._pendingChanges=new lQ,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=n,this._paddingBottom=i}static findInsertionIndex(e,t,n){let i=0,s=e.length;for(;i<s;){const r=i+s>>>1;t===e[r].afterLineNumber?n<e[r].ordinal?s=r:i=r+1:t<e[r].afterLineNumber?s=r:i=r+1}return i}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,n,i,s)=>{t=!0,e|=0,n|=0,i|=0,s|=0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new cQ(r,e,n,i,s)),r},changeOneWhitespace:(e,n,i)=>{t=!0,n|=0,i|=0,this._pendingChanges.change({id:e,newAfterLineNumber:n,newHeight:i})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of n){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const i=new Set;for(const a of n)i.add(a.id);const s=new Map;for(const a of t)s.set(a.id,a);const r=e=>{let t=[];for(const n of e)if(!i.has(n.id)){if(s.has(n.id)){const e=s.get(n.id);n.afterLineNumber=e.newAfterLineNumber,n.height=e.newHeight}t.push(n)}return t},o=r(this._arr).concat(r(e));o.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=o,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=dQ.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let n=0,i=t.length;n<i;n++)if(t[n].id===e)return n;return-1}_changeOneWhitespace(e,t,n){const i=this._findWhitespaceIndex(e);if(-1!==i&&(this._arr[i].height!==n&&(this._arr[i].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)),this._arr[i].afterLineNumber!==t)){const e=this._arr[i];this._removeWhitespace(i),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){const i=this._arr[n].afterLineNumber;e<=i&&i<=t?this._arr[n].afterLineNumber=e-1:i>t&&(this._arr[n].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){e<=this._arr[n].afterLineNumber&&(this._arr[n].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let n=0,i=t.length-1;for(;n<=i;){const s=n+((i-n|0)/2|0)|0;if(t[s].afterLineNumber<e){if(s+1>=t.length||t[s+1].afterLineNumber>=e)return s;n=s+1|0}else i=s-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,n=this._lineHeight;let i=1,s=t;for(;i<s;){const t=(i+s)/2|0,r=0|this.getVerticalOffsetForLineNumber(t);if(e>=r+n)i=t+1;else{if(e>=r)return t;s=t}}return i>t?t:i}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this._lineHeight,i=0|this.getLineNumberAtOrAfterVerticalOffset(e),s=0|this.getVerticalOffsetForLineNumber(i);let r=0|this._lineCount,o=0|this.getFirstWhitespaceIndexAfterLineNumber(i);const a=0|this.getWhitespacesCount();let l,c;-1===o?(o=a,c=r+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(o),l=0|this.getHeightForWhitespaceIndex(o));let d=s,h=d;const u=5e5;let p=0;s>=u&&(p=Math.floor(s/u)*u,p=Math.floor(p/n)*n,h-=p);const g=[],f=e+(t-e)/2;let m=-1;for(let y=i;y<=r;y++){if(-1===m){const e=d,t=d+n;(e<=f&&f<t||e>f)&&(m=y)}for(d+=n,g[y-i]=h,h+=n;c===y;)h+=l,d+=l,o++,o>=a?c=r+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(o),l=0|this.getHeightForWhitespaceIndex(o));if(d>=t){r=y;break}}-1===m&&(m=r);const _=0|this.getVerticalOffsetForLineNumber(r);let v=i,b=r;return v<b&&s<e&&v++,v<b&&_+n>t&&b--,{bigNumbersDelta:p,startLineNumber:i,endLineNumber:r,relativeVerticalOffset:g,centeredLineNumber:m,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let n,i;return n=t>=1?this._lineHeight*t:0,i=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,n+i+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(n)+this.getHeightForWhitespaceIndex(n))return-1;for(;t<n;){const i=Math.floor((t+n)/2),s=this.getVerticalOffsetForWhitespaceIndex(i);if(e>=s+this.getHeightForWhitespaceIndex(i))t=i+1;else{if(e>=s)return i;n=i}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;const i=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:i}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this.getWhitespacesCount()-1;if(n<0)return[];let s=[];for(let r=n;r<=i;r++){const e=this.getVerticalOffsetForWhitespaceIndex(r),n=this.getHeightForWhitespaceIndex(r);if(e>=t)break;s.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:e,height:n})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}dQ.INSTANCE_COUNT=0;class hQ{constructor(e,t,n,i){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(n|=0)<0&&(n=0),(i|=0)<0&&(i=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=n,this.contentHeight=i,this.scrollHeight=Math.max(n,i)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class uQ extends F{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new x),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new hQ(0,0,0,0),this._scrollable=this._register(new bX(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const n=t.contentWidth!==e.contentWidth,i=t.contentHeight!==e.contentHeight;(n||i)&&this._onDidContentSizeChange.fire(new YJ(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class pQ extends F{constructor(e,t,n){super(),this._configuration=e;const i=this._configuration.options,s=i.get(127),r=i.get(71);this._linesLayout=new dQ(t,i.get(55),r.top,r.bottom),this._scrollable=this._register(new uQ(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new hQ(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(100)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(55)&&this._linesLayout.setLineHeight(t.get(55)),e.hasChanged(71)){const e=t.get(71);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(127)){const e=t.get(127),n=e.contentWidth,i=e.height,s=this._scrollable.getScrollDimensions(),r=s.contentWidth;this._scrollable.setScrollDimensions(new hQ(n,s.contentWidth,i,this._getContentHeight(n,i,r)))}else this._updateHeight();e.hasChanged(100)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const n=this._configuration.options.get(89);return 2===n.horizontal||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,n){const i=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return i.get(91)?s+=Math.max(0,t-i.get(55)-i.get(71).bottom):s+=this._getHorizontalScrollbarHeight(e,n),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,i=e.contentWidth;this._scrollable.setScrollDimensions(new hQ(t,e.contentWidth,n,this._getContentHeight(t,n,i)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new cV(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new cV(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,n=t.get(128),i=t.get(40);if(n.isViewportWrapping){const n=t.get(127),s=t.get(61);return e>n.contentWidth+i.typicalHalfwidthCharacterWidth&&s.enabled&&"right"===s.side?e+n.verticalScrollbarWidth:e}{const n=t.get(90)*i.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+n,s)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new hQ(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})}}class gQ{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)}convertModelRangeToViewRange(e){return this._lines.convertModelRangeToViewRange(e)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}}class fQ{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],n=e>0?this._modelToView[e-1]:0;this._modelToView[e]=n+t;for(let i=0;i<t;i++)this._viewToModel[n+i]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=DB(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],n=t>0?this._modelToView[t-1]:0;return new yt(t,e-n)}}class mQ{constructor(e,t,n,i,s,r,o,a){this.model=e,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=t,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=i,this.tabSize=s,this.wrappingStrategy=r,this.wrappingColumn=o,this.wrappingIndent=a,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new gQ(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);let n=this.model.getLinesContent();const i=n.length,s=this.createLineBreaksComputer();for(let u=0;u<i;u++)s.addRequest(n[u],t?t[u]:null);const r=s.finalize();let o=[],a=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(oe.compareRangesUsingStarts),l=1,c=0,d=-1,h=d+1<a.length?c+1:i+2;for(let u=0;u<i;u++){let e=u+1;e===h&&(d++,l=a[d].startLineNumber,c=a[d].endLineNumber,h=d+1<a.length?c+1:i+2);let t=e>=l&&e<=c,n=SQ(r[u],!t);o[u]=n.getViewLineCount(),this.lines[u]=n}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new fQ(o)}getHiddenAreas(){return this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e)))}_reduceRanges(e){if(0===e.length)return[];let t=e.map((e=>this.model.validateRange(e))).sort(oe.compareRangesUsingStarts),n=[],i=t[0].startLineNumber,s=t[0].endLineNumber;for(let r=1,o=t.length;r<o;r++){let e=t[r];e.startLineNumber>s+1?(n.push(new oe(i,1,s,1)),i=e.startLineNumber,s=e.endLineNumber):e.endLineNumber>s&&(s=e.endLineNumber)}return n.push(new oe(i,1,s,1)),n}setHiddenAreas(e){let t=this._reduceRanges(e),n=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(oe.compareRangesUsingStarts);if(t.length===n.length){let e=!1;for(let i=0;i<t.length;i++)if(!t[i].equalsRange(n[i])){e=!0;break}if(!e)return!1}let i=[];for(const d of t)i.push({range:d,options:Q$.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,i);let s=t,r=1,o=0,a=-1,l=a+1<s.length?o+1:this.lines.length+2,c=!1;for(let d=0;d<this.lines.length;d++){let e=d+1;e===l&&(a++,r=s[a].startLineNumber,o=s[a].endLineNumber,l=a+1<s.length?o+1:this.lines.length+2);let t=!1;if(e>=r&&e<=o?this.lines[d].isVisible()&&(this.lines[d]=this.lines[d].setVisible(!1),t=!0):(c=!0,this.lines[d].isVisible()||(this.lines[d]=this.lines[d].setVisible(!0),t=!0)),t){let e=this.lines[d].getViewLineCount();this.prefixSumComputer.changeValue(d,e)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,n,i){const s=this.fontInfo.equals(e),r=this.wrappingStrategy===t,o=this.wrappingColumn===n,a=this.wrappingIndent===i;if(s&&r&&o&&a)return!1;const l=s&&r&&!o&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i;let c=null;if(l){c=[];for(let e=0,t=this.lines.length;e<t;e++)c[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,n){if(e<=this._validModelVersionId)return null;let i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new VJ(i,s)}onModelLinesInserted(e,t,n,i){if(e<=this._validModelVersionId)return null;const s=t>2&&!this.lines[t-2].isVisible();let r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=0,a=[],l=[];for(let c=0,d=i.length;c<d;c++){let e=SQ(i[c],!s);a.push(e);let t=e.getViewLineCount();o+=t,l[c]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new WJ(r,r+o-1)}onModelLineChanged(e,t,n){if(e<=this._validModelVersionId)return[!1,null,null,null];let i=t-1,s=this.lines[i].getViewLineCount(),r=SQ(n,this.lines[i].isVisible());this.lines[i]=r;let o=this.lines[i].getViewLineCount(),a=!1,l=0,c=-1,d=0,h=-1,u=0,p=-1;s>o?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+o-1,u=c+1,p=u+(s-o)-1,a=!0):s<o?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+s-1,d=c+1,h=d+(o-s)-1,a=!0):(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+o-1),this.prefixSumComputer.changeValue(i,o);return[a,l<=c?new BJ(l,c):null,d<=h?new WJ(d,h):null,u<=p?new VJ(u,p):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),o=this.model.getActiveIndentGuide(i.lineNumber,s.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(o.startLineNumber,1),l=this.convertModelPositionToViewPosition(o.endLineNumber,this.model.getLineMaxColumn(o.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:o.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[],r=[],o=[];const a=n.lineNumber-1,l=i.lineNumber-1;let c=null;for(let p=a;p<=l;p++){const e=this.lines[p];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,p===a?n.column:1),i=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(p+1)),s=i-t+1,l=0;s>1&&1===e.getViewLineMinColumn(this.model,p+1,i)&&(l=0===t?1:2),r.push(s),o.push(l),null===c&&(c=new je(p+1,0))}else null!==c&&(s=s.concat(this.model.getLinesIndentGuides(c.lineNumber,p)),c=null)}null!==c&&(s=s.concat(this.model.getLinesIndentGuides(c.lineNumber,i.lineNumber)),c=null);const d=t-e+1;let h=new Array(d),u=0;for(let p=0,g=s.length;p<g;p++){let e,t=s[p],n=Math.min(d-u,r[p]),i=o[p];e=2===i?0:1===i?1:n;for(let s=0;s<n;s++)s===e&&(t=0),h[u++]=t}return h}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineLength(this.model,n+1,i)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)}getViewLinesData(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.prefixSumComputer.getIndexOf(e-1),s=e,r=i.index,o=i.remainder,a=[];for(let l=r,c=this.model.getLineCount();l<c;l++){let i=this.lines[l];if(!i.isVisible())continue;let c=l===r?o:0,d=i.getViewLineCount()-c,h=!1;s+d>t&&(h=!0,d=t-s+1);let u=c+d;if(i.getViewLinesData(this.model,l+1,c,u,s-e,n,a),s+=d,h)break}return a}validateViewPosition(e,t,n){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),s=i.index,r=i.remainder,o=this.lines[s],a=o.getViewLineMinColumn(this.model,s+1,r),l=o.getViewLineMaxColumn(this.model,s+1,r);t<a&&(t=a),t>l&&(t=l);let c=o.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new je(s+1,c)).equals(n)?new je(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}validateViewRange(e,t){const n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new oe(n.lineNumber,n.column,i.lineNumber,i.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),i=n.index,s=n.remainder,r=this.lines[i].getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new je(i+1,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new oe(t.lineNumber,t.column,n.lineNumber,n.column)}convertModelPositionToViewPosition(e,t){const n=this.model.validatePosition(new je(e,t)),i=n.lineNumber,s=n.column;let r=i-1,o=!1;for(;r>0&&!this.lines[r].isVisible();)r--,o=!0;if(0===r&&!this.lines[r].isVisible())return new je(1,1);const a=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));let l;return l=o?this.lines[r].getViewPositionOfModelPosition(a,this.model.getLineMaxColumn(r+1)):this.lines[i-1].getViewPositionOfModelPosition(a,s),l}convertModelRangeToViewRange(e){let t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return e.startLineNumber===e.endLineNumber&&t.lineNumber!==n.lineNumber&&n.column===this.getViewLineMinColumn(n.lineNumber)?new oe(t.lineNumber,t.column,n.lineNumber-1,this.getViewLineMaxColumn(n.lineNumber-1)):new oe(t.lineNumber,t.column,n.lineNumber,n.column)}_getViewLineNumberForModelPosition(e,t){let n=e-1;if(this.lines[n].isVisible()){const e=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(e,t)}for(;n>0&&!this.lines[n].isVisible();)n--;if(0===n&&!this.lines[n].isVisible())return 1;const i=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(i,this.model.getLineMaxColumn(n+1))}getAllOverviewRulerDecorations(e,t,n){const i=this.model.getOverviewRulerDecorations(e,t),s=new EQ;for(const r of i){const e=r.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const i=e.getColor(n),o=this._getViewLineNumberForModelPosition(r.range.startLineNumber,r.range.startColumn),a=this._getViewLineNumberForModelPosition(r.range.endLineNumber,r.range.endColumn);s.accept(i,o,a,t)}return s.result}getDecorationsInRange(e,t,n){const i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),s=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(s.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new oe(i.lineNumber,1,s.lineNumber,s.column),t,n);let r=[];const o=i.lineNumber-1,a=s.lineNumber-1;let l=null;for(let u=o;u<=a;u++){if(this.lines[u].isVisible())null===l&&(l=new je(u+1,u===o?i.column:1));else if(null!==l){const e=this.model.getLineMaxColumn(u);r=r.concat(this.model.getDecorationsInRange(new oe(l.lineNumber,l.column,u,e),t,n)),l=null}}null!==l&&(r=r.concat(this.model.getDecorationsInRange(new oe(l.lineNumber,l.column,s.lineNumber,s.column),t,n)),l=null),r.sort(((e,t)=>{const n=oe.compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n}));let c=[],d=0,h=null;for(const u of r){const e=u.id;h!==e&&(h=e,c[d++]=u)}return c}}class _Q{constructor(){}isVisible(){return!0}setVisible(e){return e?this:vQ.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,n){return e.getLineContent(t)}getViewLineLength(e,t,n){return e.getLineLength(t)}getViewLineMinColumn(e,t,n){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,n){return e.getLineMaxColumn(t)}getViewLineData(e,t,n){let i=e.getLineTokens(t),s=i.getLineContent();return new pV(s,!1,1,s.length+1,0,i.inflate())}getViewLinesData(e,t,n,i,s,r,o){r[s]?o[s]=this.getViewLineData(e,t,0):o[s]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new je(e,t)}getViewLineNumberOfModelPosition(e,t){return e}}_Q.INSTANCE=new _Q;class vQ{constructor(){}isVisible(){return!1}setVisible(e){return e?_Q.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,n){throw new Error("Not supported")}getViewLineLength(e,t,n){throw new Error("Not supported")}getViewLineMinColumn(e,t,n){throw new Error("Not supported")}getViewLineMaxColumn(e,t,n){throw new Error("Not supported")}getViewLineData(e,t,n){throw new Error("Not supported")}getViewLinesData(e,t,n,i,s,r,o){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}}vQ.INSTANCE=new vQ;class bQ{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return hV.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,0)}getInputEndOffsetOfOutputLineIndex(e,t,n){return n+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:hV.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,n+1,0)}getViewLineContent(e,t,n){if(!this._isVisible)throw new Error("Not supported");let i=this.getInputStartOffsetOfOutputLineIndex(n),s=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:s+1});return n>0&&(r=wQ(this._lineBreakData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,n){if(!this._isVisible)throw new Error("Not supported");let i=this.getInputStartOffsetOfOutputLineIndex(n),s=this.getInputEndOffsetOfOutputLineIndex(e,t,n)-i;return n>0&&(s=this._lineBreakData.wrappedTextIndentLength+s),s}getViewLineMinColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return n>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,n).length+1}getViewLineData(e,t,n){if(!this._isVisible)throw new Error("Not supported");let i=this.getInputStartOffsetOfOutputLineIndex(n),s=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:s+1});n>0&&(r=wQ(this._lineBreakData.wrappedTextIndentLength)+r);let o=n>0?this._lineBreakData.wrappedTextIndentLength+1:1,a=r.length+1,l=n+1<this.getViewLineCount(),c=0;n>0&&(c=this._lineBreakData.wrappedTextIndentLength);let d=e.getLineTokens(t);const h=0===n?0:this._lineBreakData.breakOffsetsVisibleColumn[n-1];return new pV(r,l,o,a,h,d.sliceAndInflate(i,s,c))}getViewLinesData(e,t,n,i,s,r,o){if(!this._isVisible)throw new Error("Not supported");for(let a=n;a<i;a++){let i=s+a-n;r[i]?o[i]=this.getViewLineData(e,t,a):o[i]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let n=t-1;return e>0&&(n<this._lineBreakData.wrappedTextIndentLength?n=0:n-=this._lineBreakData.wrappedTextIndentLength),hV.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,n)+1}getViewPositionOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let n=hV.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1),i=n.outputLineIndex,s=n.outputOffset+1;return i>0&&(s+=this._lineBreakData.wrappedTextIndentLength),new je(e+i,s)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+hV.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1).outputLineIndex}}let yQ=[""];function wQ(e){if(e>=yQ.length)for(let t=1;t<=e;t++)yQ[t]=CQ(t);return yQ[e]}function CQ(e){return new Array(e+1).join(" ")}function SQ(e,t){return null===e?t?_Q.INSTANCE:vQ.INSTANCE:new bQ(e,t)}class xQ{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}}class kQ{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new xQ(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,n,i){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,n){return new VJ(t,n)}onModelLinesInserted(e,t,n,i){return new WJ(t,n)}onModelLineChanged(e,t,n){return[!1,new BJ(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const n=t-e+1;let i=new Array(n);for(let s=0;s<n;s++)i[s]=0;return i}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),n=t.getLineContent();return new pV(n,!1,1,n.length+1,0,t.inflate())}getViewLinesData(e,t,n){const i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);let s=[];for(let r=e;r<=t;r++){let t=r-e;n[t]||(s[t]=null),s[t]=this.getViewLineData(r)}return s}getAllOverviewRulerDecorations(e,t,n){const i=this.model.getOverviewRulerDecorations(e,t),s=new EQ;for(const r of i){const e=r.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const i=e.getColor(n),o=r.range.startLineNumber,a=r.range.endLineNumber;s.accept(i,o,a,t)}return s.result}getDecorationsInRange(e,t,n){return this.model.getDecorationsInRange(e,t,n)}}class EQ{constructor(){this.result=Object.create(null)}accept(e,t,n,i){let s=this.result[e];if(s){const e=s[s.length-3],r=s[s.length-1];if(e===i&&r+1>=t)return void(n>r&&(s[s.length-1]=n));s.push(i,t,n)}else this.result[e]=[i,t,n]}}class DQ{constructor(e,t,n,i,s){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let n=this._decorationsCache[t];if(!n){const i=e.range,s=e.options;let r;if(s.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new je(i.startLineNumber,1)),t=this._coordinatesConverter.convertModelPositionToViewPosition(new je(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)));r=new oe(e.lineNumber,e.column,t.lineNumber,t.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(i);n=new mV(r,s),this._decorationsCache[t]=n}return n}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,vP(this.configuration.options)),n=e.startLineNumber,i=e.endLineNumber;let s=[],r=0,o=[];for(let a=n;a<=i;a++)o[a-n]=[];for(let a=0,l=t.length;a<l;a++){let e=t[a],l=e.options,c=this._getOrCreateViewModelDecoration(e),d=c.range;if(s[r++]=c,l.inlineClassName){let e=new fV(d,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(n,d.startLineNumber),s=Math.min(i,d.endLineNumber);for(let i=t;i<=s;i++)o[i-n].push(e)}if(l.beforeContentClassName&&n<=d.startLineNumber&&d.startLineNumber<=i){let e=new fV(new oe(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn),l.beforeContentClassName,1);o[d.startLineNumber-n].push(e)}if(l.afterContentClassName&&n<=d.endLineNumber&&d.endLineNumber<=i){let e=new fV(new oe(d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn),l.afterContentClassName,2);o[d.endLineNumber-n].push(e)}}return{decorations:s,inlineDecorations:o}}}class TQ extends F{constructor(e,t,n,i,s,r){if(super(),this._editorId=e,this._configuration=t,this.model=n,this._eventDispatcher=new qJ,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new aK(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new wO((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new wO((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new kQ(this.model);else{const e=this._configuration.options,t=e.get(40),n=e.get(121),r=e.get(128),o=e.get(120);this._lines=new mQ(this.model,i,s,t,this.model.getOptions().tabSize,n,r.wrappingColumn,o)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new iQ(n,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new pQ(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new UJ(e)),this._eventDispatcher.emitOutgoingEvent(new XJ(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new DQ(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(HX.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new $J)}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new je(e.startLineNumber,1)),n=this.coordinatesConverter.convertViewPositionToModelPosition(new je(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,n.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new AJ(e)),this._eventDispatcher.emitOutgoingEvent(new ZJ(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new LJ)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new NJ)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new zJ)}_onConfigurationChanged(e,t){let n=null;if(-1!==this._viewportStartLine){let e=new je(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let i=!1;const s=this._configuration.options,r=s.get(40),o=s.get(121),a=s.get(128),l=s.get(120);if(this._lines.setWrappingSettings(r,o,a.wrappingColumn,l)&&(e.emitViewEvent(new RJ),e.emitViewEvent(new FJ),e.emitViewEvent(new OJ(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(i=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(77)&&(this._decorations.reset(),e.emitViewEvent(new OJ(null))),e.emitViewEvent(new IJ(t)),this.viewLayout.onConfigurationChanged(t),i&&n){const e=this.coordinatesConverter.convertModelPositionToViewPosition(n),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}aK.shouldRecreate(t)&&(this.cursorConfig=new aK(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let n=!1,i=!1;const s=e.changes,r=e.versionId,o=this._lines.createLineBreaksComputer();for(const e of s)switch(e.changeType){case 4:for(const t of e.detail)o.addRequest(t,null);break;case 2:o.addRequest(e.detail,null)}const a=o.finalize();let l=0;for(const e of s)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new RJ),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break;case 3:{const i=this._lines.onModelLinesDeleted(r,e.fromLineNumber,e.toLineNumber);null!==i&&(t.emitViewEvent(i),this.viewLayout.onLinesDeleted(i.fromLineNumber,i.toLineNumber)),n=!0;break}case 4:{const i=a.slice(l,l+e.detail.length);l+=e.detail.length;const s=this._lines.onModelLinesInserted(r,e.fromLineNumber,e.toLineNumber,i);null!==s&&(t.emitViewEvent(s),this.viewLayout.onLinesInserted(s.fromLineNumber,s.toLineNumber)),n=!0;break}case 2:{const n=a[l];l++;const[s,o,c,d]=this._lines.onModelLineChanged(r,e.lineNumber,n);i=s,o&&t.emitViewEvent(o),c&&(t.emitViewEvent(c),this.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),d&&(t.emitViewEvent(d),this.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber));break}}this._lines.acceptVersionId(r),this.viewLayout.onHeightMaybeChanged(),!n&&i&&(t.emitViewEvent(new FJ),t.emitViewEvent(new OJ(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(this.model.onDidChangeTokens((e=>{let t=[];for(let n=0,i=e.ranges.length;n<i;n++){const i=e.ranges[n],s=this.coordinatesConverter.convertModelPositionToViewPosition(new je(i.fromLineNumber,1)).lineNumber,r=this.coordinatesConverter.convertModelPositionToViewPosition(new je(i.toLineNumber,this.model.getLineMaxColumn(i.toLineNumber))).lineNumber;t[n]={fromLineNumber:s,toLineNumber:r}}this._eventDispatcher.emitSingleViewEvent(new jJ(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new MJ),this.cursorConfig=new aK(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new aK(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new RJ),e.emitViewEvent(new FJ),e.emitViewEvent(new OJ(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new aK(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new OJ(e))})))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(e)&&(t.emitViewEvent(new RJ),t.emitViewEvent(new FJ),t.emitViewEvent(new OJ(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(127),t=this._configuration.options.get(55),n=Math.max(20,Math.round(e.height/t)),i=this.viewLayout.getLinesViewportData(),s=Math.max(1,i.completelyVisibleStartLineNumber-n),r=Math.min(this.getLineCount(),i.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new oe(s,this.getLineMinColumn(s),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(0===n.length)return[t];let i=[],s=0,r=t.startLineNumber,o=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let c=0,d=n.length;c<d;c++){const e=n[c].startLineNumber,t=n[c].endLineNumber;t<r||(e>a||(r<e&&(i[s++]=new oe(r,o,e-1,this.model.getLineMaxColumn(e-1))),r=t+1,o=1))}return(r<a||r===a&&o<l)&&(i[s++]=new oe(r,o,a,l)),i}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new oe(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new oe(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new je(n,this.getLineMinColumn(n))),s=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:s}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,n){this._viewportStartLine=e;let i=this.coordinatesConverter.convertViewPositionToModelPosition(new je(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new oe(i.lineNumber,i.column,i.lineNumber,i.column),1);const s=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=r-s}getActiveIndentGuide(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Le(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Ne(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getViewLineRenderingData(e,t){let n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),r=this._lines.getViewLineData(t),o=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return new gV(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,n,i,r.tokens,o,s,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,n){let i=this._lines.getViewLinesData(e,t,n);return new uV(this.getTabSize(),i)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,vP(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,n){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);const s=this.model.getOffsetAt(i)+t;return this.model.getPositionAt(s)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,n){const i=n?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(oe.compareRangesUsingStarts);let s=!1,r=!1;for(const a of e)a.isEmpty()?s=!0:r=!0;if(!r){if(!t)return"";const n=e.map((e=>e.startLineNumber));let s="";for(let e=0;e<n.length;e++)e>0&&n[e-1]===n[e]||(s+=this.model.getLineContent(n[e])+i);return s}if(s&&t){let t=[],i=0;for(const s of e){const e=s.startLineNumber;s.isEmpty()?e!==i&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(s,n?2:0)),i=e}return 1===t.length?t[0]:t}let o=[];for(const a of e)a.isEmpty()||o.push(this.model.getValueInRange(a,n?2:0));return 1===o.length?o[0]:o}getRichTextToCopy(e,t){const n=this.model.getLanguageIdentifier();if(1===n.id)return null;if(1!==e.length)return null;let i=e[0];if(i.isEmpty()){if(!t)return null;const e=i.startLineNumber;i=new oe(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const s=this._configuration.options.get(40),r=this._getColorMap();let o;if(/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===yP.fontFamily)o=yP.fontFamily;else{o=s.fontFamily,o=o.replace(/"/g,"'");if(!/[,']/.test(o)){/[+ ]/.test(o)&&(o=`'${o}'`)}o=`${o}, ${yP.fontFamily}`}return{mode:n.language,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${o};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(i,r)+"</div>"}}_getHTMLToCopy(e,t){const n=e.startLineNumber,i=e.startColumn,s=e.endLineNumber,r=e.endColumn,o=this.getTabSize();let a="";for(let l=n;l<=s;l++){const e=this.model.getLineTokens(l),c=e.getLineContent(),d=l===n?i-1:0,h=l===s?r-1:c.length;a+=""===c?"<br>":aQ(c,e.inflate(),t,d,h,o,T)}return a}_getColorMap(){let e=fF.getColorMap(),t=["#000000"];if(e)for(let n=1,i=e.length;n<i;n++)t[n]=F$.Format.CSS.formatHex(e[n]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,n){this._withViewEventsCollector((i=>this._cursor.setStates(i,e,t,n)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,n=0){this._withViewEventsCollector((i=>this._cursor.setSelections(i,e,t,n)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new eQ):this._withViewEventsCollector(e)}executeEdits(e,t,n){this._executeCursorEdit((i=>this._cursor.executeEdits(i,e,t,n)))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((n=>this._cursor.type(n,e,t)))}compositionType(e,t,n,i,s){this._executeCursorEdit((r=>this._cursor.compositionType(r,e,t,n,i,s)))}paste(e,t,n,i){this._executeCursorEdit((s=>this._cursor.paste(s,e,t,n,i)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((n=>this._cursor.executeCommand(n,e,t)))}executeCommands(e,t){this._executeCursorEdit((n=>this._cursor.executeCommands(n,e,t)))}revealPrimaryCursor(e,t){this._withViewEventsCollector((n=>this._cursor.revealPrimary(n,e,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),n=new oe(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new HJ(e,n,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),n=new oe(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new HJ(e,n,null,0,!0,0))))}revealRange(e,t,n,i,s){this._withViewEventsCollector((r=>r.emitViewEvent(new HJ(e,n,null,i,t,s))))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new KJ),this._eventDispatcher.emitOutgoingEvent(new JJ))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}}class LQ{constructor(...e){this._entries=new Map;for(let[t,n]of e)this.set(t,n)}set(e,t){const n=this._entries.get(e);return this._entries.set(e,t),n}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}const NQ=RP("accessibilityService"),IQ=new mU("accessibilityModeEnabled",!1);class PQ extends Xe{constructor(e,t){super(0);for(let n=0;n<e.length;n++)this.set(e.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let OQ=[],RQ=[];class AQ{constructor(e,t){this.classifier=new PQ(e,t)}static create(e){return new AQ(e.get(116),e.get(115))}createLineBreaksComputer(e,t,n,i){t|=0,n=+n;let s=[],r=[];return{addRequest:(e,t)=>{s.push(e),r.push(t)},finalize:()=>{const o=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let a=[];for(let e=0,l=s.length;e<l;e++){const l=r[e];a[e]=l?MQ(this.classifier,l,s[e],t,n,o,i):FQ(this.classifier,s[e],t,n,o,i)}return OQ.length=0,RQ.length=0,a}}}}function MQ(e,t,n,i,s,r,o){if(-1===s)return null;const a=n.length;if(a<=1)return null;const l=t.breakOffsets,c=t.breakOffsetsVisibleColumn,d=HQ(n,i,s,r,o),h=s-d;let u=OQ,p=RQ,g=0,f=0,m=0,_=s;const v=l.length;let b=0;if(b>=0){let e=Math.abs(c[b]-_);for(;b+1<v;){const t=Math.abs(c[b+1]-_);if(t>=e)break;e=t,b++}}for(;b<v;){let t=b<0?0:l[b],s=b<0?0:c[b];f>t&&(t=f,s=m);let o=0,d=0,y=0,w=0;if(s<=_){let m=s,v=0===t?0:n.charCodeAt(t-1),b=0===t?0:e.get(v),C=!0;for(let s=t;s<a;s++){const t=s,a=n.charCodeAt(s);let l,c;if(_e(a)?(s++,l=0,c=2):(l=e.get(a),c=BQ(a,m,i,r)),t>f&&WQ(v,b,a,l)&&(o=t,d=m),m+=c,m>_){t>f?(y=t,w=m-c):(y=s+1,w=m),m-d>h&&(o=0),C=!1;break}v=a,b=l}if(C){g>0&&(u[g]=l[l.length-1],p[g]=c[l.length-1],g++);break}}if(0===o){let a=s,l=n.charCodeAt(t),c=e.get(l),u=!1;for(let i=t-1;i>=f;i--){const t=i+1,s=n.charCodeAt(i);if(9===s){u=!0;break}let p,g;if(wt(s)?(i--,p=0,g=2):(p=e.get(s),g=Ie(s)?r:1),a<=_){if(0===y&&(y=t,w=a),a<=_-h)break;if(WQ(s,p,l,c)){o=t,d=a;break}}a-=g,l=s,c=p}if(0!==o){const e=h-(w-d);if(e<=i){const t=n.charCodeAt(y);let s;s=_e(t)?2:BQ(t,w,i,r),e-s<0&&(o=0)}}if(u){b--;continue}}if(0===o&&(o=y,d=w),o<=f){const e=n.charCodeAt(f);_e(e)?(o=f+2,d=m+2):(o=f+1,d=m+BQ(e,m,i,r))}for(f=o,u[g]=o,m=d,p[g]=d,g++,_=d+h;b<0||b<v&&c[b]<d;)b++;let C=Math.abs(c[b]-_);for(;b+1<v;){const e=Math.abs(c[b+1]-_);if(e>=C)break;C=e,b++}}return 0===g?null:(u.length=g,p.length=g,OQ=t.breakOffsets,RQ=t.breakOffsetsVisibleColumn,t.breakOffsets=u,t.breakOffsetsVisibleColumn=p,t.wrappedTextIndentLength=d,t)}function FQ(e,t,n,i,s,r){if(-1===i)return null;const o=t.length;if(o<=1)return null;const a=HQ(t,n,i,s,r),l=i-a;let c=[],d=[],h=0,u=0,p=0,g=i,f=t.charCodeAt(0),m=e.get(f),_=BQ(f,0,n,s),v=1;_e(f)&&(_+=1,f=t.charCodeAt(1),m=e.get(f),v++);for(let b=v;b<o;b++){const i=b,r=t.charCodeAt(b);let o,a;_e(r)?(b++,o=0,a=2):(o=e.get(r),a=BQ(r,_,n,s)),WQ(f,m,r,o)&&(u=i,p=_),_+=a,_>g&&((0===u||_-p>l)&&(u=i,p=_-a),c[h]=u,d[h]=p,h++,g=p+l,u=0),f=r,m=o}return 0===h?null:(c[h]=o,d[h]=_,new hV(c,d,a))}function BQ(e,t,n,i){return 9===e?n-t%n:Ie(e)||e<32?i:1}function VQ(e,t){return t-e%t}function WQ(e,t,n,i){return 32!==n&&(2===t||3===t&&2!==i||1===i||3===i&&1!==t)}function HQ(e,t,n,i,s){let r=0;if(0!==s){const o=Le(e);if(-1!==o){for(let n=0;n<o;n++){r+=9===e.charCodeAt(n)?VQ(r,t):1}const a=3===s?2:2===s?1:0;for(let e=0;e<a;e++){r+=VQ(r,t)}r+i>n&&(r=0)}}return r}var UQ;const zQ=null===(UQ=window.trustedTypes)||void 0===UQ?void 0:UQ.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class jQ{static create(){return new jQ}constructor(){}createLineBreaksComputer(e,t,n,i){t|=0,n=+n;let s=[];return{addRequest:(e,t)=>{s.push(e)},finalize:()=>function(e,t,n,i,s){var r;if(-1===i){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=null;return t}const o=Math.round(i*t.typicalHalfwidthCharacterWidth);2!==s&&3!==s||(s=1);const a=document.createElement("div");uz.applyFontInfoSlow(a,t);const l=UF(1e4),c=[],d=[],h=[],u=[],p=[];for(let b=0;b<e.length;b++){const i=e[b];let r=0,a=0,g=o;if(0!==s)if(r=Le(i),-1===r)r=0;else{for(let t=0;t<r;t++){a+=9===i.charCodeAt(t)?n-a%n:1}const e=Math.ceil(t.spaceWidth*a);e+t.typicalFullwidthCharacterWidth>o?(r=0,a=0):g=o-e}const f=i.substr(r),m=$Q(f,a,n,g,l);c[b]=r,d[b]=a,h[b]=f,u[b]=m[0],p[b]=m[1]}const g=l.build(),f=null!==(r=null==zQ?void 0:zQ.createHTML(g))&&void 0!==r?r:g;a.innerHTML=f,a.style.position="absolute",a.style.top="10000",a.style.wordWrap="break-word",document.body.appendChild(a);let m=document.createRange();const _=Array.prototype.slice.call(a.children,0);let v=[];for(let b=0;b<e.length;b++){const e=KQ(m,_[b],h[b],u[b]);if(null===e){v[b]=null;continue}const t=c[b],n=d[b],i=p[b],s=[];for(let r=0,o=e.length;r<o;r++)s[r]=i[e[r]];if(0!==t)for(let r=0,o=e.length;r<o;r++)e[r]+=t;v[b]=new hV(e,s,n)}return document.body.removeChild(a),v}(s,e,t,n,i)}}}function $Q(e,t,n,i,s){s.appendASCIIString('<div style="width:'),s.appendASCIIString(String(i)),s.appendASCIIString('px;">');const r=e.length;let o=t,a=0,l=[],c=[],d=0<r?e.charCodeAt(0):0;s.appendASCIIString("<span>");for(let h=0;h<r;h++){0!==h&&h%16384==0&&s.appendASCIIString("</span><span>"),l[h]=a,c[h]=o;const t=d;d=h+1<r?e.charCodeAt(h+1):0;let i=1,u=1;switch(t){case 9:i=n-o%n,u=i;for(let e=1;e<=i;e++)e<i?s.write1(160):s.appendASCII(32);break;case 32:32===d?s.write1(160):s.appendASCII(32);break;case 60:s.appendASCIIString("&lt;");break;case 62:s.appendASCIIString("&gt;");break;case 38:s.appendASCIIString("&amp;");break;case 0:s.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.write1(65533);break;default:Ie(t)&&u++,t<32?s.write1(9216+t):s.write1(t)}a+=i,o+=u}return s.appendASCIIString("</span>"),l[e.length]=a,c[e.length]=o,s.appendASCIIString("</div>"),[l,c]}function KQ(e,t,n,i){if(n.length<=1)return null;const s=Array.prototype.slice.call(t.children,0),r=[];try{qQ(e,s,i,0,null,n.length-1,null,r)}catch(o){return console.log(o),null}return 0===r.length?null:(r.push(n.length),r)}function qQ(e,t,n,i,s,r,o,a){if(i===r)return;if(s=s||GQ(e,t,n[i],n[i+1]),o=o||GQ(e,t,n[r],n[r+1]),Math.abs(s[0].top-o[0].top)<=.1)return;if(i+1===r)return void a.push(r);const l=i+(r-i)/2|0,c=GQ(e,t,n[l],n[l+1]);qQ(e,t,n,i,s,l,c,a),qQ(e,t,n,l,c,r,o,a)}function GQ(e,t,n,i){return e.setStart(t[n/16384|0].firstChild,n%16384),e.setEnd(t[i/16384|0].firstChild,i%16384),e.getClientRects()}var YQ=function(e,t){return function(n,i){t(n,i,e)}};let ZQ=0;class XQ{constructor(e,t,n,i,s){this.model=e,this.viewModel=t,this.view=n,this.hasRealView=i,this.listenersToRemove=s}dispose(){De(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let JQ=class e extends F{constructor(e,t,n,i,s,r,o,a,l,c){super(),this._onDidDispose=this._register(new x),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new x),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new x),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new x),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new x),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new x),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new x),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new x),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new x),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new x),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new x),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new x),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new QQ),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new QQ),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new x),this.onWillType=this._onWillType.event,this._onDidType=this._register(new x),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new x),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new x),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new x),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new x),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new x),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new x),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new x),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new x),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new x),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new x),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new x),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new x),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new x),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new x),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new x),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new x),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new x),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const d=Object.assign({},t);let h;this._domElement=e,this._overflowWidgetsDomNode=d.overflowWidgetsDomNode,delete d.overflowWidgetsDomNode,this._id=++ZQ,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=n.isSimpleWidget||!1,this._telemetryData=n.telemetryData,this._configuration=this._register(this._createConfiguration(d,c)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(127)){const e=t.get(127);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(o.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=s,this._commandService=r,this._themeService=a,this._register(new e0(this,this._contextKeyService)),this._register(new t0(this,this._contextKeyService)),this._instantiationService=i.createChild(new LQ([_U,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new n0(e),this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},h=Array.isArray(n.contributions)?n.contributions:XU.getEditorContributions();for(const p of h)try{const e=this._instantiationService.createInstance(p.ctor,this);this._contributions[p.id]=e}catch(u){V(u)}XU.getEditorActions().forEach((e=>{const t=new sQ(e.id,e.label,e.alias,Ge(e.precondition),(()=>this._instantiationService.invokeFunction((t=>Promise.resolve(e.runEditorCommand(t,this,null))))),this._contextKeyService);this._actions[t.id]=t})),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new uz(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return $A.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,n=e.length;t<n;t++){const n=e[t];this._contributions[n].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?gZ.getWordAtPosition(this._modelData.model,this._configuration.options.get(113),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let n=0;return e&&e.lineEnding&&"\n"===e.lineEnding?n=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=2),this._modelData.model.getValue(n,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const n=this.hasTextFocus(),i=this._detachModel();this._attachModel(t),n&&this.hasModel()&&this.focus();const s={oldModelUrl:i?i.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(s),this._postDetachModelCleanup(i)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,n){const i=e.model.validatePosition({lineNumber:t,column:n}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,n){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,n):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((e=>oe.lift(e))))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),n=this._modelData.model.getOptions().tabSize;return gK.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,n)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!je.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,n,i){if(!this._modelData)return;if(!oe.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",n,r,t,i)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,n){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new oe(e,1,e,1),t,!1,n)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,n,i){if(!je.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new oe(e.lineNumber,e.column,e.lineNumber,e.column),t,n,i)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=Ze.isISelection(e),n=oe.isIRange(e);if(!t&&!n)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(n){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new Ze(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,n=0){this._revealLines(e,t,0,n)}revealLinesInCenter(e,t,n=0){this._revealLines(e,t,1,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._revealLines(e,t,2,n)}revealLinesNearTop(e,t,n=0){this._revealLines(e,t,5,n)}_revealLines(e,t,n,i){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new oe(e,1,t,1),n,!1,i)}revealRange(e,t=0,n=!1,i=!0){this._revealRange(e,n?1:0,i,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,n,i){if(!oe.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(oe.lift(e),t,n,i)}setSelections(e,t="api",n=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,n=e.length;t<n;t++)if(!Ze.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,n)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const n of t){const t=this._contributions[n];"function"==typeof t.saveViewState&&(e[n]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const n=t.contributionsState||{},i=Object.keys(this._contributions);for(let t=0,r=i.length;t<r;t++){const e=i[t],s=this._contributions[e];"function"==typeof s.restoreViewState&&s.restoreViewState(n[e])}const s=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(s)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._actions[i])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions[e]||null}trigger(e,t,n){switch(n=n||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=n;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=n;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=n;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=n;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const i=this.getAction(t);i?Promise.resolve(i.run()).then(void 0,V):this._modelData&&(this._triggerEditorCommand(e,t,n)||this._triggerCommand(t,n))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,n,i,s){this._modelData&&this._modelData.viewModel.compositionType(t,n,i,s,e)}_paste(e,t,n,i,s){if(!this._modelData||0===t.length)return;const r=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,n,i,e);const o=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new oe(r.lineNumber,r.column,o.lineNumber,o.column),mode:s})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,n){const i=XU.getEditorCommand(t);return!!i&&((n=n||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(i.runEditorCommand(e,this,n)).then(void 0,V)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(77)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(77)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,n){if(!this._modelData)return!1;if(this._configuration.options.get(77))return!1;let i;return i=n?Array.isArray(n)?()=>n:n:()=>null,this._modelData.viewModel.executeEdits(e,t,i),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,vP(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(127)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const n=this._contentWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(n)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const n=this._overlayWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(n)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const n=this._modelData.model.validatePosition(t),i=this._configuration.options,s=i.get(127);return{top:e._getVerticalOffsetForPosition(this._modelData,n.lineNumber,n.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(n.lineNumber,n.column)+s.glyphMarginWidth+s.lineNumbersWidth+s.decorationsWidth-this.getScrollLeft(),height:i.get(55)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){uz.applyFontInfoSlow(e,this._configuration.options.get(40))}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const n=new TQ(this._id,this._configuration,e,jQ.create(),AQ.create(this._configuration.options),(e=>HO(e)));t.push(e.onDidChangeDecorations((e=>this._onDidChangeModelDecorations.fire(e)))),t.push(e.onDidChangeLanguage((t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(t)}))),t.push(e.onDidChangeLanguageConfiguration((e=>this._onDidChangeModelLanguageConfiguration.fire(e)))),t.push(e.onDidChangeContent((e=>this._onDidChangeModelContent.fire(e)))),t.push(e.onDidChangeOptions((e=>this._onDidChangeModelOptions.fire(e)))),t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(n.onEvent((e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{e.reachedMaxCursorCount&&this._notificationService.warn(JI(0,"The number of cursors has been limited to {0}.",iQ.MAX_CURSOR_COUNT));const t=[];for(let s=0,r=e.selections.length;s<r;s++)t[s]=e.selections[s].getPosition();const n={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(n);const i={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(i);break}}})));const[i,s]=this._createView(n);if(s){this._domElement.appendChild(i.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];i.addContentWidget(this._contentWidgets[n])}t=Object.keys(this._overlayWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];i.addOverlayWidget(this._overlayWidgets[n])}i.render(!1,!0),i.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new XQ(e,n,i,s,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,n,i)=>{this._paste("keyboard",e,t,n,i)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,n,i)=>{this._compositionType("keyboard",e,t,n,i)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,n,i)=>{const s={text:e,pasteOnNewLine:t,multicursorText:n,mode:i};this._commandService.executeCommand("paste",s)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,n,i)=>{if(n||i){const s={text:e,replacePrevCharCnt:t,replaceNextCharCnt:n,positionDelta:i};this._commandService.executeCommand("compositionType",s)}else{const n={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",n)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const n=new zZ(e.coordinatesConverter);n.onKeyDown=e=>this._onKeyDown.fire(e),n.onKeyUp=e=>this._onKeyUp.fire(e),n.onContextMenu=e=>this._onContextMenu.fire(e),n.onMouseMove=e=>this._onMouseMove.fire(e),n.onMouseLeave=e=>this._onMouseLeave.fire(e),n.onMouseDown=e=>this._onMouseDown.fire(e),n.onMouseUp=e=>this._onMouseUp.fire(e),n.onMouseDrag=e=>this._onMouseDrag.fire(e),n.onMouseDrop=e=>this._onMouseDrop.fire(e),n.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),n.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new EJ(t,this._configuration,this._themeService,e,n,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};JQ=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([YQ(3,PP),YQ(4,MP),YQ(5,_A),YQ(6,_U),YQ(7,CU),YQ(8,JW),YQ(9,NQ)],JQ);class QQ extends F{constructor(){super(),this._onDidChangeToTrue=this._register(new x),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new x),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class e0 extends F{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=EZ.editorSimpleInput.bindTo(t),this._editorFocus=EZ.focus.bindTo(t),this._textInputFocus=EZ.textInputFocus.bindTo(t),this._editorTextFocus=EZ.editorTextFocus.bindTo(t),this._editorTabMovesFocus=EZ.tabMovesFocus.bindTo(t),this._editorReadonly=EZ.readOnly.bindTo(t),this._inDiffEditor=EZ.inDiffEditor.bindTo(t),this._editorColumnSelection=EZ.columnSelection.bindTo(t),this._hasMultipleSelections=EZ.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=EZ.hasNonEmptySelection.bindTo(t),this._canUndo=EZ.canUndo.bindTo(t),this._canRedo=EZ.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(126)),this._editorReadonly.set(e.get(77)),this._inDiffEditor.set(e.get(51)),this._editorColumnSelection.set(e.get(16))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class t0 extends F{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=EZ.languageId.bindTo(t),this._hasCompletionItemProvider=EZ.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=EZ.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=EZ.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=EZ.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=EZ.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=EZ.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=EZ.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=EZ.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=EZ.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=EZ.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=EZ.hasReferenceProvider.bindTo(t),this._hasRenameProvider=EZ.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=EZ.hasSignatureHelpProvider.bindTo(t),this._hasInlineHintsProvider=EZ.hasInlineHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=EZ.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=EZ.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=EZ.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=EZ.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=EZ.isInWalkThroughSnippet.bindTo(t);const n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(qM.onDidChange(n)),this._register(rF.onDidChange(n)),this._register(iF.onDidChange(n)),this._register(QM.onDidChange(n)),this._register(eF.onDidChange(n)),this._register(tF.onDidChange(n)),this._register(nF.onDidChange(n)),this._register(YM.onDidChange(n)),this._register(XM.onDidChange(n)),this._register(ZM.onDidChange(n)),this._register($M.onDidChange(n)),this._register(KM.onDidChange(n)),this._register(oF.onDidChange(n)),this._register(aF.onDidChange(n)),this._register(GM.onDidChange(n)),this._register(sF.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(qM.has(e)),this._hasCodeActionsProvider.set(rF.has(e)),this._hasCodeLensProvider.set(iF.has(e)),this._hasDefinitionProvider.set(QM.has(e)),this._hasDeclarationProvider.set(eF.has(e)),this._hasImplementationProvider.set(tF.has(e)),this._hasTypeDefinitionProvider.set(nF.has(e)),this._hasHoverProvider.set(YM.has(e)),this._hasDocumentHighlightProvider.set(XM.has(e)),this._hasDocumentSymbolProvider.set(ZM.has(e)),this._hasReferenceProvider.set($M.has(e)),this._hasRenameProvider.set(KM.has(e)),this._hasSignatureHelpProvider.set(GM.has(e)),this._hasInlineHintsProvider.set(sF.has(e)),this._hasDocumentFormattingProvider.set(oF.has(e)||aF.has(e)),this._hasDocumentSelectionFormattingProvider.set(aF.has(e)),this._hasMultipleDocumentFormattingProvider.set(oF.all(e).length+aF.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(aF.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===EO.walkThroughSnippet)})):this.reset()}}class n0 extends F{constructor(e){super(),this._onChange=this._register(new x),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(yR(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}const i0=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),s0=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function r0(e){return i0+encodeURIComponent(e.toString())+s0}const o0=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),a0=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');LU(((e,t)=>{const n=e.getColor(Lq);n&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${n}; }`);const i=e.getColor(Tq);i&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${r0(i)}") repeat-x bottom left; }`);const s=e.getColor(Dq);s&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${s}; }`);const r=e.getColor(Pq);r&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${r}; }`);const o=e.getColor(Iq);o&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${r0(o)}") repeat-x bottom left; }`);const a=e.getColor(Nq);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=e.getColor(Aq);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const c=e.getColor(Rq);c&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${r0(c)}") repeat-x bottom left; }`);const d=e.getColor(Oq);d&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${d}; }`);const h=e.getColor(Fq);h&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);const u=e.getColor(Mq);var p;u&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${p=u,o0+encodeURIComponent(p.toString())+a0}") no-repeat bottom left; }`);const g=e.getColor(GY);g&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${g.rgba.a}; }`);const f=e.getColor(qY);f&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${f}; }`);const m=e.getColor(Vq)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${m}}`)}));var l0,c0;(c0=l0||(l0={})).North="north",c0.South="south",c0.East="east",c0.West="west";const d0=new x;const h0=new x;class u0 extends F{constructor(e,t,n){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new gO(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new x),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new x),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new x),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new x),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new x),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new B),this.orthogonalStartDragHandleDisposables=this._register(new B),this.orthogonalEndSashDisposables=this._register(new B),this.orthogonalEndDragHandleDisposables=this._register(new B),this.el=wR(e,LR(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),S&&this.el.classList.add("mac"),this._register(ZP(this.el,"mousedown")(this.onMouseDown,this)),this._register(ZP(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register(ZP(this.el,"mouseenter")((()=>u0.onMouseEnter(this)))),this._register(ZP(this.el,"mouseleave")((()=>u0.onMouseLeave(this)))),this._register(bz.addTarget(this.el)),this._register(ZP(this.el,_z.Start)((e=>this.onTouchStart(e)),this)),"number"==typeof n.size?(this.size=n.size,0===n.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(d0.event((e=>{this.size=e,this.layout()})))),this._register(h0.event((e=>this.hoverDelay=e))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=wR(this.el,LR(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(I((()=>this._orthogonalStartDragHandle.remove()))),ZP(this._orthogonalStartDragHandle,"mouseenter")((()=>u0.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),ZP(this._orthogonalStartDragHandle,"mouseleave")((()=>u0.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=wR(this.el,LR(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(I((()=>this._orthogonalEndDragHandle.remove()))),ZP(this._orthogonalEndDragHandle,"mouseenter")((()=>u0.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),ZP(this._orthogonalEndDragHandle,"mouseleave")((()=>u0.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalEndSash=e}onMouseDown(e){vR(e,!1);let t=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(t=!0,e.__orthogonalSashEvent=!0,n.onMouseDown(e))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),!this.state)return;const n=[...PR("iframe"),...PR("webview")];for(const h of n)h.style.pointerEvents="none";const i=new lO(e),s=i.posx,r=i.posy,o=i.altKey,a={startX:s,currentX:s,startY:r,currentY:r,altKey:o};this.el.classList.add("active"),this._onDidStart.fire(a);const l=hR(this.el),c=()=>{let e="";e=t?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":S?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":S?"col-resize":"ew-resize",l.textContent=`* { cursor: ${e} !important; }`},d=new B;c(),t||this.onDidEnablementChange(c,null,d);ZP(window,"mousemove")((e=>{vR(e,!1);const t=new lO(e),n={startX:s,currentX:t.posx,startY:r,currentY:t.posy,altKey:o};this._onDidChange.fire(n)}),null,d),ZP(window,"mouseup")((e=>{vR(e,!1),this.el.removeChild(l),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const t of n)t.style.pointerEvents="auto"}),null,d)}onMouseDoubleClick(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(e){vR(e);const t=[],n=e.pageX,i=e.pageY,s=e.altKey;this._onDidStart.fire({startX:n,currentX:n,startY:i,currentY:i,altKey:s}),t.push(RO(this.el,_z.Change,(e=>{_t(e.pageX)&&_t(e.pageY)&&this._onDidChange.fire({startX:n,currentX:e.pageX,startY:i,currentY:e.pageY,altKey:s})}))),t.push(RO(this.el,_z.End,(()=>{this._onDidEnd.fire(),De(t)})))}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&u0.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&u0.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){u0.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}class p0{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}const g0=[];function f0(e,t,n){t instanceof p0||(t=new p0(t,[],n)),g0.push([e,t])}const m0=RP("IEditorCancelService"),_0=new mU("cancellableOperation",!1,JI(0,"Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));f0(m0,class{constructor(){this._tokens=new WeakMap}add(e,t){let n,i=this._tokens.get(e);return i||(i=e.invokeWithinContext((e=>({key:_0.bindTo(e.get(_U)),tokens:new Q}))),this._tokens.set(e,i)),i.key.set(!0),n=i.tokens.push(t),()=>{n&&(n(),i.key.set(!i.tokens.isEmpty()),n=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class v0 extends L{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext((t=>t.get(m0).add(e,this)))}dispose(){this._unregister(),super.dispose()}}KU(new class extends UU{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:_0})}runEditorCommand(e,t){e.get(m0).cancel(t)}});class b0{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?$e("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof b0))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))}validate(e){return this._equals(new b0(e,this.flags))}}class y0 extends v0{constructor(e,t,n,i){super(e,i),this._listener=new B,4&t&&this._listener.add(e.onDidChangeCursorPosition((e=>{n&&oe.containsPosition(n,e.position)||this.cancel()}))),2&t&&this._listener.add(e.onDidChangeCursorSelection((e=>{n&&oe.containsRange(n,e.selection)||this.cancel()}))),8&t&&this._listener.add(e.onDidScrollChange((e=>this.cancel()))),1&t&&(this._listener.add(e.onDidChangeModel((e=>this.cancel()))),this._listener.add(e.onDidChangeModelContent((e=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}class w0 extends L{constructor(e,t){super(t),this._listener=e.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}class C0{constructor(e,t,n){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=n}static capture(e){let t=null,n=0;if(0!==e.getScrollTop()){const i=e.getVisibleRanges();if(i.length>0){t=i[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);n=e.getScrollTop()-s}}return new C0(t,n,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const n=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+n)}}const S0="ResourceURLs",x0="text/plain";class k0{constructor(e){this.data=e}update(){}getData(){return this.data}}const E0={CurrentDragAndDropData:void 0};class D0 extends F{constructor(e,t,n={}){super(),this.options=n,this._context=e||this,this._action=t,t instanceof jH&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new $H)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(bz.addTarget(e));const n=this.options&&this.options.draggable;n&&(e.draggable=!0,UP&&this._register(RO(e,_R.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(x0,this._action.label)})))),this._register(RO(t,_z.Tap,(e=>this.onClick(e)))),this._register(RO(t,_R.MOUSE_DOWN,(e=>{n||vR(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),S&&this._register(RO(t,_R.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(RO(t,_R.CLICK,(e=>{vR(e,!0),this.options&&this.options.isMenu||tt((()=>this.onClick(e)))}))),this._register(RO(t,_R.DBLCLICK,(e=>{vR(e,!0)}))),[_R.MOUSE_UP,_R.MOUSE_OUT].forEach((e=>{this._register(RO(t,e,(e=>{vR(e),t.classList.remove("active")})))}))}onClick(e){var t;vR(e,!0);const n=se(this._context)?(null===(t=this.options)||void 0===t?void 0:t.useEventAsContext)?e:void 0:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class T0 extends D0{constructor(e,t,n={}){super(e,t,n),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=wR(this.element,LR("a.action-label"))),this.label&&(this._action.id===KH.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(wR(this.element,LR("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=JI(0,"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var L0=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class N0 extends F{constructor(e,t={}){var n,i,s,r,o,a;let l,c;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new x),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new x({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new x),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new x),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(n=t.context)&&void 0!==n?n:null,this._orientation=null!==(i=this.options.orientation)&&void 0!==i?i:0,this._triggerKeys={keyDown:null!==(r=null===(s=this.options.triggerKeys)||void 0===s?void 0:s.keyDown)&&void 0!==r&&r,keys:null!==(a=null===(o=this.options.triggerKeys)||void 0===o?void 0:o.keys)&&void 0!==a?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new $H,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._register(this._actionRunner.onBeforeRun((e=>this._onBeforeRun.fire(e)))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],c=[17];break;case 1:l=[16],c=[18],this.domNode.className+=" vertical"}this._register(RO(this.domNode,_R.KEY_DOWN,(e=>{const t=new iO(e);let n=!0;const i="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;l&&(t.equals(l[0])||t.equals(l[1]))?n=this.focusPrevious():c&&(t.equals(c[0])||t.equals(c[1]))?n=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?n=this.focusFirst():t.equals(13)?n=this.focusLast():t.equals(2)&&i instanceof D0&&i.trapsArrowNavigation?n=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:n=!1,n&&(t.preventDefault(),t.stopPropagation())}))),this._register(RO(this.domNode,_R.KEY_UP,(e=>{const t=new iO(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(yR(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{dR()!==this.domNode&&sR(dR(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((n=>{t=t||e.equals(n)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(sR(dR(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach((t=>t.actionRunner=e)))}getContainer(){return this.domNode}push(e,t={}){const n=Array.isArray(e)?e:[e];let i=_t(t.index)?t.index:null;n.forEach((e=>{const n=document.createElement("li");let s;n.className="action-item",n.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(RO(n,_R.CONTEXT_MENU,(e=>{vR(e,!0)}))),this.options.actionViewItemProvider&&(s=this.options.actionViewItemProvider(e)),s||(s=new T0(this.context,e,t)),s.actionRunner=this._actionRunner,s.setActionContext(this.context),s.render(n),this.focusable&&s instanceof D0&&0===this.viewItems.length&&s.setFocusable(!0),null===i||i<0||i>=this.actionsList.children.length?(this.actionsList.appendChild(n),this.viewItems.push(s),this._actionIds.push(e.id)):(this.actionsList.insertBefore(n,this.actionsList.children[i]),this.viewItems.splice(i,0,s),this._actionIds.splice(i,0,e.id),i++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){De(this.viewItems),this.viewItems=[],this._actionIds=[],IO(this.actionsList)}length(){return this.viewItems.length}focus(e){let t,n=!1;if(void 0===e?n=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(n=e),n&&void 0===this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus()}else void 0!==t&&(this.focusedItem=t),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let n=0;n<this.viewItems.length;n++){const i=this.viewItems[n],s=i;if(n===this.focusedItem){let n=!0;Ct(s.focus)||(n=!1),this.options.focusOnlyEnabledItems&&Ct(i.isEnabled)&&!i.isEnabled()&&(n=!1),n?s.focus(e):this.actionsList.focus({preventScroll:t})}else Ct(s.blur)&&s.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof D0){const n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n)}}run(e,t){return L0(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){De(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const I0=new class{constructor(){this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:JI(0,"The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:JI(0,"The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${IM.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,i){const s=this.iconsById[e];if(s){if(n&&!s.description){s.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=n),this._onDidChange.fire()}return s}let r={id:e,description:n,defaults:t,deprecationMessage:i};this.iconsById[e]=r;let o={$ref:"#/definitions/icons"};return i&&(o.deprecationMessage=i),n&&(o.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=o,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;xU.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`};let n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const i=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const s of i.filter((e=>!!e.description)).sort(e))n.push(`|<i class="${t(s)}"></i>|${s.id}|${xU.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(const s of i.filter((e=>!xU.isThemeIcon(e.defaults))).sort(e))n.push(`|<i class="${t(s)}"></i>|${s.id}|`);return n.join("\n")}};function P0(e,t,n,i){return I0.registerIcon(e,t,n,i)}ZV.add("base.contributions.icons",I0),function(){for(const e of TM.all)I0.registerIcon(e.id,e.definition,e.description);TM.onDidRegister((e=>I0.registerIcon(e.id,e.definition,e.description)))}();let O0=ZV.as(XV);O0.registerSchema("vscode://schemas/icons",I0.getIconSchema());const R0=new wO((()=>O0.notifySchemaChanged("vscode://schemas/icons")),200);I0.onDidChange((()=>{R0.isScheduled()||R0.schedule()}));const A0=P0("widget-close",NM.close,JI(0,"Icon for the close action in widgets."));var M0,F0=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class B0{constructor(e,t,n,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=i}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class V0{constructor(e){this.entries=e}}const W0=P0("diff-review-insert",NM.add,JI(0,"Icon for 'Insert' in diff review.")),H0=P0("diff-review-remove",NM.remove,JI(0,"Icon for 'Remove' in diff review.")),U0=P0("diff-review-close",NM.close,JI(0,"Icon for 'Close' in diff review."));class z0 extends F{constructor(e){super(),this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=gz(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=gz(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new N0(this.actionBarContainer.domNode)),this._actionBar.push(new jH("diffreview.close",JI(0,"Close"),"close-diff-review "+xU.asClassName(U0),!0,(()=>F0(this,void 0,void 0,(function*(){return this.hide()})))),{label:!1,icon:!0}),this.domNode=gz(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=gz(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new TX(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(MO(this.domNode.domNode,"click",(e=>{e.preventDefault();let t=rR(e.target,"diff-review-row");t&&this._goToRow(t)}))),this._register(MO(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,n=this._diffs.length;e<n;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new je(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,n=this._diffs.length;e<n;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new je(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let n=parseInt(t.getAttribute("data-line"),10);isNaN(n)||(e=n)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new je(e,1)),this._diffEditor.revealPosition(new je(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,n){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(n),this._content.setHeight(n),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];const t=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return t&&n?z0._mergeAdjacent(e,t.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,t,n){if(!e||0===e.length)return[];let i=[],s=0;for(let l=0,c=e.length;l<c;l++){const r=e[l],o=r.originalStartLineNumber,a=r.originalEndLineNumber,d=r.modifiedStartLineNumber,h=r.modifiedEndLineNumber;let u=[],p=0;{const t=0===a?o:o-1,n=0===h?d:d-1;let i=1,s=1;if(l>0){const t=e[l-1];i=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,s=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let r=t-3+1,c=n-3+1;if(r<i){const e=i-r;r+=e,c+=e}if(c<s){const e=s-c;r+=e,c+=e}u[p++]=new B0(r,t,c,n)}0!==a&&(u[p++]=new B0(o,a,0,0)),0!==h&&(u[p++]=new B0(0,0,d,h));{const i=0===a?o+1:a+1,s=0===h?d+1:h+1;let r=t,g=n;if(l+1<c){const t=e[l+1];r=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,g=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let f=i+3-1,m=s+3-1;if(f>r){const e=r-f;f+=e,m+=e}if(m>g){const e=g-m;f+=e,m+=e}u[p++]=new B0(i,f,s,m)}i[s++]=new V0(u)}let r=i[0].entries,o=[],a=0;for(let l=1,c=i.length;l<c;l++){const e=i[l].entries,t=r[r.length-1],n=e[0];0===t.getType()&&0===n.getType()&&n.originalLineStart<=t.originalLineEnd?(r[r.length-1]=new B0(t.originalLineStart,n.originalLineEnd,t.modifiedLineStart,n.modifiedLineEnd),r=r.concat(e.slice(1))):(o[a++]=new V0(r),r=e)}return o[a++]=new V0(r),o}_findDiffIndex(e){const t=e.lineNumber;for(let n=0,i=this._diffs.length;n<i;n++){const e=this._diffs[n].entries;if(t<=e[e.length-1].modifiedLineEnd)return n}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel(),s=n.getOptions(),r=i.getOptions();if(!this._isVisible||!n||!i)return IO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const o=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[o]===this._currentDiff)return;this._currentDiff=this._diffs[o];const a=this._diffs[o].entries;let l=document.createElement("div");l.className="diff-review-table",l.setAttribute("role","list"),l.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),uz.applyFontInfoSlow(l,t.get(40));let c=0,d=0,h=0,u=0;for(let C=0,S=a.length;C<S;C++){const e=a[C],t=e.originalLineStart,n=e.originalLineEnd,i=e.modifiedLineStart,s=e.modifiedLineEnd;0!==t&&(0===c||t<c)&&(c=t),0!==n&&(0===d||n>d)&&(d=n),0!==i&&(0===h||i<h)&&(h=i),0!==s&&(0===u||s>u)&&(u=s)}let p=document.createElement("div");p.className="diff-review-row";let g=document.createElement("div");g.className="diff-review-cell diff-review-summary";const f=d-c+1,m=u-h+1;g.appendChild(document.createTextNode(`${o+1}/${this._diffs.length}: @@ -${c},${f} +${h},${m} @@`)),p.setAttribute("data-line",String(h));const _=e=>0===e?JI(0,"no lines changed"):1===e?JI(0,"1 line changed"):JI(0,"{0} lines changed",e),v=_(f),b=_(m);p.setAttribute("aria-label",JI(0,"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",o+1,this._diffs.length,c,v,h,b)),p.appendChild(g),p.setAttribute("role","listitem"),l.appendChild(p);const y=t.get(55);let w=h;for(let C=0,S=a.length;C<S;C++){const o=a[C];z0._renderSection(l,o,w,y,this._width,e,n,s,t,i,r),0!==o.modifiedLineStart&&(w=o.modifiedLineEnd)}IO(this._content.domNode),this._content.domNode.appendChild(l),this.scrollbar.scanDomNode()}static _renderSection(e,t,n,i,s,r,o,a,l,c,d){const h=t.getType();let u="diff-review-row",p="";let g=null;switch(h){case 1:u="diff-review-row line-insert",p=" char-insert",g=W0;break;case 2:u="diff-review-row line-delete",p=" char-delete",g=H0}const f=t.originalLineStart,m=t.originalLineEnd,_=t.modifiedLineStart,v=t.modifiedLineEnd,b=Math.max(v-_,m-f),y=r.get(127),w=y.glyphMarginWidth+y.lineNumbersWidth,C=l.get(127),S=10+C.glyphMarginWidth+C.lineNumbersWidth;for(let x=0;x<=b;x++){const t=0===f?0:f+x,m=0===_?0:_+x,v=document.createElement("div");v.style.minWidth=s+"px",v.className=u,v.setAttribute("role","listitem"),0!==m&&(n=m),v.setAttribute("data-line",String(n));let b=document.createElement("div");b.className="diff-review-cell",b.style.height=`${i}px`,v.appendChild(b);const y=document.createElement("span");y.style.width=w+"px",y.style.minWidth=w+"px",y.className="diff-review-line-number"+p,0!==t?y.appendChild(document.createTextNode(String(t))):y.innerText="",b.appendChild(y);const C=document.createElement("span");C.style.width=S+"px",C.style.minWidth=S+"px",C.style.paddingRight="10px",C.className="diff-review-line-number"+p,0!==m?C.appendChild(document.createTextNode(String(m))):C.innerText="",b.appendChild(C);const k=document.createElement("span");if(k.className="diff-review-spacer",g){const e=document.createElement("span");e.className=xU.asClassName(g),e.innerText="",k.appendChild(e)}else k.innerText="";let E;if(b.appendChild(k),0!==m){let e=this._renderLine(c,l,d.tabSize,m);z0._ttPolicy&&(e=z0._ttPolicy.createHTML(e)),b.insertAdjacentHTML("beforeend",e),E=c.getLineContent(m)}else{let e=this._renderLine(o,r,a.tabSize,t);z0._ttPolicy&&(e=z0._ttPolicy.createHTML(e)),b.insertAdjacentHTML("beforeend",e),E=o.getLineContent(t)}0===E.length&&(E=JI(0,"blank"));let D="";switch(h){case 0:D=t===m?JI(0,"{0} unchanged line {1}",E,t):JI(0,"{0} original line {1} modified line {2}",E,t,m);break;case 1:D=JI(0,"+ {0} modified line {1}",E,m);break;case 2:D=JI(0,"- {0} original line {1}",E,t)}v.setAttribute("aria-label",D),e.appendChild(v)}}static _renderLine(e,t,n,i){const s=e.getLineContent(i),r=t.get(40),o=new Uint32Array(2);o[0]=s.length,o[1]=16793600;const a=new YB(o,s),l=gV.isBasicASCII(s,e.mightContainNonBasicASCII()),c=gV.containsRTL(s,l,e.mightContainRTL());return aV(new nV(r.isMonospace&&!t.get(27),r.canUseHalfwidthRightwardsArrow,s,!1,l,c,0,a,[],n,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,t.get(102),t.get(85),t.get(79),t.get(41)!==fP.OFF,null)).html}}z0._ttPolicy=null===(M0=window.trustedTypes)||void 0===M0?void 0:M0.createPolicy("diffReview",{createHTML:e=>e}),LU(((e,t)=>{const n=e.getColor(FY);n&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${n}; }`);const i=e.getColor(Cq);i&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)}));function j0(e){const t=e.get(MP),n=t.listDiffEditors(),i=t.getActiveCodeEditor();if(!i)return null;for(let s=0,r=n.length;s<r;s++){const e=n[s];if(e.getModifiedEditor().getId()===i.getId()||e.getOriginalEditor().getId()===i.getId())return e}return null}qU(class extends zU{constructor(){super({id:"editor.action.diffReview.next",label:JI(0,"Go to Next Difference"),alias:"Go to Next Difference",precondition:JH.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const n=j0(e);n&&n.diffReviewNext()}}),qU(class extends zU{constructor(){super({id:"editor.action.diffReview.prev",label:JI(0,"Go to Previous Difference"),alias:"Go to Previous Difference",precondition:JH.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const n=j0(e);n&&n.diffReviewPrev()}});const $0=RP("contextViewService"),K0=RP("contextMenuService");var q0=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class G0 extends F{constructor(e,t,n,i,s,r){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=n,this.diff=i,this._contextMenuService=s,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=NM.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const o=n.getOption(55),a=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${o}px`,this._diffActions.style.lineHeight=`${o}px`,this._marginDomNode.appendChild(this._diffActions);const l=[];l.push(new jH("diff.clipboard.copyDeletedContent",i.originalEndLineNumber>i.modifiedStartLineNumber?JI(0,"Copy deleted lines"):JI(0,"Copy deleted line"),void 0,!0,(()=>q0(this,void 0,void 0,(function*(){const e=new oe(i.originalStartLineNumber,1,i.originalEndLineNumber+1,1),t=i.originalModel.getValueInRange(e);yield this._clipboardService.writeText(t)})))));let c,d=0;i.originalEndLineNumber>i.modifiedStartLineNumber&&(c=new jH("diff.clipboard.copyDeletedLineContent",JI(0,"Copy deleted line ({0})",i.originalStartLineNumber),void 0,!0,(()=>q0(this,void 0,void 0,(function*(){const e=i.originalModel.getLineContent(i.originalStartLineNumber+d);yield this._clipboardService.writeText(e)})))),l.push(c));n.getOption(77)||l.push(new jH("diff.inline.revertChange",JI(0,"Revert this change"),void 0,!0,(()=>q0(this,void 0,void 0,(function*(){const e=new oe(i.originalStartLineNumber,1,i.originalEndLineNumber,i.originalModel.getLineMaxColumn(i.originalEndLineNumber)),t=i.originalModel.getValueInRange(e);if(0===i.modifiedEndLineNumber){const e=n.getModel().getLineMaxColumn(i.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new oe(i.modifiedStartLineNumber,e,i.modifiedStartLineNumber,e),text:a+t}])}else{const e=n.getModel().getLineMaxColumn(i.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new oe(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber,e),text:t}])}})))));const h=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(c&&(c.label=JI(0,"Copy deleted line ({0})",i.originalStartLineNumber+d)),l),autoSelectFirstItem:!0})};this._register(MO(this._diffActions,"mousedown",(e=>{const{top:t,height:n}=JO(this._diffActions);let i=Math.floor(o/3);e.preventDefault(),h(e.posx,t+n+i)}))),this._register(n.onMouseMove((e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,o)):this.visibility=!1}else this.visibility=!1}))),this._register(n.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,o),h(e.event.posx,e.event.posy+o))}})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,n){const{top:i}=JO(e),s=t-i,r=Math.floor(s/n),o=r*n;if(this._diffActions.style.top=`${o}px`,this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],r<e)return t}return r}}const Y0=RP("clipboardService");class Z0{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}Z0.None=Object.freeze({report(){}});const X0=RP("editorProgressService");var J0,Q0=function(e,t){return function(n,i){t(n,i,e)}};class e1{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter((e=>!this._zonesMap[String(e.id)]))}clean(e){this._zones.length>0&&e.changeViewZones((e=>{for(const t of this._zones)e.removeZone(t)})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,n,i){const s=i?C0.capture(e):null;e.changeViewZones((t=>{for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let i=0,s=n.zones.length;i<s;i++){const s=n.zones[i];s.suppressMouseDown=!0;const r=t.addZone(s);this._zones.push(r),this._zonesMap[String(r)]=!0,n.zones[i].diff&&s.marginDomNode&&(s.suppressMouseDown=!1,this._inlineDiffMargins.push(new G0(r,s.marginDomNode,e,n.zones[i].diff,this._contextMenuService,this._clipboardService)))}})),s&&s.restore(e),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)}}let t1=0;const n1=P0("diff-insert",NM.add,JI(0,"Line decoration for inserts in the diff editor.")),i1=P0("diff-remove",NM.remove,JI(0,"Line decoration for removals in the diff editor.")),s1=null===(J0=window.trustedTypes)||void 0===J0?void 0:J0.createPolicy("diffEditorWidget",{createHTML:e=>e});let r1=class e extends F{constructor(t,n,i,s,r,o,a,l,c,d,h,u){super(),this._editorProgressService=u,this._onDidDispose=this._register(new x),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new x),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new x),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=l,this._contextKeyService=this._register(o.createScoped(t)),this._instantiationService=a.createChild(new LQ([_U,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=d,this._id=++t1,this._state=0,this._updatingDiffProgress=null,this._domElement=t,n=n||{},this._renderSideBySide=!0,void 0!==n.renderSideBySide&&(this._renderSideBySide=n.renderSideBySide),this._maxComputationTime=5e3,void 0!==n.maxComputationTime&&(this._maxComputationTime=n.maxComputationTime),this._ignoreTrimWhitespace=!0,void 0!==n.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=n.ignoreTrimWhitespace),this._renderIndicators=!0,void 0!==n.renderIndicators&&(this._renderIndicators=n.renderIndicators),this._originalIsEditable=rP(n.originalEditable,!1),this._diffCodeLens=rP(n.diffCodeLens,!1),this._diffWordWrap=f1(n.diffWordWrap,"inherit"),void 0!==n.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",n.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,void 0!==n.renderOverviewRuler&&(this._renderOverviewRuler=Boolean(n.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new wO((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=gz(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(MO(this._overviewDomElement,"mousedown",(e=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new e1(h,s),this._modifiedEditorState=new e1(h,s),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new cz(this._containerDomElement,n.dimension,(()=>this._onDidContainerSizeChanged()))),n.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(n,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(n,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new z0(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,void 0!==n.enableSplitViewResizing&&(this._enableSplitViewResizing=n.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new h1(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new p1(this._createDataSource(),this._enableSplitViewResizing)),this._register(c.onDidColorThemeChange((t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)})));const p=XU.getDiffEditorContributions();for(const e of p)try{this._register(a.createInstance(e.ctor,this))}catch(g){V(g)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=EU(e.type),n}_recreateOverviewRulers(){this._renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,n){const i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),n);this._register(i.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(i.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(i.onDidChangeConfiguration((e=>{i.getModel()&&(e.hasChanged(40)&&this._updateDecorationsRunner.schedule(),e.hasChanged(128)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(i.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const s=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget((()=>s.set(!0)))),this._register(i.onDidBlurEditorWidget((()=>s.set(!1)))),this._register(i.onDidContentSizeChange((t=>{const n=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,i=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:i,contentWidth:n,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),i}_createRightHandSideEditor(t,n){const i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),n);this._register(i.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(i.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(i.onDidChangeConfiguration((e=>{i.getModel()&&(e.hasChanged(40)&&this._updateDecorationsRunner.schedule(),e.hasChanged(128)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(i.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(i.onDidChangeModelOptions((e=>{e.tabSize&&this._updateDecorationsRunner.schedule()})));const s=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget((()=>s.set(!0)))),this._register(i.onDidBlurEditorWidget((()=>s.set(!1)))),this._register(i.onDidContentSizeChange((t=>{const n=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,i=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:i,contentWidth:n,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),i}_createInnerEditor(e,t,n,i){return e.createInstance(JQ,t,n,i)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return $A.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){let n=!1;void 0!==t.renderSideBySide&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,n=!0),void 0!==t.maxComputationTime&&(this._maxComputationTime=t.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let i=!1;void 0!==t.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,i=!0),void 0!==t.renderIndicators&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),this._originalIsEditable=rP(t.originalEditable,this._originalIsEditable),this._diffCodeLens=rP(t.diffCodeLens,this._diffCodeLens),this._diffWordWrap=f1(t.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),void 0!==t.enableSplitViewResizing&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new h1(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new p1(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),void 0!==t.renderOverviewRuler&&this._renderOverviewRuler!==t.renderOverviewRuler&&(this._renderOverviewRuler=t.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,n=0){this._modifiedEditor.revealLines(e,t,n)}revealLinesInCenter(e,t,n=0){this._modifiedEditor.revealLinesInCenter(e,t,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,n)}revealLinesNearTop(e,t,n=0){this._modifiedEditor.revealLinesNearTop(e,t,n)}revealRange(e,t=0,n=!1,i=!0){this._modifiedEditor.revealRange(e,t,n,i)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,n){this._modifiedEditor.trigger(e,t,n)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler)return;if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),i=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:i+e.ONE_OVERVIEW_WIDTH,height:t-n}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-n}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!t||!n)return;this._diffComputationToken++;const i=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,n.uri)?this._editorWorkerService.computeDiff(t.uri,n.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then((e=>{i===this._diffComputationToken&&t===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(e=>{i===this._diffComputationToken&&t===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(n.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(JI(0,"Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),i=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,n);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,i.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,i.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._renderSideBySide?t.wordWrapOverride1=this._diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._originalIsEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.wordWrapOverride1=this._diffWordWrap,n.revealHorizontalRightPadding=LP.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},n),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),n=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),s=this._strategy.layout();this._originalDomNode.style.width=s+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-s+"px",this._modifiedDomNode.style.left=s+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=n-i+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:s,height:n-i}),this._modifiedEditor.layout({width:t-s-(this._renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:n-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(n-i,t,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),n=this._modifiedEditor.getScrollHeight(),i=Math.max(0,e.height),s=Math.max(0,i-0),r=n>0?s/n:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(t*r)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const n=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===n.length||e<t(n[0]))return null;let i=0,s=n.length-1;for(;i<s;){const r=Math.floor((i+s)/2),o=t(n[r]),a=r+1<=s?t(n[r+1]):1073741824;e<o?s=r-1:e>=a?i=r+1:(i=r,s=r)}return n[i]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.originalStartLineNumber));if(!t)return e;const n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,o=e-n;return o<=s?i+Math.min(o,r):i+r-s+o}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.modifiedStartLineNumber));if(!t)return e;const n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,o=e-i;return o<=r?n+Math.min(o,s):n+s-r+o}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};r1.ONE_OVERVIEW_WIDTH=15,r1.ENTIRE_DIFF_OVERVIEW_WIDTH=30,r1.UPDATE_DIFF_DECORATIONS_DELAY=200,r1=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Q0(3,Y0),Q0(4,yF),Q0(5,_U),Q0(6,PP),Q0(7,MP),Q0(8,CU),Q0(9,JW),Q0(10,K0),Q0(11,X0)],r1);class o1 extends F{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(CG)||yG).transparent(2),n=(e.getColor(SG)||wG).transparent(2),i=!t.equals(this._insertColor)||!n.equals(this._removeColor);return this._insertColor=t,this._removeColor=n,i}getEditorsDiffDecorations(e,t,n,i,s){s=s.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber)),i=i.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber));const r=this._getViewZones(e,i,s,n),o=this._getOriginalEditorDecorations(e,t,n),a=this._getModifiedEditorDecorations(e,t,n);return{original:{decorations:o.decorations,overviewZones:o.overviewZones,zones:r.original},modified:{decorations:a.decorations,overviewZones:a.overviewZones,zones:r.modified}}}}class a1{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class l1{constructor(e,t,n,i,s){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=n,this._originalEditor=i,this._modifiedEditor=s}static _getViewLineCount(e,t,n){const i=e.getModel(),s=e._getViewModel();if(i&&s){const e=b1(i,s,t,n);return e.endLineNumber-e.startLineNumber+1}return n-t+1}getViewZones(){const e=this._originalEditor.getOption(55),t=this._modifiedEditor.getOption(55),n=-1!==this._originalEditor.getOption(128).wrappingColumn,i=-1!==this._modifiedEditor.getOption(128).wrappingColumn,s=n||i,r=this._originalEditor.getModel(),o=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],c=[];let d=0,h=0,u=0,p=0,g=0,f=0;const m=(e,t)=>e.afterLineNumber-t.afterLineNumber,_=(e,t)=>{if(null===t.domNode&&e.length>0){const n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return void(n.heightInLines+=t.heightInLines)}e.push(t)},v=new a1(this._modifiedForeignVZ),b=new a1(this._originalForeignVZ);let y=1,w=1;for(let C=0,S=this._lineChanges.length;C<=S;C++){const n=C<S?this._lineChanges[C]:null;null!==n?(u=n.originalStartLineNumber+(n.originalEndLineNumber>0?-1:0),p=n.modifiedStartLineNumber+(n.modifiedEndLineNumber>0?-1:0),h=n.originalEndLineNumber>0?l1._getViewLineCount(this._originalEditor,n.originalStartLineNumber,n.originalEndLineNumber):0,d=n.modifiedEndLineNumber>0?l1._getViewLineCount(this._modifiedEditor,n.modifiedStartLineNumber,n.modifiedEndLineNumber):0,g=Math.max(n.originalStartLineNumber,n.originalEndLineNumber),f=Math.max(n.modifiedStartLineNumber,n.modifiedEndLineNumber)):(u+=1e7+h,p+=1e7+d,g=u,f=p);let i=[],x=[];if(s){let e;e=n?n.originalEndLineNumber>0?n.originalStartLineNumber-y:n.modifiedStartLineNumber-w:r.getLineCount()-y;for(let t=0;t<e;t++){const e=y+t,n=w+t,s=o.getModelLineViewLineCount(e),r=a.getModelLineViewLineCount(n);s<r?i.push({afterLineNumber:e,heightInLines:r-s,domNode:null,marginDomNode:null}):s>r&&x.push({afterLineNumber:n,heightInLines:s-r,domNode:null,marginDomNode:null})}n&&(y=(n.originalEndLineNumber>0?n.originalEndLineNumber:n.originalStartLineNumber)+1,w=(n.modifiedEndLineNumber>0?n.modifiedEndLineNumber:n.modifiedStartLineNumber)+1)}for(;v.current&&v.current.afterLineNumber<=f;){let e;e=v.current.afterLineNumber<=p?u-p+v.current.afterLineNumber:g;let s=null;n&&n.modifiedStartLineNumber<=v.current.afterLineNumber&&v.current.afterLineNumber<=n.modifiedEndLineNumber&&(s=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),i.push({afterLineNumber:e,heightInLines:v.current.height/t,domNode:null,marginDomNode:s}),v.advance()}for(;b.current&&b.current.afterLineNumber<=g;){let t;t=b.current.afterLineNumber<=u?p-u+b.current.afterLineNumber:f,x.push({afterLineNumber:t,heightInLines:b.current.height/e,domNode:null}),b.advance()}if(null!==n&&m1(n)){const e=this._produceOriginalFromDiff(n,h,d);e&&i.push(e)}if(null!==n&&_1(n)){const e=this._produceModifiedFromDiff(n,h,d);e&&x.push(e)}let k=0,E=0;for(i=i.sort(m),x=x.sort(m);k<i.length&&E<x.length;){const e=i[k],t=x[E],n=e.afterLineNumber-u,s=t.afterLineNumber-p;n<s?(_(l,e),k++):s<n?(_(c,t),E++):e.shouldNotShrink?(_(l,e),k++):t.shouldNotShrink?(_(c,t),E++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,E++):(t.heightInLines-=e.heightInLines,k++)}for(;k<i.length;)_(l,i[k]),k++;for(;E<x.length;)_(c,x[E]),E++}return{original:l1._ensureDomNodes(l),modified:l1._ensureDomNodes(c)}}static _ensureDomNodes(e){return e.map((e=>(e.domNode||(e.domNode=v1()),e)))}}function c1(e,t,n,i,s){return{range:new oe(e,t,n,i),options:s}}const d1={charDelete:Q$.register({className:"char-delete"}),charDeleteWholeLine:Q$.register({className:"char-delete",isWholeLine:!0}),charInsert:Q$.register({className:"char-insert"}),charInsertWholeLine:Q$.register({className:"char-insert",isWholeLine:!0}),lineInsert:Q$.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Q$.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+xU.asClassName(n1),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Q$.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Q$.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+xU.asClassName(i1),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Q$.register({marginClassName:"line-delete"})};class h1 extends o1{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new u0(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this._onSashDragStart())),this._sash.onDidChange((e=>this._onSashDrag(e))),this._sash.onDidEnd((()=>this._onSashDragEnd())),this._sash.onDidReset((()=>this._onSashReset()))}setEnableSplitViewResizing(e){const t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?r1.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let n=Math.floor((e||.5)*t);const i=Math.floor(.5*t);return n=this._disableSash?i:n||i,t>2*h1.MINIMUM_EDITOR_WIDTH?(n<h1.MINIMUM_EDITOR_WIDTH&&(n=h1.MINIMUM_EDITOR_WIDTH),n>t-h1.MINIMUM_EDITOR_WIDTH&&(n=t-h1.MINIMUM_EDITOR_WIDTH)):n=i,this._sashPosition!==n&&(this._sashPosition=n,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?r1.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=n/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,n){const i=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new u1(e,t,n,i,s).getViewZones()}_getOriginalEditorDecorations(e,t,n){const i=this._dataSource.getOriginalEditor(),s=String(this._removeColor),r={decorations:[],overviewZones:[]},o=i.getModel(),a=i._getViewModel();for(const l of e)if(_1(l)){r.decorations.push({range:new oe(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:n?d1.lineDeleteWithSign:d1.lineDelete}),m1(l)&&l.charChanges||r.decorations.push(c1(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824,d1.charDeleteWholeLine));const e=b1(o,a,l.originalStartLineNumber,l.originalEndLineNumber);if(r.overviewZones.push(new aJ(e.startLineNumber,e.endLineNumber,s)),l.charChanges)for(const n of l.charChanges)if(_1(n))if(t)for(let e=n.originalStartLineNumber;e<=n.originalEndLineNumber;e++){let t,i;t=e===n.originalStartLineNumber?n.originalStartColumn:o.getLineFirstNonWhitespaceColumn(e),i=e===n.originalEndLineNumber?n.originalEndColumn:o.getLineLastNonWhitespaceColumn(e),r.decorations.push(c1(e,t,e,i,d1.charDelete))}else r.decorations.push(c1(n.originalStartLineNumber,n.originalStartColumn,n.originalEndLineNumber,n.originalEndColumn,d1.charDelete))}return r}_getModifiedEditorDecorations(e,t,n){const i=this._dataSource.getModifiedEditor(),s=String(this._insertColor),r={decorations:[],overviewZones:[]},o=i.getModel(),a=i._getViewModel();for(const l of e)if(m1(l)){r.decorations.push({range:new oe(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:n?d1.lineInsertWithSign:d1.lineInsert}),_1(l)&&l.charChanges||r.decorations.push(c1(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,d1.charInsertWholeLine));const e=b1(o,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(r.overviewZones.push(new aJ(e.startLineNumber,e.endLineNumber,s)),l.charChanges)for(const n of l.charChanges)if(m1(n))if(t)for(let e=n.modifiedStartLineNumber;e<=n.modifiedEndLineNumber;e++){let t,i;t=e===n.modifiedStartLineNumber?n.modifiedStartColumn:o.getLineFirstNonWhitespaceColumn(e),i=e===n.modifiedEndLineNumber?n.modifiedEndColumn:o.getLineLastNonWhitespaceColumn(e),r.decorations.push(c1(e,t,e,i,d1.charInsert))}else r.decorations.push(c1(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn,d1.charInsert))}return r}}h1.MINIMUM_EDITOR_WIDTH=100;class u1 extends l1{constructor(e,t,n,i,s){super(e,t,n,i,s)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null}_produceModifiedFromDiff(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null}}class p1 extends o1{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange((t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())})))}setEnableSplitViewResizing(e){}_getViewZones(e,t,n,i){const s=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new g1(e,t,n,s,r,i).getViewZones()}_getOriginalEditorDecorations(e,t,n){const i=String(this._removeColor),s={decorations:[],overviewZones:[]},r=this._dataSource.getOriginalEditor(),o=r.getModel(),a=r._getViewModel();for(const l of e)if(_1(l)){s.decorations.push({range:new oe(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:d1.lineDeleteMargin});const e=b1(o,a,l.originalStartLineNumber,l.originalEndLineNumber);s.overviewZones.push(new aJ(e.startLineNumber,e.endLineNumber,i))}return s}_getModifiedEditorDecorations(e,t,n){const i=this._dataSource.getModifiedEditor(),s=String(this._insertColor),r={decorations:[],overviewZones:[]},o=i.getModel(),a=i._getViewModel();for(const l of e)if(m1(l)){r.decorations.push({range:new oe(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:n?d1.lineInsertWithSign:d1.lineInsert});const e=b1(o,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(r.overviewZones.push(new aJ(e.startLineNumber,e.endLineNumber,s)),l.charChanges){for(const n of l.charChanges)if(m1(n))if(t)for(let e=n.modifiedStartLineNumber;e<=n.modifiedEndLineNumber;e++){let t,i;t=e===n.modifiedStartLineNumber?n.modifiedStartColumn:o.getLineFirstNonWhitespaceColumn(e),i=e===n.modifiedEndLineNumber?n.modifiedEndColumn:o.getLineLastNonWhitespaceColumn(e),r.decorations.push(c1(e,t,e,i,d1.charInsert))}else r.decorations.push(c1(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn,d1.charInsert))}else r.decorations.push(c1(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,d1.charInsertWholeLine))}return r}layout(){return Math.max(5,this._decorationsLeft)}}class g1 extends l1{constructor(e,t,n,i,s,r){super(e,t,n,i,s),this._originalModel=i.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,n){const i=document.createElement("div");return i.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:i}}_produceModifiedFromDiff(e,t,n){const i=document.createElement("div");i.className="view-lines line-delete monaco-mouse-cursor-text";const s=document.createElement("div");s.className="inline-deleted-margin-view-zone";const r={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:i,marginDomNode:s,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let o=e.originalStartLineNumber;o<=e.originalEndLineNumber;o++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(o),null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}_finalize(e){const t=this._modifiedEditor.getOptions(),n=this._modifiedEditor.getModel().getOptions().tabSize,i=t.get(40),s=t.get(27),r=i.typicalHalfwidthCharacterWidth,o=t.get(90),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),c=t.get(55),d=t.get(127).decorationsWidth,h=t.get(102),u=t.get(85),p=t.get(79),g=t.get(41),f=this._lineBreaksComputer.finalize();let m=0;for(let _=0;_<this._pendingLineChange.length;_++){const t=this._pendingLineChange[_],v=this._pendingViewZones[_],b=v.domNode;uz.applyFontInfoSlow(b,i);const y=v.marginDomNode;uz.applyFontInfoSlow(y,i);const w=[];if(t.charChanges)for(const e of t.charChanges)_1(e)&&w.push(new fV(new oe(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));const C=w.length>0,S=UF(1e4);let x=0,k=0,E=null;for(let r=t.originalStartLineNumber;r<=t.originalEndLineNumber;r++){const o=r-t.originalStartLineNumber,_=this._originalModel.getLineTokens(r),b=_.getLineContent(),D=f[m++],T=XB.filter(w,r,1,b.length+1);if(D){let t=0;for(const e of D.breakOffsets){const r=_.sliceAndInflate(t,e,0),o=b.substring(t,e);x=Math.max(x,this._renderOriginalLine(k++,o,r,XB.extractWrapped(T,t,e),C,a,l,i,s,c,d,h,u,p,g,n,S,y)),t=e}for(E||(E=[]);E.length<o;)E[E.length]=1;E[o]=D.breakOffsets.length,v.heightInLines+=D.breakOffsets.length-1;const f=document.createElement("div");f.className="line-delete",e.original.push({afterLineNumber:r,afterColumn:0,heightInLines:D.breakOffsets.length-1,domNode:v1(),marginDomNode:f})}else x=Math.max(x,this._renderOriginalLine(k++,b,_,T,C,a,l,i,s,c,d,h,u,p,g,n,S,y))}x+=o;const D=S.build(),T=s1?s1.createHTML(D):D;if(b.innerHTML=T,v.minWidthInPx=x*r,E){const e=t.originalEndLineNumber-t.originalStartLineNumber;for(;E.length<=e;)E[E.length]=1}v.diff.viewLineCounts=E}e.original.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber))}_renderOriginalLine(e,t,n,i,s,r,o,a,l,c,d,h,u,p,g,f,m,_){m.appendASCIIString('<div class="view-line'),s||m.appendASCIIString(" char-delete"),m.appendASCIIString('" style="top:'),m.appendASCIIString(String(e*c)),m.appendASCIIString('px;width:1000000px;">');const v=gV.isBasicASCII(t,r),b=gV.containsRTL(t,v,o),y=rV(new nV(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,v,b,0,n,i,f,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,h,u,p,g!==fP.OFF,null),m);if(m.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className=`delete-sign ${xU.asClassName(i1)}`,t.setAttribute("style",`position:absolute;top:${e*c}px;width:${d}px;height:${c}px;right:0;`),_.appendChild(t)}const w=y.characterMapping.getAbsoluteOffsets();return w.length>0?w[w.length-1]:0}}function f1(e,t){return dP(e,t,["off","on","inherit"])}function m1(e){return e.modifiedEndLineNumber>0}function _1(e){return e.originalEndLineNumber>0}function v1(){const e=document.createElement("div");return e.className="diagonal-fill",e}function b1(e,t,n,i){const s=e.getLineCount();return n=Math.min(s,Math.max(1,n)),i=Math.min(s,Math.max(1,i)),t.coordinatesConverter.convertModelRangeToViewRange(new oe(n,e.getLineMinColumn(n),i,e.getLineMaxColumn(i)))}LU(((e,t)=>{const n=e.getColor(CG);n&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${n}; }`));const i=e.getColor(SG);i&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`));const s=e.getColor(xG);s&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; }`);const r=e.getColor(kG);r&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const o=e.getColor(Cq);o&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${o}; }`);const a=e.getColor(EG);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(Sq);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const c=e.getColor(xq);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const d=e.getColor(kq);d&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${d};\n\t\t\t}\n\t\t`);const h=e.getColor(DG);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${h} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${h} 50%, ${h} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}));const y1=RP("themeService"),w1=RP("keybindingService");class C1 extends F{constructor(){super(),this._onCodeEditorAdd=this._register(new x),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new x),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new x),this._onDiffEditorRemove=this._register(new x),this._onDecorationTypeRegistered=this._register(new x),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const n of t){if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(e=n)}return e}setModelProperty(e,t,n){const i=e.toString();let s;this._modelProperties.has(i)?s=this._modelProperties.get(i):(s=new Map,this._modelProperties.set(i,s)),s.set(t,n)}getModelProperty(e,t){const n=e.toString();if(this._modelProperties.has(n)){return this._modelProperties.get(n).get(t)}}}class S1{constructor(e,t,n){this._parent=e,this._editorId=t,this._styleSheet=n,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){fR(e,this._styleSheet)}}class x1{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){fR(e,this._styleSheet)}}let k1=class extends C1{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new x1(hR())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!lR(t))return this._getOrCreateGlobalStyleSheet();const n=e.getId();if(!this._editorStyleSheets.has(n)){const e=new S1(this,n,hR(t));this._editorStyleSheets.set(n,e)}return this._editorStyleSheets.get(n)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,n,i){let s=this._decorationOptionProviders.get(e);if(!s){const r=this._getOrCreateStyleSheet(i),o={styleSheet:r,key:e,parentTypeKey:n,options:t||Object.create(null)};s=n?new E1(this._themeService,r,o):new D1(this._themeService,r,o),this._decorationOptionProviders.set(e,s),this._onDecorationTypeRegistered.fire(e)}s.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorations(e)))))}resolveDecorationOptions(e,t){const n=this._decorationOptionProviders.get(e);if(!n)throw new Error("Unknown decoration type key: "+e);return n.getOptions(this,t)}};k1=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,CU)],k1);class E1{constructor(e,t,n){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=n.parentTypeKey,this.refCount=0,this._beforeContentRules=new L1(3,n,e),this._afterContentRules=new L1(4,n,e)}getOptions(e,t){const n=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(n.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(n.afterContentClassName=this._afterContentRules.className),n}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class D1{constructor(e,t,n){this._disposables=new B,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;const i=t=>{const i=new L1(t,n,e);if(this._disposables.add(i),i.hasContent)return i.className};this.className=i(0);const s=(t=>{const i=new L1(t,n,e);return this._disposables.add(i),i.hasContent?{className:i.className,hasLetterSpacing:i.hasLetterSpacing}:null})(1);s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=i(3),this.afterContentClassName=i(4),this.glyphMarginClassName=i(2);const r=n.options;this.isWholeLine=Boolean(r.isWholeLine),this.stickiness=r.rangeBehavior;const o=r.light&&r.light.overviewRulerColor||r.overviewRulerColor,a=r.dark&&r.dark.overviewRulerColor||r.overviewRulerColor;void 0===o&&void 0===a||(this.overviewRuler={color:o||a,darkColor:a||o,position:r.overviewRulerLane||KA.Center})}getOptions(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const T1={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class L1{constructor(e,t,n){this._theme=n.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let i=N1.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(i=i+" "+N1.getClassName(this._providerArgs.parentTypeKey,e)),this._className=i,this._unThemedSelector=N1.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=n.onDidColorThemeChange((e=>{this._theme=n.getColorTheme(),this._removeCSS(),this._buildCSS()})):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,n,i;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),n=this.getCSSTextForModelDecorationClassName(e.light),i=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),n=this.getCSSTextForModelDecorationInlineClassName(e.light),i=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),n=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),n=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const s=this._providerArgs.styleSheet;let r=!1;t.length>0&&(s.insertRule(`${this._unThemedSelector} {${t}}`,0),r=!0),n.length>0&&(s.insertRule(`.vs${this._unThemedSelector} {${n}}`,0),r=!0),i.length>0&&(s.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${i}}`,0),r=!0),this._hasContent=r}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push($e(T1.contentIconPath,AR(P.revive(e.contentIconPath)))),"string"==typeof e.contentText){const n=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push($e(T1.contentText,n))}this.collectCSSText(e,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push($e(T1.gutterIconPath,AR(P.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push($e(T1.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push($e("box-sizing: border-box;")),!0)}collectCSSText(e,t,n){const i=n.length;for(let s of t){const t=this.resolveValue(e[s]);"string"==typeof t&&n.push($e(T1[s],t))}return n.length!==i}resolveValue(e){if((t=e)&&"string"==typeof t.id){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}var t;return e}}class N1{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,n){let i=".monaco-editor ."+this.getClassName(e,n);return t&&(i=i+"."+this.getClassName(t,n)),3===n?i+="::before":4===n&&(i+="::after"),i}}var I1=function(e,t){return function(n,i){t(n,i,e)}};let P1=class extends k1{constructor(e,t,n){super(e,n),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,n){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const n=t.resource.scheme;if(n===EO.http||n===EO.https)return RR(t.resource.toString()),e}return null}const n=t.options?t.options.selection:null;if(n)if("number"==typeof n.endLineNumber&&"number"==typeof n.endColumn)e.setSelection(n),e.revealRangeInCenter(n,1);else{const t={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const n=e.getModel();return n&&n.uri.toString()!==t.toString()?null:n}};P1=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([I1(1,_U),I1(2,CU)],P1);var O1=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},R1=function(e,t){return function(n,i){t(n,i,e)}};let A1=0,M1=!1;function F1(){M1||(M1=!0,function(e){RH=document.createElement("div"),RH.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),RH.appendChild(e),e};AH=t(),MH=t();const n=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),RH.appendChild(e),e};FH=n(),BH=n(),e.appendChild(RH)}(document.body))}let B1=class extends JQ{constructor(e,t,n,i,s,r,o,a,l,c){const d=Object.assign({},t);d.ariaLabel=d.ariaLabel||dH.editorViewAccessibleLabel,d.ariaLabel=d.ariaLabel+";"+dH.accessibilityHelpMessage,super(e,d,{},n,i,s,r,a,l,c),this._standaloneKeybindingService=o instanceof SH?o:null,F1()}addCommand(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let i="DYNAMIC_"+ ++A1,s=JH.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(i,e,t,s),i}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),F.None;const t=e.id,n=e.label,i=JH.and(JH.equals("editorId",this.getId()),JH.deserialize(e.precondition)),s=e.keybindings,r=JH.and(i,JH.deserialize(e.keybindingContext)),o=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...n)=>Promise.resolve(e.run(this,...n)),c=new B,d=this.getId()+":"+t;if(c.add(vA.registerCommand(d,l)),o){let e={command:{id:d,title:n},when:i,group:o,order:a};c.add(AU.appendMenuItem(OU.EditorContext,e))}if(Array.isArray(s))for(const u of s)c.add(this._standaloneKeybindingService.addDynamicKeybinding(d,u,l,r));let h=new sQ(d,n,n,i,l,this._contextKeyService);return this._actions[t]=h,c.add(I((()=>{delete this._actions[t]}))),c}_triggerCommand(e,t){if(this._codeEditorService instanceof P1)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};B1=O1([R1(2,PP),R1(3,MP),R1(4,_A),R1(5,_U),R1(6,w1),R1(7,CU),R1(8,JW),R1(9,NQ)],B1);let V1=class extends B1{constructor(e,t,n,i,s,r,o,a,l,c,d,h,u,p,g){const f=Object.assign({},t);NH(h,f,!1);const m=c.registerEditorContainer(e);"string"==typeof f.theme&&c.setTheme(f.theme),void 0!==f.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast));let _,v=f.model;if(delete f.model,super(e,f,i,s,r,o,a,c,d,u),this._contextViewService=l,this._configurationService=h,this._standaloneThemeService=c,this._register(n),this._register(m),void 0===v?(_=H1(p,g,f.value||"",f.language||"text/plain",void 0),this._ownsModel=!0):(_=v,this._ownsModel=!1),this._attachModel(_),_){let e={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){NH(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};V1=O1([R1(3,PP),R1(4,MP),R1(5,_A),R1(6,_U),R1(7,w1),R1(8,$0),R1(9,y1),R1(10,JW),R1(11,TW),R1(12,NQ),R1(13,CM),R1(14,wF)],V1);let W1=class extends r1{constructor(e,t,n,i,s,r,o,a,l,c,d,h,u,p,g){const f=Object.assign({},t);NH(h,f,!0);const m=c.registerEditorContainer(e);"string"==typeof f.theme&&c.setTheme(f.theme),void 0!==f.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast)),super(e,f,{},g,a,s,i,l,c,d,u,p),this._contextViewService=o,this._configurationService=h,this._standaloneThemeService=c,this._register(n),this._register(m),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){NH(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,n){return e.createInstance(B1,t,n)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function H1(e,t,n,i,s){if(n=n||"",!i){const i=n.indexOf("\n");let r=n;return-1!==i&&(r=n.substring(0,i)),U1(e,n,t.createByFilepathOrFirstLine(s||null,r),s)}return U1(e,n,t.create(i),s)}function U1(e,t,n,i){return e.createModel(t,n,i)}W1=O1([R1(3,PP),R1(4,_U),R1(5,w1),R1(6,$0),R1(7,yF),R1(8,MP),R1(9,y1),R1(10,JW),R1(11,TW),R1(12,K0),R1(13,X0),R1(14,Y0)],W1);class z1{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}let j1=[],$1=[],K1=[];function q1(e,t=!1){const n=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf($.sep)>=0}}(e);j1.push(n),n.userConfigured?K1.push(n):$1.push(n),t&&!n.userConfigured&&j1.forEach((e=>{e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&e.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&e.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&e.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))}))}function G1(e,t){let n;if(e)switch(e.scheme){case EO.file:n=e.fsPath;break;case EO.data:n=fA.parseMetaData(e).get(fA.META_DATA_LABEL);break;default:n=e.path}if(!n)return["application/unknown"];n=n.toLowerCase();const i=le(n),s=Y1(n,i,K1);if(s)return[s,"text/plain"];const r=Y1(n,i,$1);if(r)return[r,"text/plain"];if(t){const e=function(e){Re(e)&&(e=e.substr(1));if(e.length>0)for(let t=j1.length-1;t>=0;t--){const n=j1[t];if(!n.firstline)continue;const i=e.match(n.firstline);if(i&&i.length>0)return n.mime}return null}(t);if(e)return[e,"text/plain"]}return["application/unknown"]}function Y1(e,t,n){let i=null,s=null,r=null;for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.filenameLowercase){i=a;break}if(a.filepattern&&(!s||a.filepattern.length>s.filepattern.length)){const n=a.filepatternOnPath?e:t;bM(a.filepatternLowercase,n)&&(s=a)}a.extension&&(!r||a.extension.length>r.extension.length)&&t.endsWith(a.extensionLowercase)&&(r=a)}return i?i.mime:s?s.mime:r?r.mime:null}const Z1=new class{constructor(){this._onDidChangeLanguages=new x,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};ZV.add("editor.modesRegistry",Z1);const X1=new OM("plaintext",1);Z1.registerLanguage({id:"plaintext",extensions:[".txt"],aliases:[JI(0,"Plain Text"),"text"],mimetypes:["text/plain"]}),dB.register(X1,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0);const J1=Object.prototype.hasOwnProperty;class Q1 extends F{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new x),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(Z1.onDidChangeLanguages((e=>this._initializeFromRegistry()))))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=Z1.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),ZV.as(QV).registerOverrideIdentifiers(Z1.getLanguages().map((e=>e.id))),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let n;if(J1.call(this._languages,t))n=this._languages[t];else{const e=this._getLanguageId(t);n={identifier:new OM(t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=n}this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i=`text/x-${n}`,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)q1({id:n,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)q1({id:n,mime:i,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)q1({id:n,mime:i,filepattern:a},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);St(t)||q1({id:n,mime:i,firstline:t},this._warnOnOverwrite)}catch(o){V(o)}}e.aliases.push(n);let s=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(s=0===t.aliases.length?[null]:t.aliases),null!==s)for(const a of s)a&&0!==a.length&&e.aliases.push(a);let r=null!==s&&s.length>0;if(r&&null===s[0]);else{let t=(r?s[0]:null)||n;!r&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!J1.call(this._mimeTypesMap,e)||J1.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return J1.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map((e=>e.trim())).map((e=>J1.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e)).filter((e=>J1.call(this._languages,e))):[]}getLanguageIdentifier(e){if("vs.editor.nullMode"===e||0===e)return _F;let t;if("string"==typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return J1.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let n=G1(e,t);return this.extractModeIds(n.join(","))}}class e2{constructor(e,t){let n;this._selector=t,this.languageIdentifier=this._selector(),this._onDidChange=new x({onFirstListenerAdd:()=>{n=e((()=>this._evaluate()))},onLastListenerRemove:()=>{n.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class t2 extends F{constructor(e=!1){super(),this._onDidCreateMode=this._register(new x),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new x({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new Q1(!0,e)),this._register(this._registry.onDidChange((()=>this._onLanguagesMaybeChanged.fire())))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return xB(this._registry.getModeIdsFromFilepathOrFirstLine(e,t),null)}getModeId(e){return xB(this._registry.extractModeIds(e),null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new e2(this.onLanguagesMaybeChanged,(()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)}))}createByFilepathOrFirstLine(e,t){return new e2(this.onLanguagesMaybeChanged,(()=>{const n=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(n)}))}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||_F;return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||_F;this._instantiatedModes[e]=new z1(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}const n2=RP("undoRedoService");class i2{constructor(e,t){this.resource=e,this.elements=t}}class s2{constructor(){this.id=s2._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}s2._ID=0,s2.None=new s2;class r2{constructor(){this.id=r2._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}r2._ID=0,r2.None=new r2;class o2{constructor(e,t,n){this._legend=e,this._themeService=t,this._logService=n,this._hashTable=new c2,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,n){const i=this._hashTable.get(e,t,n.id);let s;if(i)s=i.metadata,this._logService.getLevel()===PB.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${RM.getForeground(s)}, fontStyle ${RM.getFontStyle(s).toString(2)}`);else{let i=this._legend.tokenTypes[e];const r=[];if(i){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&r.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===PB.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const o=this._themeService.getColorTheme().getTokenStyleMetadata(i,r,n.language);if(void 0===o)s=2147483647;else{if(s=0,void 0!==o.italic){s|=1|(o.italic?1:0)<<11}if(void 0!==o.bold){s|=2|(o.bold?2:0)<<11}if(void 0!==o.underline){s|=4|(o.underline?4:0)<<11}if(o.foreground){s|=8|o.foreground<<14}0===s&&(s=2147483647)}}else this._logService.getLevel()===PB.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,i="not-in-legend";this._hashTable.add(e,t,n.id,s),this._logService.getLevel()===PB.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${i}) / ${t} (${r.join(" ")}): foreground ${RM.getForeground(s)}, fontStyle ${RM.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}}function a2(e,t,n){const i=e.data,s=e.data.length/5|0,r=Math.max(Math.ceil(s/1024),400),o=[];let a=0,l=1,c=0;for(;a<s;){const e=a;let d=Math.min(e+r,s);if(d<s){let t=d;for(;t-1>e&&0===i[5*t];)t--;if(t-1===e){let e=d;for(;e+1<s&&0===i[5*e];)e++;d=e}else d=t}let h=new Uint32Array(4*(d-e)),u=0,p=0,g=0,f=0,m=0;for(;a<d;){const e=5*a,s=i[e],r=i[e+1],o=l+s,d=0===s?c+r:r,_=i[e+2],v=i[e+3],b=i[e+4],y=t.getMetadata(v,b,n);2147483647!==y&&(0===p&&(p=o),g===o&&m>d&&(t.warnOverlappingSemanticTokens(o,d+1),f<d?h[u-4+2]=d:u-=4),h[u]=o-p,h[u+1]=d,h[u+2]=d+_,h[u+3]=y,u+=4,g=o,f=d,m=d+_),l=o,c=d,a++}u!==h.length&&(h=h.subarray(0,u));const _=new f$(p,new p$(h));o.push(_)}return o}class l2{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class c2{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=c2._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<c2._SIZES.length?2/3*this._currentLength:0),this._elements=[],c2._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let s=this._elements[i];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===n)return s;s=s.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=c2._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<c2._SIZES.length?2/3*this._currentLength:0),this._elements=[],c2._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new l2(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}function d2(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const n of e.deltas)n.data&&(t+=n.data.length)}return t}(e));let n=0;if(t[n++]=e.id,"full"===e.type)t[n++]=1,t[n++]=e.data.length,t.set(e.data,n),n+=e.data.length;else{t[n++]=2,t[n++]=e.deltas.length;for(const i of e.deltas)t[n++]=i.start,t[n++]=i.deleteCount,i.data?(t[n++]=i.data.length,t.set(i.data,n),n+=i.data.length):t[n++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return ve()||function(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0],i=e[t+1],s=e[t+2],r=e[t+3];e[t+0]=r,e[t+1]=s,e[t+2]=i,e[t+3]=n}}(t),ZR.wrap(t)}(t)}c2._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var h2=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function u2(e){return e&&!!e.data}function p2(e,t,n){const i=g2(e);return i?{provider:i,request:Promise.resolve(i.provideDocumentSemanticTokens(e,t,n))}:null}function g2(e){const t=pF.ordered(e);return t.length>0?t[0]:null}function f2(e){const t=gF.ordered(e);return t.length>0?t[0]:null}vA.registerCommand("_provideDocumentSemanticTokensLegend",((e,...t)=>h2(void 0,void 0,void 0,(function*(){const[n]=t;Ye(n instanceof P);const i=e.get(CM).getModel(n);if(!i)return;const s=g2(i);return s?s.getLegend():e.get(_A).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)})))),vA.registerCommand("_provideDocumentSemanticTokens",((e,...t)=>h2(void 0,void 0,void 0,(function*(){const[n]=t;Ye(n instanceof P);const i=e.get(CM).getModel(n);if(!i)return;const s=p2(i,null,ne.None);if(!s)return e.get(_A).executeCommand("_provideDocumentRangeSemanticTokens",n,i.getFullModelRange());const{provider:r,request:o}=s;let a;try{a=yield o}catch(c){return void xt(c)}if(!a||!u2(a))return;const l=d2({id:0,type:"full",data:a.data});return a.resultId&&r.releaseDocumentSemanticTokens(a.resultId),l})))),vA.registerCommand("_provideDocumentRangeSemanticTokensLegend",((e,...t)=>h2(void 0,void 0,void 0,(function*(){const[n]=t;Ye(n instanceof P);const i=e.get(CM).getModel(n);if(!i)return;const s=f2(i);return s?s.getLegend():void 0})))),vA.registerCommand("_provideDocumentRangeSemanticTokens",((e,...t)=>h2(void 0,void 0,void 0,(function*(){const[n,i]=t;Ye(n instanceof P),Ye(oe.isIRange(i));const s=e.get(CM).getModel(n);if(!s)return;const r=f2(s);if(!r)return;let o;try{o=yield r.provideDocumentRangeSemanticTokens(s,oe.lift(i),ne.None)}catch(a){return void xt(a)}return o&&u2(o)?d2({id:0,type:"full",data:o.data}):void 0}))));var m2=function(e,t){return function(n,i){t(n,i,e)}};function _2(e){return e.toString()}function v2(e){const t=new Et,n=e.createSnapshot();let i;for(;i=n.read();)t.update(i);return t.digest()}class b2{constructor(e,t,n){this._modelEventListeners=new B,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>n(e,t))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(e.languageIdentifier))),this.model.setMode(e.languageIdentifier)}}const y2=w||S?1:2;class w2{constructor(e,t,n,i,s,r,o,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=s,this.sha1=r,this.versionId=o,this.alternativeVersionId=a}}let C2=class e extends F{constructor(e,t,n,i,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=n,this._logService=i,this._undoRedoService=s,this._onModelAdded=this._register(new x),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new x),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new x),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new k2(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new x2(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let n=wP;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let i=n;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let s=SP;e.editor&&void 0!==e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let r=y2;const o=e.eol;"\r\n"===o?r=2:"\n"===o&&(r=1);let a=kP;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(a="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let l=xP;e.editor&&void 0!==e.editor.detectIndentation&&(l="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=EP;return e.editor&&void 0!==e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:n,indentSize:i,insertSpaces:s,detectIndentation:l,defaultEOL:r,trimAutoWhitespace:a,largeFileOptimizations:c}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"auto"!==n?n:3===Be||2===Be?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,n,i){let s=this._modelCreationOptionsByLanguageAndResource[t+n];if(!s){const r=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:n}),o=this._getEOL(n,t);s=e._readModelOptions({editor:r,eol:o},i),this._modelCreationOptionsByLanguageAndResource[t+n]=s}return s}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let i=0,s=n.length;i<s;i++){const s=n[i],r=this._models[s],o=r.model.getLanguageIdentifier().language,a=r.model.uri,l=t[o+a],c=this.getCreationOptions(o,a,r.model.isForSimpleWidget);e._setModelOptionsForModel(r.model,c,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_insertDisposedModel(e){this._disposedModels.set(_2(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(_2(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(_2(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const s=this.getCreationOptions(t.language,n,i),r=new q$(e,s,t,n,this._undoRedoService);if(n&&this._disposedModels.has(_2(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=v2(r)===e.sha1;if(i||e.sharesUndoRedoStack){for(const e of t.past)sj(e)&&e.matchesResource(n)&&e.setModel(r);for(const e of t.future)sj(e)&&e.matchesResource(n)&&e.setModel(r);this._undoRedoService.setElementsValidFlag(n,!0,(e=>sj(e)&&e.matchesResource(n))),i&&(r._overwriteVersionId(e.versionId),r._overwriteAlternativeVersionId(e.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const o=_2(r.uri);if(this._models[o])throw new Error("ModelService: Cannot add model because it already exists!");const a=new b2(r,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[o]=a,a}createModel(e,t,n,i=!1){let s;return t?(s=this._createModelData(e,t.languageIdentifier,n,i),this.setMode(s.model,t)):s=this._createModelData(e,X1,n,i),this._onModelAdded.fire(s.model),s.model}setMode(e,t){if(!t)return;const n=this._models[_2(e.uri)];n&&n.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=_2(e),n=this._models[t];return n?n.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(t){const n=_2(t.uri),i=this._models[n],s=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let r=!1,o=0;if(s||this._shouldRestoreUndoStack()&&((a=t.uri).scheme===EO.file||a.scheme===EO.vscodeRemote||a.scheme===EO.userData||"fake-fs"===a.scheme)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const n of e.past)sj(n)&&n.matchesResource(t.uri)&&(r=!0,o+=n.heapSize(t.uri),n.setModel(t.uri));for(const n of e.future)sj(n)&&n.matchesResource(t.uri)&&(r=!0,o+=n.heapSize(t.uri),n.setModel(t.uri))}}var a;const l=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(r)if(!s&&o>l){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(l-o),this._undoRedoService.setElementsValidFlag(t.uri,!1,(e=>sj(e)&&e.matchesResource(t.uri))),this._insertDisposedModel(new w2(t.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),s,o,v2(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!s){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[n],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,n){const i=n.oldLanguage,s=t.getLanguageIdentifier().language,r=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),o=this.getCreationOptions(s,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,o,r),this._onModelModeChanged.fire({model:t,oldModeId:i})}};C2.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,C2=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([m2(0,TW),m2(1,uB),m2(2,CU),m2(3,IB),m2(4,n2)],C2);function S2(e,t,n){var i;const s=null===(i=n.getValue("editor.semanticHighlighting",{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===i?void 0:i.enabled;return"boolean"==typeof s?s:t.getColorTheme().semanticHighlighting}class x2 extends F{constructor(e,t,n,i){super(),this._watchers=Object.create(null),this._semanticStyling=i;const s=e=>{this._watchers[e.uri.toString()]=new D2(e,t,this._semanticStyling)},r=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},o=()=>{for(let i of e.getModels()){const e=this._watchers[i.uri.toString()];S2(i,t,n)?e||s(i):e&&r(i,e)}};this._register(e.onModelAdded((e=>{S2(e,t,n)&&s(e)}))),this._register(e.onModelRemoved((e=>{const t=this._watchers[e.uri.toString()];t&&r(e,t)}))),this._register(n.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&o()}))),this._register(t.onDidColorThemeChange(o))}}class k2 extends F{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(e){return this._caches.has(e)||this._caches.set(e,new o2(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class E2{constructor(e,t,n){this._provider=e,this.resultId=t,this.data=n}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class D2 extends F{constructor(e,t,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=n,this._fetchDocumentSemanticTokens=this._register(new wO((()=>this._fetchDocumentSemanticTokensNow()),D2.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}))),this._register(this._model.onDidChangeLanguage((()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)})));const i=()=>{De(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of pF.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};i(),this._register(pF.onDidChange((()=>{i(),this._fetchDocumentSemanticTokens.schedule()}))),this._register(t.onDidColorThemeChange((e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=new L,t=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=p2(this._model,t,e.token);if(!n)return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const{provider:i,request:s}=n;this._currentDocumentRequestCancellationTokenSource=e;const r=[],o=this._model.onDidChangeContent((e=>{r.push(e)})),a=this._semanticStyling.get(i);s.then((e=>{this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),this._setDocumentSemanticTokens(i,e||null,a,r)}),(e=>{e&&(kt(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||V(e),this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),r.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())}))}static _copy(e,t,n,i,s){for(let r=0;r<s;r++)n[i+r]=e[t+r]}_setDocumentSemanticTokens(e,t,n,i){const s=this._currentDocumentResponse,r=()=>{i.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&n){if(!t)return this._model.setSemanticTokens(null,!0),void r();if((o=t)&&Array.isArray(o.edits)){if(!s)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:s.data};else{let e=0;for(const s of t.edits)e+=(s.data?s.data.length:0)-s.deleteCount;const n=s.data,i=new Uint32Array(n.length+e);let r=n.length,o=i.length;for(let s=t.edits.length-1;s>=0;s--){const e=t.edits[s],a=r-(e.start+e.deleteCount);a>0&&(D2._copy(n,r-a,i,o-a,a),o-=a),e.data&&(D2._copy(e.data,0,i,o-e.data.length,e.data.length),o-=e.data.length),r=e.start}r>0&&D2._copy(n,0,i,0,r),t={resultId:t.resultId,data:i}}}var o;if(u2(t)){this._currentDocumentResponse=new E2(e,t.resultId,t.data);const s=a2(t,n,this._model.getLanguageIdentifier());if(i.length>0)for(const e of i)for(const t of s)for(const n of e.changes)t.applyEdit(n.range,n.text);this._model.setSemanticTokens(s,!0)}else this._model.setSemanticTokens(null,!0);r()}else this._model.setSemanticTokens(null,!1)}}D2.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;class T2{constructor(e,t,n,i,s){this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=s}}const L2=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class N2{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(L2);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=F$.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class I2{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],n=0;for(let i=0,s=e.length;i<s;i++){let s=e[i],r=-1;if("string"==typeof s.fontStyle){r=0;let e=s.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4}}let o=null;"string"==typeof s.foreground&&(o=s.foreground);let a=null;"string"==typeof s.background&&(a=s.background),t[n++]=new T2(s.token||"",i,r,o,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{let n=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==n?n:e.index-t.index}));let n=0,i="000000",s="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(s=t.background)}let r=new N2;for(let d of t)r.getId(d);let o=r.getId(i),a=r.getId(s),l=new O2(n,o,a),c=new R2(l);for(let d=0,h=e.length;d<h;d++){let t=e[d];c.insert(t.token,t.fontStyle,r.getId(t.foreground),r.getId(t.background))}return new I2(r,c)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if(void 0===n){let e=this._match(t),i=function(e){let t=e.match(P2);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const P2=/\b(comment|string|regex|regexp)\b/;class O2{constructor(e,t,n){this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new O2(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class R2{constructor(e){this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));let s=this._children.get(t);return void 0!==s?s.match(n):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);let s,r,o=e.indexOf(".");-1===o?(s=e,r=""):(s=e.substring(0,o),r=e.substring(o+1));let a=this._children.get(s);void 0===a&&(a=new R2(this._mainRule.clone()),this._children.set(s,a)),a.insert(r,t,n,i)}}const A2={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Bq]:"#FFFFFE",[Vq]:"#000000",[tG]:"#E5EBF1",[AY]:"#D3D3D3",[MY]:"#939393",[nG]:"#ADD6FF4D"}},M2={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Bq]:"#1E1E1E",[Vq]:"#D4D4D4",[tG]:"#3A3D41",[AY]:"#404040",[MY]:"#707070",[nG]:"#ADD6FF26"}},F2={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Bq]:"#000000",[Vq]:"#FFFFFF",[AY]:"#FFFFFF",[MY]:"#FFFFFF"}};function B2(){const e=new x,t=I0;return t.onDidChange((()=>e.fire())),{onDidChange:e.event,getCSS(){const e={},n=n=>{let i=n.defaults;for(;xU.isThemeIcon(i);){const e=t.getIcon(i.id);if(!e)return;i=e.defaults}const s=i.fontId;if(s){const r=t.getIconFont(s);if(r)return e[s]=r,`.codicon-${n.id}:before { content: '${i.fontCharacter}'; font-family: ${MR(s)}; }`}return`.codicon-${n.id}:before { content: '${i.fontCharacter}'; }`},i=[];for(let s of t.getIcons()){const e=n(s);e&&i.push(e)}for(let t in e){const n=e[t].definition.src.map((e=>`${AR(e.location)} format('${e.format}')`)).join(", ");i.push(`@font-face { src: ${n}; font-family: ${MR(t)}; }`)}return i.join("\n")}}}const V2=ZV.as(UK),W2=ZV.as(DU);class H2{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let n=t.base;e.length>0?(U2(e)?this.id=e:this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,F$.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=z2(this.themeData.base);for(let n in t.colors)e.has(n)||e.set(n,F$.fromHex(t.colors[n]))}this.colors=e}return this.colors}getColor(e,t){const n=this.getColors().get(e);return n||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=V2.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case"vs":return yU.LIGHT;case"hc-black":return yU.HIGH_CONTRAST;default:return yU.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let n=z2(this.themeData.base);e=n.rules,n.encodedTokensColors&&(t=n.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=I2.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,n){const i=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=RM.getForeground(i),r=RM.getFontStyle(i);return{foreground:s,italic:Boolean(1&r),bold:Boolean(2&r),underline:Boolean(4&r)}}}function U2(e){return"vs"===e||"vs-dark"===e||"hc-black"===e}function z2(e){switch(e){case"vs":return A2;case"vs-dark":return M2;case"hc-black":return F2}}function j2(e){let t=z2(e);return new H2(e,t)}class $2 extends F{constructor(){super(),this._onColorThemeChange=this._register(new x),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set("vs",j2("vs")),this._knownThemes.set("vs-dark",j2("vs-dark")),this._knownThemes.set("hc-black",j2("hc-black"));const e=B2();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme("vs"),e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),function(e,t){const n=window.matchMedia(e);"function"==typeof n.addEventListener?n.addEventListener("change",t):n.addListener(t)}("(forced-colors: active)",(()=>{this._updateActualTheme()}))}registerEditorContainer(e){return lR(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=hR(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),F.None}_registerShadowDomContainer(e){const t=hR(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!U2(t.base)&&!U2(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new H2(e,t)),U2(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get("vs"),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get("hc-black"):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},n={addRule:n=>{t[n]||(e.push(n),t[n]=!0)}};W2.getThemingParticipants().forEach((e=>e(this._theme,n,this._environment)));const i=this._colorMapOverride||this._theme.tokenTheme.getColorMap();n.addRule(function(e){let t=[];for(let n=1,i=e.length;n<i;n++){let i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(i)),this._themeCSS=e.join("\n"),this._updateCSS(),fF.setColorMap(i),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}class K2{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class q2 extends K2{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}q2.INSTANCE=new q2;class G2 extends K2{constructor(e,t,n){super(e,null),this._configurationService=t,this._values=zR.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(6===e.source){const e=Array.from(ee.map(this._values,(([e])=>e)));this._values.clear(),n.fire(new X2(e))}else{const t=[];for(const n of e.affectedKeys){const e=`config.${n}`,i=this._values.findSuperstr(e);void 0!==i&&(t.push(...ee.map(i,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}n.fire(new X2(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(G2._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(G2._keyPrefix.length),n=this._configurationService.getValue(t);let i;switch(typeof n){case"number":case"boolean":case"string":i=n;break;default:i=Array.isArray(n)?JSON.stringify(n):n}return this._values.set(e,i),i}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}G2._keyPrefix="config.";class Y2{constructor(e,t,n){this._service=e,this._key=t,this._defaultValue=n,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Z2{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class X2{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class J2{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class Q2{constructor(e){this._onDidChangeContext=new Dt({merge:e=>new J2(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Y2(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new t3(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return BW.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContext.fire(new Z2(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Z2(e))}getContext(e){return this._isDisposed?q2.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute("data-keybinding-context")){const t=e.getAttribute("data-keybinding-context");return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let e3=class extends Q2{constructor(e){super(0),this._contexts=new Map,this._toDispose=new B,this._lastContextId=0;const t=new G2(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?q2.INSTANCE:this._contexts.get(e)||q2.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new K2(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};e3=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(0,TW)],e3);class t3 extends Q2{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new Tt,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute("data-keybinding-context")){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute("data-keybinding-context",String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute("data-keybinding-context"),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?q2.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}vA.registerCommand("setContext",(function(e,t,n){e.get(_U).createKey(String(t),n)})),vA.registerCommand({id:"getContextKeyInfo",handler:()=>[...mU.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:JI(0,"A command that returns information about context keys"),args:[]}}),vA.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(let n of mU.all())t.has(n.key)||(t.add(n.key),e.push(n));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));var n3,i3,s3;function r3(e,t,n){const i=n.mode===i3.ALIGN?n.offset:n.offset+n.size,s=n.mode===i3.ALIGN?n.offset+n.size:n.offset;return 0===n.position?t<=e-i?i:t<=s?s-t:Math.max(e-t,0):t<=s?s-t:t<=e-i?i:0}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?{start:0,end:0}:{start:n,end:i}}function n(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=n,e.intersects=function(e,i){return!n(t(e,i))},e.relativeComplement=function(e,t){const i=[],s={start:e.start,end:Math.min(t.start,e.end)},r={start:Math.max(t.end,e.start),end:e.end};return n(s)||i.push(s),n(r)||i.push(r),i}}(n3||(n3={})),(s3=i3||(i3={}))[s3.AVOID=0]="AVOID",s3[s3.ALIGN=1]="ALIGN";class o3 extends F{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=F.None,this.toDisposeOnSetContainer=F.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=LR(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,IR(this.view),this.setContainer(e,t),this._register(I((()=>this.setContainer(null,1))))}setContainer(e,t){var n;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(n=this.shadowRootHostElement)||void 0===n||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=LR(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=a3,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(LR("slot"))}else this.container.appendChild(this.view);const n=new B;o3.BUBBLE_UP_EVENTS.forEach((e=>{n.add(MO(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),o3.BUBBLE_DOWN_EVENTS.forEach((e=>{n.add(MO(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=n}}show(e){this.isVisible()&&this.hide(),IO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",NR(this.view),this.toDisposeOnClean=e.render(this.view)||F.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||M&&NO?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(mR(t)){let n=JO(t);e={top:n.top,left:n.left,width:n.width,height:n.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const n=eR(this.view),i=iR(this.view),s=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0;let o,a;if(0===(this.delegate.anchorAxisAlignment||0)){const t={offset:e.top-window.pageYOffset,size:e.height,position:0===s?0:1},l={offset:e.left,size:e.width,position:0===r?0:1,mode:i3.ALIGN};o=r3(window.innerHeight,i,t)+window.pageYOffset,n3.intersects({start:o,end:o+i},{start:t.offset,end:t.offset+t.size})&&(l.mode=i3.AVOID),a=r3(window.innerWidth,n,l)}else{const t={offset:e.left,size:e.width,position:0===r?0:1},l={offset:e.top,size:e.height,position:0===s?0:1,mode:i3.ALIGN};a=r3(window.innerWidth,n,t),n3.intersects({start:a,end:a+n},{start:t.offset,end:t.offset+t.size})&&(l.mode=i3.AVOID),o=r3(window.innerHeight,i,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===s?"bottom":"top"),this.view.classList.add(0===r?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=JO(this.container);this.view.style.top=o-(this.useFixedPosition?JO(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?JO(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),IR(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!sR(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}o3.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],o3.BUBBLE_DOWN_EVENTS=["click"];let a3='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';function l3(e){let t=e.definition;for(;t instanceof NM;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}function c3(...e){return function(t,n){for(let i=0,s=e.length;i<s;i++){const s=e[i](t,n);if(s)return s}return null}}const d3=function(e,t,n){if(!n||n.length<t.length)return null;let i;i=e?G(n,t):0===n.indexOf(t);if(!i)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function h3(e,t){const n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function u3(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){let s=null;return(s=u3(e,t,n+1,i+1))?y3({start:i,end:i+1},s):null}return u3(e,t,n,i+1)}function p3(e){return 97<=e&&e<=122}function g3(e){return 65<=e&&e<=90}function f3(e){return 48<=e&&e<=57}function m3(e){return 32===e||9===e||10===e||13===e}const _3=new Set;function v3(e){return m3(e)||_3.has(e)}function b3(e){return p3(e)||g3(e)||f3(e)}function y3(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function w3(e,t){for(let n=t;n<e.length;n++){const t=e.charCodeAt(n);if(g3(t)||f3(t)||n>0&&!b3(e.charCodeAt(n-1)))return n}return e.length}function C3(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;{let s=null,r=i+1;for(s=C3(e,t,n+1,i+1);!s&&(r=w3(t,r))<t.length;)s=C3(e,t,n+1,r),r++;return null===s?null:y3({start:i,end:i+1},s)}}function S3(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,n=0,i=0,s=0;for(let r=0;r<e.length;r++)i=e.charCodeAt(r),g3(i)&&t++,p3(i)&&n++,m3(i)&&s++;return 0!==t&&0!==n||0!==s?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const n=function(e){let t=0,n=0,i=0,s=0,r=0;for(let o=0;o<e.length;o++)r=e.charCodeAt(o),g3(r)&&t++,p3(r)&&n++,b3(r)&&i++,f3(r)&&s++;return{upperPercent:t/e.length,lowerPercent:n/e.length,alphaPercent:i/e.length,numericPercent:s/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:n,alphaPercent:i,numericPercent:s}=e;return n>.2&&t<.8&&i>.6&&s<.2}(n)){if(!function(e){const{upperPercent:t,lowerPercent:n}=e;return 0===n&&t>.6}(n))return null;t=t.toLowerCase()}let i=null,s=0;for(e=e.toLowerCase();s<t.length&&null===(i=C3(e,t,0,s));)s=w3(t,s+1);return i}function x3(e,t,n,i,s){if(n===e.length)return[];if(i===t.length)return null;if(r=e.charCodeAt(n),o=t.charCodeAt(i),r===o||v3(r)&&v3(o)){let r=null,o=i+1;if(r=x3(e,t,n+1,i+1,s),!s)for(;!r&&(o=k3(t,o))<t.length;)r=x3(e,t,n+1,o,s),o++;return null===r?null:y3({start:i,end:i+1},r)}return null;var r,o}function k3(e,t){for(let n=t;n<e.length;n++)if(v3(e.charCodeAt(n))||n>0&&v3(e.charCodeAt(n-1)))return n;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((e=>_3.add(e.charCodeAt(0))));const E3=c3(d3,S3,h3),D3=c3(d3,S3,(function(e,t){return u3(e.toLowerCase(),t.toLowerCase(),0,0)})),T3=new KR(1e4);function L3(e,t,n=!1){if("string"!=typeof e||"string"!=typeof t)return null;let i=T3.get(e);i||(i=new RegExp(Lt(e),"i"),T3.set(e,i));const s=i.exec(t);return s?[{start:s.index,end:s.index+s[0].length}]:n?D3(e,t):E3(e,t)}function N3(e,t,n,i,s,r){const o=Math.min(13,e.length);for(;n<o;n++){const o=j3(e,t,n,i,s,r,!1);if(o)return o}return[0,r]}function I3(e){if(void 0===e)return[];const t=[],n=e[1];for(let i=e.length-1;i>1;i--){const s=e[i]+n,r=t[t.length-1];r&&r.end===s?r.end=s+1:t.push({start:s,end:s+1})}return t}function P3(){const e=[],t=[];for(let n=0;n<=128;n++)t[n]=0;for(let n=0;n<=128;n++)e.push(t.slice(0));return e}function O3(e){const t=[];for(let n=0;n<=e;n++)t[n]=0;return t}const R3=O3(256),A3=O3(256),M3=P3(),F3=P3(),B3=P3();function V3(e,t){if(t<0||t>=e.length)return!1;const n=e.codePointAt(t);switch(n){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!at(n)}}function W3(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function H3(e,t,n){return t[e]!==n[e]}var U3,z3;function j3(e,t,n,i,s,r,o){const a=e.length>128?128:e.length,l=i.length>128?128:i.length;if(n>=a||r>=l||a-n>l-r)return;if(!function(e,t,n,i,s,r,o=!1){for(;t<n&&s<r;)e[t]===i[s]&&(o&&(R3[t]=s),t+=1),s+=1;return t===n}(t,n,a,s,r,l,!0))return;!function(e,t,n,i,s,r){let o=e-1,a=t-1;for(;o>=n&&a>=i;)s[o]===r[a]&&(A3[o]=a,o--),a--}(a,l,n,r,t,s);let c=1,d=1,h=n,u=r;const p=[!1];for(c=1,h=n;h<a;c++,h++){const o=R3[h],g=A3[h],f=h+1<a?A3[h+1]:l;for(d=o-r+1,u=o;u<f;d++,u++){let a=Number.MIN_SAFE_INTEGER,f=!1;u<=g&&(a=$3(e,t,h,n,i,s,u,l,r,0===M3[c-1][d-1],p));let m=0;a!==Number.MAX_SAFE_INTEGER&&(f=!0,m=a+F3[c-1][d-1]);const _=u>o,v=_?F3[c][d-1]+(M3[c][d-1]>0?-5:0):0,b=u>o+1&&M3[c][d-1]>0,y=b?F3[c][d-2]+(M3[c][d-2]>0?-5:0):0;if(b&&(!_||y>=v)&&(!f||y>=m))F3[c][d]=y,B3[c][d]=3,M3[c][d]=0;else if(_&&(!f||v>=m))F3[c][d]=v,B3[c][d]=2,M3[c][d]=0;else{if(!f)throw new Error("not possible");F3[c][d]=m,B3[c][d]=1,M3[c][d]=M3[c-1][d-1]+1}}}if(!p[0]&&!o)return;c--,d--;const g=[F3[c][d],r];let f=0,m=0;for(;c>=1;){let e=d;do{const t=B3[c][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);f>1&&t[n+c-1]===s[r+d-1]&&!H3(e+r-1,i,s)&&f+1>M3[c][e]&&(e=d),e===d?f++:f=1,m||(m=e),c--,d=e-1,g.push(d)}l===a&&(g[0]+=2);const _=m-a;return g[0]-=_,g}function $3(e,t,n,i,s,r,o,a,l,c,d){if(t[n]!==r[o])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return o===n-i?h=e[n]===s[o]?7:5:!H3(o,s,r)||0!==o&&H3(o-1,s,r)?!V3(r,o)||0!==o&&V3(r,o-1)?(V3(r,o-1)||W3(r,o-1))&&(h=5,u=!0):h=5:(h=e[n]===s[o]?7:5,u=!0),h>1&&n===i&&(d[0]=!0),u||(u=H3(o,s,r)||V3(r,o-1)||W3(r,o-1)),n===i?o>l&&(h-=u?3:5):h+=c?u?2:0:u?0:1,o+1===a&&(h-=u?3:5),h}function K3(e,t,n,i,s,r,o){return function(e,t,n,i,s,r,o,a){let l=j3(e,t,n,i,s,r,a);if(l&&!o)return l;if(e.length>=3){const t=Math.min(7,e.length-1);for(let o=n+1;o<t;o++){const t=q3(e,o);if(t){const e=j3(t,t.toLowerCase(),n,i,s,r,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,n,i,s,r,!0,o)}function q3(e,t){if(t+1>=e.length)return;const n=e[t],i=e[t+1];return n!==i?e.slice(0,t)+i+n+e.slice(t+2):void 0}(z3=U3||(U3={})).Default=[-100,0],z3.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]};const G3=new RegExp(`\\$\\(${IM.iconNameExpression}(?:${IM.iconModifierExpression})?\\)`,"g"),Y3=new RegExp(`(\\\\)?${G3.source}`,"g");const Z3=new RegExp(`\\\\${G3.source}`,"g");const X3=new RegExp(`(\\s)?(\\\\)?${G3.source}(\\s)?`,"g");function J3(e){return-1===e.indexOf("$(")?e:e.replace(X3,((e,t,n,i)=>n?e:t||i||""))}function Q3(e){const t=e.indexOf("$(");return-1===t?{text:e}:function(e,t){const n=[];let i="";function s(e){if(e){i+=e;for(const t of e)n.push(c)}}let r,o,a=-1,l="",c=0,d=t;const h=e.length;s(e.substr(0,t));for(;d<h;){if(r=e[d],o=e[d+1],r==="$("[0]&&o==="$("[1])a=d,s(l),l="$(",d++;else if(")"===r&&-1!==a){c+=d-a+1,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(r)?l+=r:(s(l),a=-1,l=""):s(r);d++}return s(l),{text:i,iconOffsets:n}}(e,t)}function e4(e,t,n=!1){const{text:i,iconOffsets:s}=t;if(!s||0===s.length)return L3(e,i,n);const r=Nt(i," "),o=i.length-r.length,a=L3(e,r,n);if(a)for(const l of a){const e=s[l.start+o]+o;l.start+=e,l.end+=e}return a}const t4=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,n4=/(&amp;)?(&amp;)([^\s&])/g,i4=LM("menu-selection",NM.check),s4=LM("menu-submenu",NM.chevronRight);var r4,o4;(o4=r4||(r4={}))[o4.Right=0]="Right",o4[o4.Left=1]="Left";class a4 extends N0{constructor(e,t,n={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const i=document.createElement("div");i.classList.add("monaco-menu"),i.setAttribute("role","presentation"),super(i,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,n,s),context:n.context,actionRunner:n.actionRunner,ariaLabel:n.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...S||w?[10]:[]],keyDown:!0}}),this.menuElement=i,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new B),this.initializeStyleSheet(e),RO(i,_R.KEY_DOWN,(e=>{new iO(e).equals(2)&&e.preventDefault()})),n.enableMnemonics&&this.menuDisposables.add(RO(i,_R.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){vR(e,!0);const n=this.mnemonics.get(t);if(1===n.length&&(n[0]instanceof c4&&n[0].container&&this.focusItemByElement(n[0].container),n[0].onClick(e)),n.length>1){const e=n.shift();e&&e.container&&(this.focusItemByElement(e.container),n.push(e)),this.mnemonics.set(t,n)}}}))),w&&this._register(RO(i,_R.KEY_DOWN,(e=>{const t=new iO(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),vR(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),vR(e,!0))}))),this._register(RO(this.domNode,_R.MOUSE_OUT,(e=>{sR(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(RO(this.actionsList,_R.MOUSE_OVER,(e=>{let t=e.target;if(t&&sR(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));let s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new TX(i,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this._register(RO(r,_R.MOUSE_UP,(e=>{e.preventDefault()}))),i.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=n.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof d4))).forEach(((e,t,n)=>{e.updatePositionInSet(t+1,n.length)}))}initializeStyleSheet(e){lR(e)?(this.styleSheet=hR(e),this.styleSheet.textContent=h4):(a4.globalStyleSheet||(a4.globalStyleSheet=hR(),a4.globalStyleSheet.textContent=h4),this.styleSheet=a4.globalStyleSheet)}style(e){const t=this.getContainer(),n=e.foregroundColor?`${e.foregroundColor}`:"",i=e.backgroundColor?`${e.backgroundColor}`:"",s=e.borderColor?`1px solid ${e.borderColor}`:"",r=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=s,this.domNode.style.color=n,this.domNode.style.backgroundColor=i,t.style.boxShadow=r,this.viewItems&&this.viewItems.forEach((t=>{(t instanceof l4||t instanceof d4)&&t.style(e)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,n){if(e instanceof KH)return new d4(t.context,e,{icon:!0});if(e instanceof qH){const i=new c4(e,e.actions,n,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=i.getMnemonic();if(e&&i.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(i),this.mnemonics.set(e,t)}}return i}{const n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const i=t.getKeyBinding(e);if(i){const e=i.getLabel();e&&(n.keybinding=e)}}const i=new l4(t.context,e,n);if(t.enableMnemonics){const e=i.getMnemonic();if(e&&i.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(i),this.mnemonics.set(e,t)}}return i}}}class l4 extends D0{constructor(e,t,n={}){if(n.isMenu=!0,super(t,t,n),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass="",this.options.label&&n.enableMnemonics){let e=this.getAction().label;if(e){let t=t4.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new wO((()=>{this.element&&(this._register(RO(this.element,_R.MOUSE_UP,(e=>{if(vR(e,!0),UP){if(new lO(e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register(RO(this.element,_R.CONTEXT_MENU,(e=>{vR(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=wR(this.element,LR("a.action-menu-item")),this._action.id===KH.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=wR(this.item,LR("span.menu-item-check"+i4.cssSelector)),this.check.setAttribute("role","none"),this.label=wR(this.item,LR("span.action-label")),this.options.label&&this.options.keybinding&&(wR(this.item,LR("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){IO(this.label);let e=J3(this.getAction().label);if(e){const t=function(e){const t=t4,n=t.exec(e);if(!n)return e;const i=!n[1];return e.replace(t,i?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const n=t4.exec(e);if(n){e=bt(e),n4.lastIndex=0;let t=n4.exec(e);for(;t&&t[1];)t=n4.exec(e);const i=e=>e.replace(/&amp;&amp;/g,"&amp;");t?this.label.append(Nt(i(e.substr(0,t.index))," "),LR("u",{"aria-hidden":"true"},t[3]),It(i(e.substr(t.index+t[0].length))," ")):this.label.innerText=i(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=JI(0,"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){this.item&&(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,i=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=n?n.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=i)}style(e){this.menuStyle=e,this.applyStyle()}}class c4 extends l4{constructor(e,t,n,i){super(e,e,i),this.submenuActions=t,this.parentData=n,this.submenuOptions=i,this.mysubmenu=null,this.submenuDisposables=this._register(new B),this.mouseOver=!1,this.expandDirection=i&&void 0!==i.expandDirection?i.expandDirection:r4.Right,this.showScheduler=new wO((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new wO((()=>{this.element&&!sR(dR(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=wR(this.item,LR("span.submenu-indicator"+s4.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(RO(this.element,_R.KEY_UP,(e=>{let t=new iO(e);(t.equals(17)||t.equals(3))&&(vR(e,!0),this.createSubmenu(!0))}))),this._register(RO(this.element,_R.KEY_DOWN,(e=>{let t=new iO(e);dR()===this.item&&(t.equals(17)||t.equals(3))&&vR(e,!0)}))),this._register(RO(this.element,_R.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(RO(this.element,_R.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(RO(this.element,_R.FOCUS_OUT,(e=>{this.element&&!sR(dR(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)}))))}updateEnabled(){}onClick(e){vR(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,n,i){const s={top:0,left:0};return s.left=r3(e.width,t.width,{position:i===r4.Right?0:1,offset:n.left,size:n.width}),s.left>=n.left&&s.left<n.left+n.width&&(n.left+10+t.width<=e.width&&(s.left=n.left+10),n.top+=10,n.height=0),s.top=r3(e.height,t.height,{position:0,offset:n.top,size:0}),s.top+t.height===n.top&&s.top+n.height+t.height<=e.height&&(s.top+=n.height),s}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=wR(this.element,LR("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),n=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new a4(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new GH],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const i=this.element.getBoundingClientRect(),s={top:i.top-n,left:i.left,height:i.height+2*n,width:i.width},r=this.submenuContainer.getBoundingClientRect(),{top:o,left:a}=this.calculateSubmenuMenuLayout(new ZO(window.innerWidth,window.innerHeight),ZO.lift(r),s,this.expandDirection);this.submenuContainer.style.left=`${a}px`,this.submenuContainer.style.top=`${o}px`,this.submenuDisposables.add(RO(this.submenuContainer,_R.KEY_UP,(e=>{new iO(e).equals(15)&&(vR(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(RO(this.submenuContainer,_R.KEY_DOWN,(e=>{new iO(e).equals(15)&&vR(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class d4 extends T0{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}let h4=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${l3(i4)}\n${l3(s4)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;function u4(e,t){const n=Object.create(null);for(let i in t){const s=t[i];s&&(n[i]=SY(s,e))}return n}function p4(e,t,n){function i(i){const s=u4(e.getColorTheme(),t);"function"==typeof n?n(s):n.style(s)}return i(e.getColorTheme()),e.onDidColorThemeChange(i)}function g4(e,t,n){return p4(t,Object.assign(Object.assign({},f4),n||{}),e)}const f4={listFocusBackground:TG,listFocusForeground:LG,listFocusOutline:NG,listActiveSelectionBackground:IG,listActiveSelectionForeground:PG,listFocusAndSelectionBackground:IG,listFocusAndSelectionForeground:PG,listInactiveSelectionBackground:OG,listInactiveSelectionForeground:RG,listInactiveFocusBackground:AG,listInactiveFocusOutline:MG,listHoverBackground:FG,listHoverForeground:BG,listDropBackground:VG,listSelectionOutline:ZK,listHoverOutline:ZK,listFilterWidgetBackground:HG,listFilterWidgetOutline:UG,listFilterWidgetNoMatchesOutline:zG,listMatchesShadow:QK,treeIndentGuidesStroke:jG,tableColumnsBorder:$G},m4={shadowColor:QK,borderColor:GG,foregroundColor:YG,backgroundColor:ZG,selectionForegroundColor:XG,selectionBackgroundColor:JG,selectionBorderColor:QG,separatorColor:eY};class _4{constructor(e,t,n,i,s){this.contextViewService=e,this.telemetryService=t,this.notificationService=n,this.keybindingService=i,this.themeService=s,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let n;this.focusToReturn=document.activeElement;let i=mR(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:i=>{let s=e.getMenuClassName?e.getMenuClassName():"";s&&(i.className+=" "+s),this.options.blockMouse&&(this.block=i.appendChild(LR(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",ZP(this.block,_R.MOUSE_DOWN)((e=>e.stopPropagation())));const r=new B,o=e.actionRunner||new $H;var a,l;return o.onBeforeRun(this.onActionRun,this,r),o.onDidRun(this.onDidActionRun,this,r),n=new a4(i,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:o,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),r.add((a=n,p4(this.themeService,Object.assign(Object.assign({},m4),l),a))),n.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,r),n.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,r),ZP(window,_R.BLUR)((()=>{this.contextViewService.hideContextView(!0)}),null,r),ZP(window,_R.MOUSE_DOWN)((e=>{if(e.defaultPrevented)return;let t=new lO(e),n=t.target;if(!t.rightButton){for(;n;){if(n===i)return;n=n.parentElement}this.contextViewService.hideContextView(!0)}}),null,r),Pt(r,n)},focus:()=>{n&&n.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},i,!!i)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!kt(e.error)&&this.notificationService.error(e.error)}}var v4=function(e,t){return function(n,i){t(n,i,e)}};let b4=class extends F{constructor(e,t,n,i,s){super(),this.contextMenuHandler=new _4(n,e,t,i,s)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),FR.getInstance().resetKeyStatus()}};b4=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([v4(0,BU),v4(1,JW),v4(2,$0),v4(3,w1),v4(4,CU)],b4);const y4=RP("layoutService");let w4=class extends F{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=F.None,this.container=e.container,this.contextView=this._register(new o3(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,n){t?t!==this.container&&(this.container=t,this.setContainer(t,n?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const i=I((()=>{this.currentViewDisposable===i&&this.hideContextView()}));return this.currentViewDisposable=i,i}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};w4=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(0,y4)],w4);const C4=RP("dialogService");class S4{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class x4{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing.set(this._hashFn(t),i),i.incoming.set(this._hashFn(e),n)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let n of this._nodes.values())n.outgoing.delete(t),n.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let n=this._nodes.get(t);return n||(n=new S4(e),this._nodes.set(t,n)),n}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,n]of this._nodes)e.push(`${t}, (incoming)[${[...n.incoming.keys()].join(", ")}], (outgoing)[${[...n.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const n=new Set([e]),i=this._findCycle(t,n);if(i)return i}}_findCycle(e,t){for(let[n,i]of e.outgoing){if(t.has(n))return[...t,n].join(" -> ");t.add(n);const e=this._findCycle(i,t);if(e)return e;t.delete(n)}}}class k4 extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class E4{constructor(e=new LQ,t=!1,n){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=n,this._services.set(PP,this)}createChild(e){return new E4(e,this._strict,this)}invokeFunction(e,...t){let n=D4.traceInvocation(e),i=!1;try{return e({get:(e,t)=>{if(i)throw Ot("service accessor is only valid during the invocation of its target method");const s=this._getOrCreateServiceInstance(e,n);if(!s&&t!==AP)throw new Error(`[invokeFunction] unknown service '${e}'`);return s}},...t)}finally{i=!0,n.stop()}}createInstance(e,...t){let n,i;return e instanceof p0?(n=D4.traceCreation(e.ctor),i=this._createInstance(e.ctor,e.staticArguments.concat(t),n)):(n=D4.traceCreation(e),i=this._createInstance(e,t,n)),n.stop(),i}_createInstance(e,t=[],n){let i=NP.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),s=[];for(const o of i){let t=this._getOrCreateServiceInstance(o.id,n);if(!t&&this._strict&&!o.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${o.id}.`);s.push(t)}let r=i.length>0?i[0].index:t.length;if(t.length!==r){console.warn(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);let n=r-t.length;t=n>0?t.concat(new Array(n)):t.slice(0,r)}return new e(...[...t,...s])}_setServiceInstance(e,t){if(this._services.get(e)instanceof p0)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let n=this._getServiceInstanceOrDescriptor(e);return n instanceof p0?this._safeCreateAndCacheServiceInstance(e,n,t.branch(e,!0)):(t.branch(e,!1),n)}_safeCreateAndCacheServiceInstance(e,t,n){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,n)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,n){const i=new x4((e=>e.id.toString()));let s=0;const r=[{id:e,desc:t,_trace:n}];for(;r.length;){const t=r.pop();if(i.lookupOrInsertNode(t),s++>1e3)throw new k4(i);for(let n of NP.getServiceDependencies(t.desc.ctor)){let s=this._getServiceInstanceOrDescriptor(n.id);if(s||n.optional||console.warn(`[createInstance] ${e} depends on ${n.id} which is NOT registered.`),s instanceof p0){const e={id:n.id,desc:s,_trace:t._trace.branch(n.id,!0)};i.insertEdge(t,e),r.push(e)}}}for(;;){const e=i.roots();if(0===e.length){if(!i.isEmpty())throw new k4(i);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof p0){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}i.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,n=[],i,s){if(this._services.get(e)instanceof p0)return this._createServiceInstance(t,n,i,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],n,i){if(n){const n=new SO((()=>this._createInstance(e,t,i)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let i=n.value,s=i[t];return"function"!=typeof s||(s=s.bind(i),e[t]=s),s},set:(e,t,i)=>(n.value[t]=i,!0)})}return this._createInstance(e,t,i)}}class D4{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return D4._None}static traceCreation(e){return D4._None}branch(e,t){let n=new D4(2,e.toString());return this._dep.push([e,t,n]),n}stop(){let e=Date.now()-this._start;D4._totals+=e;let t=!1;let n=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(n,i){let s=[],r=new Array(n+1).join("\t");for(const[o,a,l]of i._dep)if(a&&l){t=!0,s.push(`${r}CREATES -> ${o}`);let i=e(n+1,l);i&&s.push(i)}else s.push(`${r}uses -> ${o}`);return s.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${D4._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join("\n"))}}D4._None=new class extends D4{constructor(){super(-1,null)}stop(){}branch(){return this}},D4._totals=0;const T4=RP("labelService");class L4 extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function N4(e,t){const n=[];for(let i of t){if(e.start>=i.range.end)continue;if(e.end<i.range.start)break;const t=n3.intersect(e,i.range);n3.isEmpty(t)||n.push({range:t,size:i.size})}return n}function I4({start:e,end:t},n){return{start:e+n,end:t+n}}class P4{constructor(){this.groups=[],this._size=0}splice(e,t,n=[]){const i=n.length-t,s=N4({start:0,end:e},this.groups),r=N4({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:I4(e.range,i),size:e.size}))),o=n.map(((t,n)=>({range:{start:e+n,end:e+n+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let n=null;for(let i of e){const e=i.range.start,s=i.range.end,r=i.size;n&&r===n.size?n.range.end=s:(n={range:{start:e,end:s},size:r},t.push(n))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(s,o,r),this._size=this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,n=0;for(let i of this.groups){const s=i.range.end-i.range.start,r=n+s*i.size;if(e<r)return t+Math.floor((e-n)/i.size);t+=s,n=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,n=0;for(let i of this.groups){const s=i.range.end-i.range.start,r=n+s;if(e<r)return t+(e-n)*i.size;t+=s*i.size,n=r}return-1}}class O4{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const n=LR(".monaco-list-row");t={domNode:n,templateId:e,templateData:this.getRenderer(e).renderTemplate(n)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:n}=e;t&&(t.classList.remove("scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(t){}}(t));this.getTemplateCache(n).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const n of e){this.getRenderer(t).disposeTemplate(n.templateData),n.templateData=null}})),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var R4=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};const A4={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class M4{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class F4{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class B4{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const n=e.files.item(t);n&&(n.size||n.type)&&this.files.push(n)}}}getData(){return{types:this.types,files:this.files}}}class V4{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,n)=>n,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class W4{constructor(e,t,n,i=A4){if(this.virtualDelegate=t,this.domId="list_id_"+ ++W4.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new gO(50),this.splicing=!1,this.dragOverAnimationStopDisposable=F.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=F.None,this.onDragLeaveTimeout=F.None,this.disposables=new B,this._onDidChangeContentHeight=new x,this._horizontalScrolling=!1,i.horizontalScrolling&&i.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new P4;for(const s of n)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new O4(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof i.mouseSupport||i.mouseSupport),this._horizontalScrolling=BA(i,(e=>e.horizontalScrolling),A4.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===i.additionalScrollHeight?0:i.additionalScrollHeight,this.accessibilityProvider=new V4(i.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";BA(i,(e=>e.transformOptimization),A4.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(bz.addTarget(this.rowsContainer)),this.scrollable=new bX(BA(i,(e=>e.smoothScrolling),!1)?125:0,(e=>HO(e))),this.scrollableElement=this.disposables.add(new DX(this.rowsContainer,{alwaysConsumeMouseWheel:BA(i,(e=>e.alwaysConsumeMouseWheel),A4.alwaysConsumeMouseWheel),horizontal:1,vertical:BA(i,(e=>e.verticalScrollMode),A4.verticalScrollMode),useShadows:BA(i,(e=>e.useShadows),A4.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),ZP(this.rowsContainer,_z.Change)((e=>this.onTouchChange(e)),this,this.disposables),ZP(this.scrollableElement.getDomNode(),"scroll")((e=>e.target.scrollTop=0),null,this.disposables),k.map(ZP(this.domNode,"dragover"),(e=>this.toDragEvent(e)))(this.onDragOver,this,this.disposables),k.map(ZP(this.domNode,"drop"),(e=>this.toDragEvent(e)))(this.onDrop,this,this.disposables),ZP(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),ZP(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=BA(i,(e=>e.setRowLineHeight),A4.setRowLineHeight),this.setRowHeight=BA(i,(e=>e.setRowHeight),A4.setRowHeight),this.supportDynamicHeights=BA(i,(e=>e.supportDynamicHeights),A4.supportDynamicHeights),this.dnd=BA(i,(e=>e.dnd),A4.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:tR(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling)}splice(e,t,n=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,n=[]){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},r=n3.intersect(i,s),o=new Map;for(let y=r.start;y<r.end;y++){const e=this.items[y];if(e.dragStartDisposable.dispose(),e.row){let t=o.get(e.templateId);t||(t=[],o.set(e.templateId,t));const n=this.renderers.get(e.templateId);n&&n.disposeElement&&n.disposeElement(e.element,y,e.row.templateData,e.size),t.push(e.row)}e.row=null}const a={start:e+t,end:this.items.length},l=n3.intersect(a,i),c=n3.relativeComplement(a,i),d=n.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:F.None})));let h;0===e&&t>=this.items.length?(this.rangeMap=new P4,this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const u=n.length-t,p=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),g=I4(l,u),f=n3.intersect(p,g);for(let y=f.start;y<f.end;y++)this.updateItemInDOM(this.items[y],y);const m=n3.relativeComplement(g,p);for(const y of m)for(let e=y.start;e<y.end;e++)this.removeItemFromDOM(e);const _=c.map((e=>I4(e,u))),v=[{start:e,end:e+n.length},..._].map((e=>n3.intersect(p,e))),b=this.getNextToLastElement(v);for(const y of v)for(let e=y.start;e<y.end;e++){const t=this.items[e],n=o.get(t.templateId),i=null==n?void 0:n.pop();this.insertItemInDOM(e,b,i)}for(const y of o.values())for(const e of y)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=HO((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let n={height:"number"==typeof e?e:nR(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:tR(this.domNode)})}render(e,t,n,i,s,r=!1){const o=this.getRenderRange(t,n),a=n3.relativeComplement(o,e),l=n3.relativeComplement(e,o),c=this.getNextToLastElement(a);if(r){const t=n3.intersect(e,o);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const d of a)for(let e=d.start;e<d.end;e++)this.insertItemInDOM(e,c);for(const d of l)for(let e=d.start;e<d.end;e++)this.removeItemFromDOM(e);void 0!==i&&(this.rowsContainer.style.left=`-${i}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==s&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=n}insertItemInDOM(e,t,n){const i=this.items[e];i.row||(i.row=null!=n?n:this.cache.alloc(i.templateId));const s=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",s);const r=this.accessibilityProvider.isChecked(i.element);void 0!==r&&i.row.domNode.setAttribute("aria-checked",String(!!r)),i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);const o=this.renderers.get(i.templateId);if(!o)throw new Error(`No renderer found for template id ${i.templateId}`);o&&o.renderElement(i.element,e,i.row.templateData,i.size);const a=this.dnd.getDragURI(i.element);if(i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a){const e=ZP(i.row.domNode,"dragstart");i.dragStartDisposable=e((e=>this.onDragStart(i.element,a,e)))}this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=UP?"-moz-fit-content":"fit-content",e.width=tR(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return k.map(ZP(this.domNode,"click"),(e=>this.toMouseEvent(e)))}get onMouseDblClick(){return k.map(ZP(this.domNode,"dblclick"),(e=>this.toMouseEvent(e)))}get onMouseMiddleClick(){return k.filter(k.map(ZP(this.domNode,"auxclick"),(e=>this.toMouseEvent(e))),(e=>1===e.browserEvent.button))}get onMouseDown(){return k.map(ZP(this.domNode,"mousedown"),(e=>this.toMouseEvent(e)))}get onContextMenu(){return k.map(ZP(this.domNode,"contextmenu"),(e=>this.toMouseEvent(e)))}get onTouchStart(){return k.map(ZP(this.domNode,"touchstart"),(e=>this.toTouchEvent(e)))}get onTap(){return k.map(ZP(this.rowsContainer,_z.Tap),(e=>this.toGestureEvent(e)))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,n){if(!n.dataTransfer)return;const i=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(S0,JSON.stringify([t])),n.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(i,n)),void 0===e&&(e=String(i.length));const t=LR(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),n.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>document.body.removeChild(t)),0)}this.currentDragData=new M4(i),E0.CurrentDragAndDropData=new F4(i),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,n)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),E0.CurrentDragAndDropData&&"vscode-ui"===E0.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(E0.CurrentDragAndDropData)this.currentDragData=E0.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new B4}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let n;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",n="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],n=CB(n).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),n=-1===n[0]?[-1]:n,i=this.currentDragFeedback,s=n,Array.isArray(i)&&Array.isArray(s)?gB(i,s):i===s)return!0;var i,s;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),-1===n[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=I((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of n){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=I((()=>{for(const e of n){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=_O((()=>this.clearDragOverFeedback()),100)}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,E0.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,E0.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=F.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=XO(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),n=HO(t)};let n=HO(t);return I((()=>n.dispose()))}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=_O((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let n=e;for(;n instanceof HTMLElement&&n!==this.rowsContainer&&t.contains(n);){const e=n.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}n=n.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,n){const i=this.getRenderRange(e,t);let s,r;e===this.elementTop(i.start)?(s=i.start,r=0):i.end-i.start>1&&(s=i.start+1,r=this.elementTop(s)-e);let o=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),o+=t,l=l||0!==t}if(!l){0!==o&&this.eventuallyUpdateScrollDimensions();const t=n3.relativeComplement(i,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=n3.relativeComplement(a,i);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,n=e<this.items.length?this.items[e].row:null,i=n?n.domNode:null;this.insertItemInDOM(t,i)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof s){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,i=this.elementTop(s)-r+t;this.setScrollTop(i,n)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const n=t.size;if(!this.setRowHeight&&t.row){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-n}const i=this.cache.alloc(t.templateId);i.domNode.style.height="",this.rowsContainer.appendChild(i.domNode);const s=this.renderers.get(t.templateId);return s&&(s.renderElement(t.element,e,i.templateData,void 0),s.disposeElement&&s.disposeElement(t.element,e,i.templateData,void 0)),t.size=i.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(i.domNode),this.cache.release(i),t.size-n}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const n=this.items[t.end];return n&&n.row?n.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),De(this.disposables)}}W4.InstanceCount=0,R4([mz],W4.prototype,"onMouseClick",null),R4([mz],W4.prototype,"onMouseDblClick",null),R4([mz],W4.prototype,"onMouseMiddleClick",null),R4([mz],W4.prototype,"onMouseDown",null),R4([mz],W4.prototype,"onContextMenu",null),R4([mz],W4.prototype,"onTouchStart",null),R4([mz],W4.prototype,"onTap",null);class H4{constructor(e){this.spliceables=e}splice(e,t,n){this.spliceables.forEach((i=>i.splice(e,t,n)))}}var U4,z4,j4=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},$4=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class K4{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,n){const i=this.renderedElements.findIndex((e=>e.templateData===n));if(i>=0){const e=this.renderedElements[i];this.trait.unrender(n),e.index=t}else{const e={index:t,templateData:n};this.renderedElements.push(e)}this.trait.renderIndex(t,n)}splice(e,t,n){const i=[];for(const s of this.renderedElements)s.index<e?i.push(s):s.index>=e+t&&i.push({index:s.index+n-t,templateData:s.templateData});this.renderedElements=i}renderIndexes(e){for(const{index:t,templateData:n}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,n)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class q4{constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new x,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new K4(this)}splice(e,t,n){const i=n.length-t,s=e+t,r=[...this.sortedIndexes.filter((t=>t<e)),...n.map(((t,n)=>t?n+e:-1)).filter((e=>-1!==e)),...this.sortedIndexes.filter((e=>e>=s)).map((e=>e+i))];this.renderer.splice(e,t,n.length),this._set(r,r)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(d5),t)}_set(e,t,n){const i=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=c5(s,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:n}),i}get(){return this.indexes}contains(e){return fB(this.sortedIndexes,e,d5)>=0}dispose(){De(this._onChange)}}j4([mz],q4.prototype,"renderer",null);class G4 extends q4{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class Y4{constructor(e,t,n){this.trait=e,this.view=t,this.identityProvider=n}splice(e,t,n){if(!this.identityProvider)return this.trait.splice(e,t,n.map((()=>!1)));const i=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString())),s=n.map((e=>i.indexOf(this.identityProvider.getId(e).toString())>-1));this.trait.splice(e,t,s)}}function Z4(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function X4(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&X4(e.parentElement))}class J4{constructor(e,t,n){this.list=e,this.view=t,this.disposables=new B;const i=!1!==n.multipleSelectionSupport,s=k.chain(ZP(t.domNode,"keydown")).filter((e=>!Z4(e.target))).map((e=>new iO(e)));s.filter((e=>3===e.keyCode)).on(this.onEnter,this,this.disposables),s.filter((e=>16===e.keyCode)).on(this.onUpArrow,this,this.disposables),s.filter((e=>18===e.keyCode)).on(this.onDownArrow,this,this.disposables),s.filter((e=>11===e.keyCode)).on(this.onPageUpArrow,this,this.disposables),s.filter((e=>12===e.keyCode)).on(this.onPageDownArrow,this,this.disposables),s.filter((e=>9===e.keyCode)).on(this.onEscape,this,this.disposables),i&&s.filter((e=>(S?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.disposables)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(EB(this.list.length),e.browserEvent),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose()}}(z4=U4||(U4={}))[z4.Idle=0]="Idle",z4[z4.Typing=1]="Typing";const Q4=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class e5{constructor(e,t,n,i){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=n,this.delegate=i,this.enabled=!1,this.state=U4.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new B,this.disposables=new B,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=k.chain(ZP(this.view.domNode,"keydown")).filter((e=>!Z4(e.target))).filter((()=>this.automaticKeyboardNavigation||this.triggered)).map((e=>new iO(e))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>{e.stopPropagation(),e.preventDefault()})).map((e=>e.browserEvent.key)).event,t=k.debounce(e,(()=>null),800);k.reduce(k.any(e,t),((e,t)=>null===t?null:(e||"")+t))(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const n=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));n&&VH(n)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=U4.Idle,void(this.triggered=!1);const t=this.list.getFocus(),n=t.length>0?t[0]:0,i=this.state===U4.Idle?1:0;this.state=U4.Typing;for(let s=0;s<this.list.length;s++){const t=(n+s+i)%this.list.length,r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),o=r&&r.toString();if(void 0===o||d3(e,o))return this.previouslyFocused=n,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class t5{constructor(e,t){this.list=e,this.view=t,this.disposables=new B;k.chain(ZP(t.domNode,"keydown")).filter((e=>!Z4(e.target))).map((e=>new iO(e))).filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const n=this.view.domElement(t[0]);if(!n)return;const i=n.querySelector("[tabIndex]");if(!(i&&i instanceof HTMLElement&&-1!==i.tabIndex))return;const s=window.getComputedStyle(i);"hidden"!==s.visibility&&"none"!==s.display&&(e.preventDefault(),e.stopPropagation(),i.focus())}dispose(){this.disposables.dispose()}}function n5(e){return S?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function i5(e){return e.browserEvent.shiftKey}const s5={isSelectionSingleChangeEvent:n5,isSelectionRangeChangeEvent:i5};class r5{constructor(e){this.list=e,this.disposables=new B,this._onPointer=new x,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=!(!1===e.options.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||s5),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(bz.addTarget(e.getHTMLElement()))),k.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):S?e.browserEvent.metaKey:e.browserEvent.ctrlKey}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){X4(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(X4(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(Z4(e.browserEvent.target)||X4(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e)||this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(n=e.browserEvent)instanceof MouseEvent&&2===n.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var n}onDoubleClick(e){if(Z4(e.browserEvent.target)||X4(e.browserEvent.target))return;if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index,n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)&&"number"==typeof n){const i=EB(Math.min(n,t),Math.max(n,t)+1),s=this.list.getSelection(),r=function(e,t){const n=e.indexOf(t);if(-1===n)return[];const i=[];let s=n-1;for(;s>=0&&e[s]===t-(n-s);)i.push(e[s--]);i.reverse(),s=n;for(;s<e.length&&e[s]===t+(s-n);)i.push(e[s++]);return i}(c5(s,[n]),n);if(0===r.length)return;const o=c5(i,function(e,t){const n=[];let i=0,s=0;for(;i<e.length||s<t.length;)if(i>=e.length)n.push(t[s++]);else if(s>=t.length)n.push(e[i++]);else{if(e[i]===t[s]){i++,s++;continue}e[i]<t[s]?n.push(e[i++]):s++}return n}(s,r));this.list.setSelection(o,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),i=n.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),n.length===i.length?this.list.setSelection([...i,t],e.browserEvent):this.list.setSelection(i,e.browserEvent)}}dispose(){this.disposables.dispose()}}class o5{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,n=[];e.listBackground&&(e.listBackground.isOpaque()?n.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):S||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listFocusAndSelectionBackground&&n.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&n.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveFocusBackground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(n.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&n.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&n.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&n.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&n.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&n.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&n.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&n.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&n.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&n.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&n.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&n.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&n.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&n.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=n.join("\n")}}const a5={listFocusBackground:F$.fromHex("#7FB0D0"),listActiveSelectionBackground:F$.fromHex("#0E639C"),listActiveSelectionForeground:F$.fromHex("#FFFFFF"),listFocusAndSelectionBackground:F$.fromHex("#094771"),listFocusAndSelectionForeground:F$.fromHex("#FFFFFF"),listInactiveSelectionBackground:F$.fromHex("#3F3F46"),listHoverBackground:F$.fromHex("#2A2D2E"),listDropBackground:F$.fromHex("#383B3D"),treeIndentGuidesStroke:F$.fromHex("#a9a9a9"),tableColumnsBorder:F$.fromHex("#cccccc").transparent(.2)},l5={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function c5(e,t){const n=[];let i=0,s=0;for(;i<e.length||s<t.length;)if(i>=e.length)n.push(t[s++]);else if(s>=t.length)n.push(e[i++]);else{if(e[i]===t[s]){n.push(e[i]),i++,s++;continue}e[i]<t[s]?n.push(e[i++]):n.push(t[s++])}return n}const d5=(e,t)=>e-t;class h5{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,n,i){let s=0;for(const r of this.renderers)r.renderElement(e,t,n[s++],i)}disposeElement(e,t,n,i){let s=0;for(const r of this.renderers)r.disposeElement&&r.disposeElement(e,t,n[s],i),s+=1}disposeTemplate(e){let t=0;for(const n of this.renderers)n.disposeTemplate(e[t++])}}class u5{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,n){const i=this.accessibilityProvider.getAriaLabel(e);i?n.setAttribute("aria-label",i):n.removeAttribute("aria-label");const s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof s?n.setAttribute("aria-level",`${s}`):n.removeAttribute("aria-level")}disposeTemplate(e){}}class p5{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,n,i){return this.dnd.onDragOver(e,t,n,i)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,n,i){this.dnd.drop(e,t,n,i)}}class g5{constructor(e,t,n,i,s=l5){var r;this.user=e,this._options=s,this.focus=new q4("focused"),this.anchor=new q4("anchor"),this.eventBufferer=new Rt,this._ariaLabel="",this.disposables=new B,this._onDidDispose=new x,this.onDidDispose=this._onDidDispose.event;const o=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(r=this._options.accessibilityProvider)||void 0===r?void 0:r.getWidgetRole():"list";this.selection=new G4("listbox"!==o),MA(s,a5,!1);const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(a.push(new u5(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),i=i.map((e=>new h5(e.templateId,[...a,e])));const l=Object.assign(Object.assign({},s),{dnd:s.dnd&&new p5(this,s.dnd)});if(this.view=new W4(t,n,i,l),this.view.domNode.setAttribute("role",o),s.styleController)this.styleController=s.styleController(this.view.domId);else{const e=hR(this.view.domNode);this.styleController=new o5(e,this.view.domId)}if(this.spliceable=new H4([new Y4(this.focus,this.view,s.identityProvider),new Y4(this.selection,this.view,s.identityProvider),new Y4(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=k.map(ZP(this.view.domNode,"focus",!0),(()=>null)),this.onDidBlur=k.map(ZP(this.view.domNode,"blur",!0),(()=>null)),this.disposables.add(new t5(this,this.view)),"boolean"!=typeof s.keyboardSupport||s.keyboardSupport){const e=new J4(this,this.view,s);this.disposables.add(e)}if(s.keyboardNavigationLabelProvider){const e=s.keyboardNavigationDelegate||Q4;this.typeLabelController=new e5(this,this.view,s.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),s.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return k.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)))}get onDidChangeSelection(){return k.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=k.chain(ZP(this.view.domNode,"keydown")).map((e=>new iO(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map(XP).filter((()=>!1)).event,n=k.chain(ZP(this.view.domNode,"keyup")).forEach((()=>e=!1)).map((e=>new iO(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map(XP).map((({browserEvent:e})=>{const t=this.getFocus(),n=t.length?t[0]:void 0;return{index:n,element:void 0!==n?this.view.element(n):void 0,anchor:void 0!==n?this.view.domElement(n):this.view.domNode,browserEvent:e}})).event,i=k.chain(this.view.onContextMenu).filter((t=>!e)).map((({element:e,index:t,browserEvent:n})=>({element:e,index:t,anchor:{x:n.clientX+1,y:n.clientY},browserEvent:n}))).event;return k.any(t,n,i)}get onKeyDown(){return ZP(this.view.domNode,"keydown")}createMouseController(e){return new r5(this)}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,n=[]){if(e<0||e>this.view.length)throw new L4(this.user,`Invalid start index: ${e}`);if(t<0)throw new L4(this.user,`Invalid delete count: ${t}`);0===t&&0===n.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,n)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const n of e)if(n<0||n>=this.length)throw new L4(this.user,`Invalid index ${n}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new L4(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return xB(this.anchor.get(),void 0)}setFocus(e,t){for(const n of e)if(n<0||n>=this.length)throw new L4(this.user,`Invalid index ${n}`);this.focus.set(e,t)}focusNext(e=1,t=!1,n,i){if(0===this.length)return;const s=this.focus.get(),r=this.findNextIndex(s.length>0?s[0]+e:0,t,i);r>-1&&this.setFocus([r],n)}focusPrevious(e=1,t=!1,n,i){if(0===this.length)return;const s=this.focus.get(),r=this.findPreviousIndex(s.length>0?s[0]-e:0,t,i);r>-1&&this.setFocus([r],n)}focusNextPage(e,t){return $4(this,void 0,void 0,(function*(){let n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=0===n?0:n-1;const i=this.view.element(n),s=this.getFocusedElements()[0];if(s!==i){const i=this.findPreviousIndex(n,!1,t);i>-1&&s!==this.view.element(i)?this.setFocus([i],e):this.setFocus([n],e)}else{const i=this.view.getScrollTop();this.view.setScrollTop(i+this.view.renderHeight-this.view.elementHeight(n)),this.view.getScrollTop()!==i&&(this.setFocus([]),yield mO(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return $4(this,void 0,void 0,(function*(){let n;const i=this.view.getScrollTop();n=0===i?this.view.indexAt(i):this.view.indexAfter(i-1);const s=this.view.element(n),r=this.getFocusedElements()[0];if(r!==s){const i=this.findNextIndex(n,!1,t);i>-1&&r!==this.view.element(i)?this.setFocus([i],e):this.setFocus([n],e)}else{const n=i;this.view.setScrollTop(i-this.view.renderHeight),this.view.getScrollTop()!==n&&(this.setFocus([]),yield mO(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,n){if(0===this.length)return;const i=this.findNextIndex(e,!1,n);i>-1&&this.setFocus([i],t)}findNextIndex(e,t=!1,n){for(let i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e%=this.length,!n||n(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,n){for(let i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new L4(this.user,`Invalid index ${e}`);const n=this.view.getScrollTop(),i=this.view.elementTop(e),s=this.view.elementHeight(e);if(_t(t)){const e=s-this.view.renderHeight;this.view.setScrollTop(e*eM(t,0,1)+i)}else{const e=i+s,t=n+this.view.renderHeight;i<n&&e>=t||(i<n||e>=t&&s>=this.view.renderHeight?this.view.setScrollTop(i):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new L4(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),n=this.view.elementTop(e),i=this.view.elementHeight(e);if(n<t||n+i>t+this.view.renderHeight)return null;const s=i-this.view.renderHeight;return Math.abs((t-n)/s)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let n;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(n=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",n||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}j4([mz],g5.prototype,"onDidChangeFocus",null),j4([mz],g5.prototype,"onDidChangeSelection",null),j4([mz],g5.prototype,"onContextMenu",null);class f5{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:F.None}}renderElement(e,t,n,i){if(n.disposable&&n.disposable.dispose(),!n.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,n.data,i);const r=new L,o=s.resolve(e,r.token);n.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,n.data),o.then((t=>this.renderer.renderElement(t,e,n.data,i)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class m5{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}const _5=new mU("isWindows",T,JI(0,"Whether the operating system is Windows"));var v5,b5;(b5=v5||(v5={}))[b5.Unknown=0]="Unknown",b5[b5.Twistie=1]="Twistie",b5[b5.Element=2]="Element";class y5 extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class w5{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function C5(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function S5(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function x5(e){return"boolean"==typeof e.collapsible}class k5{constructor(e,t,n,i={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Rt,this._onDidChangeCollapseState=new x,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new x,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new x,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==i.collapseByDefault&&i.collapseByDefault,this.filter=i.filter,this.autoExpandSingleChildren=void 0!==i.autoExpandSingleChildren&&i.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,n=ee.empty(),i={}){if(0===e.length)throw new y5(this.user,"Invalid tree location");i.diffIdentityProvider?this.spliceSmart(i.diffIdentityProvider,e,t,n,i):this.spliceSimple(e,t,n,i)}spliceSmart(e,t,n,i,s,r){var o;void 0===i&&(i=ee.empty()),void 0===r&&(r=null!==(o=s.diffDepth)&&void 0!==o?o:0);const{parentNode:a}=this.getParentNodeWithListIndex(t),l=[...i],c=t[t.length-1],d=new At({getElements:()=>a.children.map((t=>e.getId(t.element).toString()))},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+n)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(d.quitEarly)return this.spliceSimple(t,n,l,s);const h=t.slice(0,-1),u=(t,n,i)=>{if(r>0)for(let o=0;o<i;o++)t--,n--,this.spliceSmart(e,[...h,t,0],Number.MAX_SAFE_INTEGER,l[n].children,s,r-1)};let p=Math.min(a.children.length,c+n),g=l.length;for(const f of d.changes.sort(((e,t)=>t.originalStart-e.originalStart)))u(p,g,p-(f.originalStart+f.originalLength)),p=f.originalStart,g=f.modifiedStart-c,this.spliceSimple([...h,p],f.originalLength,ee.slice(l,g,g+f.modifiedLength),s);u(p,g,p)}spliceSimple(e,t,n=ee.empty(),{onDidCreateNode:i,onDidDeleteNode:s}){const{parentNode:r,listIndex:o,revealed:a,visible:l}=this.getParentNodeWithListIndex(e),c=[],d=ee.map(n,(e=>this.createTreeNode(e,r,r.visible?1:0,a,c,i))),h=e[e.length-1],u=r.children.length>0;let p=0;for(let w=h;w>=0&&w<r.children.length;w--){const e=r.children[w];if(e.visible){p=e.visibleChildIndex;break}}const g=[];let f=0,m=0;for(const w of d)g.push(w),m+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=p+f++);const _=r.children.splice(h,t,...g);let v=0;for(const w of _)w.visible&&v++;if(0!==v)for(let w=h+g.length;w<r.children.length;w++){const e=r.children[w];e.visible&&(e.visibleChildIndex-=v)}if(r.visibleChildrenCount+=f-v,a&&l){const e=_.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(r,m-e),this.list.splice(o,e,c)}if(_.length>0&&s){const e=t=>{s(t),t.children.forEach(e)};_.forEach(e)}const b=r.children.length>0;u!==b&&this.setCollapsible(e.slice(0,-1),b),this._onDidSplice.fire({insertedNodes:g,deletedNodes:_});let y=r;for(;y;){if(2===y.visibility){this.refilter();break}y=y.parent}}rerender(e){if(0===e.length)throw new y5(this.user,"Invalid tree location");const{node:t,listIndex:n,revealed:i}=this.getTreeNodeWithListIndex(e);t.visible&&i&&this.list.splice(n,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:n,revealed:i}=this.getTreeNodeWithListIndex(e);return n&&i?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsible);const i={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,i)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,n){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsed);const s={collapsed:t,recursive:n||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,s)))}_setCollapseState(e,t){const{node:n,listIndex:i,revealed:s}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(n,i,s,t);if(n!==this.root&&this.autoExpandSingleChildren&&r&&!x5(t)&&n.collapsible&&!n.collapsed&&!t.recursive){let i=-1;for(let e=0;e<n.children.length;e++){if(n.children[e].visible){if(i>-1){i=-1;break}i=e}}i>-1&&this._setCollapseState([...e,i],t)}return r}_setListNodeCollapseState(e,t,n,i){const s=this._setNodeCollapseState(e,i,!1);if(!n||!e.visible||!s)return s;const r=e.renderNodeCount,o=this.updateNodeAfterCollapseChange(e),a=r-(-1===t?0:1);return this.list.splice(t+1,a,o.slice(1)),s}_setNodeCollapseState(e,t,n){let i;if(e===this.root?i=!1:(x5(t)?(i=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(i=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):i=!1,i&&this._onDidChangeCollapseState.fire({node:e,deep:n})),!x5(t)&&t.recursive)for(const s of e.children)i=this._setNodeCollapseState(s,t,!0)||i;return i}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,n,i,s,r){const o={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(o,n);o.visibility=a,i&&s.push(o);const l=e.children||ee.empty(),c=i&&0!==a&&!o.collapsed,d=ee.map(l,(e=>this.createTreeNode(e,o,a,c,s,r)));let h=0,u=1;for(const p of d)o.children.push(p),u+=p.renderNodeCount,p.visible&&(p.visibleChildIndex=h++);return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=h,o.visible=2===a?h>0:1===a,o.visible?o.collapsed||(o.renderNodeCount=u):(o.renderNodeCount=0,i&&s.pop()),r&&r(o),o}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(e,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const n of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(n,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterFilterChange(e,t,n,i=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),0===s)return e.visible=!1,e.renderNodeCount=0,!1;i&&n.push(e)}const r=n.length;e.renderNodeCount=e===this.root?0:1;let o=!1;if(e.collapsed&&0===s)e.visibleChildrenCount=0;else{let t=0;for(const r of e.children)o=this._updateNodeAfterFilterChange(r,s,n,i&&!e.collapsed)||o,r.visible&&(r.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===s?o:1===s),e.visible?e.collapsed||(e.renderNodeCount+=n.length-r):(e.renderNodeCount=0,i&&n.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const n=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof n?(e.filterData=void 0,n?1:0):C5(n)?(e.filterData=n.data,S5(n.visibility)):(e.filterData=void 0,S5(n))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[n,...i]=e;return!(n<0||n>t.children.length)&&this.hasTreeNode(i,t.children[n])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[n,...i]=e;if(n<0||n>t.children.length)throw new y5(this.user,"Invalid tree location");return this.getTreeNode(i,t.children[n])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:n,revealed:i,visible:s}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new y5(this.user,"Invalid tree location");const o=t.children[r];return{node:o,listIndex:n,revealed:i,visible:s&&o.visible}}getParentNodeWithListIndex(e,t=this.root,n=0,i=!0,s=!0){const[r,...o]=e;if(r<0||r>t.children.length)throw new y5(this.user,"Invalid tree location");for(let a=0;a<r;a++)n+=t.children[a].renderNodeCount;return i=i&&!t.collapsed,s=s&&t.visible,0===o.length?{parentNode:t,listIndex:n,revealed:i,visible:s}:this.getParentNodeWithListIndex(o,t.children[r],n+1,i,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let n=e;for(;n.parent;)t.push(n.parent.children.indexOf(n)),n=n.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}}const E5=LM("tree-item-expanded",NM.chevronDown),D5=LM("tree-filter-on-type-on",NM.listFilter),T5=LM("tree-filter-on-type-off",NM.listSelection),L5=LM("tree-filter-clear",NM.close),N5=LM("tree-item-loading",NM.loading);class I5 extends M4{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function P5(e){return e instanceof M4?new I5(e):e}class O5{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=F.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(P5(e),t)}onDragOver(e,t,n,i,s=!0){const r=this.dnd.onDragOver(P5(e),t&&t.element,n,i),o=this.autoExpandNode!==t;if(o&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return r;if(o&&"boolean"!=typeof r&&r.autoExpand&&(this.autoExpandDisposable=_O((()=>{const e=this.modelProvider(),n=e.getNodeLocation(t);e.isCollapsed(n)&&e.setCollapsed(n,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof r||!r.accept||void 0===r.bubble||r.feedback){if(!s){return{accept:"boolean"==typeof r?r:r.accept,effect:"boolean"==typeof r?void 0:r.effect,feedback:[n]}}return r}if(1===r.bubble){const n=this.modelProvider(),s=n.getNodeLocation(t),r=n.getParentNodeLocation(s),o=n.getNode(r),a=r&&n.getListIndex(r);return this.onDragOver(e,o,a,i,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),c=a.getListIndex(l),d=a.getListRenderCount(l);return Object.assign(Object.assign({},r),{feedback:EB(c,c+d)})}drop(e,t,n,i){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(P5(e),t&&t.element,n,i)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class R5{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var A5,M5;(M5=A5||(A5={})).None="none",M5.OnHover="onHover",M5.Always="always";class F5{constructor(e,t=[]){this._elements=t,this.onDidChange=k.forEach(e,(e=>this._elements=e))}get elements(){return this._elements}}class B5{constructor(e,t,n,i,s={}){this.renderer=e,this.modelProvider=t,this.activeNodes=i,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=B5.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new uW,this.activeIndentNodes=new Set,this.indentGuidesDisposable=F.None,this.disposables=new B,this.templateId=e.templateId,this.updateOptions(s),k.map(n,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=eM(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==A5.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new B;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=wR(e,LR(".monaco-tl-row")),n=wR(t,LR(".monaco-tl-indent")),i=wR(t,LR(".monaco-tl-twistie")),s=wR(t,LR(".monaco-tl-contents")),r=this.renderer.renderTemplate(s);return{container:e,indent:n,twistie:i,indentGuidesDisposable:F.None,templateData:r}}renderElement(e,t,n,i){"number"==typeof i&&(this.renderedNodes.set(e,{templateData:n,height:i}),this.renderedElements.set(e.element,e));const s=B5.DefaultIndent+(e.depth-1)*this.indent;n.twistie.style.paddingLeft=`${s}px`,n.indent.style.width=s+this.indent-16+"px",this.renderTwistie(e,n),"number"==typeof i&&this.renderIndentGuides(e,n),this.renderer.renderElement(e,t,n.templateData,i)}disposeElement(e,t,n,i){n.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.templateData,i),"number"==typeof i&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...E5.classNamesArray);let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||t.twistie.classList.add(...E5.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(IO(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const n=new B,i=this.modelProvider();let s=e;for(;;){const e=i.getNodeLocation(s),r=i.getParentNodeLocation(e);if(!r)break;const o=i.getNode(r),a=LR(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(o)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(o,a),n.add(I((()=>this.renderedIndentGuides.delete(o,a)))),s=o}t.indentGuidesDisposable=n}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,n=this.modelProvider();e.forEach((e=>{const i=n.getNodeLocation(e);try{const s=n.getParentNodeLocation(i);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):s&&t.add(n.getNode(s))}catch(s){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),De(this.disposables)}}B5.DefaultIndent=8;class V5{constructor(e,t,n){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new B,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const n=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return n;let i;if(i="boolean"==typeof n?n?1:0:C5(n)?S5(n.visibility):n,0===i)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:U3.Default,visibility:!0};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),i=Array.isArray(n)?n:[n];for(const s of i){const e=s&&s.toString();if(void 0===e)return{data:U3.Default,visibility:!0};const t=j3(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,!0);if(t)return this._matchCount++,1===i.length?{data:t,visibility:!0}:{data:{label:e,score:t},visibility:!0}}return this.tree.options.filterOnType?2:{data:U3.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){De(this.disposables)}}class W5{constructor(e,t,n,i,s){this.tree=e,this.view=n,this.filter=i,this.keyboardNavigationDelegate=s,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new x,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new x,this.enabledDisposables=new B,this.disposables=new B,this.domNode=LR(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,ZP(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=wR(n.getHTMLElement(),LR(".monaco-list-type-filter-message")),this.labelDomNode=wR(this.domNode,LR("span.label"));const r=wR(this.domNode,LR(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=wR(r,LR("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),ZP(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=wR(r,LR("button.clear"+L5.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=JI(0,"Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=k.chain(ZP(this.view.getHTMLElement(),"keydown")).filter((e=>!Z4(e.target)||e.target===this.filterOnTypeDomNode)).filter((e=>"Dead"!==e.key&&!/^Media/.test(e.key))).map((e=>new iO(e))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(S?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey)).forEach((e=>{e.stopPropagation(),e.preventDefault()})).event,t=ZP(this.clearDomNode,"click");k.chain(k.any(e,t)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(S?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(e=>!U3.isDefault(e.filterData)));const n=this.tree.getFocus();if(n.length>0){const e=n[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=JO(e),n=e.clientWidth,i=n/2,s=this.domNode.clientWidth,r=new B;let o=this.positionClassName;const a=()=>{switch(o){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=n-s-6+"px"}};a(),this.domNode.classList.remove(o),this.domNode.classList.add("dragging"),r.add(I((()=>this.domNode.classList.remove("dragging")))),ZP(document,"dragover")((e=>{e.preventDefault();const n=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),o=n<i?"nw":"ne",a()}),null,r),ZP(this.domNode,"dragend")((()=>{this.positionClassName=o,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",De(r)}),null,r),E0.CurrentDragAndDropData=new k0("vscode-ui"),r.add(I((()=>E0.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...T5.classNamesArray),this.filterOnTypeDomNode.classList.add(...D5.classNamesArray),this.filterOnTypeDomNode.title=JI(0,"Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...D5.classNamesArray),this.filterOnTypeDomNode.classList.add(...T5.classNamesArray),this.filterOnTypeDomNode.title=JI(0,"Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=JI(0,"No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=JI(0,"Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!U3.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),De(this.disposables)}}function H5(e){let t=v5.Unknown;return oR(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=v5.Twistie:oR(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=v5.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function U5(e,t){t(e),e.children.forEach((e=>U5(e,t)))}class z5{constructor(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new x,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var n;!(null===(n=t)||void 0===n?void 0:n.__forceEvent)&&gB(this.nodes,e)||this._set(e,!1,t)}_set(e,t,n){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:n})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),n=t=>e.delete(t);return t.forEach((e=>U5(e,n))),void this.set([...e.values()])}const n=new Set,i=e=>n.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>U5(e,i)));const s=new Map,r=e=>s.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>U5(e,r)));const o=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(n.has(e)){const t=s.get(e);t&&o.push(t)}else o.push(a)}this._set(o,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class j5 extends r5{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(Z4(e.browserEvent.target)||X4(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const n=e.browserEvent.target,i=n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let s=!1;if(s="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,s&&!i&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const n=this.tree.model,r=n.getNodeLocation(t),o=e.browserEvent.altKey;if(this.tree.setFocus([r]),n.setCollapsed(r,void 0,o),s&&i)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class $5 extends g5{constructor(e,t,n,i,s,r,o,a){super(e,t,n,i,a),this.focusTrait=s,this.selectionTrait=r,this.anchorTrait=o}createMouseController(e){return new j5(this,e.tree)}splice(e,t,n=[]){if(super.splice(e,t,n),0===n.length)return;const i=[],s=[];let r;n.forEach(((t,n)=>{this.focusTrait.has(t)&&i.push(e+n),this.selectionTrait.has(t)&&s.push(e+n),this.anchorTrait.has(t)&&(r=e+n)})),i.length>0&&super.setFocus(SB([...super.getFocus(),...i])),s.length>0&&super.setSelection(SB([...super.getSelection(),...s])),"number"==typeof r&&super.setAnchor(r)}setFocus(e,t,n=!1){super.setFocus(e,t),n||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,n=!1){super.setSelection(e,t),n||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class K5{constructor(e,t,n,i,s={}){this._options=s,this.eventBufferer=new Rt,this.disposables=new B,this._onWillRefilter=new x,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new x;const r=new R5(n),o=new Mt,a=new Mt,l=new F5(a.event);this.renderers=i.map((e=>new B5(e,(()=>this.model),o.event,l,s)));for(let p of this.renderers)this.disposables.add(p);let c;var d,h;s.keyboardNavigationLabelProvider&&(c=new V5(this,s.keyboardNavigationLabelProvider,s.filter),s=Object.assign(Object.assign({},s),{filter:c}),this.disposables.add(c)),this.focus=new z5(s.identityProvider),this.selection=new z5(s.identityProvider),this.anchor=new z5(s.identityProvider),this.view=new $5(e,t,r,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(d=()=>this.model,(h=s)&&Object.assign(Object.assign({},h),{identityProvider:h.identityProvider&&{getId:e=>h.identityProvider.getId(e.element)},dnd:h.dnd&&new O5(d,h.dnd),multipleSelectionController:h.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>h.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>h.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:h.accessibilityProvider&&Object.assign(Object.assign({},h.accessibilityProvider),{getSetSize(e){const t=d(),n=t.getNodeLocation(e),i=t.getParentNodeLocation(n);return t.getNode(i).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:h.accessibilityProvider&&h.accessibilityProvider.isChecked?e=>h.accessibilityProvider.isChecked(e.element):void 0,getRole:h.accessibilityProvider&&h.accessibilityProvider.getRole?e=>h.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>h.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>h.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:h.accessibilityProvider&&h.accessibilityProvider.getWidgetRole?()=>h.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:h.accessibilityProvider&&h.accessibilityProvider.getAriaLevel?e=>h.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:h.accessibilityProvider.getActiveDescendantId&&(e=>h.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:h.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},h.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>h.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:h.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,s),o.input=this.model.onDidChangeCollapseState;const u=k.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}));if(u((()=>null),null,this.disposables),a.input=k.chain(k.any(u,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==s.keyboardSupport){const e=k.chain(this.view.onKeyDown).filter((e=>!Z4(e.target))).map((e=>new iO(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}if(s.keyboardNavigationLabelProvider){const e=s.keyboardNavigationDelegate||Q4;this.typeFilterController=new W5(this,this.model,this.view,c,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=hR(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A5.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return k.map(this.view.onMouseDblClick,H5)}get onPointer(){return k.map(this.view.onPointer,H5)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A5.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),n.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=n.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const n=e.map((e=>this.model.getNode(e)));this.selection.set(n,t);const i=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(i,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const n=e.map((e=>this.model.getNode(e)));this.focus.set(n,t);const i=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(i,t,!0)}focusNext(e=1,t=!1,n,i=this.focusNavigationFilter){this.view.focusNext(e,t,n,i)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const n=this.model.getListIndex(e);-1!==n&&this.view.reveal(n,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n);if(!this.model.setCollapsed(i,!0)){const e=this.model.getParentNodeLocation(i);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n);if(!this.model.setCollapsed(i,!1)){if(!n.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n),s=e.browserEvent.altKey;this.model.setCollapsed(i,void 0,s)}dispose(){De(this.disposables),this.view.dispose()}}class q5{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new k5(e,t,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:(e,t)=>n.sorter.compare(e.element,t.element)}),this.identityProvider=n.identityProvider}setChildren(e,t=ee.empty(),n={}){const i=this.getElementLocation(e);this._setChildren(i,this.preserveCollapseState(t),n)}_setChildren(e,t=ee.empty(),n){const i=new Set,s=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},n),{onDidCreateNode:e=>{var t;if(null===e.element)return;const r=e;if(i.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();s.add(e),this.nodesByIdentity.set(e,r)}null===(t=n.onDidCreateNode)||void 0===t||t.call(n,r)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const r=e;if(i.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();s.has(e)||this.nodesByIdentity.delete(e)}null===(t=n.onDidDeleteNode)||void 0===t||t.call(n,r)}}))}preserveCollapseState(e=ee.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),ee.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const n=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(n)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const n="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,i=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:n,collapsed:i,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getElementLocation(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const i=this.getElementLocation(e);return this.model.setCollapsed(i,t,n)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new y5(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new y5(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new y5(this.user,`Tree element not found: ${e}`);const n=this.model.getNodeLocation(t),i=this.model.getParentNodeLocation(n);return this.model.getNode(i).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new y5(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function G5(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:ee.map(ee.from(e.children),G5),collapsible:e.collapsible,collapsed:e.collapsed}}function Y5(e){const t=[e.element],n=e.incompressible||!1;let i,s;for(;[s,i]=ee.consume(ee.from(e.children),2),1===s.length&&!s[0].incompressible;)e=s[0],t.push(e.element);return{element:{elements:t,incompressible:n},children:ee.map(ee.concat(s,i),Y5),collapsible:e.collapsible,collapsed:e.collapsed}}function Z5(e,t=0){let n;return n=t<e.element.elements.length-1?[Z5(e,t+1)]:ee.map(ee.from(e.children),(e=>Z5(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:n,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:n,collapsible:e.collapsible,collapsed:e.collapsed}}function X5(e){return Z5(e,0)}function J5(e,t,n){return e.element===t?Object.assign(Object.assign({},e),{children:n}):Object.assign(Object.assign({},e),{children:ee.map(ee.from(e.children),(e=>J5(e,t,n)))})}class Q5{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new q5(e,t,n),this.enabled=void 0===n.compressionEnabled||n.compressionEnabled,this.identityProvider=n.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=ee.empty(),n){const i=n.diffIdentityProvider&&(s=n.diffIdentityProvider,{getId:e=>e.elements.map((e=>s.getId(e).toString())).join("\0")});var s;if(null===e){const e=ee.map(t,this.enabled?Y5:G5);return void this._setChildren(null,e,{diffIdentityProvider:i,diffDepth:1/0})}const r=this.nodes.get(e);if(!r)throw new Error("Unknown compressed tree node");const o=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),c=J5(X5(o),e,t),d=(this.enabled?Y5:G5)(c),h=l.children.map((e=>e===o?d:e));this._setChildren(l.element,h,{diffIdentityProvider:i,diffDepth:o.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,n=ee.map(t,X5),i=ee.map(n,e?Y5:G5);this._setChildren(null,i,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,n){const i=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},n),{onDidCreateNode:e=>{for(const t of e.element.elements)i.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)i.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),n=this.model.getParentNodeLocation(t);return null===n?null:n.elements[n.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getCompressedNode(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const i=this.getCompressedNode(e);return this.model.setCollapsed(i,t,n)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new y5(this.user,`Tree element not found: ${e}`);return t}}const e6=e=>e[e.length-1];class t6{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new t6(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n6{constructor(e,t,n={}){this.rootRef=null,this.elementMapper=n.elementMapper||e6;const i=e=>this.elementMapper(e.elements);this.nodeMapper=new w5((e=>new t6(i,e))),this.model=new Q5(e,function(e,t){return{splice(n,i,s){t.splice(n,i,s.map((t=>e.map(t))))},updateElementHeight(e,n){t.updateElementHeight(e,n)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:n=>t.identityProvider.getId(e(n))},sorter:t.sorter&&{compare:(e,n)=>t.sorter.compare(e.elements[0],n.elements[0])},filter:t.filter&&{filter:(n,i)=>t.filter.filter(e(n),i)}})}(i,n))}get onDidSplice(){return k.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return k.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return k.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=ee.empty(),n={}){this.model.setChildren(e,t,n)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,n){return this.model.setCollapsed(e,t,n)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class i6 extends K5{constructor(e,t,n,i,s={}){super(e,t,n,i,s)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=ee.empty(),n){this.model.setChildren(e,t,n)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,n){return new q5(e,t,n)}}class s6{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===s.element.elements.length?(n.compressedTreeNode=void 0,this.renderer.renderElement(e,t,n.data,i)):(n.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,n.data,i))}disposeElement(e,t,n,i){n.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(n.compressedTreeNode,t,n.data,i):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.data,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);r>3&&o&&Object.defineProperty(t,n,o)}([mz],s6.prototype,"compressedTreeNodeProvider",null);class r6 extends i6{constructor(e,t,n,i,s={}){const r=()=>this;super(e,t,n,i.map((e=>new s6(r,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let i;try{i=e().getCompressedTreeNode(n)}catch(s){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return 1===i.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}(r,s))}setChildren(e,t=ee.empty(),n){this.model.setChildren(e,t,n)}createModel(e,t,n){return new n6(e,t,n)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var o6=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function a6(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l6(e,t){return!!t.parent&&(t.parent===e||l6(e,t.parent))}class c6{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new c6(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class d6{constructor(e,t,n){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)}renderTwistie(e,t){return e.slow?(t.classList.add(...N5.classNamesArray),!0):(t.classList.remove(...N5.classNamesArray),!1)}disposeElement(e,t,n,i){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function h6(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function u6(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class p6 extends M4{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function g6(e){return e instanceof M4?new p6(e):e}class f6{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(g6(e),t)}onDragOver(e,t,n,i,s=!0){return this.dnd.onDragOver(g6(e),t&&t.element,n,i)}drop(e,t,n,i){this.dnd.drop(g6(e),t&&t.element,n,i)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function m6(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new f6(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var n;return!!(null===(n=e.accessibilityProvider)||void 0===n?void 0:n.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,n)=>e.filter.filter(t.element,n)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function _6(e,t){t(e),e.children.forEach((e=>_6(e,t)))}class v6{constructor(e,t,n,i,s,r={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new x,this._onDidChangeNodeSlowState=new x,this.nodeMapper=new w5((e=>new c6(e))),this.disposables=new B,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=void 0!==r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,n,i,r),this.root=a6({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return k.map(this.tree.onDidChangeFocus,h6)}get onDidChangeSelection(){return k.map(this.tree.onDidChangeSelection,h6)}get onMouseDblClick(){return k.map(this.tree.onMouseDblClick,u6)}get onPointer(){return k.map(this.tree.onPointer,u6)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,n,i,s){const r=new R5(n),o=i.map((e=>new d6(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=m6(s)||{};return new i6(e,t,r,o,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return o6(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const n=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,n),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,n=!1,i,s){return o6(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new y5(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield k.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,i,s),n)try{this.tree.rerender(r)}catch(o){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const n=this.getDataNode(e);return this.tree.collapse(n===this.root?null:n,t)}expand(e,t=!1){return o6(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new y5(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield k.toPromise(this._onDidRender.event));const n=this.getDataNode(e);if(this.tree.hasElement(n)&&!this.tree.isCollapsible(n))return!1;if(n.refreshPromise&&(yield this.root.refreshPromise,yield k.toPromise(this._onDidRender.event)),n!==this.root&&!n.refreshPromise&&!this.tree.isCollapsed(n))return!1;const i=this.tree.expand(n===this.root?null:n,t);return n.refreshPromise&&(yield this.root.refreshPromise,yield k.toPromise(this._onDidRender.event)),i}))}setSelection(e,t){const n=e.map((e=>this.getDataNode(e)));this.tree.setSelection(n,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const n=e.map((e=>this.getDataNode(e)));this.tree.setFocus(n,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new y5(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,n,i){return o6(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,n),this.render(e,n,i)}))}refreshNode(e,t,n){return o6(this,void 0,void 0,(function*(){let i;return this.subTreeRefreshPromises.forEach(((s,r)=>{!i&&function(e,t){return e===t||l6(e,t)||l6(t,e)}(r,e)&&(i=s.then((()=>this.refreshNode(e,t,n))))})),i||this.doRefreshSubTree(e,t,n)}))}doRefreshSubTree(e,t,n){return o6(this,void 0,void 0,(function*(){let i;e.refreshPromise=new Promise((e=>i=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const s=yield this.doRefreshNode(e,t,n);e.stale=!1,yield xO.settled(s.map((e=>this.doRefreshSubTree(e,t,n))))}finally{i()}}))}doRefreshNode(e,t,n){return o6(this,void 0,void 0,(function*(){let i;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=mO(800);t.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),i=this.doGetChildren(e).finally((()=>t.cancel()))}else i=Promise.resolve(ee.empty());try{const s=yield i;return this.setChildren(e,s,t,n)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),kt(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=hO((()=>o6(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(V))}setChildren(e,t,n,i){const s=[...t];if(0===e.children.length&&0===s.length)return[];const r=new Map,o=new Map;for(const c of e.children)if(r.set(c.element,c),this.identityProvider){const e=this.tree.isCollapsed(c);o.set(c.id,{node:c,collapsed:e})}const a=[],l=s.map((t=>{const s=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const n=a6({element:t,parent:e,hasChildren:s});return s&&this.collapseByDefault&&!this.collapseByDefault(t)&&(n.collapsedByDefault=!1,a.push(n)),n}const l=this.identityProvider.getId(t).toString(),c=o.get(l);if(c){const e=c.node;return r.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=s,n?c.collapsed?(e.children.forEach((e=>_6(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):s&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const d=a6({element:t,parent:e,id:l,hasChildren:s});return i&&i.viewState.focus&&i.viewState.focus.indexOf(l)>-1&&i.focus.push(d),i&&i.viewState.selection&&i.viewState.selection.indexOf(l)>-1&&i.selection.push(d),i&&i.viewState.expanded&&i.viewState.expanded.indexOf(l)>-1?a.push(d):s&&this.collapseByDefault&&!this.collapseByDefault(t)&&(d.collapsedByDefault=!1,a.push(d)),d}));for(const c of r.values())_6(c,(e=>this.nodes.delete(e.element)));for(const c of l)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,n){const i=e.children.map((e=>this.asTreeElement(e,t))),s=n&&Object.assign(Object.assign({},n),{diffIdentityProvider:n.diffIdentityProvider&&{getId:e=>n.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,i,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let n;return n=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?ee.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:n}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class b6{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new b6(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class y6{constructor(e,t,n,i){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)}renderCompressedElements(e,t,n,i){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)}renderTwistie(e,t){return e.slow?(t.classList.add(...N5.classNamesArray),!0):(t.classList.remove(...N5.classNamesArray),!1)}disposeElement(e,t,n,i){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,i)}disposeCompressedElements(e,t,n,i){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=De(this.disposables)}}class w6 extends v6{constructor(e,t,n,i,s,r,o={}){super(e,t,n,s,r,o),this.compressionDelegate=i,this.compressibleNodeMapper=new w5((e=>new b6(e))),this.filter=o.filter}createTree(e,t,n,i,s){const r=new R5(n),o=i.map((e=>new y6(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&m6(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(s)||{};return new r6(e,t,r,o,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const n=e=>this.identityProvider.getId(e).toString(),i=e=>{const t=new Set;for(const i of e){const e=this.tree.getCompressedTreeNode(i===this.root?null:i);if(e.element)for(const i of e.element.elements)t.add(n(i.element))}return t},s=i(this.tree.getSelection()),r=i(this.tree.getFocus());super.render(e,t);const o=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const d=e=>{const t=e.element;if(t)for(let i=0;i<t.elements.length;i++){const e=n(t.elements[i].element),d=t.elements[t.elements.length-1].element;s.has(e)&&-1===o.indexOf(d)&&(o.push(d),a=!0),r.has(e)&&-1===l.indexOf(d)&&(l.push(d),c=!0)}e.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(o),c&&this.setFocus(l)}processChildren(e){return this.filter&&(e=ee.filter(e,(e=>{const t=this.filter.filter(e,1),n="boolean"==typeof(i=t)?i?1:0:C5(i)?S5(i.visibility):S5(i);var i;if(2===n)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===n}))),super.processChildren(e)}}class C6 extends K5{constructor(e,t,n,i,s,r={}){super(e,t,n,i,r),this.user=e,this.dataSource=s,this.identityProvider=r.identityProvider}createModel(e,t,n){return new q5(e,t,n)}}const S6={separatorBorder:F$.transparent};class x6{constructor(e,t,n,i){this.container=e,this.view=t,this.disposable=i,this._cachedVisibleSize=void 0,"number"==typeof n?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=eM(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class k6 extends x6{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class E6 extends x6{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var D6,T6,L6,N6;(T6=D6||(D6={}))[T6.Idle=0]="Idle",T6[T6.Busy=1]="Busy",(N6=L6||(L6={})).Distribute={type:"distribute"},N6.Split=function(e){return{type:"split",index:e}},N6.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class I6 extends F{constructor(e,t={}){var n,i;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=D6.Idle,this._onDidSashChange=this._register(new x),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new x),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=Fe(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!Fe(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=wR(this.el,LR(".sash-container")),this.viewContainer=LR(".split-view-container"),this.scrollable=new bX(125,HO),this.scrollableElement=this._register(new DX(this.viewContainer,{vertical:0===this.orientation?null!==(n=t.scrollbarVisibility)&&void 0!==n?n:1:2,horizontal:1===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2},this.scrollable)),this._register(this.scrollableElement.onScroll((e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft}))),wR(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||S6),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const n=Fe(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},i=e.view;this.doAddView(i,n,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,n=this.viewItems.length,i){this.doAddView(e,t,n,i)}layout(e,t){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let i=0;i<this.viewItems.length;i++){const t=this.viewItems[i];t.size=eM(Math.round(this.proportions[i]*e),t.minimumSize,t.maximumSize)}else{const t=EB(this.viewItems.length),i=t.filter((e=>1===this.viewItems[e].priority)),s=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-n,void 0,i,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:n}){for(const o of this.viewItems)o.enabled=!1;const i=this.sashItems.findIndex((t=>t.sash===e)),s=Pt(ZP(document.body,"keydown")((e=>r(this.sashDragState.current,e.altKey))),ZP(document.body,"keyup")((()=>r(this.sashDragState.current,!1)))),r=(e,t)=>{const n=this.viewItems.map((e=>e.size));let r,o,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(i===this.sashItems.length-1){const e=this.viewItems[i];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[i+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=EB(i,-1),t=EB(i+1,this.viewItems.length),s=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-n[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-n[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(n[t]-this.viewItems[t].minimumSize)),0),c=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(n[t]-this.viewItems[t].viewMaximumSize)),0),d=Math.max(s,c),h=Math.min(l,a),u=this.findFirstSnapIndex(e),p=this.findFirstSnapIndex(t);if("number"==typeof u){const e=this.viewItems[u],t=Math.floor(e.viewMinimumSize/2);r={index:u,limitDelta:e.visible?d-t:d+t,size:e.size}}if("number"==typeof p){const e=this.viewItems[p],t=Math.floor(e.viewMinimumSize/2);o={index:p,limitDelta:e.visible?h+t:h-t,size:e.size}}}this.sashDragState={start:e,current:e,index:i,sizes:n,minDelta:a,maxDelta:l,alt:t,snapBefore:r,snapAfter:o,disposable:s}};r(t,n)}onSashChange({current:e}){const{index:t,start:n,sizes:i,alt:s,minDelta:r,maxDelta:o,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const c=e-n,d=this.resize(t,c,i,void 0,void 0,r,o,a,l);if(s){const e=t===this.sashItems.length-1,n=this.viewItems.map((e=>e.size)),i=e?t:t+1,s=this.viewItems[i],r=s.size-s.maximumSize,o=s.size-s.minimumSize,a=e?t-1:t+1;this.resize(a,-d,n,void 0,void 0,r,o)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(t=eM(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([n],void 0)))}resizeView(e,t){if(this.state!==D6.Idle)throw new Error("Cant modify splitview");if(this.state=D6.Busy,e<0||e>=this.viewItems.length)return;const n=EB(this.viewItems.length).filter((t=>t!==e)),i=[...n.filter((e=>1===this.viewItems[e].priority)),e],s=n.filter((e=>2===this.viewItems[e].priority)),r=this.viewItems[e];t=eM(t=Math.round(t),r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(i,s),this.state=D6.Idle}distributeViewSizes(){const e=[];let t=0;for(const o of this.viewItems)o.maximumSize-o.minimumSize>0&&(e.push(o),t+=o.size);const n=Math.floor(t/e.length);for(const o of e)o.size=eM(n,o.minimumSize,o.maximumSize);const i=EB(this.viewItems.length),s=i.filter((e=>1===this.viewItems[e].priority)),r=i.filter((e=>2===this.viewItems[e].priority));this.relayout(s,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,n=this.viewItems.length,i){if(this.state!==D6.Idle)throw new Error("Cant modify splitview");this.state=D6.Busy;const s=LR(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(n));const r=e.onDidChange((e=>this.onViewChange(c,e))),o=I((()=>this.viewContainer.removeChild(s))),a=Pt(r,o);let l;l="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const c=0===this.orientation?new k6(s,e,l,a):new E6(s,e,l,a);if(this.viewItems.splice(n,0,c),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const t=0===this.orientation?new u0(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new u0(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),i=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),s=k.map(t.onDidStart,i)(this.onSashStart,this),r=k.map(t.onDidChange,i)(this.onSashChange,this),o=k.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t))))(this.onSashEnd,this),a=t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),n=EB(e,-1),i=EB(e+1,this.viewItems.length),s=this.findFirstSnapIndex(n),r=this.findFirstSnapIndex(i);("number"!=typeof s||this.viewItems[s].visible)&&("number"!=typeof r||this.viewItems[r].visible)&&this._onDidSashReset.fire(e)})),l=Pt(s,r,o,a,t),c={sash:t,disposable:l};this.sashItems.splice(n-1,0,c)}let d;s.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(d=[t.index]),i||this.relayout([n],d),this.state=D6.Idle,i||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const n=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,n=this.viewItems.map((e=>e.size)),i,s,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;const c=EB(e,-1),d=EB(e+1,this.viewItems.length);if(s)for(const C of s)TB(c,C),TB(d,C);if(i)for(const C of i)LB(c,C),LB(d,C);const h=c.map((e=>this.viewItems[e])),u=c.map((e=>n[e])),p=d.map((e=>this.viewItems[e])),g=d.map((e=>n[e])),f=c.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-n[t])),0),m=c.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-n[t])),0),_=0===d.length?Number.POSITIVE_INFINITY:d.reduce(((e,t)=>e+(n[t]-this.viewItems[t].minimumSize)),0),v=0===d.length?Number.NEGATIVE_INFINITY:d.reduce(((e,t)=>e+(n[t]-this.viewItems[t].maximumSize)),0),b=Math.max(f,v,r),y=Math.min(_,m,o);let w=!1;if(a){const e=this.viewItems[a.index],n=t>=a.limitDelta;w=n!==e.visible,e.setVisible(n,a.size)}if(!w&&l){const e=this.viewItems[l.index],n=t<l.limitDelta;w=n!==e.visible,e.setVisible(n,l.size)}if(w)return this.resize(e,t,n,i,s,r,o);for(let C=0,S=t=eM(t,b,y);C<h.length;C++){const e=h[C],t=eM(u[C]+S,e.minimumSize,e.maximumSize);S-=t-u[C],e.size=t}for(let C=0,S=t;C<p.length;C++){const e=p[C],t=eM(g[C]-S,e.minimumSize,e.maximumSize);S+=t-g[C],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let n=this.size-t;const i=EB(this.viewItems.length-1,-1),s=i.filter((e=>1===this.viewItems[e].priority)),r=i.filter((e=>2===this.viewItems[e].priority));for(const o of r)TB(i,o);for(const o of s)LB(i,o);"number"==typeof e&&LB(i,e);for(let o=0;0!==n&&o<i.length;o++){const e=this.viewItems[i[o]],t=eM(e.size+n,e.minimumSize,e.maximumSize);n-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const n=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),i=[...this.viewItems].reverse();e=!1;const s=i.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const r=i.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let o=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];o+=this.viewItems[a].size;const i=!(t[a]&&r[a+1]),l=!(n[a]&&s[a+1]);if(i&&l){const n=EB(a,-1),i=EB(a+1,this.viewItems.length),r=this.findFirstSnapIndex(n),l=this.findFirstSnapIndex(i),c="number"==typeof r&&!this.viewItems[r].visible,d="number"==typeof l&&!this.viewItems[l].visible;c&&s[a]&&(o>0||this.startSnappingEnabled)?e.state=1:d&&t[a]&&(o<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=i&&!l?1:!i&&l?2:3}}getSashPosition(e){let t=0;for(let n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach((e=>e.dispose())),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}class P6{constructor(e,t,n){this.columns=e,this.getColumnSize=n,this.templateId=P6.TemplateId,this.renderedTemplates=new Set;const i=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const s of e){const e=i.get(s.templateId);if(!e)throw new Error(`Table cell renderer for template id ${s.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=wR(e,LR(".monaco-table-tr")),n=[],i=[];for(let r=0;r<this.columns.length;r++){const e=this.renderers[r],s=wR(t,LR(".monaco-table-td",{"data-col-index":r}));s.style.width=`${this.getColumnSize(r)}px`,n.push(s),i.push(e.renderTemplate(s))}const s={container:e,cellContainers:n,cellTemplateData:i};return this.renderedTemplates.add(s),s}renderElement(e,t,n,i){for(let s=0;s<this.columns.length;s++){const r=this.columns[s].project(e);this.renderers[s].renderElement(r,t,n.cellTemplateData[s],i)}}disposeElement(e,t,n,i){for(let s=0;s<this.columns.length;s++){const r=this.renderers[s];if(r.disposeElement){const o=this.columns[s].project(e);r.disposeElement(o,t,n.cellTemplateData[s],i)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}IO(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:n}of this.renderedTemplates)n[e].style.width=`${t}px`}}P6.TemplateId="row";class O6{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new x,this.onDidLayout=this._onDidLayout.event,this.element=LR(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:k.None}layout(e){this._onDidLayout.fire([this.index,e])}}class R6{constructor(e,t,n,i,s,r){this.virtualDelegate=n,this.domId="table_id_"+ ++R6.InstanceCount,this.cachedHeight=0,this.domNode=wR(t,LR(`.monaco-table.${this.domId}`));const o=i.map(((e,t)=>new O6(e,t))),a={size:o.reduce(((e,t)=>e+t.column.weight),0),views:o.map((e=>({size:e.column.weight,view:e})))};this.splitview=new I6(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a}),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;const l=new P6(i,s,(e=>this.splitview.getViewSize(e)));var c;this.list=new g5(e,this.domNode,(c=n,{getHeight:e=>c.getHeight(e),getTemplateId:()=>P6.TemplateId}),[l],r),this.columnLayoutDisposable=k.any(...o.map((e=>e.onDidLayout)))((([e,t])=>l.layoutColumn(e,t))),this.styleElement=hR(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,n=[]){this.list.splice(e,t,n)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}R6.InstanceCount=0;var A6=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},M6=function(e,t){return function(n,i){t(n,i,e)}};const F6=RP("listService");let B6=class{constructor(e){this._themeService=e,this.disposables=new B,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new o5(hR(),"");this.disposables.add(g4(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const n={widget:e,extraContextKeys:t};return this.lists.push(n),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Pt(e.onDidFocus((()=>this._lastFocusedWidget=e)),I((()=>this.lists.splice(this.lists.indexOf(n),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==n)),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)})))}dispose(){this.disposables.dispose()}};B6=A6([M6(0,CU)],B6);const V6=new mU("listFocus",!0),W6=new mU("listSupportsMultiselect",!0),H6=JH.and(V6,JH.not("inputFocus")),U6=new mU("listHasSelectionOrFocus",!1),z6=new mU("listDoubleSelection",!1),j6=new mU("listMultiSelection",!1),$6=new mU("listSelectionNavigation",!1),K6=new mU("listSupportsKeyboardNavigation",!0),q6=new mU("listAutomaticKeyboardNavigation",!0);let G6=!1;function Y6(e,t){const n=e.createScoped(t.getHTMLElement());return V6.bindTo(n),n}const Z6="workbench.list.horizontalScrolling",X6="workbench.tree.indent",J6="workbench.list.smoothScrolling",Q6="workbench.tree.expandMode";function e8(e){return"alt"===e.getValue("workbench.list.multiSelectModifier")}class t8 extends F{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=e8(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this.useAltAsMultipleSelectionModifier=e8(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:n5(e)}isSelectionRangeChangeEvent(e){return i5(e)}}function n8(e,t,n){const i=new B,s=Object.assign({},e);if(!1!==e.multipleSelectionSupport&&!e.multipleSelectionController){const e=new t8(t);s.multipleSelectionController=e,i.add(e)}return s.keyboardNavigationDelegate={mightProducePrintableCharacter:e=>n.mightProducePrintableCharacter(e)},s.smoothScrolling=t.getValue(J6),[s,i]}let i8=class extends g5{constructor(e,t,n,i,s,r,o,a,l,c){const d=void 0!==s.horizontalScrolling?s.horizontalScrolling:l.getValue(Z6),[h,u]=n8(s,l,c);super(e,t,n,i,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},u4(a.getColorTheme(),f4)),h),{horizontalScrolling:d})),this.disposables.add(u),this.contextKeyService=Y6(r,this),this.themeService=a;W6.bindTo(this.contextKeyService).set(!(!1===s.multipleSelectionSupport));$6.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=U6.bindTo(this.contextKeyService),this.listDoubleSelection=z6.bindTo(this.contextKeyService),this.listMultiSelection=j6.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=e8(l),this.disposables.add(this.contextKeyService),this.disposables.add(o.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=e8(l));let t={};if(e.affectsConfiguration(Z6)&&void 0===this.horizontalScrolling){const e=l.getValue(Z6);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(J6)){const e=l.getValue(J6);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new a8(this,Object.assign({configurationService:l},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=g4(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};i8=A6([M6(5,_U),M6(6,F6),M6(7,CU),M6(8,TW),M6(9,w1)],i8);let s8=class extends class{constructor(e,t,n,i,s={}){const r=()=>this.model,o=i.map((e=>new f5(e,r)));this.list=new g5(e,t,n,o,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new m5(e,t.accessibilityProvider)})}(r,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:n})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:n})))}get onPointer(){return k.map(this.list.onPointer,(({element:e,index:t,browserEvent:n})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:n})))}get onDidChangeSelection(){return k.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:n})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:n})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,EB(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,n,i,s,r,o,a,l,c){const d=void 0!==s.horizontalScrolling?s.horizontalScrolling:l.getValue(Z6),[h,u]=n8(s,l,c);super(e,t,n,i,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},u4(a.getColorTheme(),f4)),h),{horizontalScrolling:d})),this.disposables=new B,this.disposables.add(u),this.contextKeyService=Y6(r,this),this.themeService=a,this.horizontalScrolling=s.horizontalScrolling;W6.bindTo(this.contextKeyService).set(!(!1===s.multipleSelectionSupport));$6.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this._useAltAsMultipleSelectionModifier=e8(l),this.disposables.add(this.contextKeyService),this.disposables.add(o.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),s.overrideStyles&&this.disposables.add(g4(this,a,s.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=e8(l));let t={};if(e.affectsConfiguration(Z6)&&void 0===this.horizontalScrolling){const e=l.getValue(Z6);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(J6)){const e=l.getValue(J6);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new a8(this,Object.assign({configurationService:l},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=g4(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};s8=A6([M6(5,_U),M6(6,F6),M6(7,CU),M6(8,TW),M6(9,w1)],s8);let r8=class extends R6{constructor(e,t,n,i,s,r,o,a,l,c,d){const h=void 0!==r.horizontalScrolling?r.horizontalScrolling:c.getValue(Z6),[u,p]=n8(r,c,d);super(e,t,n,i,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},u4(l.getColorTheme(),f4)),u),{horizontalScrolling:h})),this.disposables=new B,this.disposables.add(p),this.contextKeyService=Y6(o,this),this.themeService=l;W6.bindTo(this.contextKeyService).set(!(!1===r.multipleSelectionSupport));$6.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=U6.bindTo(this.contextKeyService),this.listDoubleSelection=z6.bindTo(this.contextKeyService),this.listMultiSelection=j6.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=e8(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(c.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=e8(c));let t={};if(e.affectsConfiguration(Z6)&&void 0===this.horizontalScrolling){const e=c.getValue(Z6);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(J6)){const e=c.getValue(J6);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new l8(this,Object.assign({configurationService:c},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=g4(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};r8=A6([M6(6,_U),M6(7,F6),M6(8,CU),M6(9,TW),M6(10,w1)],r8);class o8 extends F{constructor(e,t){var n;super(),this.widget=e,this._onDidOpen=this._register(new x),this.onDidOpen=this._onDidOpen.event,this._register(k.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode")),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode"))})))):this.openOnSingleClick=null===(n=null==t?void 0:t.openOnSingleClick)||void 0===n||n}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,n="boolean"!=typeof t.preserveFocus||t.preserveFocus,i="boolean"==typeof t.pinned?t.pinned:!n;this._open(this.getSelectedElement(),n,i,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const n=1===t.button,i=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,n,i,t)}onMouseDblClick(e,t){if(!t)return;const n=t.target;if(n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&t.offsetX<16)return;const i=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,i,t)}_open(e,t,n,i,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:n,revealIfVisible:!0},sideBySide:i,element:e,browserEvent:s})}}class a8 extends o8{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class l8 extends o8{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class c8 extends o8{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function d8(e,t){let n=!1;return i=>{if(n)return n=!1,!1;const s=t.softDispatch(i,e);return s&&s.enterChord?(n=!0,!1):(n=!1,!0)}}let h8=class extends i6{constructor(e,t,n,i,s,r,o,a,l,c,d){const{options:h,getAutomaticKeyboardNavigation:u,disposable:p}=m8(t,s,r,l,c,d);super(e,t,n,i,h),this.disposables.add(p),this.internals=new _8(this,s,u,s.overrideStyles,r,o,a,l,d),this.disposables.add(this.internals)}};h8=A6([M6(5,_U),M6(6,F6),M6(7,CU),M6(8,TW),M6(9,w1),M6(10,NQ)],h8);let u8=class extends r6{constructor(e,t,n,i,s,r,o,a,l,c,d){const{options:h,getAutomaticKeyboardNavigation:u,disposable:p}=m8(t,s,r,l,c,d);super(e,t,n,i,h),this.disposables.add(p),this.internals=new _8(this,s,u,s.overrideStyles,r,o,a,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};u8=A6([M6(5,_U),M6(6,F6),M6(7,CU),M6(8,TW),M6(9,w1),M6(10,NQ)],u8);let p8=class extends C6{constructor(e,t,n,i,s,r,o,a,l,c,d,h){const{options:u,getAutomaticKeyboardNavigation:p,disposable:g}=m8(t,r,o,c,d,h);super(e,t,n,i,s,u),this.disposables.add(g),this.internals=new _8(this,r,p,r.overrideStyles,o,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};p8=A6([M6(6,_U),M6(7,F6),M6(8,CU),M6(9,TW),M6(10,w1),M6(11,NQ)],p8);let g8=class extends v6{constructor(e,t,n,i,s,r,o,a,l,c,d,h){const{options:u,getAutomaticKeyboardNavigation:p,disposable:g}=m8(t,r,o,c,d,h);super(e,t,n,i,s,u),this.disposables.add(g),this.internals=new _8(this,r,p,r.overrideStyles,o,a,l,c,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};g8=A6([M6(6,_U),M6(7,F6),M6(8,CU),M6(9,TW),M6(10,w1),M6(11,NQ)],g8);let f8=class extends w6{constructor(e,t,n,i,s,r,o,a,l,c,d,h,u){const{options:p,getAutomaticKeyboardNavigation:g,disposable:f}=m8(t,o,a,d,h,u);super(e,t,n,i,s,r,p),this.disposables.add(f),this.internals=new _8(this,o,g,o.overrideStyles,a,l,c,d,u),this.disposables.add(this.internals)}};function m8(e,t,n,i,s,r){var o;K6.bindTo(n),G6||(q6.bindTo(n),G6=!0);const a=()=>{let e=n.getContextKeyValue("listAutomaticKeyboardNavigation");return e&&(e=i.getValue("workbench.list.automaticKeyboardNavigation")),e},l=r.isScreenReaderOptimized(),c=t.simpleKeyboardNavigation||l?"simple":i.getValue("workbench.list.keyboardNavigation"),d=void 0!==t.horizontalScrolling?t.horizontalScrolling:i.getValue(Z6),[h,u]=n8(t,i,s),p=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:u,options:Object.assign(Object.assign({keyboardSupport:!1},h),{indent:i.getValue(X6),renderIndentGuides:i.getValue("workbench.tree.renderIndentGuides"),smoothScrolling:i.getValue(J6),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===c,filterOnType:"filter"===c,horizontalScrolling:d,keyboardNavigationEventFilter:d8(e,s),additionalScrollHeight:p,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(o=t.expandOnlyOnTwistieClick)&&void 0!==o?o:"doubleClick"===i.getValue(Q6)})}}f8=A6([M6(7,_U),M6(8,F6),M6(9,CU),M6(10,TW),M6(11,w1),M6(12,NQ)],f8);let _8=class{constructor(e,t,n,i,s,r,o,a,l){this.tree=e,this.themeService=o,this.disposables=[],this.contextKeyService=Y6(s,e);W6.bindTo(this.contextKeyService).set(!(!1===t.multipleSelectionSupport));$6.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=U6.bindTo(this.contextKeyService),this.hasDoubleSelection=z6.bindTo(this.contextKeyService),this.hasMultiSelection=j6.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=e8(a);const c=new Set;c.add("listAutomaticKeyboardNavigation");const d=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue("workbench.list.keyboardNavigation");e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(i),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),n=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||n.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),n=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||n.length>0)})),a.onDidChangeConfiguration((i=>{let s={};if(i.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=e8(a)),i.affectsConfiguration(X6)){const e=a.getValue(X6);s=Object.assign(Object.assign({},s),{indent:e})}if(i.affectsConfiguration("workbench.tree.renderIndentGuides")){const e=a.getValue("workbench.tree.renderIndentGuides");s=Object.assign(Object.assign({},s),{renderIndentGuides:e})}if(i.affectsConfiguration(J6)){const e=a.getValue(J6);s=Object.assign(Object.assign({},s),{smoothScrolling:e})}if(i.affectsConfiguration("workbench.list.keyboardNavigation")&&d(),i.affectsConfiguration("workbench.list.automaticKeyboardNavigation")&&(s=Object.assign(Object.assign({},s),{automaticKeyboardNavigation:n()})),i.affectsConfiguration(Z6)&&void 0===t.horizontalScrolling){const e=a.getValue(Z6);s=Object.assign(Object.assign({},s),{horizontalScrolling:e})}i.affectsConfiguration(Q6)&&void 0===t.expandOnlyOnTwistieClick&&(s=Object.assign(Object.assign({},s),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(Q6)})),Object.keys(s).length>0&&e.updateOptions(s)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(c)&&e.updateOptions({automaticKeyboardNavigation:n()})})),l.onDidChangeScreenReaderOptimized((()=>d()))),this.navigator=new c8(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(e){De(this.styler),this.styler=e?g4(this.tree,this.themeService,e):F.None}dispose(){this.disposables=De(this.disposables),De(this.styler),this.styler=void 0}};_8=A6([M6(4,_U),M6(5,F6),M6(6,CU),M6(7,TW),M6(8,NQ)],_8);var v8,b8,y8;ZV.as(QV).registerConfiguration({id:"workbench",order:7,title:JI(0,"Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[JI(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),JI(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:JI(0,"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:JI(0,"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Z6]:{type:"boolean",default:!1,description:JI(0,"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[X6]:{type:"number",default:8,minimum:0,maximum:40,description:JI(0,"Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:JI(0,"Controls whether the tree should render indent guides.")},[J6]:{type:"boolean",default:!1,description:JI(0,"Controls whether lists and trees have smooth scrolling.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[JI(0,"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),JI(0,"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),JI(0,"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:JI(0,"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:JI(0,"Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[Q6]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:JI(0,"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}}),(b8=v8||(v8={}))[b8.Hint=1]="Hint",b8[b8.Info=2]="Info",b8[b8.Warning=4]="Warning",b8[b8.Error=8]="Error",function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=JI(0,"Error"),t[e.Warning]=JI(0,"Warning"),t[e.Info]=JI(0,"Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case UV.Error:return e.Error;case UV.Warning:return e.Warning;case UV.Info:return e.Info;case UV.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return UV.Error;case e.Warning:return UV.Warning;case e.Info:return UV.Info;case e.Hint:return UV.Ignore}}}(v8||(v8={})),function(e){const t="";function n(e,n){let i=[t];return e.source?i.push(e.source.replace("","\\")):i.push(t),e.code?"string"==typeof e.code?i.push(e.code.replace("","\\")):i.push(e.code.value.replace("","\\")):i.push(t),void 0!==e.severity&&null!==e.severity?i.push(v8.toString(e.severity)):i.push(t),e.message&&n?i.push(e.message.replace("","\\")):i.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?i.push(e.startLineNumber.toString()):i.push(t),void 0!==e.startColumn&&null!==e.startColumn?i.push(e.startColumn.toString()):i.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?i.push(e.endLineNumber.toString()):i.push(t),void 0!==e.endColumn&&null!==e.endColumn?i.push(e.endColumn.toString()):i.push(t),i.push(t),i.join("")}e.makeKey=function(e){return n(e,!0)},e.makeKeyOptionalMessage=n}(y8||(y8={}));const w8=RP("markerService");class C8{constructor(){this._byResource=new jR,this._byOwner=new Map}set(e,t,n){let i=this._byResource.get(e);i||(i=new Map,this._byResource.set(e,i)),i.set(t,n);let s=this._byOwner.get(t);s||(s=new jR,this._byOwner.set(t,s)),s.set(e,n)}get(e,t){let n=this._byResource.get(e);return null==n?void 0:n.get(t)}delete(e,t){let n=!1,i=!1,s=this._byResource.get(e);s&&(n=s.delete(t));let r=this._byOwner.get(t);if(r&&(i=r.delete(e)),n!==i)throw new Error("illegal state");return n&&i}values(e){var t,n,i,s;return"string"==typeof e?null!==(n=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==n?n:ee.empty():P.isUri(e)?null!==(s=null===(i=this._byResource.get(e))||void 0===i?void 0:i.values())&&void 0!==s?s:ee.empty():ee.map(ee.concat(...this._byOwner.values()),(e=>e[1]))}}class S8{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new jR,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===EO.inMemory||e.scheme===EO.walkThrough||e.scheme===EO.walkThroughSnippet)return t;for(const{severity:n}of this._service.read({resource:e}))n===v8.Error?t.errors+=1:n===v8.Warning?t.warnings+=1:n===v8.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class x8{constructor(){this._onMarkerChanged=new x,this.onMarkerChanged=k.debounce(this._onMarkerChanged.event,x8._debouncer,0),this._data=new C8,this._stats=new S8(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const n of t||[])this.changeOne(e,n,[])}changeOne(e,t,n){if(yB(n)){this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}else{const i=[];for(const s of n){const n=x8._toMarker(e,t,s);n&&i.push(n)}this._data.set(t,e,i),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,n){let{code:i,severity:s,message:r,source:o,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:u}=n;if(r)return a=a>0?a:1,l=l>0?l:1,c=c>=a?c:a,d=d>0?d:l,{resource:t,owner:e,code:i,severity:s,message:r,source:o,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:u}}read(e=Object.create(null)){let{owner:t,resource:n,severities:i,take:s}=e;if((!s||s<0)&&(s=-1),t&&n){const e=this._data.get(n,t);if(e){const t=[];for(const n of e)if(x8._accept(n,i)){const e=t.push(n);if(s>0&&e===s)break}return t}return[]}if(t||n){const e=this._data.values(null!=n?n:t),r=[];for(const t of e)for(const e of t)if(x8._accept(e,i)){const t=r.push(e);if(s>0&&t===s)return r}return r}{const e=[];for(let t of this._data.values())for(let n of t)if(x8._accept(n,i)){const t=e.push(n);if(s>0&&t===s)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _debouncer(e,t){e||(x8._dedupeMap=new jR,e=[]);for(const n of t)x8._dedupeMap.has(n)||(x8._dedupeMap.set(n,!0),e.push(n));return e}}var k8,E8,D8=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};(E8=k8||(k8={}))[E8.None=0]="None",E8[E8.Initialized=1]="Initialized",E8[E8.Closed=2]="Closed";class T8 extends F{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new x),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=k8.None,this.cache=new Map,this.flushDelayer=new fO(T8.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,n;null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.accept(t,e))),null===(n=e.deleted)||void 0===n||n.forEach((e=>this.accept(e,void 0)))}accept(e,t){if(this.state===k8.Closed)return;let n=!1;if(se(t))n=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),n=!0)}n&&this._onDidChangeStorage.fire(e)}get(e,t){const n=this.cache.get(e);return se(n)?t:n}getBoolean(e,t){const n=this.get(e);return se(n)?t:"true"===n}getNumber(e,t){const n=this.get(e);return se(n)?t:parseInt(n,10)}set(e,t){return D8(this,void 0,void 0,(function*(){if(this.state===k8.Closed)return;if(se(t))return this.delete(e);const n=String(t);return this.cache.get(e)!==n?(this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}delete(e){return D8(this,void 0,void 0,(function*(){if(this.state===k8.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return D8(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}))}dispose(){this.flushDelayer.cancel(),this.flushDelayer.dispose(),super.dispose()}}T8.DEFAULT_FLUSH_DELAY=100;class L8{constructor(){this.onDidChangeItemsExternal=k.None,this.items=new Map}updateItems(e){return D8(this,void 0,void 0,(function*(){e.insert&&e.insert.forEach(((e,t)=>this.items.set(t,e))),e.delete&&e.delete.forEach((e=>this.items.delete(e)))}))}}const N8="__$__targetStorageMarker",I8=RP("storageService");var P8,O8;(O8=P8||(P8={}))[O8.NONE=0]="NONE",O8[O8.SHUTDOWN=1]="SHUTDOWN";class R8 extends F{constructor(e={flushInterval:R8.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Dt),this._onDidChangeTarget=this._register(new Dt),this._onWillSaveState=this._register(new x),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===N8?(0===e?this._globalKeyTargets=void 0:1===e&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.get(e,n)}getBoolean(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.getBoolean(e,n)}getNumber(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.getNumber(e,n)}store(e,t,n,i){se(t)?this.remove(e,n):this.withPausedEmitters((()=>{var s;this.updateKeyTarget(e,n,i),null===(s=this.getStorage(n))||void 0===s||s.set(e,t)}))}remove(e,t){this.withPausedEmitters((()=>{var n;this.updateKeyTarget(e,t,void 0),null===(n=this.getStorage(t))||void 0===n||n.delete(e)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,n){var i,s;const r=this.getKeyTargets(t);"number"==typeof n?r[e]!==n&&(r[e]=n,null===(i=this.getStorage(t))||void 0===i||i.set(N8,JSON.stringify(r))):"number"==typeof r[e]&&(delete r[e],null===(s=this.getStorage(t))||void 0===s||s.set(N8,JSON.stringify(r)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return 0===e?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(N8,e);if(t)try{return JSON.parse(t)}catch(n){}return Object.create(null)}}R8.DEFAULT_FLUSH_INTERVAL=6e4;class A8 extends R8{constructor(){super(),this.globalStorage=new T8(new L8),this.workspaceStorage=new T8(new L8),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.globalStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e))))}getStorage(e){return 0===e?this.globalStorage:this.workspaceStorage}}var M8=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},F8=function(e,t){return function(n,i){t(n,i,e)}};let B8=class{constructor(e){this._commandService=e}createMenu(e,t,n=!1){return new V8(e,n,this._commandService,t,this)}};B8=M8([F8(0,_A)],B8);let V8=class e{constructor(e,t,n,i,s){this._id=e,this._fireEventsForSubmenuChanges=t,this._commandService=n,this._contextKeyService=i,this._menuService=s,this._dispoables=new B,this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new wO((()=>this._build()),50);this._dispoables.add(r),this._dispoables.add(AU.onDidChangeMenu((t=>{t.has(e)&&r.schedule()})));const o=new wO((()=>this._onDidChange.fire(this)),50);this._dispoables.add(o),this._dispoables.add(i.onDidChangeContext((e=>{e.affectsSome(this._contextKeys)&&o.schedule()})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=AU.getMenuItems(this._id);let n;t.sort(e._compareMenuItems);for(let e of t){const t=e.group||"";n&&n[0]===t||(n=[t,[]],this._menuGroups.push(n)),n[1].push(e),this._collectContextKeys(e)}this._onDidChange.fire(this)}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),PU(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const n=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(n,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&AU.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let n of this._menuGroups){const[i,s]=n,r=[];for(const t of s)if(this._contextKeyService.contextMatchesRules(t.when)){const n=PU(t)?new FU(t.command,t.alt,e,this._contextKeyService,this._commandService):new MU(t,this._menuService,this._contextKeyService,e);r.push(n)}r.length>0&&t.push([i,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(let n of e.keys())t.add(n)}static _compareMenuItems(t,n){let i=t.group,s=n.group;if(i!==s){if(!i)return 1;if(!s)return-1;if("navigation"===i)return-1;if("navigation"===s)return 1;let e=i.localeCompare(s);if(0!==e)return e}let r=t.order||0,o=n.order||0;return r<o?-1:r>o?1:e._compareTitles(PU(t)?t.command.title:t.title,PU(n)?n.command.title:n.title)}static _compareTitles(e,t){const n="string"==typeof e?e:e.original,i="string"==typeof t?t:t.original;return n.localeCompare(i)}};V8=M8([F8(2,_A),F8(3,_U),F8(4,RU)],V8);var W8=function(e,t){return function(n,i){t(n,i,e)}};function H8(e){return e.toString()}class U8 extends F{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(I((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const n=[...this._markersData.keys()];this._markersData.clear();const i=this.model.deltaDecorations(n,t);for(let s=0;s<i.length;s++)this._markersData.set(i[s],e[s]);return 0!==n.length||0!==i.length}getMarker(e){return this._markersData.get(e.id)}}let z8=class extends F{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new x),this._markerDecorations=new Map,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(H8(e));return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(H8(e));t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new U8(e);this._markerDecorations.set(H8(e.uri),t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(H8(e.uri));t&&(t.dispose(),this._markerDecorations.delete(H8(e.uri))),e.uri.scheme!==EO.inMemory&&e.uri.scheme!==EO.internal&&e.uri.scheme!==EO.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let n=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,n)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let n=oe.lift(t);if(t.severity!==v8.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=e.validateRange(n),n.isEmpty()){let t=e.getWordAtPosition(n.getStartPosition());if(t)n=new oe(n.startLineNumber,t.startColumn,n.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===t||(n=n.endColumn>=t?new oe(n.startLineNumber,t-1,n.endLineNumber,t):new oe(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){let i=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);i<n.endColumn&&(n=new oe(n.startLineNumber,i,n.endLineNumber,n.endColumn),t.startColumn=i)}return n}_createDecorationOption(e){let t,n,i,s,r;switch(e.severity){case v8.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case v8.Warning:t="squiggly-warning",n=kU(JY),i=20,r={color:kU(dY),position:GA.Inline};break;case v8.Info:t="squiggly-info",n=kU(QY),i=10;break;case v8.Error:default:t="squiggly-error",n=kU(XY),i=30,r={color:kU(cY),position:GA.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(s="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(s="squiggly-inline-deprecated")),{stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:n,position:KA.Right},minimap:r,zIndex:i,inlineClassName:s}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};z8=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([W8(0,CM),W8(1,w8)],z8);var j8=function(e,t){return function(n,i){t(n,i,e)}};let $8=class extends F{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new x,this._accessibilityModeEnabledContext=IQ.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire())}))),n(),this.onDidChangeScreenReaderOptimized((()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};$8=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([j8(0,_U),j8(1,TW)],$8);var K8=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class q8{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return K8(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(s){console.error(s)}const n=document.activeElement,i=document.body.appendChild(LR("textarea",{"aria-hidden":!0}));i.style.height="1px",i.style.width="1px",i.style.position="absolute",i.value=e,i.focus(),i.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(i)}))}readText(e){return K8(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return K8(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return K8(this,void 0,void 0,(function*(){this.findText=e}))}}var G8=function(e,t){return function(n,i){t(n,i,e)}},Y8=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function Z8(e){return e.scheme===EO.file?e.fsPath:e.path}let X8=0;class J8{constructor(e,t,n,i,s,r,o){this.id=++X8,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=n,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=i,this.groupOrder=s,this.sourceId=r,this.sourceOrder=o,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Q8{constructor(e,t){this.resourceLabel=e,this.reason=t}}class e9{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,i]of this.elements){(0===i.reason?e:t).push(i.resourceLabel)}let n=[];return e.length>0&&n.push(JI(0,"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&n.push(JI(0,"The following files have been modified in an incompatible way: {0}.",t.join(", "))),n.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class t9{constructor(e,t,n,i,s,r,o){this.id=++X8,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=n,this.groupId=i,this.groupOrder=s,this.sourceId=r,this.sourceOrder=o,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,n){this.removedResources||(this.removedResources=new e9),this.removedResources.has(t)||this.removedResources.set(t,new Q8(e,n))}setValid(e,t,n){n?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new e9),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Q8(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n9{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const n of this._past)t(n.actual)&&this._setElementValidFlag(n,e);for(const n of this._future)t(n.actual)&&this._setElementValidFlag(n,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let n=0,i=this._past.length;n<i;n++)t.push(this._past[n].id);for(let n=this._future.length-1;n>=0;n--)t.push(this._future[n].id);return new i2(e,t)}restoreSnapshot(e){const t=e.elements.length;let n=!0,i=0,s=-1;for(let o=0,a=this._past.length;o<a;o++,i++){const r=this._past[o];n&&(i>=t||r.id!==e.elements[i])&&(n=!1,s=0),n||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let o=this._future.length-1;o>=0;o--,i++){const s=this._future[o];n&&(i>=t||s.id!==e.elements[i])&&(n=!1,r=o),n||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}-1!==s&&(this._past=this._past.slice(0,s)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const n of this._past)e.push(n.actual);for(const n of this._future)t.push(n.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let n=this._past.length-1;n>=0;n--)if(this._past[n]===e){t.has(this.strResource)?this._past[n]=t.get(this.strResource):this._past.splice(n,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let n=this._future.length-1;n>=0;n--)if(this._future[n]===e){t.has(this.strResource)?this._future[n]=t.get(this.strResource):this._future.splice(n,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class i9{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,n=this.editStacks.length;t<n;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const s9=new n9("","");s9.locked=!0;let r9=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const n of this._editStacks)t.push(n[1].toString());console.log(t.join("\n"))}pushElement(e,t=s2.None,n=r2.None){if(0===e.type){const i=Z8(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new J8(e,i,s,t.id,t.nextOrder(),n.id,n.nextOrder()))}else{const i=new Set,s=[],r=[];for(const t of e.resources){const e=Z8(t),n=this.getUriComparisonKey(t);i.has(n)||(i.add(n),s.push(e),r.push(n))}1===s.length?this._pushElement(new J8(e,s[0],r[0],t.id,t.nextOrder(),n.id,n.nextOrder())):this._pushElement(new t9(e,s,r,t.id,t.nextOrder(),n.id,n.nextOrder()))}}_pushElement(e){for(let t=0,n=e.strResources.length;t<n;t++){const n=e.resourceLabels[t],i=e.strResources[t];let s;this._editStacks.has(i)?s=this._editStacks.get(i):(s=new n9(n,i),this._editStacks.set(i,s)),s.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const n=e.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){const n=e.actual.split(),i=new Map;for(const s of n){const e=Z8(s.resource),t=this.getUriComparisonKey(s.resource),n=new J8(s,e,t,0,0,0,0);i.set(n.strResource,n)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,i)}}_splitFutureWorkspaceElement(e,t){const n=e.actual.split(),i=new Map;for(const s of n){const e=Z8(s.resource),t=this.getUriComparisonKey(s.resource),n=new J8(s,e,t,0,0,0,0);i.set(n.strResource,n)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,i)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,n){const i=this.getUriComparisonKey(e);if(this._editStacks.has(i)){this._editStacks.get(i).setElementsValidFlag(t,n)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new i2(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const n=this._editStacks.get(t);n.restoreSnapshot(e),n.hasPastElements()||n.hasFutureElements()||(n.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[i,s]of this._editStacks){const r=s.getClosestPastElement();r&&(r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,n=i))}return[t,n]}canUndo(e){if(e instanceof r2){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){V(e);for(const n of t.strResources)this.removeElements(n);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,n,i,s){const r=this._acquireLocks(n);let o;try{o=t()}catch(a){return r(),i.dispose(),this._onError(a,e)}return o?o.then((()=>(r(),i.dispose(),s())),(t=>(r(),i.dispose(),this._onError(t,e)))):(r(),i.dispose(),s())}_invokeWorkspacePrepare(e){return Y8(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return F.None;const t=e.actual.prepareUndoRedo();return void 0===t?F.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(F.None);const n=e.actual.prepareUndoRedo();return n?Ft(n)?t(n):n.then((e=>t(e))):t(F.None)}_getAffectedEditStacks(e){const t=[];for(const n of e.strResources)t.push(this._editStacks.get(n)||s9);return new i9(t)}_tryToSplitAndUndo(e,t,n,i){if(t.canSplit())return this._splitPastWorkspaceElement(t,n),this._notificationService.warn(i),new o9(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(i),new o9}_checkWorkspaceUndo(e,t,n,i){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,JI(0,"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(i&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,JI(0,"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const o of n.editStacks)o.getClosestPastElement()!==t&&s.push(o.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,JI(0,"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const r=[];for(const o of n.editStacks)o.locked&&r.push(o.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,JI(0,"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):n.isValid()?null:this._tryToSplitAndUndo(e,t,null,JI(0,"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,n){const i=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,i,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,i,n)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const n=t.getClosestPastElement();if(n){if(n===e){const n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(n.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,n,i){return Y8(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const s=yield this._dialogService.show(UV.Info,JI(0,"Would you like to undo '{0}' across all files?",t.label),[JI(0,"Undo in {0} Files",n.editStacks.length),JI(0,"Undo this File"),JI(0,"Cancel")],{cancelId:2});if(2===s.choice)return;if(1===s.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const r=this._checkWorkspaceUndo(e,t,n,!1);if(r)return r.returnValue;i=!0}let s;try{s=yield this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const r=this._checkWorkspaceUndo(e,t,n,!0);if(r)return s.dispose(),r.returnValue;for(const e of n.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),n,s,(()=>this._continueUndoInGroup(t.groupId,i)))}))}_resourceUndo(e,t,n){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new i9([e]),i,(()=>this._continueUndoInGroup(t.groupId,n))))));{const e=JI(0,"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[i,s]of this._editStacks){const r=s.getClosestPastElement();r&&(r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,n=i))}return[t,n]}_continueUndoInGroup(e,t){if(!e)return;const[,n]=this._findClosestUndoElementInGroup(e);return n?this._undo(n,0,t):void 0}undo(e){if(e instanceof r2){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,n){if(!this._editStacks.has(e))return;const i=this._editStacks.get(e),s=i.getClosestPastElement();if(!s)return;if(s.groupId){const[e,i]=this._findClosestUndoElementInGroup(s.groupId);if(s!==e&&i)return this._undo(i,t,n)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!n)return this._confirmAndContinueUndo(e,t,s);try{return 1===s.type?this._workspaceUndo(e,s,n):this._resourceUndo(i,s,n)}finally{}}_confirmAndContinueUndo(e,t,n){return Y8(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(UV.Info,JI(0,"Would you like to undo '{0}'?",n.label),[JI(0,"Undo"),JI(0,"Cancel")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[i,s]of this._editStacks){const r=s.getClosestFutureElement();r&&(r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,n=i))}return[t,n]}canRedo(e){if(e instanceof r2){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,n,i){if(t.canSplit())return this._splitFutureWorkspaceElement(t,n),this._notificationService.warn(i),new o9(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(i),new o9}_checkWorkspaceRedo(e,t,n,i){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,JI(0,"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(i&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,JI(0,"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const o of n.editStacks)o.getClosestFutureElement()!==t&&s.push(o.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,JI(0,"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const r=[];for(const o of n.editStacks)o.locked&&r.push(o.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,JI(0,"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):n.isValid()?null:this._tryToSplitAndRedo(e,t,null,JI(0,"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const n=this._getAffectedEditStacks(t),i=this._checkWorkspaceRedo(e,t,n,!1);return i?i.returnValue:this._executeWorkspaceRedo(e,t,n)}_executeWorkspaceRedo(e,t,n){return Y8(this,void 0,void 0,(function*(){let i;try{i=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const s=this._checkWorkspaceRedo(e,t,n,!0);if(s)return i.dispose(),s.returnValue;for(const e of n.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),n,i,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new i9([e]),n,(()=>this._continueRedoInGroup(t.groupId))))));{const e=JI(0,"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[i,s]of this._editStacks){const r=s.getClosestFutureElement();r&&(r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,n=i))}return[t,n]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof r2){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),n=t.getClosestFutureElement();if(n){if(n.groupId){const[e,t]=this._findClosestRedoElementInGroup(n.groupId);if(n!==e&&t)return this._redo(t)}try{return 1===n.type?this._workspaceRedo(e,n):this._resourceRedo(t,n)}finally{}}}};r9=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([G8(0,C4),G8(1,JW)],r9);class o9{constructor(e){this.returnValue=e}}f0(n2,r9);const a9={ctrlCmd:!1,alt:!1};var l9,c9,d9,h9;(c9=l9||(l9={}))[c9.Blur=1]="Blur",c9[c9.Gesture=2]="Gesture",c9[c9.Other=3]="Other",(h9=d9||(d9={}))[h9.NONE=0]="NONE",h9[h9.FIRST=1]="FIRST",h9[h9.SECOND=2]="SECOND",h9[h9.LAST=3]="LAST";const u9=new SO((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));function p9(e,t,n){const i=e.toLowerCase(),s=t.toLowerCase(),r=function(e,t,n){const i=e.toLowerCase(),s=t.toLowerCase(),r=i.startsWith(n),o=s.startsWith(n);if(r!==o)return r?-1:1;if(r&&o){if(i.length<s.length)return-1;if(i.length>s.length)return 1}return 0}(e,t,n);if(r)return r;const o=i.endsWith(n);if(o!==s.endsWith(n))return o?-1:1;const a=function(e,t,n=!1){const i=e||"",s=t||"",r=u9.value.collator.compare(i,s);return u9.value.collatorIsNumeric&&0===r&&i!==s?i<s?-1:1:r}(i,s);return 0!==a?a:i.localeCompare(s)}const g9=new RegExp(`(\\\\)?\\$\\((${IM.iconNameExpression}(?:${IM.iconModifierExpression})?)\\)`,"g");function f9(e){const t=new Array;let n,i=0,s=0;for(;null!==(n=g9.exec(e));){s=n.index||0,t.push(e.substring(i,s)),i=(n.index||0)+n[0].length;const[,r,o]=n;t.push(r?`$(${o})`:m9({id:o}))}return i<e.length&&t.push(e.substring(i)),t}function m9(e){const t=LR("span");return t.classList.add(...IM.asClassNameArray(e)),t}class _9{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],n="",i){e||(e=""),i&&(e=_9.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===n&&FA(this.highlights,t)||(this.text=e,this.title=n,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const n of this.highlights){if(n.end===n.start)continue;if(t<n.start){const i=this.text.substring(t,n.start);e.push(LR("span",void 0,...this.supportIcons?f9(i):[i])),t=n.end}const i=this.text.substring(n.start,n.end),s=LR("span.highlight",void 0,...this.supportIcons?f9(i):[i]);n.extraClasses&&s.classList.add(n.extraClasses),e.push(s),t=n.end}if(t<this.text.length){const n=this.text.substring(t);e.push(LR("span",void 0,...this.supportIcons?f9(n):[n]))}CR(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let n=0,i=0;return e.replace(/\r\n|\r|\n/g,((e,s)=>{i="\r\n"===e?-1:0,s+=n;for(const n of t)n.end<=s||(n.start>=s&&(n.start+=i),n.end>=s&&(n.end+=i));return n+=i,""}))}}var v9=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class b9{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class y9 extends F{constructor(e,t){super(),this.hoverDelegate=void 0,this.customHovers=new Map,this.domNode=this._register(new b9(wR(e,LR(".monaco-icon-label")))),this.labelContainer=wR(this.domNode.element,LR(".monaco-icon-label-container"));const n=wR(this.labelContainer,LR("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new b9(wR(this.labelContainer,LR("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)?this.nameNode=new C9(n,!!t.supportIcons):this.nameNode=new w9(n),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new _9(wR(this.descriptionContainer.element,LR("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new b9(wR(this.descriptionContainer.element,LR("span.label-description")))),(null==t?void 0:t.hoverDelegate)&&(this.hoverDelegate=t.hoverDelegate)}setLabel(e,t,n){const i=["monaco-icon-label"];n&&(n.extraClasses&&i.push(...n.extraClasses),n.italic&&i.push("italic"),n.strikethrough&&i.push("strikethrough")),this.domNode.className=i.join(" "),this.setupHover(this.labelContainer,null==n?void 0:n.title),this.nameNode.setLabel(e,n),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof _9?(this.descriptionNode.set(t||"",n?n.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==n?void 0:n.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==n?void 0:n.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const n=this.customHovers.get(e);if(n&&(n.dispose(),this.customHovers.delete(e)),t)return this.hoverDelegate?this.setupCustomHover(this.hoverDelegate,e,t):this.setupNativeHover(e,t);e.removeAttribute("title")}static adjustXAndShowCustomHover(e,t,n,i){if(e&&i)return void 0!==t&&(e.target.x=t+10),n.showHover(e)}getTooltipForCustom(e){if(Me(e))return()=>v9(this,void 0,void 0,(function*(){return e}));if(Ct(e.markdown))return e.markdown;{const t=e.markdown;return()=>v9(this,void 0,void 0,(function*(){return t}))}}setupCustomHover(e,t,n){t.setAttribute("title",""),t.removeAttribute("title");let i,s,r,o,a=this.getTooltipForCustom(n),l=!1;const c=this._register(ZP(t,_R.MOUSE_OVER,!0)(function(c){if(l)return;function d(e){const n=e.type===_R.MOUSE_DOWN;n&&(null==o||o.dispose(),o=void 0),(n||e.fromElement===t)&&(l=!1,i=void 0,r.dispose(!0),h.dispose(),u.dispose())}r=new L;const h=ZP(t,_R.MOUSE_LEAVE,!0)(d.bind(t)),u=ZP(t,_R.MOUSE_DOWN,!0)(d.bind(t));l=!0;const p=ZP(t,_R.MOUSE_MOVE,!0)(function(e){s=e.x}.bind(t));setTimeout((()=>v9(this,void 0,void 0,(function*(){var t;if(l&&a&&!i){const c={targetElements:[this],dispose:()=>{}};i={text:JI(0,"Loading..."),target:c,hoverPosition:2},o=y9.adjustXAndShowCustomHover(i,s,e,l);const d=null!==(t=yield a(r.token))&&void 0!==t?t:Me(n)?void 0:n.markdownNotSupportedFallback;d?(i={text:d,target:c,hoverPosition:2},o=y9.adjustXAndShowCustomHover(i,s,e,l)):o&&(o.dispose(),o=void 0)}p.dispose()}))),e.delay)}.bind(t)));this.customHovers.set(t,c)}setupNativeHover(e,t){let n="";Me(t)?n=t:(null==t?void 0:t.markdownNotSupportedFallback)&&(n=t.markdownNotSupportedFallback),e.title=n}}class w9{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!FA(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=wR(this.container,LR("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let n=0;n<e.length;n++){const i=e[n],s=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${n}`;wR(this.container,LR("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":n,role:"treeitem"},i)),n<e.length-1&&wR(this.container,LR("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class C9{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!FA(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new _9(wR(this.container,LR("a.label-name",{id:null==t?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const n=(null==t?void 0:t.separator)||"/",i=function(e,t,n){if(!n)return;let i=0;return e.map((e=>{const s={start:i,end:i+e.length},r=n.map((e=>n3.intersect(s,e))).filter((e=>!n3.isEmpty(e))).map((({start:e,end:t})=>({start:e-i,end:t-i})));return i=s.end+t.length,r}))}(e,n,null==t?void 0:t.matches);for(let s=0;s<e.length;s++){const r=e[s],o=i?i[s]:void 0,a=LR("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${s}`,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});new _9(wR(this.container,a),this.supportIcons).set(r,o,void 0,null==t?void 0:t.labelEscapeNewLines),s<e.length-1&&wR(a,LR("span.label-separator",void 0,n))}}}}class S9{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const x9=new S9("id#"),k9={},E9=new S9("quick-input-button-icon-");function D9(e){if(!e)return;let t;const n=e.dark.toString();return k9[n]?t=k9[n]:(t=E9.nextId(),gR(`.${t}`,`background-image: ${AR(e.light||e.dark)}`),gR(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${AR(e.dark)}`),k9[n]=t),t}const T9=LR;class L9{constructor(e,t,n){this.os=t,this.keyElements=new Set,this.options=n||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=wR(e,T9(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&L9.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(wR(this.domNode,T9("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){IO(this.domNode),this.keyElements.clear()}renderPart(e,t,n){const i=qW.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,Boolean(null==n?void 0:n.ctrlKey),i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,Boolean(null==n?void 0:n.shiftKey),i.separator),t.altKey&&this.renderKey(e,i.altKey,Boolean(null==n?void 0:n.altKey),i.separator),t.metaKey&&this.renderKey(e,i.metaKey,Boolean(null==n?void 0:n.metaKey),i.separator);const s=t.keyLabel;s&&this.renderKey(e,s,Boolean(null==n?void 0:n.keyCode),"")}renderKey(e,t,n,i){wR(e,this.createKeyElement(t,n?".highlight":"")),i&&wR(e,T9("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(e){wR(e,this.createKeyElement(JI(0,"Unbound")))}createKeyElement(e,t=""){const n=T9("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(n),n}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&FA(e.firstPart,t.firstPart)&&FA(e.chordPart,t.chordPart)}}var N9=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},I9=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const P9=LR;class O9{constructor(e){this.hidden=!1,this._onChecked=new x,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class R9{get templateId(){return R9.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=wR(e,P9(".quick-input-list-entry"));const n=wR(t.entry,P9("label.quick-input-list-label"));t.toDisposeTemplate.push(MO(n,_R.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=wR(n,P9("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(MO(t.checkbox,_R.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const i=wR(n,P9(".quick-input-list-rows")),s=wR(i,P9(".quick-input-list-row")),r=wR(i,P9(".quick-input-list-row"));t.label=new y9(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const o=wR(s,P9(".quick-input-list-entry-keybinding"));t.keybinding=new L9(o,Be);const a=wR(r,P9(".quick-input-list-label-meta"));return t.detail=new _9(a,!0),t.separator=wR(t.entry,P9(".quick-input-list-separator")),t.actionBar=new N0(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,n){n.toDisposeElement=De(n.toDisposeElement),n.element=e,n.checkbox.checked=e.checked,n.toDisposeElement.push(e.onChecked((e=>n.checkbox.checked=e)));const{labelHighlights:i,descriptionHighlights:s,detailHighlights:r}=e,o=Object.create(null);o.matches=i||[],o.descriptionTitle=e.saneDescription,o.descriptionMatches=s||[],o.extraClasses=e.item.iconClasses,o.italic=e.item.italic,o.strikethrough=e.item.strikethrough,n.label.setLabel(e.saneLabel,e.saneDescription,o),n.keybinding.set(e.item.keybinding),n.detail.set(e.saneDetail,r),e.separator&&e.separator.label?(n.separator.textContent=e.separator.label,n.separator.style.display=""):n.separator.style.display="none",n.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),n.actionBar.clear();const a=e.item.buttons;a&&a.length?(n.actionBar.push(a.map(((t,n)=>{let i=t.iconClass||(t.iconPath?D9(t.iconPath):void 0);t.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible");const s=new jH(`id-${n}`,"",i,!0,(()=>I9(this,void 0,void 0,(function*(){e.fireButtonTriggered({button:t,item:e.item})}))));return s.tooltip=t.tooltip||"",s})),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions")}disposeElement(e,t,n){n.toDisposeElement=De(n.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=De(e.toDisposeElement),e.toDisposeTemplate=De(e.toDisposeTemplate)}}R9.ID="listelement";class A9{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return R9.ID}}var M9,F9;(F9=M9||(M9={}))[F9.First=1]="First",F9[F9.Second=2]="Second",F9[F9.Last=3]="Last",F9[F9.Next=4]="Next",F9[F9.Previous=5]="Previous",F9[F9.NextPage=6]="NextPage",F9[F9.PreviousPage=7]="PreviousPage";class B9{constructor(e,t,n){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new x,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new x,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new x,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new x,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new x,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new x,this.onKeyDown=this._onKeyDown.event,this._onLeave=new x,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=wR(this.parent,P9(".quick-input-list"));const i=new A9,s=new V9;this.list=n.createList("QuickInput",this.container,i,[new R9],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new iO(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(S?e.metaKey:e.ctrlKey)&&this.list.setFocus(EB(this.list.length));break;case 16:const t=this.list.getFocus();1===t.length&&0===t[0]&&this._onLeave.fire();break;case 18:const n=this.list.getFocus();1===n.length&&n[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(RO(this.container,_R.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return k.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return k.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.hidden){if(!i.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let n=0,i=t.length;n<i;n++)t[n].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let n=0,i=t.length;n<i;n++)t[n].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=De(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce(((n,i,s)=>{var r,o,a;if("separator"!==i.type){const l=s&&e[s-1],c=i.label&&i.label.replace(/\r?\n/g," "),d=i.meta&&i.meta.replace(/\r?\n/g," "),h=i.description&&i.description.replace(/\r?\n/g," "),u=i.detail&&i.detail.replace(/\r?\n/g," "),p=i.ariaLabel||[c,h,u].map((e=>{return(t=e)?t.replace(/\$\((.*?)\)/g,((e,t)=>` ${t} `)).trim():"";var t})).filter((e=>!!e)).join(", ");n.push(new O9({index:s,item:i,saneLabel:c,saneMeta:d,saneAriaLabel:p,saneDescription:h,saneDetail:u,labelHighlights:null===(r=i.highlights)||void 0===r?void 0:r.label,descriptionHighlights:null===(o=i.highlights)||void 0===o?void 0:o.description,detailHighlights:null===(a=i.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return n}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((e=>e.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((e,t,n)=>(e.set(t.item,n),e)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const n of e)t.add(n);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===M9.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=M9.First),e===M9.Previous&&0===this.list.getFocus()[0]&&(e=M9.Last),e===M9.Second&&this.list.length<2&&(e=M9.First),e){case M9.First:this.list.focusFirst();break;case M9.Second:this.list.focusNth(1);break;case M9.Last:this.list.focusLast();break;case M9.Next:this.list.focusNext();break;case M9.Previous:this.list.focusPrevious();break;case M9.NextPage:this.list.focusNextPage();break;case M9.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let t;this.elements.forEach((n=>{const i=this.matchOnLabel?Ge(e4(e,Q3(n.saneLabel))):void 0,s=this.matchOnDescription?Ge(e4(e,Q3(n.saneDescription||""))):void 0,r=this.matchOnDetail?Ge(e4(e,Q3(n.saneDetail||""))):void 0,o=this.matchOnMeta?Ge(e4(e,Q3(n.saneMeta||""))):void 0;if(i||s||r||o?(n.labelHighlights=i,n.descriptionHighlights=s,n.detailHighlights=r,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!this.sortByLabel){const e=n.index&&this.inputElements[n.index-1];t=e&&"separator"===e.type?e:t,t&&!n.hidden&&(n.separator=t,t=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));const t=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const n=e.toLowerCase();t.sort(((e,t)=>function(e,t,n){const i=e.labelHighlights||[],s=t.labelHighlights||[];if(i.length&&!s.length)return-1;if(!i.length&&s.length)return 1;if(0===i.length&&0===s.length)return 0;return p9(e.saneLabel,t.saneLabel,n)}(e,t,n)))}return this.elementsToIndexes=t.reduce(((e,t,n)=>(e.set(t.item,n),e)),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const n of e)n.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=De(this.elementDisposables),this.disposables=De(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}N9([mz],B9.prototype,"onDidChangeFocus",null),N9([mz],B9.prototype,"onDidChangeSelection",null);class V9{getWidgetAriaLabel(){return JI(0,"Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}function W9(e,t={}){const n=H9(t);return z9(n,function(e,t){const n={type:1,children:[]};let i=0,s=n;const r=[],o=new U9(e);for(;!o.eos();){let e=o.next();const n="\\"===e&&0!==$9(o.peek(),t);if(n&&(e=o.next()),!n&&j9(e,t)&&e===o.peek()){o.advance(),2===s.type&&(s=r.pop());const n=$9(e,t);if(s.type===n||5===s.type&&6===n)s=r.pop();else{const e={type:n,children:[]};5===n&&(e.index=i,i++),s.children.push(e),r.push(s),s=e}}else if("\n"===e)2===s.type&&(s=r.pop()),s.children.push({type:8});else if(2!==s.type){const t={type:2,content:e};s.children.push(t),r.push(s),s=t}else s.content+=e}2===s.type&&(s=r.pop());return n}(e,!!t.renderCodeSegements),t.actionHandler,t.renderCodeSegements),n}function H9(e){const t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}class U9{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function z9(e,t,n,i){let s;if(2===t.type)s=document.createTextNode(t.content||"");else if(3===t.type)s=document.createElement("b");else if(4===t.type)s=document.createElement("i");else if(7===t.type&&i)s=document.createElement("code");else if(5===t.type&&n){const e=document.createElement("a");e.href="#",n.disposeables.add(MO(e,"click",(e=>{n.callback(String(t.index),e)}))),s=e}else 8===t.type?s=document.createElement("br"):1===t.type&&(s=e);s&&e!==s&&e.appendChild(s),s&&Array.isArray(t.children)&&t.children.forEach((e=>{z9(s,e,n,i)}))}function j9(e,t){return 0!==$9(e,t)}function $9(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}class K9{constructor(e,t=0,n=e.length,i=t-1){this.items=e,this.start=t,this.end=n,this.index=i}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class q9{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new K9(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}const G9=LR,Y9={inputBackground:F$.fromHex("#3C3C3C"),inputForeground:F$.fromHex("#CCCCCC"),inputValidationInfoBorder:F$.fromHex("#55AAFF"),inputValidationInfoBackground:F$.fromHex("#063B49"),inputValidationWarningBorder:F$.fromHex("#B89500"),inputValidationWarningBackground:F$.fromHex("#352A05"),inputValidationErrorBorder:F$.fromHex("#BE1100"),inputValidationErrorBackground:F$.fromHex("#5A1D1D")};class Z9 extends aX{constructor(e,t,n){var i;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new x),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new x),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=n||Object.create(null),MA(this.options,Y9,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(i=this.options.tooltip)&&void 0!==i?i:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=wR(e,G9(".monaco-inputbox.idle"));let s=this.options.flexibleHeight?"textarea":"input",r=wR(this.element,G9(".ibwrapper"));if(this.input=wR(r,G9(s+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=wR(r,G9("div.mirror")),this.mirror.innerText="",this.scrollableElement=new EX(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),wR(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=k.filter(ZP(document,"selectionchange"),(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===r}));this._register(t(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new N0(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:iR(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return eR(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:n})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const n=this.stylesForType(this.message.type);this.element.style.border=n.border?`1px solid ${n.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t,n=()=>e.style.width=eR(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=wR(t,G9(".monaco-inputbox-container")),n();const i={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?W9(this.message.content,i):function(e,t={}){const n=H9(t);return n.textContent=e,n}(this.message.content,i);s.classList.add(this.classForType(this.message.type));const r=this.stylesForType(this.message.type);return s.style.backgroundColor=r.background?r.background.toString():"",s.style.color=r.foreground?r.foreground.toString():"",s.style.border=r.border?`1px solid ${r.border}`:"",wR(e,s),null},onHide:()=>{this.state="closed"},layout:n}),t=3===this.message.type?JI(0,"Error: {0}",this.message.content):2===this.message.type?JI(0,"Warning: {0}",this.message.content):JI(0,"Info: {0}",this.message.content),VH(t),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";e+t?this.mirror.textContent=e+t:this.mirror.innerText="",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",n=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=iR(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,n=t.selectionStart,i=t.selectionEnd,s=t.value;null!==n&&null!==i&&(this.value=s.substr(0,n)+e+s.substr(i),t.setSelectionRange(n+1,n+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class X9 extends Z9{constructor(e,t,n){super(e,t,n),this.history=new q9(n.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,WH(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,WH(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const J9=LR;class Q9 extends F{constructor(e){super(),this.parent=e,this.onKeyDown=e=>RO(this.inputBox.inputElement,_R.KEY_DOWN,(t=>{e(new iO(t))})),this.onMouseDown=e=>RO(this.inputBox.inputElement,_R.MOUSE_DOWN,(t=>{e(new lO(t))})),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=wR(this.parent,J9(".quick-input-box")),this.inputBox=this._register(new Z9(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===UV.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===UV.Info?1:e===UV.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===UV.Info?1:e===UV.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}const e7={badgeBackground:F$.fromHex("#4D4D4D"),badgeForeground:F$.fromHex("#FFFFFF")};class t7{constructor(e,t){this.count=0,this.options=t||Object.create(null),MA(this.options,e7,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=wR(e,LR(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=$e(this.countFormat,this.count),this.element.title=$e(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",n=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}}}const n7={progressBarBackground:F$.fromHex("#0E70C0")};class i7 extends F{constructor(e,t){super(),this.options=t||Object.create(null),MA(this.options,n7,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new wO((()=>NR(this.element)),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add("done"),this.element.classList.contains("infinite")?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove("discrete","done"),this.element.classList.add("active","infinite"),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}const s7={buttonBackground:F$.fromHex("#0E639C"),buttonHoverBackground:F$.fromHex("#006BB3"),buttonForeground:F$.white};class r7 extends F{constructor(e,t){super(),this._onDidClick=this._register(new x),this.options=t||Object.create(null),MA(this.options,s7,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(bz.addTarget(this._element)),[_R.CLICK,_z.Tap].forEach((e=>{this._register(RO(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):vR(e)})))})),this._register(RO(this._element,_R.KEY_DOWN,(e=>{const t=new iO(e);let n=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),n=!0):t.equals(9)&&(this._element.blur(),n=!0),n&&vR(t,!0)}))),this._register(RO(this._element,_R.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.setHoverBackground()}))),this._register(RO(this._element,_R.MOUSE_OUT,(e=>{this.applyStyles()}))),this.focusTracker=this._register(yR(this._element)),this._register(this.focusTracker.onDidFocus((()=>this.setHoverBackground()))),this._register(this.focusTracker.onDidBlur((()=>this.applyStyles()))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const n=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=n?"1px":"",this._element.style.borderStyle=n?"solid":"",this._element.style.borderColor=n}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?CR(this._element,...f9(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var o7=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const a7=LR,l7={iconClass:LM("quick-input-back",NM.arrowLeft).classNames,tooltip:JI(0,"Back"),handle:-1};class c7 extends F{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=c7.noPromptMessage,this._severity=UV.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new x),this.onDidHideEmitter=this._register(new x),this.onDisposeEmitter=this._register(new x),this.visibleDisposables=this._register(new B),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){this._ignoreFocusOut=e,this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=l9.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=";");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new bO,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===l7));this.ui.leftActionBar.push(e.map(((e,t)=>{const n=new jH(`id-${t}`,"",e.iconClass||D9(e.iconPath),!0,(()=>o7(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return n.tooltip=e.tooltip||"",n})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==l7));this.ui.rightActionBar.push(t.map(((e,t)=>{const n=new jH(`id-${t}`,"",e.iconClass||D9(e.iconPath),!0,(()=>o7(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return n.tooltip=e.tooltip||"",n})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const n=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==n&&(this._lastValidationMessage=n,CR(this.ui.message,...f9(bt(n)))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?JI(0,"{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==UV.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}c7.noPromptMessage=JI(0,"Press 'Enter' to confirm your input or 'Escape' to cancel");class d7 extends c7{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new x),this.onDidAcceptEmitter=this._register(new x),this.onDidCustomEmitter=this._register(new x),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?d9.NONE:d9.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new x),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new x),this.onDidTriggerItemButtonEmitter=this._register(new x),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value=e||"",this.update()}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?a9:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(M9.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{if(e===this.value)return;this._value=e;this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(M9.Next),this.canSelectMany&&this.ui.list.domFocus(),vR(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(M9.Previous):this.ui.list.focus(M9.Last),this.canSelectMany&&this.ui.list.domFocus(),vR(e,!0);break;case 12:this.ui.list.focus(M9.NextPage),this.canSelectMany&&this.ui.list.domFocus(),vR(e,!0);break;case 11:this.ui.list.focus(M9.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),vR(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(M9.First),vR(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(M9.Last),vR(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&gB(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&gB(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.onDidAcceptEmitter.fire({inBackground:t instanceof MouseEvent&&1===t.button}))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&gB(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return RO(this.ui.container,_R.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new iO(e),n=t.keyCode;this._quickNavigate.keybindings.some((e=>{const[i,s]=e.getParts();return!s&&(i.shiftKey&&4===n?!(t.ctrlKey||t.altKey||t.metaKey):!(!i.altKey||6!==n)||(!(!i.ctrlKey||5!==n)||!(!i.metaKey||57!==n)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",e&&!this.description);const t={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!e,progressBar:!e,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(t),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const n=this.ariaLabel||this.placeholder||d7.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case d9.NONE:this._itemActivation=d9.FIRST;break;case d9.SECOND:this.ui.list.focus(M9.Second),this._itemActivation=d9.FIRST;break;case d9.LAST:this.ui.list.focus(M9.Last),this._itemActivation=d9.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),t.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(M9.First))}}d7.DEFAULT_ARIA_LABEL=JI(0,"Type to narrow down results.");class h7 extends F{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new x),this.onDidCustomEmitter=this._register(new x),this.onDidTriggerButtonEmitter=this._register(new x),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new x),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new x),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(RO(window,_R.KEY_DOWN,e,!0)),this._register(RO(window,_R.KEY_UP,e,!0)),this._register(RO(window,_R.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=wR(this.parentElement,a7(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=hR(e),n=wR(e,a7(".quick-input-titlebar")),i=this._register(new N0(n));i.domNode.classList.add("quick-input-left-action-bar");const s=wR(n,a7(".quick-input-title")),r=this._register(new N0(n));r.domNode.classList.add("quick-input-right-action-bar");const o=wR(e,a7(".quick-input-description")),a=wR(e,a7(".quick-input-header")),l=wR(a,a7("input.quick-input-check-all"));l.type="checkbox",this._register(MO(l,_R.CHANGE,(e=>{const t=l.checked;C.setAllVisibleChecked(t)}))),this._register(RO(l,_R.CLICK,(e=>{(e.x||e.y)&&u.setFocus()})));const c=wR(a,a7(".quick-input-description")),d=wR(a,a7(".quick-input-and-message")),h=wR(d,a7(".quick-input-filter")),u=this._register(new Q9(h));u.setAttribute("aria-describedby",`${this.idPrefix}message`);const p=wR(h,a7(".quick-input-visible-count"));p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true");const g=new t7(p,{countFormat:JI(0,"{0} Results")}),f=wR(h,a7(".quick-input-count"));f.setAttribute("aria-live","polite");const m=new t7(f,{countFormat:JI(0,"{0} Selected")}),_=wR(a,a7(".quick-input-action")),v=new r7(_);v.label=JI(0,"OK"),this._register(v.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const b=wR(a,a7(".quick-input-action")),y=new r7(b);y.label=JI(0,"Custom"),this._register(y.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const w=wR(d,a7(`#${this.idPrefix}message.quick-input-message`)),C=this._register(new B9(e,this.idPrefix+"list",this.options));this._register(C.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(C.onChangedVisibleCount((e=>{g.setCount(e)}))),this._register(C.onChangedCheckedCount((e=>{m.setCount(e)}))),this._register(C.onLeave((()=>{setTimeout((()=>{u.setFocus(),this.controller instanceof d7&&this.controller.canSelectMany&&C.clearFocus()}),0)}))),this._register(C.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const S=new i7(e);S.getContainer().classList.add("quick-input-progress");const x=yR(e);return this._register(x),this._register(RO(e,_R.FOCUS,(e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0}),!0)),this._register(x.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(l9.Blur),this.previousFocusElement=void 0}))),this._register(RO(e,_R.FOCUS,(e=>{u.setFocus()}))),this._register(RO(e,_R.KEY_DOWN,(t=>{const n=new iO(t);switch(n.keyCode){case 3:vR(t,!0),this.onDidAcceptEmitter.fire();break;case 9:vR(t,!0),this.hide(l9.Gesture);break;case 2:if(!n.altKey&&!n.ctrlKey&&!n.metaKey){const i=[".action-label.codicon"];e.classList.contains("show-checkboxes")?i.push("input"):i.push("input[type=text]"),this.getUI().list.isDisplayed()&&i.push(".monaco-list");const s=e.querySelectorAll(i.join(", "));n.shiftKey&&n.target===s[0]?(vR(t,!0),s[s.length-1].focus()):n.shiftKey||n.target!==s[s.length-1]||(vR(t,!0),s[0].focus())}}}))),this.ui={container:e,styleSheet:t,leftActionBar:i,titleBar:n,title:s,description1:o,description2:c,rightActionBar:r,checkAll:l,filterContainer:h,inputBox:u,visibleCountContainer:p,visibleCount:g,countContainer:f,count:m,okContainer:_,ok:v,message:w,customButtonContainer:b,customButton:y,list:C,progressBar:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},n=ne.None){return new Promise(((i,s)=>{let r=e=>{r=i,t.onKeyMods&&t.onKeyMods(o.keyMods),i(e)};if(n.isCancellationRequested)return void r(void 0);const o=this.createQuickPick();let a;const l=[o,o.onDidAccept((()=>{if(o.canSelectMany)r(o.selectedItems.slice()),o.hide();else{const e=o.activeItems[0];e&&(r(e),o.hide())}})),o.onDidChangeActive((e=>{const n=e[0];n&&t.onDidFocus&&t.onDidFocus(n)})),o.onDidChangeSelection((e=>{if(!o.canSelectMany){const t=e[0];t&&(r(t),o.hide())}})),o.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=o.items.indexOf(e.item);if(-1!==t){const e=o.items.slice(),n=e.splice(t,1),i=o.activeItems.filter((e=>e!==n[0]));o.items=e,i&&(o.activeItems=i)}}})))),o.onDidChangeValue((e=>{!a||e||1===o.activeItems.length&&o.activeItems[0]===a||(o.activeItems=[a])})),n.onCancellationRequested((()=>{o.hide()})),o.onDidHide((()=>{De(l),r(void 0)}))];o.title=t.title,o.canSelectMany=!!t.canPickMany,o.placeholder=t.placeHolder,o.ignoreFocusOut=!!t.ignoreFocusLost,o.matchOnDescription=!!t.matchOnDescription,o.matchOnDetail=!!t.matchOnDetail,o.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,o.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,o.quickNavigate=t.quickNavigate,o.contextKey=t.contextKey,o.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,o.busy=!1,o.items=e,o.canSelectMany&&(o.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(o.activeItems=[a])})),o.show(),Promise.resolve(e).then(void 0,(e=>{s(e),o.hide()}))}))}createQuickPick(){const e=this.getUI();return new d7(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const n=this.controller;this.controller=e,n&&n.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(UV.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),CR(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const i=this.options.backKeybindingLabel();l7.tooltip=i?JI(0,"Back ({0})",i):JI(0,"Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const n=this.controller;if(n){const i=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",i||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),n.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,h7.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:n,contrastBorder:i,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=n?n.toString():"",this.ui.container.style.border=i?`1px solid ${i}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const r=[];this.styles.list.pickerGroupBorder&&r.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&r.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&r.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&r.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&r.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),r.push("}"));const o=r.join("\n");o!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=o)}}}h7.MAX_WIDTH=600;const u7=RP("quickInputService");var p7,g7;(g7=p7||(p7={}))[g7.PRESERVE=0]="PRESERVE",g7[g7.LAST=1]="LAST";const f7="workbench.contributions.quickaccess";ZV.add(f7,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),I((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return bB([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});var m7=function(e,t){return function(n,i){t(n,i,e)}};let _7=class extends F{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=ZV.as(f7),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){var n;const[i,s]=this.getOrInstantiateProvider(e),r=this.visibleQuickAccess,o=null==r?void 0:r.descriptor;if(r&&s&&o===s)return e===s.prefix||(null==t?void 0:t.preserveValue)||(r.picker.value=e),void this.adjustValueSelection(r.picker,s,t);if(s&&!(null==t?void 0:t.preserveValue)){let t;if(r&&o&&o!==s){const e=r.value.substr(o.prefix.length);e&&(t=`${s.prefix}${e}`)}if(!t){const e=null==i?void 0:i.defaultFilterValue;e===p7.LAST?t=this.lastAcceptedPickerValues.get(s):"string"==typeof e&&(t=`${s.prefix}${e}`)}"string"==typeof t&&(e=t)}const a=new B,l=a.add(this.quickInputService.createQuickPick());l.value=e,this.adjustValueSelection(l,s,t),l.placeholder=null==s?void 0:s.placeholder,l.quickNavigate=null==t?void 0:t.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!r,("number"==typeof(null==t?void 0:t.itemActivation)||(null==t?void 0:t.quickNavigateConfiguration))&&(l.itemActivation=null!==(n=null==t?void 0:t.itemActivation)&&void 0!==n?n:d9.SECOND),l.contextKey=null==s?void 0:s.contextKey,l.filterValue=e=>e.substring(s?s.prefix.length:0),(null==s?void 0:s.placeholder)&&(l.ariaLabel=null==s?void 0:s.placeholder),a.add(this.registerPickerListeners(l,i,s,e));const c=a.add(new L);i&&a.add(i.provide(l,c.token)),jX(l.onDidHide)((()=>{0===l.selectedItems.length&&c.cancel(),a.dispose()})),l.show()}adjustValueSelection(e,t,n){var i;let s;s=(null==n?void 0:n.preserveValue)?[e.value.length,e.value.length]:[null!==(i=null==t?void 0:t.prefix.length)&&void 0!==i?i:0,e.value.length],e.valueSelection=s}registerPickerListeners(e,t,n,i){const s=new B,r=this.visibleQuickAccess={picker:e,descriptor:n,value:i};return s.add(I((()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),s.add(e.onDidChangeValue((e=>{const[n]=this.getOrInstantiateProvider(e);n!==t?this.show(e,{preserveValue:!0}):r.value=e}))),n&&s.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(n,e.value)}))),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let n=this.mapProviderToDescriptor.get(t);return n||(n=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,n)),[n,t]}};_7=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([m7(0,u7),m7(1,PP)],_7);var v7=function(e,t){return function(n,i){t(n,i,e)}};let b7=class extends NU{constructor(e,t,n,i,s){super(n),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=i,this.layoutService=s,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(_7))),this._quickAccess}createController(e=this.layoutService,t){var n,i;const s={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,n,i,s)=>this.instantiationService.createInstance(i8,e,t,n,i,s),styles:this.computeStyles()},r=this._register(new h7(Object.assign(Object.assign({},s),t)));return r.layout(e.dimension,null!==(i=null===(n=e.offset)||void 0===n?void 0:n.top)&&void 0!==i?i:0),this._register(e.onDidLayout((t=>{var n,i;return r.layout(t,null!==(i=null===(n=e.offset)||void 0===n?void 0:n.top)&&void 0!==i?i:0)}))),this._register(r.onShow((()=>this.resetContextKeys()))),this._register(r.onHide((()=>this.resetContextKeys()))),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new mU(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},n=ne.None){return this.controller.pick(e,t,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},u4(this.theme,{quickInputBackground:jq,quickInputForeground:$q,quickInputTitleBackground:Kq,contrastBorder:YK,widgetShadow:QK})),inputBox:u4(this.theme,{inputForeground:tq,inputBackground:eq,inputBorder:nq,inputValidationInfoBackground:oq,inputValidationInfoForeground:aq,inputValidationInfoBorder:lq,inputValidationWarningBackground:cq,inputValidationWarningForeground:dq,inputValidationWarningBorder:hq,inputValidationErrorBackground:uq,inputValidationErrorForeground:pq,inputValidationErrorBorder:gq}),countBadge:u4(this.theme,{badgeBackground:yq,badgeForeground:wq,badgeBorder:YK}),button:u4(this.theme,{buttonForeground:_q,buttonBackground:vq,buttonHoverBackground:bq,buttonBorder:YK}),progressBar:u4(this.theme,{progressBarBackground:Eq}),keybindingLabel:u4(this.theme,{keybindingLabelBackground:Yq,keybindingLabelForeground:Zq,keybindingLabelBorder:Xq,keybindingLabelBottomBorder:Jq,keybindingLabelShadow:QK}),list:u4(this.theme,{listBackground:jq,listInactiveFocusForeground:LG,listInactiveFocusBackground:qG,listFocusOutline:ZK,listInactiveFocusOutline:ZK,pickerGroupBorder:Gq,pickerGroupForeground:qq})}}};b7=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([v7(0,PP),v7(1,_U),v7(2,CU),v7(3,NQ),v7(4,y4)],b7);var y7=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},w7=function(e,t){return function(n,i){t(n,i,e)}};let C7=class extends b7{constructor(e,t,n,i,s,r){super(t,n,i,s,r),this.host=void 0;const o=x7.get(e);this.host={_serviceBrand:void 0,get container(){return o.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};C7=y7([w7(1,PP),w7(2,_U),w7(3,CU),w7(4,NQ),w7(5,y4)],C7);let S7=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const n=t=this.instantiationService.createInstance(C7,e);this.mapEditorToService.set(e,t),jX(e.onDidDispose)((()=>{n.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},n=ne.None){return this.activeService.pick(e,t,n)}createQuickPick(){return this.activeService.createQuickPick()}};S7=y7([w7(0,PP),w7(1,MP)],S7);class x7{constructor(e){this.editor=e,this.widget=new k7(this.editor)}static get(e){return e.getContribution(x7.ID)}dispose(){this.widget.dispose()}}x7.ID="editor.controller.quickInput";class k7{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return k7.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var E7;k7.ID="editor.contrib.quickInputWidget",ZU(x7.ID,x7),function(e){const t=new LQ;class n{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=n;let i=[];function s(e,t){let s=new n(e,t);return i.push(s),s}e.init=function(e){let t=new LQ;for(const[i,s]of g0)t.set(i,s);for(let i in e)e.hasOwnProperty(i)&&t.set(RP(i),e[i]);i.forEach((n=>t.set(n.id,n.get(e))));let n=new E4(t,!0);return t.set(PP,n),[t,n]},e.instantiationService=s(PP,(()=>new E4(t,!0)));const r=new kH;e.configurationService=s(TW,(()=>r)),e.resourceConfigurationService=s(hB,(()=>new EH(r))),e.resourcePropertiesService=s(uB,(()=>new DH(r))),e.contextService=s(QW,(()=>new LH)),e.labelService=s(T4,(()=>new PH)),e.telemetryService=s(BU,(()=>new TH)),e.dialogService=s(C4,(()=>new yH)),e.notificationService=s(JW,(()=>new wH)),e.markerService=s(w8,(()=>new x8)),e.modeService=s(wF,(e=>new t2)),e.standaloneThemeService=s(y1,(()=>new $2)),e.logService=s(IB,(()=>new FB(new MB))),e.undoRedoService=s(n2,(t=>new r9(e.dialogService.get(t),e.notificationService.get(t)))),e.modelService=s(CM,(t=>new C2(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t)))),e.markerDecorationsService=s(UH,(t=>new z8(e.modelService.get(t),e.markerService.get(t)))),e.contextKeyService=s(_U,(t=>new e3(e.configurationService.get(t)))),e.codeEditorService=s(MP,(t=>new P1(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t)))),e.editorProgressService=s(X0,(()=>new bH)),e.storageService=s(I8,(()=>new A8)),e.editorWorkerService=s(yF,(t=>new HB(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t))))}(E7||(E7={}));class D7 extends F{constructor(e,t){super();const[n,i]=E7.init(t);this._serviceCollection=n,this._instantiationService=i;const s=this.get(TW),r=this.get(JW),o=this.get(BU),a=this.get(CU),l=this.get(IB),c=this.get(_U);let d=(e,n)=>{let i=null;return t&&(i=t[e.toString()]),i||(i=n()),this._serviceCollection.set(e,i),i};d(NQ,(()=>new $8(c,s))),d(F6,(()=>new B6(a)));let h=d(_A,(()=>new CH(this._instantiationService))),u=d(w1,(()=>this._register(new SH(c,h,o,r,l,e)))),p=d(y4,(()=>new OH(E7.codeEditorService.get(MP),e)));d(u7,(()=>new S7(i,E7.codeEditorService.get(MP))));let g=d($0,(()=>this._register(new w4(p))));d(Y0,(()=>new q8)),d(K0,(()=>{const e=new b4(o,r,g,u,a);return e.configure({blockMouse:!1}),this._register(e)})),d(RU,(()=>new B8(h))),d(KV,(()=>new IH(E7.modelService.get(CM))))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function T7(e,t,n){let i=new D7(e,t),s=null;i.has(CF)||(s=new vH(E7.modelService.get()),i.set(CF,s)),i.has(CA)||i.set(CA,new NA(i.get(MP),i.get(_A)));let r=n(i);return s&&s.setEditor(r),r}function L7(e,t,n){return T7(e,n||{},(n=>new V1(e,t,n,n.get(PP),n.get(MP),n.get(_A),n.get(_U),n.get(w1),n.get($0),n.get(y1),n.get(JW),n.get(TW),n.get(NQ),n.get(CM),n.get(wF))))}function N7(e){return E7.codeEditorService.get().onCodeEditorAdd((t=>{e(t)}))}function I7(e,t,n){return T7(e,n||{},(n=>new W1(e,t,n,n.get(PP),n.get(_U),n.get(w1),n.get($0),n.get(yF),n.get(MP),n.get(y1),n.get(JW),n.get(TW),n.get(K0),n.get(X0),n.get(Y0))))}function P7(e,t){return new WA(e,t)}function O7(e,t,n){return H1(E7.modelService.get(),E7.modeService.get(),e,t,n)}function R7(e,t){E7.modelService.get().setMode(e,E7.modeService.get().create(t))}function A7(e,t,n){e&&E7.markerService.get().changeOne(t,e.uri,n)}function M7(e){return E7.markerService.get().read(e)}function F7(e){return E7.markerService.get().onMarkerChanged(e)}function B7(e){return E7.modelService.get().getModel(e)}function V7(){return E7.modelService.get().getModels()}function W7(e){return E7.modelService.get().onModelAdded(e)}function H7(e){return E7.modelService.get().onModelRemoved(e)}function U7(e){return E7.modelService.get().onModelModeChanged((t=>{e({model:t.model,oldLanguage:t.oldModeId})}))}function z7(e){return function(e,t){return new GB(e,t)}(E7.modelService.get(),e)}function j7(e,t){const n=E7.standaloneThemeService.get();return n.registerEditorContainer(e),FV.colorizeElement(n,E7.modeService.get(),e,t)}function $7(e,t,n){return E7.standaloneThemeService.get().registerEditorContainer(document.body),FV.colorize(E7.modeService.get(),e,t,n)}function K7(e,t,n=4){return E7.standaloneThemeService.get().registerEditorContainer(document.body),FV.colorizeModelLine(e,t,n)}function q7(e,t){E7.modeService.get().triggerMode(t);let n=(i=t,fF.get(i)||{getInitialState:()=>mF,tokenize:(e,t,n,s)=>vF(i,0,n,s)});var i;let s=Ae(e),r=[],o=n.getInitialState();for(let a=0,l=s.length;a<l;a++){let e=s[a],t=n.tokenize(e,!0,o,0);r[a]=t.tokens,o=t.endState}return r}function G7(e,t){E7.standaloneThemeService.get().defineTheme(e,t)}function Y7(e){E7.standaloneThemeService.get().setTheme(e)}function Z7(){hz.INSTANCE.clearCache()}function X7(e,t){return vA.registerCommand({id:e,handler:t})}function J7(e,t){return"boolean"==typeof e?e:t}function Q7(e,t){return"string"==typeof e?e:t}function eee(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const n=function(e){const t={};for(const n of e)t[n]=!0;return t}(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function tee(e,t){t=t.replace(/@@/g,"");let n,i=0;do{n=!1,t=t.replace(/@(\w+)/g,(function(i,s){n=!0;let r="";if("string"==typeof e[s])r=e[s];else{if(!(e[s]&&e[s]instanceof RegExp))throw void 0===e[s]?SV(e,"language definition does not contain attribute '"+s+"', used at: "+t):SV(e,"attribute reference '"+s+"' must be a string, used at: "+t);r=e[s].source}return yV(r)?"":"(?:"+r+")"})),i++}while(n&&i<5);t=t.replace(/\x01/g,"@");let s=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,s)}function nee(e,t,n,i){let s=-1,r=n,o=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(s=parseInt(o[3]),o[2]&&(s+=100)),r=o[4]);let a,l="~",c=r;if(r&&0!==r.length?/^\w*$/.test(c)?l="==":(o=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(l=o[1],c=o[2])):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){let n=e[c];if(!n)throw SV(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const n of t)if(!e(n))return!1;return!0}((function(e){return"string"==typeof e}),n))throw SV(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);let i=eee(n,e.ignoreCase);a=function(e){return"@"===l?i(e):!i(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){let t=tee(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,n,i,s){return tee(e,"^"+xV(e,c,n,i,s)+"$").test(t)};else if(c.indexOf("$")<0){let t=wV(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{let t=wV(e,c);a=function(n,i,s,r,o){let a=xV(e,t,i,s,r);return"=="===l?n===a:n!==a}}else{let t=eee(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===s?{name:n,value:i,test:function(e,t,n,i){return a(e,e,t,n,i)}}:{name:n,value:i,test:function(e,t,n,i){let r=function(e,t,n,i){if(i<0)return e;if(i<t.length)return t[i];if(i>=100){i-=100;let e=n.split(".");if(e.unshift(n),i<e.length)return e[i]}return null}(e,t,n,s);return a(r||"",e,t,n,i)}}}function iee(e,t,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)throw SV(e,"a 'token' attribute must be of type string, in rule: "+t);{let i={token:n.token};if(n.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"==typeof n.bracket)if("@open"===n.bracket)i.bracket=1;else{if("@close"!==n.bracket)throw SV(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);i.bracket=-1}if(n.next){if("string"!=typeof n.next)throw SV(e,"the next state must be a string value in rule: "+t);{let s=n.next;if(!/^(@pop|@push|@popall)$/.test(s)&&("@"===s[0]&&(s=s.substr(1)),s.indexOf("$")<0&&!function(e,t){let n=t;for(;n&&n.length>0;){if(e.stateNames[n])return!0;const t=n.lastIndexOf(".");n=t<0?null:n.substr(0,t)}return!1}(e,xV(e,s,"",[],""))))throw SV(e,"the next state '"+n.next+"' is not defined in rule: "+t);i.next=s}}return"number"==typeof n.goBack&&(i.goBack=n.goBack),"string"==typeof n.switchTo&&(i.switchTo=n.switchTo),"string"==typeof n.log&&(i.log=n.log),"string"==typeof n.nextEmbedded&&(i.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),i}}if(Array.isArray(n)){let i=[];for(let s=0,r=n.length;s<r;s++)i[s]=iee(e,t,n[s]);return{group:i}}if(n.cases){let i=[];for(let r in n.cases)if(n.cases.hasOwnProperty(r)){const s=iee(e,t,n.cases[r]);"@default"===r||"@"===r||""===r?i.push({test:void 0,value:s,name:r}):"@eos"===r?i.push({test:function(e,t,n,i){return i},value:s,name:r}):i.push(nee(e,t,r,s))}const s=e.defaultToken;return{test:function(e,t,n,r){for(const s of i){if(!s.test||s.test(e,t,n,r))return s.value}return s}}}throw SV(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class see{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let n;if("string"==typeof t)n=t;else{if(!(t instanceof RegExp))throw SV(e,"rules must start with a match string or regular expression: "+this.name);n=t.source}this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=tee(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(e,t){this.action=iee(e,this.name,t)}}function ree(e){Z1.registerLanguage(e)}function oee(){let e=[];return e=e.concat(Z1.getLanguages()),e}function aee(e){let t=E7.modeService.get().getLanguageIdentifier(e);return t?t.id:0}function lee(e,t){let n=E7.modeService.get().onDidCreateMode((i=>{i.getId()===e&&(n.dispose(),t())}));return n}function cee(e,t){let n=E7.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error(`Cannot set configuration for unknown language ${e}`);return dB.register(n,t,100)}class dee{constructor(e,t){this._languageIdentifier=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,n,i){if("function"==typeof this._actual.tokenize)return hee.adaptTokenize(this._languageIdentifier.language,this._actual,e,n,i);throw new Error("Not supported!")}tokenize2(e,t,n){let i=this._actual.tokenizeEncoded(e,n);return new ue(i.tokens,i.endState)}}class hee{constructor(e,t,n){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,n){let i=[],s=0;for(let r=0,o=e.length;r<o;r++){const o=e[r];let a=o.startIndex;0===r?a=0:a<s&&(a=s),i[r]=new ge(a+n,o.scopes,t),s=a}return i}static adaptTokenize(e,t,n,i,s){let r,o=t.tokenize(n,i),a=hee._toClassicTokens(o.tokens,e,s);return r=o.endState.equals(i)?i:o.endState,new pe(a,r)}tokenize(e,t,n,i){return hee.adaptTokenize(this._languageIdentifier.language,this._actual,e,n,i)}_toBinaryTokens(e,t){const n=this._languageIdentifier.id,i=this._standaloneThemeService.getColorTheme().tokenTheme;let s=[],r=0,o=0;for(let l=0,c=e.length;l<c;l++){const a=e[l],c=i.match(n,a.scopes);if(r>0&&s[r-1]===c)continue;let d=a.startIndex;0===l?d=0:d<o&&(d=o),s[r++]=d+t,s[r++]=c,o=d}let a=new Uint32Array(r);for(let l=0;l<r;l++)a[l]=s[l];return a}tokenize2(e,t,n,i){let s,r=this._actual.tokenize(e,n),o=this._toBinaryTokens(r.tokens,i);return s=r.endState.equals(n)?n:r.endState,new ue(o,s)}}function uee(e){return e&&"function"==typeof e.then}function pee(e){if(e){const t=[null];for(let n=1,i=e.length;n<i;n++)t[n]=F$.fromHex(e[n]);E7.standaloneThemeService.get().setColorMapOverride(t)}else E7.standaloneThemeService.get().setColorMapOverride(null)}function gee(e,t){let n=E7.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error(`Cannot set tokens provider for unknown language ${e}`);const i=e=>function(e){return"tokenizeEncoded"in e}(e)?new dee(n,e):new hee(E7.standaloneThemeService.get(),n,e);return uee(t)?fF.registerPromise(e,t.then((e=>i(e)))):fF.register(e,i(t))}function fee(e,t){const n=t=>{return n=E7.modeService.get(),i=E7.standaloneThemeService.get(),s=e,r=function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let n={};n.languageId=e,n.includeLF=J7(t.includeLF,!1),n.noThrow=!1,n.maxStack=100,n.start="string"==typeof t.start?t.start:null,n.ignoreCase=J7(t.ignoreCase,!1),n.unicode=J7(t.unicode,!1),n.tokenPostfix=Q7(t.tokenPostfix,"."+n.languageId),n.defaultToken=Q7(t.defaultToken,"source"),n.usesEmbedded=!1;let i=t;function s(e,r,o){for(const a of o){let o=a.include;if(o){if("string"!=typeof o)throw SV(n,"an 'include' attribute must be a string at: "+e);if("@"===o[0]&&(o=o.substr(1)),!t.tokenizer[o])throw SV(n,"include target '"+o+"' is not defined at: "+e);s(e+"."+o,r,t.tokenizer[o])}else{const t=new see(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(i,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(i,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw SV(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(i,e)}}else t.setAction(i,a[1]);else{if(!a.regex)throw SV(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=J7(a.matchOnlyAtLineStart,!1)),t.setRegex(i,a.regex),t.setAction(i,a.action)}r.push(t)}}}if(i.languageId=e,i.includeLF=n.includeLF,i.ignoreCase=n.ignoreCase,i.unicode=n.unicode,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=t.tokenizer,i.defaultToken=n.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw SV(n,"a language definition must define the 'tokenizer' attribute as an object");n.tokenizer=[];for(let o in t.tokenizer)if(t.tokenizer.hasOwnProperty(o)){n.start||(n.start=o);const e=t.tokenizer[o];n.tokenizer[o]=new Array,s("tokenizer."+o,n.tokenizer[o],e)}if(n.usesEmbedded=i.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw SV(n,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let r=[];for(let o of t.brackets){let e=o;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw SV(n,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw SV(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array");r.push({token:e.token+n.tokenPostfix,open:wV(n,e.open),close:wV(n,e.close)})}return n.brackets=r,n.noThrow=!0,n}(e,t),new OV(n,i,s,r);var n,i,s,r};return uee(t)?fF.registerPromise(e,t.then((e=>n(e)))):fF.register(e,n(t))}function mee(e,t){return $M.register(e,t)}function _ee(e,t){return KM.register(e,t)}function vee(e,t){return GM.register(e,t)}function bee(e,t){return YM.register(e,{provideHover:(e,n,i)=>{let s=e.getWordAtPosition(n);return Promise.resolve(t.provideHover(e,n,i)).then((e=>{if(e)return!e.range&&s&&(e.range=new oe(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)),e.range||(e.range=new oe(n.lineNumber,n.column,n.lineNumber,n.column)),e}))}})}function yee(e,t){return ZM.register(e,t)}function wee(e,t){return XM.register(e,t)}function Cee(e,t){return JM.register(e,t)}function See(e,t){return QM.register(e,t)}function xee(e,t){return tF.register(e,t)}function kee(e,t){return nF.register(e,t)}function Eee(e,t){return iF.register(e,t)}function Dee(e,t){return rF.register(e,{provideCodeActions:(e,n,i,s)=>{let r=E7.markerService.get().read({resource:e.uri}).filter((e=>oe.areIntersectingOrTouching(e,n)));return t.provideCodeActions(e,n,{markers:r,only:i.only},s)}})}function Tee(e,t){return oF.register(e,t)}function Lee(e,t){return aF.register(e,t)}function Nee(e,t){return lF.register(e,t)}function Iee(e,t){return cF.register(e,t)}function Pee(e,t){return qM.register(e,t)}function Oee(e,t){return dF.register(e,t)}function Ree(e,t){return uF.register(e,t)}function Aee(e,t){return eF.register(e,t)}function Mee(e,t){return hF.register(e,t)}function Fee(e,t){return pF.register(e,t)}function Bee(e,t){return gF.register(e,t)}class Vee{static _handleEolEdits(e,t){let n,i=[];for(let s of t)"number"==typeof s.eol&&(n=s.eol),s.range&&"string"==typeof s.text&&i.push(s);return"number"==typeof n&&e.hasModel()&&e.getModel().pushEOL(n),i}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const n=e.getModel(),i=n.validateRange(t.range);return n.getFullModelRange().equalsRange(i)}static execute(e,t,n){n&&e.pushUndoStop();const i=Vee._handleEolEdits(e,t);1===i.length&&Vee._isFullModelReplaceEdit(e,i[0])?e.executeEdits("formatEditsCommand",i.map((e=>DW.replace(oe.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",i.map((e=>DW.replaceMove(oe.lift(e.range),e.text)))),n&&e.pushUndoStop()}}class Wee{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var Hee,Uee=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function zee(e){if(!(e=e.filter((e=>e.range))).length)return;let{range:t}=e[0];for(let s=1;s<e.length;s++)t=oe.plusRange(t,e[s].range);const{startLineNumber:n,endLineNumber:i}=t;n===i?1===e.length?VH(JI(0,"Made 1 formatting edit on line {0}",n)):VH(JI(0,"Made {0} formatting edits on line {1}",e.length,n)):1===e.length?VH(JI(0,"Made 1 formatting edit between lines {0} and {1}",n,i)):VH(JI(0,"Made {0} formatting edits between lines {1} and {2}",e.length,n,i))}function jee(e){const t=[],n=new Set,i=oF.ordered(e);for(const r of i)t.push(r),r.extensionId&&n.add(Wee.toKey(r.extensionId));const s=aF.ordered(e);for(const r of s){if(r.extensionId){if(n.has(Wee.toKey(r.extensionId)))continue;n.add(Wee.toKey(r.extensionId))}t.push({displayName:r.displayName,extensionId:r.extensionId,provideDocumentFormattingEdits:(e,t,n)=>r.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,n)})}return t}class $ee{static setFormatterSelector(e){return{dispose:$ee._selectors.unshift(e)}}static select(e,t,n){return Uee(this,void 0,void 0,(function*(){if(0===e.length)return;const i=ee.first($ee._selectors);return i?yield i(e,t,n):void 0}))}}function Kee(e,t,n,i,s,r){return Uee(this,void 0,void 0,(function*(){const o=e.get(PP),a=zV(t)?t.getModel():t,l=aF.ordered(a),c=yield $ee.select(l,a,i);c&&(s.report(c),yield o.invokeFunction(qee,c,t,n,r))}))}function qee(e,t,n,i,s){return Uee(this,void 0,void 0,(function*(){const r=e.get(yF);let o,a;zV(n)?(o=n.getModel(),a=new y0(n,5,void 0,s)):(o=n,a=new w0(n,s));let l=[],c=0;for(let e of NB(i).sort(oe.compareRangesUsingStarts))c>0&&oe.areIntersectingOrTouching(l[c-1],e)?l[c-1]=oe.fromPositions(l[c-1].getStartPosition(),e.getEndPosition()):c=l.push(e);const d=[];for(let e of l)try{const n=yield t.provideDocumentRangeFormattingEdits(o,e,o.getFormattingOptions(),a.token),i=yield r.computeMoreMinimalEdits(o.uri,n);if(i&&d.push(...i),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(0===d.length)return!1;if(zV(n))Vee.execute(n,d,!0),zee(d),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1);else{const[{range:e}]=d,t=new Ze(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);o.pushEditOperations([t],d.map((e=>({text:e.text,range:oe.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:n}of e)if(oe.areIntersectingOrTouching(n,t))return[new Ze(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)];return null}))}return!0}))}function Gee(e,t,n,i,s){return Uee(this,void 0,void 0,(function*(){const r=e.get(PP),o=zV(t)?t.getModel():t,a=jee(o),l=yield $ee.select(a,o,n);l&&(i.report(l),yield r.invokeFunction(Yee,l,t,n,s))}))}function Yee(e,t,n,i,s){return Uee(this,void 0,void 0,(function*(){const r=e.get(yF);let o,a,l;zV(n)?(o=n.getModel(),a=new y0(n,5,void 0,s)):(o=n,a=new w0(n,s));try{const e=yield t.provideDocumentFormattingEdits(o,o.getFormattingOptions(),a.token);if(l=yield r.computeMoreMinimalEdits(o.uri,e),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||0===l.length)return!1;if(zV(n))Vee.execute(n,l,2!==i),2!==i&&(zee(l),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1));else{const[{range:e}]=l,t=new Ze(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);o.pushEditOperations([t],l.map((e=>({text:e.text,range:oe.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:n}of e)if(oe.areIntersectingOrTouching(n,t))return[new Ze(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)];return null}))}return!0}))}function Zee(e,t,n,i,s){const r=lF.ordered(t);return 0===r.length||r[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(t,n,i,s,ne.None)).catch(xt).then((n=>e.computeMoreMinimalEdits(t.uri,n)))}$ee._selectors=new Q,vA.registerCommand("_executeFormatRangeProvider",(function(e,...t){const[n,i,s]=t;Ye(P.isUri(n)),Ye(oe.isIRange(i));const r=e.get(CM).getModel(n);if(!r)throw He("resource");return function(e,t,n,i,s){return Uee(this,void 0,void 0,(function*(){const r=aF.ordered(t);for(const o of r){let r=yield Promise.resolve(o.provideDocumentRangeFormattingEdits(t,n,i,s)).catch(xt);if(wB(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}(e.get(yF),r,oe.lift(i),s,ne.None)})),vA.registerCommand("_executeFormatDocumentProvider",(function(e,...t){const[n,i]=t;Ye(P.isUri(n));const s=e.get(CM).getModel(n);if(!s)throw He("resource");return function(e,t,n,i){return Uee(this,void 0,void 0,(function*(){const s=jee(t);for(const r of s){let s=yield Promise.resolve(r.provideDocumentFormattingEdits(t,n,i)).catch(xt);if(wB(s))return yield e.computeMoreMinimalEdits(t.uri,s)}}))}(e.get(yF),s,i,ne.None)})),vA.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){const[n,i,s,r]=t;Ye(P.isUri(n)),Ye(je.isIPosition(i)),Ye("string"==typeof s);const o=e.get(CM).getModel(n);if(!o)throw He("resource");return Zee(e.get(yF),o,je.lift(i),s,r)})),LP.wrappingIndent.defaultValue=0,LP.glyphMargin.defaultValue=!1,LP.autoIndent.defaultValue=3,LP.overviewRulerLanes.defaultValue=2,$ee.setFormatterSelector(((e,t,n)=>Promise.resolve(e[0])));const Xee=fn();Xee.editor={create:L7,onDidCreateEditor:N7,createDiffEditor:I7,createDiffNavigator:P7,createModel:O7,setModelLanguage:R7,setModelMarkers:A7,getModelMarkers:M7,onDidChangeMarkers:F7,getModels:V7,getModel:B7,onDidCreateModel:W7,onWillDisposeModel:H7,onDidChangeModelLanguage:U7,createWebWorker:z7,colorizeElement:j7,colorize:$7,colorizeModelLine:K7,tokenize:q7,defineTheme:G7,setTheme:Y7,remeasureFonts:Z7,registerCommand:X7,AccessibilitySupport:Bt,ContentWidgetPositionPreference:Vt,CursorChangeReason:Wt,DefaultEndOfLine:Ht,EditorAutoIndentStrategy:Ut,EditorOption:zt,EndOfLinePreference:jt,EndOfLineSequence:$t,MinimapPosition:Kt,MouseTargetType:qt,OverlayWidgetPositionPreference:Gt,OverviewRulerLane:Yt,RenderLineNumbersType:Zt,RenderMinimap:Xt,ScrollbarVisibility:Jt,ScrollType:Qt,TextEditorCursorBlinkingStyle:en,TextEditorCursorStyle:tn,TrackedRangeStickiness:nn,WrappingIndent:sn,ConfigurationChangedEvent:QI,BareFontInfo:zA,FontInfo:jA,TextModelResolvedOptions:ZA,FindMatch:XA,EditorType:$A,EditorOptions:LP},Xee.languages={register:ree,getLanguages:oee,onLanguage:lee,getEncodedLanguageId:aee,setLanguageConfiguration:cee,setColorMap:pee,setTokensProvider:gee,setMonarchTokensProvider:fee,registerReferenceProvider:mee,registerRenameProvider:_ee,registerCompletionItemProvider:Pee,registerSignatureHelpProvider:vee,registerHoverProvider:bee,registerDocumentSymbolProvider:yee,registerDocumentHighlightProvider:wee,registerLinkedEditingRangeProvider:Cee,registerDefinitionProvider:See,registerImplementationProvider:xee,registerTypeDefinitionProvider:kee,registerCodeLensProvider:Eee,registerCodeActionProvider:Dee,registerDocumentFormattingEditProvider:Tee,registerDocumentRangeFormattingEditProvider:Lee,registerOnTypeFormattingEditProvider:Nee,registerLinkProvider:Iee,registerColorProvider:Oee,registerFoldingRangeProvider:Ree,registerDeclarationProvider:Aee,registerSelectionRangeProvider:Mee,registerDocumentSemanticTokensProvider:Fee,registerDocumentRangeSemanticTokensProvider:Bee,DocumentHighlightKind:rn,CompletionItemKind:on,CompletionItemTag:an,CompletionItemInsertTextRule:ln,SymbolKind:cn,SymbolTag:dn,IndentAction:hn,CompletionTriggerKind:un,SignatureHelpTriggerKind:pn,InlineHintKind:gn,FoldingRangeKind:jM};const Jee=Xee.CancellationTokenSource,Qee=Xee.Emitter,ete=Xee.KeyCode,tte=Xee.KeyMod,nte=Xee.Position,ite=Xee.Range,ste=Xee.Selection,rte=Xee.SelectionDirection,ote=Xee.MarkerSeverity,ate=Xee.MarkerTag,lte=Xee.Uri,cte=Xee.Token,dte=Xee.editor,hte=Xee.languages;((null===(Hee=me.MonacoEnvironment)||void 0===Hee?void 0:Hee.globalAPI)||"function"==typeof define&&define.amd)&&(self.monaco=Xee),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var ute,pte,gte,fte,mte,_te,vte,bte,yte,wte;(pte=ute||(ute={}))[pte.None=0]="None",pte[pte.CommonJS=1]="CommonJS",pte[pte.AMD=2]="AMD",pte[pte.UMD=3]="UMD",pte[pte.System=4]="System",pte[pte.ES2015=5]="ES2015",pte[pte.ESNext=99]="ESNext",(fte=gte||(gte={}))[fte.None=0]="None",fte[fte.Preserve=1]="Preserve",fte[fte.React=2]="React",fte[fte.ReactNative=3]="ReactNative",fte[fte.ReactJSX=4]="ReactJSX",fte[fte.ReactJSXDev=5]="ReactJSXDev",(_te=mte||(mte={}))[_te.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",_te[_te.LineFeed=1]="LineFeed",(bte=vte||(vte={}))[bte.ES3=0]="ES3",bte[bte.ES5=1]="ES5",bte[bte.ES2015=2]="ES2015",bte[bte.ES2016=3]="ES2016",bte[bte.ES2017=4]="ES2017",bte[bte.ES2018=5]="ES2018",bte[bte.ES2019=6]="ES2019",bte[bte.ES2020=7]="ES2020",bte[bte.ESNext=99]="ESNext",bte[bte.JSON=100]="JSON",bte[bte.Latest=99]="Latest",(wte=yte||(yte={}))[wte.Classic=1]="Classic",wte[wte.NodeJs=2]="NodeJs";var Cte=function(){function e(e,t,n){this._onDidChange=new Qee,this._onDidExtraLibsChange=new Qee,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(n),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(e,t){var n,i=this;if(n=void 0===t?"ts:extralib-"+Math.random().toString(36).substring(2,15):t,this._extraLibs[n]&&this._extraLibs[n].content===e)return{dispose:function(){}};var s=1;return this._removedExtraLibs[n]&&(s=this._removedExtraLibs[n]+1),this._extraLibs[n]&&(s=this._extraLibs[n].version+1),this._extraLibs[n]={content:e,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var e=i._extraLibs[n];e&&e.version===s&&(delete i._extraLibs[n],i._removedExtraLibs[n]=s,i._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(e){for(var t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(var n=0,i=e;n<i.length;n++){var s=i[n],r=(t=s.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),s.content),o=1;this._removedExtraLibs[t]&&(o=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:r,version:o}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)}),0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(e){},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),Ste=new Cte({allowNonTsExtensions:!0,target:vte.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),xte=new Cte({allowNonTsExtensions:!0,allowJs:!0,target:vte.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});function kte(){return import("./tsMode.9bb3b2a8.js")}hte.typescript={ModuleKind:ute,JsxEmit:gte,NewLineKind:mte,ScriptTarget:vte,ModuleResolutionKind:yte,typescriptVersion:"4.2.4",typescriptDefaults:Ste,javascriptDefaults:xte,getTypeScriptWorker:function(){return kte().then((function(e){return e.getTypeScriptWorker()}))},getJavaScriptWorker:function(){return kte().then((function(e){return e.getJavaScriptWorker()}))}},hte.onLanguage("typescript",(function(){return kte().then((function(e){return e.setupTypeScript(Ste)}))})),hte.onLanguage("javascript",(function(){return kte().then((function(e){return e.setupJavaScript(xte)}))}));var Ete=function(){function e(e,t,n){this._onDidChange=new Qee,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(n)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),Dte={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},Tte={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Lte=new Ete("css",Dte,Tte),Nte=new Ete("scss",Dte,Tte),Ite=new Ete("less",Dte,Tte);function Pte(){return import("./cssMode.30906d55.js")}hte.css={cssDefaults:Lte,lessDefaults:Ite,scssDefaults:Nte},hte.onLanguage("less",(function(){Pte().then((function(e){return e.setupMode(Ite)}))})),hte.onLanguage("scss",(function(){Pte().then((function(e){return e.setupMode(Nte)}))})),hte.onLanguage("css",(function(){Pte().then((function(e){return e.setupMode(Lte)}))}));var Ote=new(function(){function e(e,t,n){this._onDidChange=new Qee,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(n)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});hte.json={jsonDefaults:Ote},hte.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),hte.onLanguage("json",(function(){import("./jsonMode.aae673e7.js").then((function(e){return e.setupMode(Ote)}))}));var Rte=function(){function e(e,t,n){this._onDidChange=new Qee,this._languageId=e,this.setOptions(t),this.setModeConfiguration(n)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),Ate={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},Mte={format:Ate,suggest:{html5:!0}},Fte={format:Ate,suggest:{html5:!0,razor:!0}};function Bte(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===Vte,documentFormattingEdits:e===Vte,documentRangeFormattingEdits:e===Vte}}var Vte="html",Wte=new Rte(Vte,{format:Ate,suggest:{html5:!0,angular1:!0,ionic:!0}},Bte(Vte)),Hte=new Rte("handlebars",Mte,Bte("handlebars")),Ute=new Rte("razor",Fte,Bte("razor"));function zte(){return import("./htmlMode.a905bc82.js")}hte.html={htmlDefaults:Wte,razorDefaults:Ute,handlebarDefaults:Hte},hte.onLanguage(Vte,(function(){zte().then((function(e){return e.setupMode(Wte)}))})),hte.onLanguage("handlebars",(function(){zte().then((function(e){return e.setupMode(Hte)}))})),hte.onLanguage("razor",(function(){zte().then((function(e){return e.setupMode(Ute)}))}));var jte={},$te={},Kte=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,n){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=n}))}return e.getOrCreate=function(t){return $te[t]||($te[t]=new e(t)),$te[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,jte[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function qte(e){var t=e.id;jte[t]=e,hte.register(e);var n=Kte.getOrCreate(t);hte.setMonarchTokensProvider(t,n.whenLoaded().then((function(e){return e.language}))),hte.onLanguage(t,(function(){n.load().then((function(e){hte.setLanguageConfiguration(t,e.conf)}))}))}qte({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return import("./abap.7376289b.js")}}),qte({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return import("./apex.a9019b80.js")}}),qte({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return import("./azcli.90ec80f5.js")}}),qte({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return import("./bat.df36b229.js")}}),qte({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return import("./bicep.e99e0b45.js")}}),qte({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return import("./cameligo.7ac26265.js")}}),qte({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return import("./clojure.d88394d3.js")}}),qte({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return import("./coffee.15bffce8.js")}}),qte({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return import("./cpp.e882f61a.js")}}),qte({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return import("./cpp.e882f61a.js")}}),qte({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return import("./csharp.abae01fd.js")}}),qte({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return import("./csp.e0d4f5f5.js")}}),qte({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return import("./css.83b248c4.js")}}),qte({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return import("./dart.c0d85202.js")}}),qte({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return import("./dockerfile.65be9fd6.js")}}),qte({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return import("./ecl.b93ad9de.js")}}),qte({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return import("./elixir.049bf8ba.js")}}),qte({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return import("./fsharp.4ba62bee.js")}}),qte({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return import("./go.0fa531a3.js")}}),qte({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return import("./graphql.ccbf087b.js")}}),qte({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return import("./handlebars.cea58f19.js")}}),qte({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return import("./hcl.018b4071.js")}}),qte({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return import("./html.49da4930.js")}}),qte({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return import("./ini.b8f31742.js")}}),qte({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return import("./java.c2fe6cab.js")}}),qte({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return import("./javascript.f189f6ba.js")}}),qte({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return import("./julia.b3f263da.js")}}),qte({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return import("./kotlin.4138f033.js")}}),qte({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return import("./less.1d64e66e.js")}}),qte({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return import("./lexon.6ff00816.js")}}),qte({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return import("./lua.e0531413.js")}}),qte({id:"liquid",extensions:[".liquid",".liquid.html",".liquid.css"],loader:function(){return import("./liquid.d2fded5a.js")}}),qte({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return import("./m3.b5aa30bf.js")}}),qte({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return import("./markdown.a4283b43.js")}}),qte({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return import("./mips.53329594.js")}}),qte({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return import("./msdax.7ee207e2.js")}}),qte({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return import("./mysql.7cf2da39.js")}}),qte({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return import("./objective-c.62b55766.js")}}),qte({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return import("./pascal.e0f3e626.js")}}),qte({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return import("./pascaligo.ae4dfa26.js")}}),qte({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return import("./perl.af5e52f5.js")}}),qte({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return import("./pgsql.12a168aa.js")}}),qte({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return import("./php.27d8a4ce.js")}}),qte({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return import("./postiats.53e85351.js")}}),qte({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return import("./powerquery.17545d8d.js")}}),qte({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return import("./powershell.3b6cf36b.js")}}),qte({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return import("./pug.5c65c002.js")}}),qte({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return import("./python.4425db65.js")}}),qte({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return import("./r.6899f620.js")}}),qte({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return import("./razor.e69199da.js")}}),qte({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return import("./redis.4874890e.js")}}),qte({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return import("./redshift.db9e0ae2.js")}}),qte({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return import("./restructuredtext.cac2c071.js")}}),qte({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return import("./ruby.debf7be5.js")}}),qte({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return import("./rust.699072f6.js")}}),qte({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return import("./sb.94b0fcd0.js")}}),qte({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return import("./scala.5056c1ee.js")}}),qte({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return import("./scheme.26ee15b4.js")}}),qte({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return import("./scss.10bb70b5.js")}}),qte({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return import("./shell.145ff82e.js")}}),qte({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return import("./solidity.07cf99fc.js")}}),qte({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return import("./sophia.ad339662.js")}}),qte({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return import("./sql.7986d73d.js")}}),qte({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return import("./st.5a4fae58.js")}}),qte({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return import("./swift.3fa6f133.js")}}),qte({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return import("./systemverilog.474e6d17.js")}}),qte({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return import("./systemverilog.474e6d17.js")}}),qte({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return import("./tcl.7f0819e5.js")}}),qte({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return import("./twig.d0005b7a.js")}}),qte({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return import("./typescript.9b5f26bf.js")}}),qte({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return import("./vb.8ce9fe1f.js")}}),qte({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return import("./xml.882ae62c.js")}}),qte({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return import("./yaml.510c43b6.js")}});class Gte{constructor(e="",t=!1){var n,i;if(this.value=e,"string"!=typeof this.value)throw He("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1):(this.isTrusted=null!==(n=t.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(i=t.supportThemeIcons)&&void 0!==i&&i)}appendText(e,t=0){var n;return this.value+=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}(this.supportThemeIcons?(n=e,n.replace(Y3,((e,t)=>t?e:`\\${e}`))):e).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/^>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}function Yte(e){return Zte(e)?!e.value:!Array.isArray(e)||e.every(Yte)}function Zte(e){return e instanceof Gte||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function Xte(e,t){return e===t||!(!e||!t)&&(e.value===t.value&&e.isTrusted===t.isTrusted&&e.supportThemeIcons===t.supportThemeIcons)}function Jte(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}var Qte=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const ene=new mU("selectionAnchorSet",!1);let tne=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=ene.bindTo(t),this.modelChangeListener=e.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:Ze.fromPositions(e,e),options:{stickiness:1,hoverMessage:(new Gte).appendText(JI(0,"Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),VH(JI(0,"Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Ze.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};tne.ID="editor.contrib.selectionAnchorController",tne=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],tne);ZU(tne.ID,tne),qU(class extends zU{constructor(){super({id:"editor.action.setSelectionAnchor",label:JI(0,"Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2080),weight:100}})}run(e,t){return Qte(this,void 0,void 0,(function*(){tne.get(t).setSelectionAnchor()}))}}),qU(class extends zU{constructor(){super({id:"editor.action.goToSelectionAnchor",label:JI(0,"Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:ene})}run(e,t){return Qte(this,void 0,void 0,(function*(){tne.get(t).goToSelectionAnchor()}))}}),qU(class extends zU{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:JI(0,"Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:ene,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2089),weight:100}})}run(e,t){return Qte(this,void 0,void 0,(function*(){tne.get(t).selectFromAnchorToCursor()}))}}),qU(class extends zU{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:JI(0,"Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:ene,kbOpts:{kbExpr:EZ.editorTextFocus,primary:9,weight:100}})}run(e,t){return Qte(this,void 0,void 0,(function*(){tne.get(t).cancelSelectionAnchor()}))}});const nne=jK("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},JI(0,"Overview ruler marker color for matching brackets."));class ine{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class sne extends F{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new wO((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(60),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelContent((e=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModel((e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelLanguageConfiguration((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(60)&&(this._matchBrackets=this._editor.getOption(60),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})))}static get(e){return e.getContribution(sne.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((t=>{const n=t.getStartPosition(),i=e.matchBracket(n);let s=null;if(i)i[0].containsPosition(n)?s=i[1].getStartPosition():i[1].containsPosition(n)&&(s=i[0].getStartPosition());else{const t=e.findEnclosingBrackets(n);if(t)s=t[0].getStartPosition();else{const t=e.findNextBracket(n);t&&t.range&&(s=t.range.getStartPosition())}}return s?new Ze(s.lineNumber,s.column,s.lineNumber,s.column):new Ze(n.lineNumber,n.column,n.lineNumber,n.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach((i=>{const s=i.getStartPosition();let r=t.matchBracket(s);if(!r&&(r=t.findEnclosingBrackets(s),!r)){const e=t.findNextBracket(s);e&&e.range&&(r=t.matchBracket(e.range.getStartPosition()))}let o=null,a=null;if(r){r.sort(oe.compareRangesUsingStarts);const[t,n]=r;o=e?t.getStartPosition():t.getEndPosition(),a=e?n.getEndPosition():n.getStartPosition()}o&&a&&n.push(new Ze(o.lineNumber,o.column,a.lineNumber,a.column))})),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let i=n.brackets;i&&(e[t++]={range:i[0],options:n.options},e[t++]={range:i[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),n=t.getVersionId();let i=[];this._lastVersionId===n&&(i=this._lastBracketsData);let s=[],r=0;for(let d=0,h=e.length;d<h;d++){let t=e[d];t.isEmpty()&&(s[r++]=t.getStartPosition())}s.length>1&&s.sort(je.compare);let o=[],a=0,l=0,c=i.length;for(let d=0,h=s.length;d<h;d++){let e=s[d];for(;l<c&&i[l].position.isBefore(e);)l++;if(l<c&&i[l].position.equals(e))o[a++]=i[l];else{let n=t.matchBracket(e),i=sne._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;n||"always"!==this._matchBrackets||(n=t.findEnclosingBrackets(e,20),i=sne._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),o[a++]=new ine(e,n,i)}}this._lastBracketsData=o,this._lastVersionId=n}}sne.ID="editor.contrib.bracketMatchingController",sne._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Q$.register({stickiness:1,className:"bracket-match",overviewRuler:{color:kU(nne),position:KA.Center}}),sne._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Q$.register({stickiness:1,className:"bracket-match"}),ZU(sne.ID,sne),qU(class extends zU{constructor(){super({id:"editor.action.selectToBracket",label:JI(0,"Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){const i=sne.get(t);if(!i)return;let s=!0;n&&!1===n.selectBrackets&&(s=!1),i.selectToBracket(s)}}),qU(class extends zU{constructor(){super({id:"editor.action.jumpToBracket",label:JI(0,"Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3160,weight:100}})}run(e,t){let n=sne.get(t);n&&n.jumpToBracket()}}),LU(((e,t)=>{const n=e.getColor(UY);n&&t.addRule(`.monaco-editor .bracket-match { background-color: ${n}; }`);const i=e.getColor(zY);i&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)})),AU.appendMenuItem(OU.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:JI(0,"Go to &&Bracket")},order:2});class rne{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,i=this._selection.startColumn,s=this._selection.endColumn;if((!this._isMovingLeft||1!==i)&&(this._isMovingLeft||s!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const r=new oe(n,i-1,n,i),o=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new oe(n,s,n,s),o)}else{const r=new oe(n,s,n,s+1),o=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new oe(n,i,n,i),o)}}computeCursorState(e,t){return this._isMovingLeft?new Ze(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Ze(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class one extends zU{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let n=[],i=t.getSelections();for(const s of i)n.push(new rne(s,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}qU(class extends one{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:JI(0,"Move Selected Text Left"),alias:"Move Selected Text Left",precondition:EZ.writable})}}),qU(class extends one{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:JI(0,"Move Selected Text Right"),alias:"Move Selected Text Right",precondition:EZ.writable})}});qU(class extends zU{constructor(){super({id:"editor.action.transposeLetters",label:JI(0,"Transpose Letters"),alias:"Transpose Letters",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let n=t.getModel(),i=[],s=t.getSelections();for(let r of s){if(!r.isEmpty())continue;let e=r.startLineNumber,t=r.startColumn,s=n.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===s))continue;let o=t===s?r.getPosition():uZ.rightPosition(n,r.getPosition().lineNumber,r.getPosition().column),a=uZ.leftPosition(n,o.lineNumber,o.column),l=uZ.leftPosition(n,a.lineNumber,a.column),c=n.getValueInRange(oe.fromPositions(l,a)),d=n.getValueInRange(oe.fromPositions(a,o)),h=oe.fromPositions(l,o);i.push(new oZ(h,d+c))}i.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop())}});var ane=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const lne=R||document.queryCommandSupported("cut"),cne=R||document.queryCommandSupported("copy"),dne=void 0!==navigator.clipboard&&!UP||document.queryCommandSupported("paste");function hne(e){return e.register(),e}const une=lne?hne(new WU({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:R?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:OU.MenubarEditMenu,group:"2_ccp",title:JI(0,"Cu&&t"),order:1},{menuId:OU.EditorContext,group:"9_cutcopypaste",title:JI(0,"Cut"),when:EZ.writable,order:1},{menuId:OU.CommandPalette,group:"",title:JI(0,"Cut"),order:1}]})):void 0,pne=cne?hne(new WU({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:R?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:OU.MenubarEditMenu,group:"2_ccp",title:JI(0,"&&Copy"),order:2},{menuId:OU.EditorContext,group:"9_cutcopypaste",title:JI(0,"Copy"),order:2},{menuId:OU.CommandPalette,group:"",title:JI(0,"Copy"),order:1}]})):void 0;AU.appendMenuItem(OU.MenubarEditMenu,{submenu:OU.MenubarCopy,title:{value:JI(0,"Copy As"),original:"Copy As"},group:"2_ccp",order:3}),AU.appendMenuItem(OU.EditorContext,{submenu:OU.EditorContextCopy,title:{value:JI(0,"Copy As"),original:"Copy As"},group:"9_cutcopypaste",order:3});const gne=dne?hne(new WU({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:R?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:OU.MenubarEditMenu,group:"2_ccp",title:JI(0,"&&Paste"),order:4},{menuId:OU.EditorContext,group:"9_cutcopypaste",title:JI(0,"Paste"),when:EZ.writable,order:4},{menuId:OU.CommandPalette,group:"",title:JI(0,"Paste"),order:1}]})):void 0;class fne extends zU{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:JI(0,"Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;!t.getOption(30)&&t.getSelection().isEmpty()||(OK.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),OK.forceCopyWithSyntaxHighlighting=!1)}}function mne(e,t){e&&(e.addImplementation(1e4,"code-editor",((e,n)=>{const i=e.get(MP).getFocusedCodeEditor();if(i&&i.hasTextFocus()){const e=i.getOption(30),n=i.getSelection();return n&&n.isEmpty()&&!e||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",((e,n)=>(document.execCommand(t),!0))))}mne(une,"cut"),mne(pne,"copy"),gne&&(gne.addImplementation(1e4,"code-editor",((e,t)=>{const n=e.get(MP),i=e.get(Y0),s=n.getFocusedCodeEditor();if(s&&s.hasTextFocus()){return!(!document.execCommand("paste")&&O)||(ane(void 0,void 0,void 0,(function*(){const e=yield i.readText();if(""!==e){const t=RK.INSTANCE.get(e);let n=!1,i=null,r=null;t&&(n=s.getOption(30)&&!!t.isFromEmptySelection,i=void 0!==t.multicursorText?t.multicursorText:null,r=t.mode),s.trigger("keyboard","paste",{text:e,pasteOnNewLine:n,multicursorText:i,mode:r})}})),!0)}return!1})),gne.addImplementation(0,"generic-dom",((e,t)=>(document.execCommand("paste"),!0)))),cne&&qU(fne);class _ne{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}class vne{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+vne.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new vne(this.value+vne.sep+e)}}function bne(e,t,n){return!!t.contains(e)&&(!n||!t.contains(n))}vne.sep=".",vne.None=new vne("@@none@@"),vne.Empty=new vne(""),vne.QuickFix=new vne("quickfix"),vne.Refactor=new vne("refactor"),vne.Source=new vne("source"),vne.SourceOrganizeImports=vne.Source.append("organizeImports"),vne.SourceFixAll=vne.Source.append("fixAll");class yne{constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}static fromUser(e,t){return e&&"object"==typeof e?new yne(yne.getKindFromUser(e,t.kind),yne.getApplyFromUser(e,t.apply),yne.getPreferredUser(e)):new yne(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new vne(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}var wne=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Cne{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return wne(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(n){xt(n)}t&&(this.action.edit=t.edit)}return this}))}}class Sne extends F{constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(Sne.codeActionsComparator),this.validActions=this.allActions.filter((({action:e})=>!e.disabled))}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:wB(e.diagnostics)?wB(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:wB(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((({action:e})=>!!e.kind&&vne.QuickFix.contains(new vne(e.kind))&&!!e.isPreferred))}}const xne={actions:[],documentation:void 0};function kne(e,t,n,i,s){var r;const o=n.filter||{},a={only:null===(r=o.include)||void 0===r?void 0:r.value,trigger:n.type},l=new w0(e,s),c=function(e,t){return rF.all(e).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>function(e,t){return!(e.include&&!e.include.intersects(t)||e.excludes&&e.excludes.some((n=>bne(t,n,e.include)))||!e.includeSourceActions&&vne.Source.contains(t))}(t,new vne(e))))))}(e,o),d=new B,h=c.map((n=>wne(this,void 0,void 0,(function*(){try{i.report(n);const s=yield n.provideCodeActions(e,t,a,l.token);if(s&&d.add(s),l.token.isCancellationRequested)return xne;const r=((null==s?void 0:s.actions)||[]).filter((e=>e&&function(e,t){const n=t.kind?new vne(t.kind):void 0;return!(!(!e.include||n&&e.include.contains(n))||e.excludes&&n&&e.excludes.some((t=>bne(n,t,e.include)))||!e.includeSourceActions&&n&&vne.Source.contains(n)||e.onlyIncludePreferredActions&&!t.isPreferred)}(o,e))),c=function(e,t,n){if(!e.documentation)return;const i=e.documentation.map((e=>({kind:new vne(e.kind),command:e.command})));if(n){let e;for(const t of i)t.kind.contains(n)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const s of t)if(s.kind)for(const e of i)if(e.kind.contains(new vne(s.kind)))return e.command;return}(n,r,o.include);return{actions:r.map((e=>new Cne(e,n))),documentation:c}}catch(s){if(kt(s))throw s;return xt(s),xne}})))),u=rF.onDidChange((()=>{gB(rF.all(e),c)||l.cancel()}));return Promise.all(h).then((e=>{const t=kB(e.map((e=>e.actions))),n=bB(e.map((e=>e.documentation)));return new Sne(t,n,d)})).finally((()=>{u.dispose(),l.dispose()}))}vA.registerCommand("_executeCodeActionProvider",(function(e,t,n,i,s){return wne(this,void 0,void 0,(function*(){if(!(t instanceof P))throw He();const r=e.get(CM).getModel(t);if(!r)throw He();const o=Ze.isISelection(n)?Ze.liftSelection(n):oe.isIRange(n)?r.validateRange(n):void 0;if(!o)throw He();const a="string"==typeof i?new vne(i):void 0,l=yield kne(r,o,{type:1,filter:{includeSourceActions:!0,include:a}},Z0.None,ne.None),c=[],d=Math.min(l.validActions.length,"number"==typeof s?s:0);for(let e=0;e<d;e++)c.push(l.validActions[e].resolve(ne.None));try{return yield Promise.all(c),l.validActions.map((e=>e.action))}finally{setTimeout((()=>l.dispose()),100)}}))}));let Ene=class e{constructor(t,n){this._messageWidget=new Tt,this._messageListeners=new B,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit((()=>this._onDidAttemptReadOnlyEdit()))}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let n;VH(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Dne(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new bO((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((e=>{e.target.position&&(n?n.containsPosition(e.target.position)||this.closeMessage():n=new oe(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Dne.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(JI(0,"Cannot edit in read-only editor"),this._editor.getPosition())}};Ene.ID="editor.contrib.messageController",Ene.MESSAGE_VISIBLE=new mU("messageVisible",!1,JI(0,"Whether the editor is currently showing an inline message")),Ene=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],Ene);KU(new(UU.bindToContribution(Ene.get))({id:"leaveEditorMessage",precondition:Ene.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class Dne{constructor(e,{lineNumber:t,column:n},i){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const r=document.createElement("div");r.classList.add("message"),r.textContent=i,this._domNode.appendChild(r);const o=document.createElement("div");o.classList.add("anchor","below"),this._domNode.appendChild(o),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const n=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}ZU(Ene.ID,Ene),LU(((e,t)=>{const n=e.getColor(lq);if(n){let i=e.type===yU.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${i}px solid ${n}; }`)}const i=e.getColor(oq);i&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${i}; }`);const s=e.getColor(aq);s&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${s}; }`)}));var Tne=function(e,t){return function(n,i){t(n,i,e)}},Lne=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Nne extends jH{constructor(e,t){super(e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,t),this.action=e}}let Ine=class extends F{constructor(e,t,n,i){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._visible=!1,this._showingActions=this._register(new Tt),this._keybindingResolver=new Pne({getKeybindings:()=>i.getKeybindings()})}get isVisible(){return this._visible}show(e,t,n,i){return Lne(this,void 0,void 0,(function*(){const s=i.includeDisabledActions?t.allActions:t.validActions;if(!s.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,N();this._visible=!0,this._showingActions.value=t;const r=this.getMenuActions(e,s,t.documentation),o=je.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},a=this._keybindingResolver.getResolver(),l=this._editor.getOption(111);this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>r,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof Nne?a(e.action):void 0})}))}getMenuActions(e,t,n){var i,s;const r=e=>new Nne(e.action,(()=>this._delegate.onSelectCodeAction(e))),o=t.map(r),a=[...n],l=this._editor.getModel();if(l&&o.length)for(const c of rF.all(l))c._getAdditionalMenuItems&&a.push(...c._getAdditionalMenuItems({trigger:e.type,only:null===(s=null===(i=e.filter)||void 0===i?void 0:i.include)||void 0===s?void 0:s.value},t.map((e=>e.action))));return a.length&&o.push(new KH,...a.map((e=>r(new Cne({title:e.title,command:e},void 0))))),o}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=JO(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}};Ine=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Tne(2,K0),Tne(3,w1)],Ine);class Pne{constructor(e){this._keybindingProvider=e}getResolver(){const e=new _ne((()=>this._keybindingProvider.getKeybindings().filter((e=>Pne.codeActionCommands.indexOf(e.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return"editor.action.organizeImports"===e.command?t={kind:vne.SourceOrganizeImports.value}:"editor.action.fixAll"===e.command&&(t={kind:vne.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},yne.fromUser(t,{kind:vne.None,apply:"never"}))}))));return t=>{if(t.kind){const n=this.bestKeybindingForCodeAction(t,e.getValue());return null==n?void 0:n.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const n=new vne(e.kind);return t.filter((e=>e.kind.contains(n))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}}Pne.codeActionCommands=["editor.action.refactor","editor.action.codeAction","editor.action.sourceAction","editor.action.organizeImports","editor.action.fixAll"];var One;!function(e){e.Hidden={type:0};e.Showing=class{constructor(e,t,n,i){this.actions=e,this.trigger=t,this.editorPosition=n,this.widgetPosition=i,this.type=1}}}(One||(One={}));let Rne=class e extends F{constructor(e,t,n,i){var s;super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=i,this._onClick=this._register(new x),this.onClick=this._onClick.event,this._state=One.Hidden,this._domNode=document.createElement("div"),this._domNode.className=NM.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),bz.ignoreTarget(this._domNode),this._register(FO(this._domNode,AO((e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:n}=JO(this._domNode),i=this._editor.getOption(55);let s=Math.floor(i/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(s+=i),this._onClick.fire({x:e.posx,y:t+n+s,actions:this.state.actions,trigger:this.state.trigger})})),s)),this._register(RO(this._domNode,"mouseenter",(e=>{if(1!=(1&e.buttons))return;this.hide();const t=new wz;t.startMonitoring(e.target,e.buttons,yz,(()=>{}),(()=>{t.dispose()}))}))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(53)&&!this._editor.getOption(53).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,n,i){if(t.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(53).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();const{lineNumber:o,column:a}=r.validatePosition(i),l=r.getOptions().tabSize,c=s.get(40),d=r.getLineContent(o),h=q$.computeIndentLevel(d,l),u=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let p=o;if(!(c.spaceWidth*h>22))if(o>1&&!u(o-1))p-=1;else if(u(o+1)){if(a*c.spaceWidth<22)return this.hide()}else p+=1;this.state=new One.Showing(t,n,i,{position:{lineNumber:p,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=One.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...NM.lightBulb.classNamesArray),this._domNode.classList.add(...NM.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=JI(0,"Show Fixes. Preferred Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...NM.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...NM.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?JI(0,"Show Fixes ({0})",e.getLabel()):JI(0,"Show Fixes")}set title(e){this._domNode.title=e}};Rne._posPref=[0],Rne=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(3,w1)],Rne),LU(((e,t)=>{var n;const i=null===(n=e.getColor(Bq))||void 0===n?void 0:n.transparent(.7),s=e.getColor(vG);s&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${NM.lightBulb.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${i};\n\t\t}`);const r=e.getColor(bG);r&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${NM.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${r};\n\t\t\tbackground-color: ${i};\n\t\t}`)}));var Ane,Mne=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let Fne=class extends F{constructor(e,t,n,i,s){super(),this._editor=e,this.delegate=i,this._activeCodeActions=this._register(new Tt),Ane.set(this,!1),this._codeActionWidget=new _ne((()=>this._register(s.createInstance(Ine,this._editor,{onSelectCodeAction:e=>Mne(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))})))),this._lightBulbWidget=new _ne((()=>{const e=this._register(s.createInstance(Rne,this._editor,t,n));return this._register(e.onClick((e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1})))),e}))}dispose(){!function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Ane,!0,"f"),super.dispose()}update(e){var t,n,i;return Mne(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let s;try{s=yield e.actions}catch(r){return void V(r)}if(!function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,Ane,"f"))if(this._lightBulbWidget.getValue().update(s,e.trigger,e.position),1===e.trigger.type){if(null===(n=e.trigger.filter)||void 0===n?void 0:n.include){const t=this.tryGetValidActionToApply(e.trigger,s);if(t){try{yield this.delegate.applyCodeAction(t,!1)}finally{s.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s);if(t&&t.action.disabled)return Ene.get(this._editor).showMessage(t.action.disabled,e.trigger.context.position),void s.dispose()}}const t=!!(null===(i=e.trigger.filter)||void 0===i?void 0:i.include);if(e.trigger.context&&(!s.allActions.length||!t&&!s.validActions.length))return Ene.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,void s.dispose();this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(e.trigger,s,e.position,{includeDisabledActions:t})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((({action:e})=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,n,i){return Mne(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,n,i)}))}};Ane=new WeakMap,Fne=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(4,PP)],Fne);var Bne,Vne=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};const Wne=new mU("supportedCodeAction","");class Hne extends F{constructor(e,t,n,i=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=i,this._autoTriggerTimer=this._register(new bO),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._onCursorChange())))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>lA(e,t.uri)))&&this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const n of this._markerService.read({resource:t.uri})){const i=t.validateRange(n);if(oe.intersectRanges(i,e))return oe.lift(i)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===e.type){const{lineNumber:e,column:i}=n.getPosition(),s=t.getLineContent(e);if(0===s.length)return;if(1===i){if(/\s/.test(s[0]))return}else if(i===t.getLineMaxColumn(e)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[i-2])&&/\s/.test(s[i-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n)return void this._signalChange(void 0);const i=this._getRangeOfMarker(t),s=i?i.getStartPosition():t.getStartPosition(),r={trigger:e,selection:t,position:s};return this._signalChange(r),r}}var Une;!function(e){e.Empty={type:0};e.Triggered=class{constructor(e,t,n,i){this.trigger=e,this.rangeOrSelection=t,this.position=n,this._cancellablePromise=i,this.type=1,this.actions=i.catch((e=>{if(kt(e))return zne;throw e}))}cancel(){this._cancellablePromise.cancel()}}}(Une||(Une={}));const zne={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class jne extends F{constructor(e,t,n,i){super(),this._editor=e,this._markerService=t,this._progressService=i,this._codeActionOracle=this._register(new Tt),this._state=Une.Empty,this._onDidChangeState=this._register(new x),this.onDidChangeState=this._onDidChangeState.event,Bne.set(this,!1),this._supportedCodeActions=Wne.bindTo(n),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(rF.onDidChange((()=>this._update()))),this._update()}dispose(){Vne(this,Bne,"f")||(!function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Bne,!0,"f"),super.dispose(),this.setState(Une.Empty,!0))}_update(){if(Vne(this,Bne,"f"))return;this._codeActionOracle.value=void 0,this.setState(Une.Empty);const e=this._editor.getModel();if(e&&rF.has(e)&&!this._editor.getOption(77)){const t=[];for(const n of rF.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new Hne(this._editor,this._markerService,(t=>{var n;if(!t)return void this.setState(Une.Empty);const i=hO((n=>kne(e,t.selection,t.trigger,Z0.None,n)));1===t.trigger.type&&(null===(n=this._progressService)||void 0===n||n.showWhile(i,250)),this.setState(new Une.Triggered(t.trigger,t.selection,t.position,i))}),void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||Vne(this,Bne,"f")||this._onDidChangeState.fire(e))}}Bne=new WeakMap;var $ne=function(e,t){return function(n,i){t(n,i,e)}},Kne=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function qne(e){return JH.regex(Wne.keys()[0],new RegExp("(\\s|^)"+de(e.value)+"\\b"))}const Gne={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:JI(0,"Kind of the code action to run.")},apply:{type:"string",description:JI(0,"Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[JI(0,"Always apply the first returned code action."),JI(0,"Apply the first returned code action if it is the only one."),JI(0,"Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:JI(0,"Controls if only preferred code actions should be returned.")}}};let Yne=class e extends F{constructor(e,t,n,i,s){super(),this._instantiationService=s,this._editor=e,this._model=this._register(new jne(this._editor,t,n,i)),this._register(this._model.onDidChangeState((e=>this.update(e)))),this._ui=new _ne((()=>this._register(new Fne(e,Jne.Id,Qne.Id,{applyCodeAction:(e,t)=>Kne(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:2,filter:{}})}}))},this._instantiationService))))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,n){if(!this._editor.hasModel())return;Ene.get(this._editor).closeMessage();const i=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:i}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(Zne,e,this._editor)}};function Zne(e,t,n){return Kne(this,void 0,void 0,(function*(){const i=e.get(KV),s=e.get(_A),r=e.get(BU),o=e.get(JW);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(ne.None),t.action.edit&&(yield i.apply(qV.convert(t.action.edit),{editor:n,label:t.action.title})),t.action.command)try{yield s.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(a){const e=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(a);o.error("string"==typeof e?e:JI(0,"An unknown error occurred while applying the code action"))}}))}function Xne(e,t,n,i){if(e.hasModel()){const s=Yne.get(e);s&&s.manualTriggerAtCurrentPosition(t,n,i)}}Yne.ID="editor.contrib.quickFixController",Yne=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([$ne(1,w8),$ne(2,_U),$ne(3,X0),$ne(4,PP)],Yne);class Jne extends zU{constructor(){super({id:Jne.Id,label:JI(0,"Quick Fix..."),alias:"Quick Fix...",precondition:JH.and(EZ.writable,EZ.hasCodeActionsProvider),kbOpts:{kbExpr:EZ.editorTextFocus,primary:2132,weight:100}})}run(e,t){return Xne(t,JI(0,"No code actions available"),void 0,void 0)}}Jne.Id="editor.action.quickFix";class Qne extends zU{constructor(){super({id:Qne.Id,label:JI(0,"Auto Fix..."),alias:"Auto Fix...",precondition:JH.and(EZ.writable,qne(vne.QuickFix)),kbOpts:{kbExpr:EZ.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return Xne(t,JI(0,"No auto fixes available"),{include:vne.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}Qne.Id="editor.action.autoFix",ZU(Yne.ID,Yne),qU(Jne),qU(class extends zU{constructor(){super({id:"editor.action.refactor",label:JI(0,"Refactor..."),alias:"Refactor...",precondition:JH.and(EZ.writable,EZ.hasCodeActionsProvider),kbOpts:{kbExpr:EZ.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:JH.and(EZ.writable,qne(vne.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Gne}]}})}run(e,t,n){const i=yne.fromUser(n,{kind:vne.Refactor,apply:"never"});return Xne(t,"string"==typeof(null==n?void 0:n.kind)?i.preferred?JI(0,"No preferred refactorings for '{0}' available",n.kind):JI(0,"No refactorings for '{0}' available",n.kind):i.preferred?JI(0,"No preferred refactorings available"):JI(0,"No refactorings available"),{include:vne.Refactor.contains(i.kind)?i.kind:vne.None,onlyIncludePreferredActions:i.preferred},i.apply)}}),qU(class extends zU{constructor(){super({id:"editor.action.sourceAction",label:JI(0,"Source Action..."),alias:"Source Action...",precondition:JH.and(EZ.writable,EZ.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:JH.and(EZ.writable,qne(vne.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Gne}]}})}run(e,t,n){const i=yne.fromUser(n,{kind:vne.Source,apply:"never"});return Xne(t,"string"==typeof(null==n?void 0:n.kind)?i.preferred?JI(0,"No preferred source actions for '{0}' available",n.kind):JI(0,"No source actions for '{0}' available",n.kind):i.preferred?JI(0,"No preferred source actions available"):JI(0,"No source actions available"),{include:vne.Source.contains(i.kind)?i.kind:vne.None,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)}}),qU(class extends zU{constructor(){super({id:"editor.action.organizeImports",label:JI(0,"Organize Imports"),alias:"Organize Imports",precondition:JH.and(EZ.writable,qne(vne.SourceOrganizeImports)),kbOpts:{kbExpr:EZ.editorTextFocus,primary:1581,weight:100}})}run(e,t){return Xne(t,JI(0,"No organize imports action available"),{include:vne.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),qU(Qne),qU(class extends zU{constructor(){super({id:"editor.action.fixAll",label:JI(0,"Fix All"),alias:"Fix All",precondition:JH.and(EZ.writable,qne(vne.SourceFixAll))})}run(e,t){return Xne(t,JI(0,"No fix all action available"),{include:vne.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),KU(new class extends UU{constructor(){super({id:"editor.action.codeAction",precondition:JH.and(EZ.writable,EZ.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Gne}]}})}runEditorCommand(e,t,n){const i=yne.fromUser(n,{kind:vne.Empty,apply:"ifSingle"});return Xne(t,"string"==typeof(null==n?void 0:n.kind)?i.preferred?JI(0,"No preferred code actions for '{0}' available",n.kind):JI(0,"No code actions for '{0}' available",n.kind):i.preferred?JI(0,"No preferred code actions available"):JI(0,"No code actions available"),{include:i.kind,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)}});var eie=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class tie{constructor(){this.lenses=[],this._disposables=new B}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}}function nie(e,t){return eie(this,void 0,void 0,(function*(){const n=iF.ordered(e),i=new Map,s=new tie,r=n.map(((n,r)=>eie(this,void 0,void 0,(function*(){i.set(n,r);try{const i=yield Promise.resolve(n.provideCodeLenses(e,t));i&&s.add(i,n)}catch(o){xt(o)}}))));return yield Promise.all(r),s.lenses=s.lenses.sort(((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:i.get(e.provider)<i.get(t.provider)?-1:i.get(e.provider)>i.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0)),s}))}vA.registerCommand("_executeCodeLensProvider",(function(e,...t){let[n,i]=t;Ye(P.isUri(n)),Ye("number"==typeof i||!i);const s=e.get(CM).getModel(n);if(!s)throw He();const r=[],o=new B;return nie(s,ne.None).then((e=>{o.add(e);let t=[];for(const n of e.lenses)null==i||Boolean(n.symbol.command)?r.push(n.symbol):i-- >0&&n.provider.resolveCodeLens&&t.push(Promise.resolve(n.provider.resolveCodeLens(s,n.symbol,ne.None)).then((e=>r.push(e||n.symbol))));return Promise.all(t)})).then((()=>r)).finally((()=>{setTimeout((()=>o.dispose()),100)}))}));class iie{constructor(e,t,n){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}}class sie{constructor(e,t,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+sie._idPool++,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let n=[],i=!1;for(let s=0;s<e.length;s++){const t=e[s];if(t&&(i=!0,t.command)){const i=f9(t.command.title.trim());t.command.id?(n.push(LR("a",{id:String(s),title:t.command.tooltip},...i)),this._commands.set(String(s),t.command)):n.push(LR("span",{title:t.command.tooltip},...i)),s+1<e.length&&n.push(LR("span",void 0,"|"))}}i?(CR(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):CR(this._domNode,LR("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}sie._idPool=0;class rie{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,i=t.length;n<i;n++)this._addDecorationsCallbacks[n](t[n])}}class oie{constructor(e,t,n,i,s,r,o){let a;this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let l=[];this._data.forEach(((e,t)=>{e.symbol.command&&l.push(e.symbol),i.addDecoration({range:e.symbol.range,options:Q$.EMPTY},(e=>this._decorationIds[t]=e)),a=a?oe.plusRange(a,e.symbol.range):oe.lift(e.symbol.range)})),this._viewZone=new iie(a.startLineNumber-1,r,o),this._viewZoneId=s.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new sie(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((e,t)=>{const n=this._editor.getModel().getDecorationRange(e),i=this._data[t].symbol;return!(!n||oe.isEmpty(i.range)!==n.isEmpty())}))}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach(((e,n)=>{t.addDecoration({range:e.symbol.range,options:Q$.EMPTY},(e=>this._decorationIds[n]=e))}))}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:e}=this._data[t];e.command=n.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}LU(((e,t)=>{const n=e.getColor(HY);n&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${n}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${n}; }`));const i=e.getColor(fG);i&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${i} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${i} !important; }`))}));const aie=RP("ICodeLensCache");class lie{constructor(e,t){this.lineCount=e,this.data=t}}let cie=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new KR(20,.75);CO((()=>e.remove("codelens/cache",1)));const t="codelens/cache2",n=e.get(t,1,"{}");this._deserialize(n),jX(e.onWillSaveState)((n=>{n.reason===P8.SHUTDOWN&&e.store(t,this._serialize(),1,1)}))}put(e,t){const n=t.lenses.map((e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),i=new tie;i.add({lenses:n,dispose:()=>{}},this._fakeProvider);const s=new lie(e.getLineCount(),i);this._cache.set(e.uri.toString(),s)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const i=new Set;for(const e of n.data.lenses)i.add(e.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...i.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const n=t[e],i=[];for(const e of n.lines)i.push({range:new oe(e,1,e,11)});const s=new tie;s.add({lenses:i,dispose(){}},this._fakeProvider),this._cache.set(e,new lie(n.lineCount,s))}}catch(t){}}};cie=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(0,I8)],cie),f0(aie,cie);var die=function(e,t){return function(n,i){t(n,i,e)}},hie=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let uie=class{constructor(e,t,n,i){this._editor=e,this._commandService=t,this._notificationService=n,this._codeLensCache=i,this._disposables=new B,this._localToDispose=new B,this._lenses=[],this._getCodeLensModelDelays=new EM(iF,250,2500),this._oldCodeLensModels=new B,this._resolveCodeLensesDelays=new EM(iF,250,2500),this._resolveCodeLensesScheduler=new wO((()=>this._resolveCodeLensesInViewport()),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(40)||e.hasChanged(14)||e.hasChanged(13))&&this._updateLensStyle(),e.hasChanged(12)&&this._onModelChange()}))),this._disposables.add(iF.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+he(this._editor.getId()).toString(16),this._styleElement=hR(lR(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(14);return!t||t<5?(t=.9*this._editor.getOption(42)|0,e=this._editor.getOption(55)):e=t*Math.max(1.3,this._editor.getOption(55)/this._editor.getOption(42))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(13),i=this._editor.getOption(40),s=`--codelens-font-family${this._styleClassName}`,r=`--codelens-font-features${this._styleClassName}`;let o=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${r}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;n&&(o+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s})}`),this._styleElement.textContent=o,this._editor.getContainerDomNode().style.setProperty(s,null!=n?n:"inherit"),this._editor.getContainerDomNode().style.setProperty(r,i.fontFeatureSettings),this._editor.changeViewZones((t=>{for(let n of this._lenses)n.updateHeight(e,t)}))}_localDispose(){var e,t,n;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(12))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!iF.has(e))return void(t&&this._localToDispose.add(_O((()=>{const n=this._codeLensCache.get(e);t===n&&(this._codeLensCache.delete(e),this._onModelChange())}),3e4)));for(const i of iF.all(e))if("function"==typeof i.onDidChange){let e=i.onDidChange((()=>n.schedule()));this._localToDispose.add(e)}const n=new wO((()=>{var t;const i=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=hO((t=>nie(e,t))),this._getCodeLensModelPromise.then((t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const s=this._getCodeLensModelDelays.update(e,Date.now()-i);n.delay=s,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewport()}),V)}),this._getCodeLensModelDelays.get(e));this._localToDispose.add(n),this._localToDispose.add(I((()=>this._resolveCodeLensesScheduler.cancel()))),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{let n=[],i=-1;this._lenses.forEach((e=>{e.isValid()&&i!==e.getLineNumber()?(e.update(t),i=e.getLineNumber()):n.push(e)}));let s=new rie;n.forEach((e=>{e.dispose(s,t),this._lenses.splice(this._lenses.indexOf(e),1)})),s.commit(e)}))})),n.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((()=>{n.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(I((()=>{if(this._editor.getModel()){const e=C0.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{this._disposeAllLenses(e,t)}))})),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null==t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null==t?void 0:t.tagName))for(const n of this._lenses){let e=n.getCommand(t);if(e){this._commandService.executeCommand(e.id,...e.arguments||[]).catch((e=>this._notificationService.error(e)));break}}}))),n.schedule()}_disposeAllLenses(e,t){const n=new rie;for(const i of this._lenses)i.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t,n=this._editor.getModel().getLineCount(),i=[];for(let o of e.lenses){let e=o.symbol.range.startLineNumber;e<1||e>n||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(o):(t=[o],i.push(t)))}const s=C0.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const n=new rie;let s=0,o=0;for(;o<i.length&&s<this._lenses.length;){let e=i[o][0].symbol.range.startLineNumber,a=this._lenses[s].getLineNumber();a<e?(this._lenses[s].dispose(n,t),this._lenses.splice(s,1)):a===e?(this._lenses[s].updateCodeLensSymbols(i[o],n),o++,s++):(this._lenses.splice(s,0,new oie(i[o],this._editor,this._styleClassName,n,t,r.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),s++,o++)}for(;s<this._lenses.length;)this._lenses[s].dispose(n,t),this._lenses.splice(s,1);for(;o<i.length;)this._lenses.push(new oie(i[o],this._editor,this._styleClassName,n,t,r.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),o++;n.commit(e)}))})),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const n=[],i=[];if(this._lenses.forEach((e=>{const s=e.computeIfNecessary(t);s&&(n.push(s),i.push(e))})),0===n.length)return;const s=Date.now(),r=hO((e=>{const s=n.map(((n,s)=>{const r=new Array(n.length),o=n.map(((n,i)=>n.symbol.command||"function"!=typeof n.provider.resolveCodeLens?(r[i]=n.symbol,Promise.resolve(void 0)):Promise.resolve(n.provider.resolveCodeLens(t,n.symbol,e)).then((e=>{r[i]=e}),xt)));return Promise.all(o).then((()=>{e.isCancellationRequested||i[s].isDisposed()||i[s].updateCommands(r)}))}));return Promise.all(s)}));this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then((()=>{const e=this._resolveCodeLensesDelays.update(t,Date.now()-s);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}),(e=>{V(e),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}))}getLenses(){return this._lenses}};function pie(e,t,n,i){return Promise.resolve(n.provideColorPresentations(e,t,i))}uie.ID="css.editor.codeLens",uie=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([die(1,_A),die(2,JW),die(3,aie)],uie),ZU(uie.ID,uie),qU(class extends zU{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:EZ.hasCodeLensProvider,label:JI(0,"Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return hie(this,void 0,void 0,(function*(){if(!t.hasModel())return;const n=e.get(u7),i=e.get(_A),s=e.get(JW),r=t.getSelection().positionLineNumber,o=t.getContribution(uie.ID),a=[];for(let e of o.getLenses())if(e.getLineNumber()===r)for(let t of e.getItems()){const{command:e}=t.symbol;e&&a.push({label:e.title,command:e})}if(0===a.length)return;const l=yield n.pick(a,{canPickMany:!1});if(l)try{yield i.executeCommand(l.command.id,...l.command.arguments||[])}catch(c){s.error(c)}}))}}),vA.registerCommand("_executeDocumentColorProvider",(function(e,...t){const[n]=t;if(!(n instanceof P))throw He();const i=e.get(CM).getModel(n);if(!i)throw He();const s=[],r=dF.ordered(i).reverse().map((e=>Promise.resolve(e.provideDocumentColors(i,ne.None)).then((e=>{if(Array.isArray(e))for(let t of e)s.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}))));return Promise.all(r).then((()=>s))})),vA.registerCommand("_executeColorPresentationProvider",(function(e,...t){const[n,i]=t,{uri:s,range:r}=i;if(!(s instanceof P&&Array.isArray(n)&&4===n.length&&oe.isIRange(r)))throw He();const[o,a,l,c]=n,d=e.get(CM).getModel(s);if(!d)throw He();const h={range:r,color:{red:o,green:a,blue:l,alpha:c}},u=[],p=dF.ordered(d).reverse().map((e=>Promise.resolve(e.provideColorPresentations(d,h,ne.None)).then((e=>{Array.isArray(e)&&u.push(...e)}))));return Promise.all(p).then((()=>u))}));var gie=function(e,t){return function(n,i){t(n,i,e)}};let fie=class e extends F{constructor(e,t,n){super(),this._editor=e,this._codeEditorService=t,this._configurationService=n,this._localToDispose=this._register(new B),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel((()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()}))),this._register(e.onDidChangeModelLanguage((()=>this.onModelChanged()))),this._register(dF.onDidChange((()=>this.onModelChanged()))),this._register(e.onDidChangeConfiguration((()=>{let e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageIdentifier(),n=this._configurationService.getValue(t.language);if(n){const e=n.colorDecorators;if(e&&void 0!==e.enable&&!e.enable)return e.enable}return this._editor.getOption(15)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();t&&dF.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._timeoutTimer||(this._timeoutTimer=new bO,this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),e.RECOMPUTE_TIME))}))),this.beginCompute())}beginCompute(){this._computePromise=hO((e=>{const t=this._editor.getModel();return t?function(e,t){const n=[],i=dF.ordered(e).reverse().map((i=>Promise.resolve(i.provideDocumentColors(e,t)).then((e=>{if(Array.isArray(e))for(let t of e)n.push({colorInfo:t,provider:i})}))));return Promise.all(i).then((()=>n))}(t,e):Promise.resolve([])})),this._computePromise.then((e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}),V)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:Q$.EMPTY})));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(((t,n)=>this._colorDatas.set(t,e[n])))}updateColorDecorators(e){let t=[],n={};for(let i=0;i<e.length&&t.length<500;i++){const{red:s,green:r,blue:o,alpha:a}=e[i].colorInfo.color,l=new R$(Math.round(255*s),Math.round(255*r),Math.round(255*o),a);let c=he(`rgba(${l.r},${l.g},${l.b},${l.a})`).toString(16),d=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,h="colorBox-"+c;this._decorationsTypes.has(h)||n[h]||this._codeEditorService.registerDecorationType(h,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:d},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),n[h]=!0,t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(h,!0)})}this._decorationsTypes.forEach((e=>{n[e]||this._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((e=>{this._codeEditorService.removeDecorationType(e)}))}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(oe.fromPositions(e,e)).filter((e=>this._colorDatas.has(e.id)));return 0===n.length?null:this._colorDatas.get(n[0].id)}};fie.ID="editor.contrib.colorDetector",fie.RECOMPUTE_TIME=1e3,fie=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([gie(1,MP),gie(2,TW)],fie),ZU(fie.ID,fie);class mie{constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new x,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new x,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new x,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const _ie=LR;class vie extends F{constructor(e,t,n){super(),this.model=t,this.domNode=_ie(".colorpicker-header"),wR(e,this.domNode),this.pickedColorNode=wR(this.domNode,_ie(".picked-color"));const i=wR(this.domNode,_ie(".original-color"));i.style.backgroundColor=F$.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(hG)||F$.white,this._register(LU(((e,t)=>{this.backgroundColor=e.getColor(hG)||F$.white}))),this._register(RO(this.pickedColorNode,_R.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register(RO(i,_R.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=F$.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter())}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=F$.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}class bie extends F{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=_ie(".colorpicker-body"),wR(e,this.domNode),this.saturationBox=new yie(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Cie(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Sie(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new F$(new M$(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new F$(new M$(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=360*(1-e);this.model.color=new F$(new M$(360===n?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class yie extends F{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new x,this.onColorFlushed=this._onColorFlushed.event,this.domNode=_ie(".saturation-wrap"),wR(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",wR(this.domNode,this.canvas),this.selection=_ie(".saturation-selection"),wR(this.domNode,this.selection),this.layout(),this._register(FO(this.domNode,(e=>this.onMouseDown(e)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new wz);const t=JO(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,yz,(e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top)),(()=>null));const n=BO(document,(()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),i=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,i),this._onDidChange.fire({s:n,v:i})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new F$(new M$(e.h,1,1,1)),n=this.canvas.getContext("2d"),i=n.createLinearGradient(0,0,this.canvas.width,0);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)");const s=n.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=F$.Format.CSS.format(t),n.fill(),n.fillStyle=i,n.fill(),n.fillStyle=s,n.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class wie extends F{constructor(e,t){super(),this.model=t,this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new x,this.onColorFlushed=this._onColorFlushed.event,this.domNode=wR(e,_ie(".strip")),this.overlay=wR(this.domNode,_ie(".overlay")),this.slider=wR(this.domNode,_ie(".slider")),this.slider.style.top="0px",this._register(FO(this.domNode,(e=>this.onMouseDown(e)))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new wz),n=JO(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,yz,(e=>this.onDidChangeTop(e.posy-n.top)),(()=>null));const i=BO(document,(()=>{this._onColorFlushed.fire(),i.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")}),!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class Cie extends wie{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:n,b:i}=e.rgba,s=new F$(new R$(t,n,i,1)),r=new F$(new R$(t,n,i,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${r} 100%)`}getValue(e){return e.hsva.a}}class Sie extends wie{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class xie extends aX{constructor(e,t,n,i){super(),this.model=t,this.pixelRatio=n,this._register(VP((()=>this.layout())));const s=_ie(".colorpicker-widget");e.appendChild(s);const r=new vie(s,this.model,i);this.body=new bie(s,this.model,this.pixelRatio),this._register(r),this._register(this.body)}layout(){this.body.layout()}}class kie{constructor(e,t,n,i,s){this._computer=e,this._state=0,this._hoverTime=s,this._firstWaitScheduler=new wO((()=>this._triggerAsyncComputation()),0),this._secondWaitScheduler=new wO((()=>this._triggerSyncComputation()),0),this._loadingMessageScheduler=new wO((()=>this._showLoadingMessage()),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=i}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=hO((e=>this._computer.computeAsync(e))),this._asyncComputationPromise.then((e=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(e)}),(e=>this._onError(e)))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(e){this._completeCallback(e)}_onError(e){this._errorCallback?this._errorCallback(e):V(e)}_onProgress(e){this._progressCallback(e)}start(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}const Eie=LR;class Die extends F{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new TX(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}function Tie(e){if(!e)return;"string"==typeof e&&(e=P.file(e));const t=dA(e)||(e.scheme===EO.file?e.fsPath:e.path);return T&&function(e){const t=K(e);return T?!(e.length>3)&&rA(t)&&(2===e.length||92===t.charCodeAt(2)):t===$.sep}(t)?Lie(t):t}function Lie(e){return rA(e)?e.charAt(0).toUpperCase()+e.slice(1):e}var Nie=function(e,t){return function(n,i){t(n,i,e)}};let Iie=class extends JQ{constructor(e,t,n,i,s,r,o,a,l,c){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},i,s,r,o,a,l,c),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){MA(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Iie=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Nie(3,PP),Nie(4,MP),Nie(5,_A),Nie(6,_U),Nie(7,CU),Nie(8,JW),Nie(9,NQ)],Iie);const Pie=new F$(new R$(0,122,204)),Oie={showArrow:!0,showFrame:!0,className:"",frameColor:Pie,arrowColor:Pie,keepEditorSelection:!1};class Rie{constructor(e,t,n,i,s,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=i,this._onDomNodeTop=s,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class Aie{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Mie{constructor(e){this._editor=e,this._ruleName=Mie._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),fR(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){fR(this._ruleName),gR(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:oe.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}Mie._IdGenerator=new S9(".arrow-decoration-");class Fie extends $H{constructor(e,t){super(),this._onDidChangeVisibility=new x,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=wR(e,LR(".monaco-dropdown")),this._label=wR(this._element,LR(".dropdown-label"));let n=t.labelRenderer;n||(n=e=>(e.textContent=t.label||"",null));for(const s of[_R.CLICK,_R.MOUSE_DOWN,_z.Tap])this._register(RO(this.element,s,(e=>vR(e,!0))));for(const s of[_R.MOUSE_DOWN,_z.Tap])this._register(RO(this._label,s,(e=>{e instanceof MouseEvent&&e.detail>1||(this.visible?this.hide():this.show())})));this._register(RO(this._label,_R.KEY_UP,(e=>{const t=new iO(e);(t.equals(3)||t.equals(10))&&(vR(e,!0),this.visible?this.hide():this.show())})));const i=n(this._label);i&&this._register(i),this._register(bz.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class Bie extends Fie{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Vie extends D0{constructor(e,t,n,i=Object.create(null)){super(null,e,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new x),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=wR(e,LR("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter((e=>!!e)):this.options.classNames&&(t=this.options.classNames),t.find((e=>"icon"===e))||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new Bie(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",`${e}`),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",n),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",n)}}var Wie=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Hie=function(e,t){return function(n,i){t(n,i,e)}};function Uie(e,t,n,i,s,r){const o=e.getActions(t);return function(e,t,n,i="navigation",s=Number.MAX_SAFE_INTEGER,r=(()=>!1)){let o,a;Array.isArray(t)?(o=t,a=t):(o=t.primary,a=t.secondary);const l=new Set;for(const[c,d]of e){let e;c===i?e=o:(e=a,e.length>0&&e.push(new KH));for(let t of d){n&&(t=t instanceof FU&&t.alt?t.alt:t);const i=e.push(t);t instanceof qH&&l.add({group:c,action:t,index:i-1})}}for(const{group:c,action:d,index:h}of l){const e=c===i?o:a,t=d.actions;(t.length<=1||e.length+t.length-2<=s)&&r(d,c,e.length)&&e.splice(h,1,...t)}if(o!==a&&o.length>s){const e=o.splice(s,o.length-s);a.unshift(...e,new KH)}}(o,n,!1,i,s,r),function(e){const t=new B;for(const[,n]of e)for(const e of n)t.add(e);return t}(o)}let zie=class extends T0{constructor(e,t,n){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon}),this._keybindingService=t,this._notificationService=n,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Tt),this._altKey=FR.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){e.preventDefault(),e.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).catch((e=>this._notificationService.error(e)))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(T||w)&&this._altKey.keyStatus.shiftKey;const i=()=>{const e=t&&n;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{n=e.altKey||(T||w)&&e.shiftKey,i()}))),this._register(ZP(e,"mouseleave")((e=>{t=!1,i()}))),this._register(ZP(e,"mouseenter")((e=>{t=!0,i()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let i=t?JI(0,"{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id),n=t&&t.getLabel(),s=n?JI(0,"{0} ({1})",e,n):e;i+=`\n[${qW.modifierLabels[Be].altKey}] ${s}`}this.label.title=i}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:i}=this;if(!n||!i)return;const s=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(s)if(xU.isThemeIcon(s)){const e=xU.asClassNameArray(s);i.classList.add(...e),this._itemClassDispose.value=I((()=>{i.classList.remove(...e)}))}else s.light&&i.style.setProperty("--menu-entry-icon-light",AR(s.light)),s.dark&&i.style.setProperty("--menu-entry-icon-dark",AR(s.dark)),i.classList.add("icon"),this._itemClassDispose.value=I((()=>{i.classList.remove("icon"),i.style.removeProperty("--menu-entry-icon-light"),i.style.removeProperty("--menu-entry-icon-dark")}))}};zie=Wie([Hie(1,w1),Hie(2,JW)],zie);let jie=class extends Vie{constructor(e,t){super(e,{getActions:()=>e.actions},t,{menuAsChild:!0,classNames:xU.isThemeIcon(e.item.icon)?xU.asClassName(e.item.icon):void 0})}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!xU.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",AR(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",AR(t.dark)))}}};function $ie(e,t){return t instanceof FU?e.createInstance(zie,t):t instanceof MU?e.createInstance(jie,t):void 0}jie=Wie([Hie(1,K0)],jie);var Kie=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},qie=function(e,t){return function(n,i){t(n,i,e)}};const Gie=RP("IPeekViewService");var Yie,Zie;f0(Gie,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((()=>{const n=this._widgets.get(e);n&&n.widget===t&&(n.listener.dispose(),this._widgets.delete(e))}))})}}),(Zie=Yie||(Yie={})).inPeekEditor=new mU("inReferenceSearchEditor",!0,JI(0,"Whether the current code editor is embedded inside peek")),Zie.notInPeekEditor=Zie.inPeekEditor.toNegated();let Xie=class{constructor(e,t){e instanceof Iie&&Yie.inPeekEditor.bindTo(t)}dispose(){}};Xie.ID="editor.contrib.referenceController",Xie=Kie([qie(1,_U)],Xie),ZU(Xie.ID,Xie);const Jie={headerBackgroundColor:F$.white,primaryHeadingColor:F$.fromHex("#333333"),secondaryHeadingColor:F$.fromHex("#6c6c6cb3")};let Qie=class extends class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new B,this.container=null,this._isShowing=!1,this.editor=e,this.options=PA(t),MA(this.options,Oie,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Mie(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const n=t.getDecorationRange(e);return n?n.getStartPosition():void 0}show(e,t){const n=oe.isIRange(e)?oe.lift(e):oe.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:Q$.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(55),t=0;if(this.options.showArrow){t+=2*Math.round(e/3)}if(this.options.showFrame){t+=2*Math.round(e/9)}return t}_showImpl(e,t){const n=e.getStartPosition(),i=this.editor.getLayoutInfo(),s=this._getWidth(i);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(i)+"px";const r=document.createElement("div");r.style.overflow="hidden";const o=this.editor.getOption(55),a=Math.max(12,this.editor.getLayoutInfo().height/o*.8);t=Math.min(t,a);let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(o/3),this._arrow.height=l,this._arrow.show(n)),this.options.showFrame&&(c=Math.round(o/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Rie(r,n.lineNumber,n.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e))),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new Aie("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}let d=t*o-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,s),this.options.keepEditorSelection||this.editor.setSelection(e);const h=this.editor.getModel();if(h){const t=e.endLineNumber+1;t<=h.getLineCount()?this.revealLine(t,!1):this.revealLine(h.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new u0(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){let n=(t.currentY-e.startY)/this.editor.getOption(55),i=n<0?Math.ceil(n):Math.floor(n),s=e.heightInLines+i;s>5&&s<35&&this._relayout(s)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new x,this.onDidClose=this._onDidClose.event,MA(this.options,Jie,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=LR(".head"),this._bodyElement=LR(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=LR(".peekview-title");wR(this._headElement,n),MO(n,"click",(e=>this._onTitleClick(e))),this._fillTitleIcon(n),this._primaryHeading=LR("span.filename"),this._secondaryHeading=LR("span.dirname"),this._metaHeading=LR("span.meta"),wR(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=LR(".peekview-actions");wR(this._headElement,i);const s=this._getActionBarOptions();this._actionbarWidget=new N0(i,s),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new jH("peekview.close",JI(0,"Close"),NM.close.classNames,!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:$ie.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("aria-label",e),t?this._secondaryHeading.innerText=t:IO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,NR(this._metaHeading)):IR(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(55)),i=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(i,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Qie=Kie([qie(2,PP)],Qie);const ese=jK("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},JI(0,"Background color of the peek view title area.")),tse=jK("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},JI(0,"Color of the peek view title.")),nse=jK("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},JI(0,"Color of the peek view title info.")),ise=jK("peekView.border",{dark:"#007acc",light:"#007acc",hc:YK},JI(0,"Color of the peek view borders and arrow.")),sse=jK("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:F$.black},JI(0,"Background color of the peek view result list.")),rse=jK("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:F$.white},JI(0,"Foreground color for line nodes in the peek view result list.")),ose=jK("peekViewResult.fileForeground",{dark:F$.white,light:"#1E1E1E",hc:F$.white},JI(0,"Foreground color for file nodes in the peek view result list.")),ase=jK("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},JI(0,"Background color of the selected entry in the peek view result list.")),lse=jK("peekViewResult.selectionForeground",{dark:F$.white,light:"#6C6C6C",hc:F$.white},JI(0,"Foreground color of the selected entry in the peek view result list.")),cse=jK("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:F$.black},JI(0,"Background color of the peek view editor.")),dse=jK("peekViewEditorGutter.background",{dark:cse,light:cse,hc:cse},JI(0,"Background color of the gutter in the peek view editor.")),hse=jK("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},JI(0,"Match highlight color in the peek view result list.")),use=jK("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},JI(0,"Match highlight color in the peek view editor.")),pse=jK("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ZK},JI(0,"Match highlight border in the peek view editor."));var gse;(gse||(gse={})).className=function(e){switch(e){case UV.Ignore:return"severity-ignore "+NM.info.classNames;case UV.Info:return NM.info.classNames;case UV.Warning:return NM.warning.classNames;case UV.Error:return NM.error.classNames;default:return""}},LU(((e,t)=>{const n=e.getColor(fY);if(n){const e=NM.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const i=e.getColor(mY);if(i){const e=NM.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const s=e.getColor(_Y);if(s){const e=NM.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${s};\n\t\t\t}\n\t\t`)}}));var fse=function(e,t){return function(n,i){t(n,i,e)}};class mse{constructor(e,t,n,i,s){this._openerService=i,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new B,this._editor=t;const r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add(MO(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&n(t)}))),this._scrollable=new EX(r,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{r.style.left=`-${e.scrollLeft}px`,r.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){De(this._disposables)}update(e){const{source:t,message:n,relatedInformation:i,code:s}=e;let r=((null==t?void 0:t.length)||0)+"()".length;s&&(r+="string"==typeof s?s.length:s.value.length);const o=Ae(n);this._lines=o.length,this._longestLineLength=0;for(const h of o)this._longestLineLength=Math.max(h.length+r,this._longestLineLength);IO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const h of o)a=document.createElement("div"),a.innerText=h,""===h&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||s){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const n=document.createElement("span");n.innerText=t,n.classList.add("source"),e.appendChild(n)}if(s)if("string"==typeof s){const t=document.createElement("span");t.innerText=`(${s})`,t.classList.add("code"),e.appendChild(t)}else{this._codeLink=LR("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()};wR(this._codeLink,LR("span")).innerText=s.value,e.appendChild(this._codeLink)}}if(IO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),wB(i)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(55))}px`,this._lines+=1;for(const t of i){let n=document.createElement("div"),i=document.createElement("a");i.classList.add("filename"),i.innerText=`${Tie(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,i.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(i,t);let s=document.createElement("span");s.innerText=t.message,n.appendChild(i),n.appendChild(s),this._lines+=1,e.appendChild(n)}}const l=this._editor.getOption(40),c=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),d=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:c,scrollHeight:d})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case v8.Error:t=JI(0,"Error");break;case v8.Warning:t=JI(0,"Warning");break;case v8.Info:t=JI(0,"Info");break;case v8.Hint:t=JI(0,"Hint")}let n=JI(0,"{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const i=this._editor.getModel();if(i&&e.startLineNumber<=i.getLineCount()&&e.startLineNumber>=1){n=`${i.getLineContent(e.startLineNumber)}, ${n}`}return n}}let _se=class e extends Qie{constructor(e,t,n,i,s,r,o){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0},s),this._themeService=t,this._openerService=n,this._menuService=i,this._contextKeyService=r,this._labelService=o,this._callOnDispose=new B,this._onDidSelectRelatedInformation=new x,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=v8.Warning,this._backgroundColor=F$.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(xse);let t=wse;this._severity===v8.Warning?t=Cse:this._severity===v8.Info&&(t=Sse);const n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(tse),secondaryHeadingColor:e.getColor(nse)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((e=>this.editor.focus())));const n=[],i=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);Uie(i,void 0,n),this._actionbarWidget.push(n,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=wR(e,LR(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new mse(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let i=oe.lift(e);const s=this.editor.getPosition();let r=s&&i.containsPosition(s)?s:i.getStartPosition();super.show(r,this.computeRequiredHeight());const o=this.editor.getModel();if(o){const e=JI(0,n>1?"{0} of {1} problems":"{0} of {1} problem",t,n);this.setTitle(dA(o.uri),e)}this._icon.className=`codicon ${gse.className(v8.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};_se.TitleMenu=new OU("gotoErrorTitleMenu"),_se=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([fse(1,CU),fse(2,CA),fse(3,RU),fse(4,PP),fse(5,_U),fse(6,T4)],_se);let vse=wY(Tq,Lq),bse=wY(Iq,Pq),yse=wY(Rq,Aq);const wse=jK("editorMarkerNavigationError.background",{dark:vse,light:vse,hc:vse},JI(0,"Editor marker navigation widget error color.")),Cse=jK("editorMarkerNavigationWarning.background",{dark:bse,light:bse,hc:bse},JI(0,"Editor marker navigation widget warning color.")),Sse=jK("editorMarkerNavigationInfo.background",{dark:yse,light:yse,hc:yse},JI(0,"Editor marker navigation widget info color.")),xse=jK("editorMarkerNavigation.background",{dark:"#2D2D30",light:F$.white,hc:"#0C141F"},JI(0,"Editor marker navigation widget background."));LU(((e,t)=>{const n=e.getColor(XK);n&&(t.addRule(`.monaco-editor .marker-widget a { color: ${n}; }`),t.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${n}; }`))}));var kse=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ese=function(e,t){return function(n,i){t(n,i,e)}};class Dse{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let Tse=class e{constructor(t,n){this._markerService=n,this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._dispoables=new B,this._markers=[],this._nextIdx=-1,P.isUri(t)?this._resourceFilter=e=>e.toString()===t.toString():t&&(this._resourceFilter=t);const i=()=>{this._markers=this._markerService.read({resource:P.isUri(t)?t:void 0,severities:v8.Error|v8.Warning|v8.Info}),"function"==typeof t&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(e._compareMarker)};i(),this._dispoables.add(n.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(i(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new Dse(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let i=!1,s=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));s<0&&(s=fB(this._markers,{resource:e.uri},((e,t)=>z(e.resource.toString(),t.resource.toString()))),s<0&&(s=~s));for(let r=s;r<this._markers.length;r++){let n=oe.lift(this._markers[r]);if(n.isEmpty()){const t=e.getWordAtPosition(n.getStartPosition());t&&(n=new oe(n.startLineNumber,t.startColumn,n.startLineNumber,t.endColumn))}if(t&&(n.containsPosition(t)||t.isBeforeOrEqual(n.getStartPosition()))){this._nextIdx=r,i=!0;break}if(this._markers[r].resource.toString()!==e.uri.toString())break}i||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(0===this._markers.length)return!1;let i=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),i!==this._nextIdx}find(e,t){let n=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(n<0))for(;n<this._markers.length;n++)if(oe.containsPosition(this._markers[n],t))return new Dse(this._markers[n],n+1,this._markers.length)}static _compareMarker(e,t){let n=z(e.resource.toString(),t.resource.toString());return 0===n&&(n=v8.compare(e.severity,t.severity)),0===n&&(n=oe.compareRangesUsingStarts(e,t)),n}};Tse=kse([Ese(1,w8)],Tse);const Lse=RP("IMarkerNavigationService");let Nse=class{constructor(e){this._markerService=e,this._provider=new Q}getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new Tse(e,this._markerService)}};Nse=kse([Ese(0,w8)],Nse),f0(Lse,Nse,!0);var Ise=function(e,t){return function(n,i){t(n,i,e)}},Pse=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let Ose=class e{constructor(e,t,n,i,s){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=i,this._instantiationService=s,this._sessionDispoables=new B,this._editor=e,this._widgetVisible=Fse.bindTo(this._contextKeyService)}static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(_se,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,n,i;(null===(t=this._model)||void 0===t?void 0:t.selected)&&oe.containsPosition(null===(n=this._model)||void 0===n?void 0:n.selected.marker,e.position)||null===(i=this._model)||void 0===i||i.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:oe.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new je(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,n){return Pse(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const i=this._getOrCreateModel(n?void 0:this._editor.getModel().uri);if(i.move(t,this._editor.getModel(),this._editor.getPosition()),!i.selected)return;if(i.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const s=yield this._editorService.openCodeEditor({resource:i.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:i.selected.marker}},this._editor);s&&(e.get(s).close(),e.get(s).nagivate(t,n))}else this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}))}};Ose.ID="editor.contrib.markerController",Ose=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Ise(1,Lse),Ise(2,_U),Ise(3,MP),Ise(4,PP)],Ose);class Rse extends zU{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}run(e,t){return Pse(this,void 0,void 0,(function*(){t.hasModel()&&Ose.get(t).nagivate(this._next,this._multiFile)}))}}class Ase extends Rse{constructor(){super(!0,!1,{id:Ase.ID,label:Ase.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:578,weight:100},menuOpts:{menuId:_se.TitleMenu,title:Ase.LABEL,icon:P0("marker-navigation-next",NM.chevronDown,JI(0,"Icon for goto next marker.")),group:"navigation",order:1}})}}Ase.ID="editor.action.marker.next",Ase.LABEL=JI(0,"Go to Next Problem (Error, Warning, Info)");class Mse extends Rse{constructor(){super(!1,!1,{id:Mse.ID,label:Mse.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:1602,weight:100},menuOpts:{menuId:_se.TitleMenu,title:Ase.LABEL,icon:P0("marker-navigation-previous",NM.chevronUp,JI(0,"Icon for goto previous marker.")),group:"navigation",order:2}})}}Mse.ID="editor.action.marker.prev",Mse.LABEL=JI(0,"Go to Previous Problem (Error, Warning, Info)");ZU(Ose.ID,Ose),qU(Ase),qU(Mse),qU(class extends Rse{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:JI(0,"Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:66,weight:100},menuOpts:{menuId:OU.MenubarGoMenu,title:JI(0,"Next &&Problem"),group:"6_problem_nav",order:1}})}}),qU(class extends Rse{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:JI(0,"Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:1090,weight:100},menuOpts:{menuId:OU.MenubarGoMenu,title:JI(0,"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const Fse=new mU("markersNavigationVisible",!1);KU(new(UU.bindToContribution(Ose.get))({id:"closeMarkersNavigation",precondition:Fse,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:EZ.focus,primary:9,secondary:[1033]}}));var Bse=function(e,t){return function(n,i){t(n,i,e)}};const Vse=LR;class Wse{constructor(e,t){this.range=e,this.marker=t}equals(e){return e instanceof Wse&&y8.makeKey(this.marker)===y8.makeKey(e.marker)}}const Hse={type:1,filter:{include:vne.QuickFix}};let Use=class{constructor(e,t,n,i,s){this._editor=e,this._hover=t,this._markerDecorationsService=n,this._keybindingService=i,this._openerService=s,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel())return[];const n=this._editor.getModel(),i=e.startLineNumber,s=n.getLineMaxColumn(i),r=[];for(const o of t){const t=o.range.startLineNumber===i?o.range.startColumn:1,a=o.range.endLineNumber===i?o.range.endColumn:s,l=this._markerDecorationsService.getMarker(n.uri,o);if(!l)continue;const c=new oe(e.startLineNumber,t,e.startLineNumber,a);r.push(new Wse(c,l))}return r}renderHoverParts(e,t){if(!e.length)return F.None;const n=new B;e.forEach((e=>t.appendChild(this.renderMarkerHover(e,n))));const i=1===e.length?e[0]:e.sort(((e,t)=>v8.compare(e.marker.severity,t.marker.severity)))[0];return t.appendChild(this.renderMarkerStatusbar(i,n)),n}renderMarkerHover(e,t){const n=Vse("div.hover-row"),i=wR(n,Vse("div.marker.hover-contents")),{source:s,message:r,code:o,relatedInformation:a}=e.marker;this._editor.applyFontInfo(i);const l=wR(i,Vse("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=r,s||o)if(o&&"string"!=typeof o){const e=Vse("span");if(s){wR(e,Vse("span")).innerText=s}const n=wR(e,Vse("a.code-link"));n.setAttribute("href",o.target.toString()),t.add(RO(n,"click",(e=>{this._openerService.open(o.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()})));wR(n,Vse("span")).innerText=o.value;const r=wR(i,e);r.style.opacity="0.6",r.style.paddingLeft="6px"}else{const e=wR(i,Vse("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=s&&o?`${s}(${o})`:s||`(${o})`}if(wB(a))for(const{message:c,resource:d,startLineNumber:h,startColumn:u}of a){const e=wR(i,Vse("div"));e.style.marginTop="8px";const n=wR(e,Vse("a"));n.innerText=`${dA(d)}(${h}, ${u}): `,n.style.cursor="pointer",t.add(RO(n,"click",(e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(d,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:u}}}).catch(V)})));const s=wR(e,Vse("span"));s.innerText=c,this._editor.applyFontInfo(s)}return n}renderMarkerStatusbar(e,t){const n=Vse("div.hover-row.status-bar"),i=wR(n,Vse("div.actions"));if(e.marker.severity!==v8.Error&&e.marker.severity!==v8.Warning&&e.marker.severity!==v8.Info||t.add(this.renderAction(i,{label:JI(0,"View Problem"),commandId:Ase.ID,run:()=>{this._hover.hide(),Ose.get(this._editor).showAtMarker(e.marker),this._editor.focus()}})),!this._editor.getOption(77)){const n=wR(i,Vse("div"));this.recentMarkerCodeActionsInfo&&(y8.makeKey(this.recentMarkerCodeActionsInfo.marker)===y8.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=JI(0,"No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?F.None:t.add(_O((()=>n.textContent=JI(0,"Checking for quick fixes...")),200));n.textContent||(n.textContent=String.fromCharCode(160));const r=this.getCodeActions(e.marker);t.add(I((()=>r.cancel()))),r.then((r=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:r.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return r.dispose(),void(n.textContent=JI(0,"No quick fixes available"));n.style.display="none";let o=!1;t.add(I((()=>{o||r.dispose()}))),t.add(this.renderAction(i,{label:JI(0,"Quick Fix..."),commandId:Jne.Id,run:e=>{o=!0;const t=Yne.get(this._editor),n=JO(e);this._hover.hide(),t.showCodeActions(Hse,r,{x:n.left+6,y:n.top+n.height+6})}}))}))}return n}renderAction(e,t){const n=this._keybindingService.lookupKeybinding(t.commandId);return function(e,t,n){const i=wR(e,Eie("div.action-container")),s=wR(i,Eie("a.action"));return s.setAttribute("href","#"),s.setAttribute("role","button"),t.iconClass&&wR(s,Eie(`span.icon.${t.iconClass}`)),wR(s,Eie("span")).textContent=n?`${t.label} (${n})`:t.label,RO(i,_R.CLICK,(e=>{e.stopPropagation(),e.preventDefault(),t.run(i)}))}(e,t,n?n.getLabel():null)}getCodeActions(e){return hO((t=>kne(this._editor.getModel(),new oe(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),Hse,Z0.None,t)))}};Use=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Bse(2,UH),Bse(3,w1),Bse(4,CA)],Use);var zse={exports:{}};let jse;zse.exports=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e){var t={exports:{}};return e(t,t.exports),t.exports}var o=r((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}})),a=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(e){return h[e]};function p(e,t){if(t){if(a.test(e))return e.replace(l,u)}else if(c.test(e))return e.replace(d,u);return e}var g=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function f(e){return e.replace(g,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var m=/(^|[^\[])\^/g;function _(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(m,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n}var v=/[^\w:]/g,b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function y(e,t,n){if(e){var i;try{i=decodeURIComponent(f(n)).replace(v,"").toLowerCase()}catch(s){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!b.test(n)&&(n=k(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(s){return null}return n}var w={},C=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,x=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,t){w[" "+e]||(C.test(e)?w[" "+e]=e+"/":w[" "+e]=T(e,"/",!0));var n=-1===(e=w[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(S,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(x,"$1")+t:e+t}function E(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function D(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,s=t;--s>=0&&"\\"===n[s];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function T(e,t,n){var i=e.length;if(0===i)return"";for(var s=0;s<i;){var r=e.charAt(i-s-1);if(r!==t||n){if(r===t||!n)break;s++}else s++}return e.substr(0,i-s)}function L(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,s=0;s<n;s++)if("\\"===e[s])s++;else if(e[s]===t[0])i++;else if(e[s]===t[1]&&--i<0)return s;return-1}function N(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function I(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var P={escape:p,unescape:f,edit:_,cleanUrl:y,resolveUrl:k,noopTest:{exec:function(){}},merge:E,splitCells:D,rtrim:T,findClosingBracket:L,checkSanitizeDeprecation:N,repeatString:I},O=o.defaults,R=P.rtrim,A=P.splitCells,M=P.escape,F=P.findClosingBracket;function B(e,t,n){var i=t.href,s=t.title?M(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:s,text:r}:{type:"image",raw:n,href:i,title:s,text:M(r)}}function V(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}var W=function(){function e(e){this.options=e||O}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:R(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=V(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=R(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,s=n.align.length;for(i=0;i<s;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(s=n.cells.length,i=0;i<s;i++)n.cells[i]=A(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,s,r,o,a,l,c,d=t[0],h=t[2],u=h.length>1,p={type:"list",raw:d,ordered:u,start:u?+h.slice(0,-1):"",loose:!1,items:[]},g=t[0].match(this.rules.block.item),f=!1,m=g.length;s=this.rules.block.listItemStart.exec(g[0]);for(var _=0;_<m;_++){if(d=n=g[_],_!==m-1){if(r=this.rules.block.listItemStart.exec(g[_+1]),this.options.pedantic?r[1].length>s[1].length:r[1].length>s[0].length||r[1].length>3){g.splice(_,2,g[_]+"\n"+g[_+1]),_--,m--;continue}(!this.options.pedantic||this.options.smartLists?r[2][r[2].length-1]!==h[h.length-1]:u===(1===r[2].length))&&(o=g.slice(_+1).join("\n"),p.raw=p.raw.substring(0,p.raw.length-o.length),_=m-1),s=r}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),a=f||/\n\n(?!\s*$)/.test(n),_!==m-1&&(f="\n"===n.charAt(n.length-1),a||(a=f)),a&&(p.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:d,task:l,checked:c,loose:a,text:n})}return p}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):M(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,s=n.align.length;for(i=0;i<s;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(s=n.cells.length,i=0;i<s;i++)n.cells[i]=A(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:M(t[1])}},t.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):M(i[0]):i[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=R(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var s=F(t[2],"()");if(s>-1){var r=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,r).trim(),t[3]=""}}var o=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),B(t,{href:o?o.replace(this.rules.inline._escapes,"$1"):o,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return B(n,i,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(e);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var s=i[1]||i[2]||"";if(!s||s&&(""===n||this.rules.inline.punctuation.exec(n))){var r,o,a=i[0].length-1,l=a,c=0,d="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+a);null!=(i=d.exec(t));)if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(o=r.length,i[3]||i[4])l+=o;else if(!((i[5]||i[6])&&a%3)||(a+o)%3){if(!((l-=o)>0)){if(l+c-o<=0&&!t.slice(d.lastIndex).match(d)&&(o=Math.min(o,o+l+c)),Math.min(a,o)%2)return{type:"em",raw:e.slice(0,a+i.index+o+1),text:e.slice(1,a+i.index+o)};if(Math.min(a,o)%2==0)return{type:"strong",raw:e.slice(0,a+i.index+o+1),text:e.slice(2,a+i.index+o-1)}}}else c+=o}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=M(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,i,s=this.rules.inline.autolink.exec(e);if(s)return i="@"===s[2]?"mailto:"+(n=M(this.options.mangle?t(s[1]):s[1])):n=M(s[1]),{type:"link",raw:s[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,s;if("@"===n[2])s="mailto:"+(i=M(this.options.mangle?t(n[0]):n[0]));else{var r;do{r=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(r!==n[0]);i=M(n[0]),s="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}},t.inlineText=function(e,t,n){var i,s=this.rules.inline.text.exec(e);if(s)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):M(s[0]):s[0]:M(this.options.smartypants?n(s[0]):s[0]),{type:"text",raw:s[0],text:i}},e}(),H=P.noopTest,U=P.edit,z=P.merge,j={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:H,table:H,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};j.def=U(j.def).replace("label",j._label).replace("title",j._title).getRegex(),j.bullet=/(?:[*+-]|\d{1,9}[.)])/,j.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,j.item=U(j.item,"gm").replace(/bull/g,j.bullet).getRegex(),j.listItemStart=U(/^( *)(bull)/).replace("bull",j.bullet).getRegex(),j.list=U(j.list).replace(/bull/g,j.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+j.def.source+")").getRegex(),j._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,j.html=U(j.html,"i").replace("comment",j._comment).replace("tag",j._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),j.paragraph=U(j._paragraph).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",j._tag).getRegex(),j.blockquote=U(j.blockquote).replace("paragraph",j.paragraph).getRegex(),j.normal=z({},j),j.gfm=z({},j.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),j.gfm.nptable=U(j.gfm.nptable).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",j._tag).getRegex(),j.gfm.table=U(j.gfm.table).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",j._tag).getRegex(),j.pedantic=z({},j.normal,{html:U("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",j._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:H,paragraph:U(j.normal._paragraph).replace("hr",j.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",j.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var $={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:H,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:H,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};$.punctuation=U($.punctuation).replace(/punctuation/g,$._punctuation).getRegex(),$.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,$.escapedEmSt=/\\\*|\\_/g,$._comment=U(j._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),$.emStrong.lDelim=U($.emStrong.lDelim).replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimAst=U($.emStrong.rDelimAst,"g").replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimUnd=U($.emStrong.rDelimUnd,"g").replace(/punct/g,$._punctuation).getRegex(),$._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,$._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,$._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,$.autolink=U($.autolink).replace("scheme",$._scheme).replace("email",$._email).getRegex(),$._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,$.tag=U($.tag).replace("comment",$._comment).replace("attribute",$._attribute).getRegex(),$._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,$._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,$.link=U($.link).replace("label",$._label).replace("href",$._href).replace("title",$._title).getRegex(),$.reflink=U($.reflink).replace("label",$._label).getRegex(),$.reflinkSearch=U($.reflinkSearch,"g").replace("reflink",$.reflink).replace("nolink",$.nolink).getRegex(),$.normal=z({},$),$.pedantic=z({},$.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U(/^!?\[(label)\]\((.*?)\)/).replace("label",$._label).getRegex(),reflink:U(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$._label).getRegex()}),$.gfm=z({},$.normal,{escape:U($.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),$.gfm.url=U($.gfm.url,"i").replace("email",$.gfm._extended_email).getRegex(),$.breaks=z({},$.gfm,{br:U($.br).replace("{2,}","*").getRegex(),text:U($.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var K={block:j,inline:$},q=o.defaults,G=K.block,Y=K.inline,Z=P.repeatString;function X(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function J(e){var t,n,i="",s=e.length;for(t=0;t<s;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var Q=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||q,this.options.tokenizer=this.options.tokenizer||new W,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:G.normal,inline:Y.normal};this.options.pedantic?(t.block=G.pedantic,t.inline=Y.pedantic):this.options.gfm&&(t.block=G.gfm,this.options.breaks?t.inline=Y.breaks:t.inline=Y.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var i,s,r,o;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),(o=t[t.length-1])&&"paragraph"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):t.push(i);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),r=i.items.length,s=0;s<r;s++)i.items[s].tokens=this.blockTokens(i.items[s].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(o=t[t.length-1])&&"text"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},n.inline=function(e){var t,n,i,s,r,o,a=e.length;for(t=0;t<a;t++)switch((o=e[t]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},s=o.header.length,n=0;n<s;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(s=o.cells.length,n=0;n<s;n++)for(r=o.cells[n],o.tokens.cells[n]=[],i=0;i<r.length;i++)o.tokens.cells[n][i]=[],this.inlineTokens(r[i],o.tokens.cells[n][i]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(s=o.items.length,n=0;n<s;n++)this.inline(o.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,i){var s,r;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var o,a,l,c=e;if(this.tokens.links){var d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(c));)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,o.index)+"["+Z("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,o.index)+"["+Z("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,o.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,s=this.tokenizer.escape(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.tag(e,n,i)){e=e.substring(s.raw.length),n=s.inLink,i=s.inRawBlock;var h=t[t.length-1];h&&"text"===s.type&&"text"===h.type?(h.raw+=s.raw,h.text+=s.text):t.push(s)}else if(s=this.tokenizer.link(e))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,i)),t.push(s);else if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length);var u=t[t.length-1];"link"===s.type?(s.tokens=this.inlineTokens(s.text,[],!0,i),t.push(s)):u&&"text"===s.type&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):t.push(s)}else if(s=this.tokenizer.emStrong(e,c,l))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,i),t.push(s);else if(s=this.tokenizer.codespan(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.br(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.del(e))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,i),t.push(s);else if(s=this.tokenizer.autolink(e,J))e=e.substring(s.raw.length),t.push(s);else if(n||!(s=this.tokenizer.url(e,J))){if(s=this.tokenizer.inlineText(e,i,X))e=e.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(l=s.raw.slice(-1)),a=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=s.raw,r.text+=s.text):t.push(s);else if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}else e=e.substring(s.raw.length),t.push(s);return t},t(e,null,[{key:"rules",get:function(){return{block:G,inline:Y}}}]),e}(),ee=o.defaults,te=P.cleanUrl,ne=P.escape,ie=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var s=this.options.highlight(e,i);null!=s&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+ne(i,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+ne(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),se=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),re=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),oe=o.defaults,ae=P.unescape,le=function(){function e(e){this.options=e||oe,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new se,this.slugger=new re}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,i,s,r,o,a,l,c,d,h,u,p,g,f,m,_,v,b,y="",w=e.length;for(n=0;n<w;n++)switch((h=e[n]).type){case"space":continue;case"hr":y+=this.renderer.hr();continue;case"heading":y+=this.renderer.heading(this.parseInline(h.tokens),h.depth,ae(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":y+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",r=h.header.length,i=0;i<r;i++)l+=this.renderer.tablecell(this.parseInline(h.tokens.header[i]),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),d="",r=h.cells.length,i=0;i<r;i++){for(l="",o=(a=h.tokens.cells[i]).length,s=0;s<o;s++)l+=this.renderer.tablecell(this.parseInline(a[s]),{header:!1,align:h.align[s]});d+=this.renderer.tablerow(l)}y+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(h.tokens),y+=this.renderer.blockquote(d);continue;case"list":for(u=h.ordered,p=h.start,g=h.loose,r=h.items.length,d="",i=0;i<r;i++)_=(m=h.items[i]).checked,v=m.task,f="",m.task&&(b=this.renderer.checkbox(_),g?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):f+=b),f+=this.parse(m.tokens,g),d+=this.renderer.listitem(f,v,_);y+=this.renderer.list(d,u,p);continue;case"html":y+=this.renderer.html(h.text);continue;case"paragraph":y+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(d=h.tokens?this.parseInline(h.tokens):h.text;n+1<w&&"text"===e[n+1].type;)d+="\n"+((h=e[++n]).tokens?this.parseInline(h.tokens):h.text);y+=t?this.renderer.paragraph(d):d;continue;default:var C='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(C);throw new Error(C)}return y},t.parseInline=function(e,t){t=t||this.renderer;var n,i,s="",r=e.length;for(n=0;n<r;n++)switch((i=e[n]).type){case"escape":s+=t.text(i.text);break;case"html":s+=t.html(i.text);break;case"link":s+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":s+=t.image(i.href,i.title,i.text);break;case"strong":s+=t.strong(this.parseInline(i.tokens,t));break;case"em":s+=t.em(this.parseInline(i.tokens,t));break;case"codespan":s+=t.codespan(i.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(i.tokens,t));break;case"text":s+=t.text(i.text);break;default:var o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}return s},e}(),ce=P.merge,de=P.checkSanitizeDeprecation,he=P.escape,ue=o.getDefaults,pe=o.changeDefaults,ge=o.defaults;function fe(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=ce({},fe.defaults,t||{}),de(t),n){var i,s=t.highlight;try{i=Q.lex(e,t)}catch(l){return n(l)}var r=function(e){var r;if(!e)try{r=le.parse(i,t)}catch(l){e=l}return t.highlight=s,e?n(e):n(null,r)};if(!s||s.length<3)return r();if(delete t.highlight,!i.length)return r();var o=0;return fe.walkTokens(i,(function(e){"code"===e.type&&(o++,setTimeout((function(){s(e.text,e.lang,(function(t,n){if(t)return r(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--o&&r()}))}),0))})),void(0===o&&r())}try{var a=Q.lex(e,t);return t.walkTokens&&fe.walkTokens(a,t.walkTokens),le.parse(a,t)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+he(l.message+"",!0)+"</pre>";throw l}}return fe.options=fe.setOptions=function(e){return ce(fe.defaults,e),pe(fe.defaults),fe},fe.getDefaults=ue,fe.defaults=ge,fe.use=function(e){var t=ce({},e);if(e.renderer&&function(){var n=fe.defaults.renderer||new ie,i=function(t){var i=n[t];n[t]=function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];var a=e.renderer[t].apply(n,r);return!1===a&&(a=i.apply(n,r)),a}};for(var s in e.renderer)i(s);t.renderer=n}(),e.tokenizer&&function(){var n=fe.defaults.tokenizer||new W,i=function(t){var i=n[t];n[t]=function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];var a=e.tokenizer[t].apply(n,r);return!1===a&&(a=i.apply(n,r)),a}};for(var s in e.tokenizer)i(s);t.tokenizer=n}(),e.walkTokens){var n=fe.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}fe.setOptions(t)},fe.walkTokens=function(e,t){for(var n,i=s(e);!(n=i()).done;){var r=n.value;switch(t(r),r.type){case"table":for(var o,a=s(r.tokens.header);!(o=a()).done;){var l=o.value;fe.walkTokens(l,t)}for(var c,d=s(r.tokens.cells);!(c=d()).done;)for(var h,u=s(c.value);!(h=u()).done;){var p=h.value;fe.walkTokens(p,t)}break;case"list":fe.walkTokens(r.items,t);break;default:r.tokens&&fe.walkTokens(r.tokens,t)}}},fe.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ce({},fe.defaults,t||{}),de(t);try{var n=Q.lexInline(e,t);return t.walkTokens&&fe.walkTokens(n,t.walkTokens),le.parseInline(n,t)}catch(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+he(i.message+"",!0)+"</pre>";throw i}},fe.Parser=le,fe.parser=le.parse,fe.Renderer=ie,fe.TextRenderer=se,fe.Lexer=Q,fe.lexer=Q.lex,fe.Tokenizer=W,fe.Slugger=re,fe.parse=fe,fe}(),function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){return s(t[o][1][e]||e)}),d,d.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){var i=e("./toMap");t.exports={uris:i(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(e,t,n){t.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(e,t,n){var i=e("./toMap");t.exports={voids:i(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(e,t,n){e("he");var i=e("assignment"),s=e("./parser"),r=e("./sanitizer"),o=e("./defaults");function a(e,t,n){var a=[],l=!0===n?t:i({},o,t),c=r(a,l);return s(e,c),a.join("")}a.defaults=o,t.exports=a,jse=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,n){t.exports=function(e){return"string"==typeof e?e.toLowerCase():e}},{}],6:[function(e,t,n){t.exports=function e(t){for(var n,i,s=Array.prototype.slice.call(arguments,1);s.length;)for(i in n=s.shift())n.hasOwnProperty(i)&&("[object Object]"===Object.prototype.toString.call(t[i])?t[i]=e(t[i],n[i]):t[i]=n[i]);return t}},{}],7:[function(e,t,n){var i=e("he"),s=e("./lowercase");e("./attributes");var r=e("./elements"),o=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,c=/^</,d=/^<\s*\//;t.exports=function(e,t){for(var n,h=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),u=e;e;)p();function p(){n=!0,function(){"\x3c!--"===e.substr(0,4)?(i=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),n=!1):d.test(e)?g(a,m):c.test(e)&&g(o,f);var i;!function(){if(!n)return;var i,s=e.indexOf("<");s>=0?(i=e.substring(0,s),e=e.substring(s)):(i=e,e="");t.chars&&t.chars(i)}()}();var i=e===u;u=e,i&&(e="")}function g(t,i){var s=e.match(t);s&&(e=e.substring(s[0].length),s[0].replace(t,i),n=!1)}function f(e,n,o,a){var c={},d=s(n),u=r.voids[d]||!!a;o.replace(l,(function(e,t,n,s,r){c[t]=void 0===n&&void 0===s&&void 0===r?void 0:i.decode(n||s||r||"")})),u||h.push(d),t.start&&t.start(d,c,u)}function m(e,n){var i,r=0,o=s(n);if(o)for(r=h.length-1;r>=0&&h[r]!==o;r--);if(r>=0){for(i=h.length-1;i>=r;i--)t.end&&t.end(h[i]);h.length=r}}m()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,n){var i=e("he"),s=e("./lowercase"),r=e("./attributes"),o=e("./elements");t.exports=function(e,t){var n,a=t||{};return h(),{start:function(e,t,o){var d=s(e);if(n.ignoring)return void c(d);if(-1===(a.allowedTags||[]).indexOf(d))return void c(d);if(a.filter&&!a.filter({tag:d,attrs:t}))return void c(d);l("<"),l(d),Object.keys(t).forEach((function(e){var n=t[e],o=(a.allowedClasses||{})[d]||[],c=(a.allowedAttributes||{})[d]||[];c=c.concat((a.allowedAttributes||{})["*"]||[]);var h=s(e);("class"===h&&-1===c.indexOf(h)?(n=n.split(" ").filter((function(e){return o&&-1!==o.indexOf(e)})).join(" ").trim()).length:-1!==c.indexOf(h)&&(!0!==r.uris[h]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var n=e.indexOf(":");if(-1===n)return!0;var i=e.indexOf("?");if(-1!==i&&n>i)return!0;var s=e.indexOf("#");return-1!==s&&n>s||a.allowedSchemes.some(r);function r(t){return 0===e.indexOf(t+":")}}(n)))&&(l(" "),l(e),"string"==typeof n&&(l('="'),l(i.encode(n)),l('"')))})),l(o?"/>":">")},end:function(e){var t=s(e);-1!==(a.allowedTags||[]).indexOf(t)&&!1===n.ignoring?(l("</"),l(t),l(">")):d(t)},chars:function(e){!1===n.ignoring&&l(a.transformText?a.transformText(e):e)}};function l(t){e.push(t)}function c(e){o.voids[e]||(!1===n.ignoring?n={ignoring:e,depth:1}:n.ignoring===e&&n.depth++)}function d(e){n.ignoring===e&&--n.depth<=0&&h()}function h(){n={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,n){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},r=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,o=/[&<>"']/g;function a(e){return i[e]}function l(e){return s[e]}function c(e){return null==e?"":String(e).replace(o,a)}function d(e){return null==e?"":String(e).replace(r,l)}c.options=d.options={},t.exports={encode:c,escape:c,decode:d,unescape:d,version:"1.0.0-browser"}},{}],10:[function(e,t,n){function i(e,t){return e[t]=!0,e}t.exports=function(e){return e.reduce(i,{})}},{}]},{},[4]);var $se,Kse=jse;const qse=null===($se=window.trustedTypes)||void 0===$se?void 0:$se.createPolicy("insane",{createHTML:(e,t)=>Kse(e,t)});function Gse(e,t={},n={}){var i;const s=H9(t),r=function(t){let n;try{n=iA(decodeURIComponent(t))}catch(i){}return n?(n=RA(n,(t=>e.uris&&e.uris[t]?P.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(n))):t},o=function(t,n){const i=e.uris&&e.uris[t];if(!i)return t;let s=P.revive(i);return P.parse(t).toString()===s.toString()?t:n?LO.asBrowserUri(s).toString(!0):(s.query&&(s=s.with({query:r(s.query)})),s.toString())};let a;const l=new Promise((e=>a=e)),c=new zse.exports.Renderer;c.image=(e,n,i)=>{let s=[],r=[];if(e){({href:e,dimensions:s}=function(e){const t=[],n=e.split("|").map((e=>e.trim()));e=n[0];const i=n[1];if(i){const e=/height=(\d+)/.exec(i),n=/width=(\d+)/.exec(i),s=e?e[1]:"",r=n?n[1]:"",o=isFinite(parseInt(r)),a=isFinite(parseInt(s));o&&t.push(`width="${r}"`),a&&t.push(`height="${s}"`)}return{href:e,dimensions:t}}(e)),e=o(e,!0);try{const n=P.parse(e);t.baseUrl&&n.scheme===EO.file&&(e=gA(t.baseUrl,e).toString())}catch(a){}r.push(`src="${e}"`)}return i&&r.push(`alt="${i}"`),n&&r.push(`title="${n}"`),s.length&&(r=r.concat(s)),"<img "+r.join(" ")+">"},c.link=(n,i,s)=>{if(n===s&&(s=Jte(s)),n=o(n,!1),t.baseUrl){/^\w[\w\d+.-]*:/.test(n)||(n=gA(t.baseUrl,n).toString())}return i=Jte(i),!(n=Jte(n))||n.match(/^data:|javascript:/i)||n.match(/^command:/i)&&!e.isTrusted||n.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?s:`<a href="#" data-href="${n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${i||n}">${s}</a>`},c.paragraph=t=>{if(e.supportThemeIcons){t=f9(t).map((e=>"string"==typeof e?e:e.outerHTML)).join("")}return`<p>${t}</p>`},t.codeBlockRenderer&&(c.code=(e,n)=>{const i=t.codeBlockRenderer(n,e),r=x9.nextId(),o=Promise.all([i,l]).then((e=>{const t=s.querySelector(`div[data-code="${r}"]`);t&&CR(t,e[0])})).catch((e=>{}));return t.asyncRenderCallback&&o.then(t.asyncRenderCallback),`<div class="code" data-code="${r}">${bt(e)}</div>`}),t.actionHandler&&t.actionHandler.disposeables.add(k.any(ZP(s,"click"),ZP(s,"auxclick"))((e=>{const n=new lO(e);if(!n.leftButton&&!n.middleButton)return;let i=n.target;if("A"===i.tagName||(i=i.parentElement,i&&"A"===i.tagName))try{const e=i.dataset.href;e&&t.actionHandler.callback(e,n)}catch(s){V(s)}finally{n.preventDefault()}}))),n.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",n.sanitize=!0,n.silent=!0,n.renderer=c;let d=null!==(i=e.value)&&void 0!==i?i:"";d.length>1e5&&(d=`${d.substr(0,1e5)}`),e.supportThemeIcons&&(d=d.replace(Z3,(e=>`\\${e}`)));const h=zse.exports.parse(d,n);if(s.innerHTML=function(e,t){var n;const i=function(e){const t=[EO.http,EO.https,EO.mailto,EO.data,EO.file,EO.vscodeRemote,EO.vscodeRemoteResource];e.isTrusted&&t.push(EO.command);return{allowedSchemes:t,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:t=>"span"!==t.tag||!e.isTrusted||(t.attrs.style&&1===Object.keys(t.attrs).length?!!t.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!!t.attrs.class&&!!t.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/))}}(e);return null!==(n=null==qse?void 0:qse.createHTML(t,i))&&void 0!==n?n:Kse(t,i)}(e,h),a(),t.asyncRenderCallback)for(const u of s.getElementsByTagName("img")){const e=RO(u,"load",(()=>{e.dispose(),t.asyncRenderCallback()}))}return s}var Yse,Zse=function(e,t){return function(n,i){t(n,i,e)}},Xse=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let Jse=class e{constructor(e,t,n){this._options=e,this._modeService=t,this._openerService=n,this._onDidRenderAsync=new x,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){const i=new B;let s;return s=e?Gse(e,Object.assign(Object.assign({},this._getRenderOptions(e,i)),t),n):document.createElement("span"),{element:s,dispose:()=>i.dispose()}}_getRenderOptions(t,n){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(t,n)=>Xse(this,void 0,void 0,(function*(){var i,s,r,o;let a;t?a=this._modeService.getModeIdForLanguageName(t):this._options.editor&&(a=null===(i=this._options.editor.getModel())||void 0===i?void 0:i.getLanguageIdentifier().language),a||(a="plaintext"),this._modeService.triggerMode(a);const l=null!==(s=yield fF.getPromise(a))&&void 0!==s?s:void 0,c=document.createElement("span");c.innerHTML=null!==(o=null===(r=e._ttpTokenizer)||void 0===r?void 0:r.createHTML(n,l))&&void 0!==o?o:oQ(n,l);let d=this._options.codeBlockFontFamily;return this._options.editor&&(d=this._options.editor.getOption(40).fontFamily),d&&(c.style.fontFamily=d),c})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>this._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(V),disposeables:n}}}};function Qse(e,t,n){const i=YM.ordered(e).map((i=>Promise.resolve(i.provideHover(e,t,n)).then((e=>e&&function(e){const t=void 0!==e.range,n=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&n}(e)?e:void 0),(e=>{xt(e)}))));return Promise.all(i).then(bB)}Jse._ttpTokenizer=null===(Yse=window.trustedTypes)||void 0===Yse?void 0:Yse.createPolicy("tokenizeToString",{createHTML:(e,t)=>oQ(e,t)}),Jse=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Zse(1,wF),Zse(2,CA)],Jse),$U("_executeHoverProvider",((e,t)=>Qse(e,t,ne.None)));var ere=function(e,t){return function(n,i){t(n,i,e)}},tre=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const nre=LR;class ire{constructor(e,t){this.range=e,this.contents=t}equals(e){return e instanceof ire&&(t=this.contents,n=e.contents,!t&&!n||!(!t||!n)&&(Array.isArray(t)&&Array.isArray(n)?gB(t,n,Xte):!(!Zte(t)||!Zte(n))&&Xte(t,n)));var t,n}}let sre=class{constructor(e,t,n,i){this._editor=e,this._hover=t,this._modeService=n,this._openerService=i}createLoadingMessage(e){return new ire(e,[(new Gte).appendText(JI(0,"Loading..."))])}computeSync(e,t){if(!this._editor.hasModel())return[];const n=this._editor.getModel(),i=e.startLineNumber,s=n.getLineMaxColumn(i),r=[];for(const o of t){const t=o.range.startLineNumber===i?o.range.startColumn:1,n=o.range.endLineNumber===i?o.range.endColumn:s,a=o.options.hoverMessage;if(!a||Yte(a))continue;const l=new oe(e.startLineNumber,t,e.startLineNumber,n);r.push(new ire(l,NB(a)))}return r}computeAsync(e,t){return tre(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!e)return Promise.resolve([]);const n=this._editor.getModel();if(!YM.has(n))return Promise.resolve([]);const i=yield Qse(n,new je(e.startLineNumber,e.startColumn),t),s=[];for(const t of i){if(Yte(t.contents))continue;const n=t.range?oe.lift(t.range):e;s.push(new ire(n,t.contents))}return s}))}renderHoverParts(e,t){const n=new B;for(const i of e)for(const e of i.contents){if(Yte(e))continue;const i=nre("div.hover-row.markdown-hover"),s=wR(i,nre("div.hover-contents")),r=n.add(new Jse({editor:this._editor},this._modeService,this._openerService));n.add(r.onDidRenderAsync((()=>{s.className="hover-contents code-hover-contents",this._hover.onContentsChanged()})));const o=n.add(r.render(e));s.appendChild(o.element),t.appendChild(i)}return n}};sre=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([ere(2,wF),ere(3,CA)],sre);var rre=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class ore{constructor(e,t,n){this.range=e,this.color=t,this.provider=n}equals(e){return!1}}class are{constructor(e,t){this.owner=e,this.data=t}}class lre{constructor(e,t,n){this._markerHoverParticipant=t,this._markdownHoverParticipant=n,this._editor=e,this._result=[],this._range=null}setRange(e){this._range=e,this._result=[]}clearResult(){this._result=[]}computeAsync(e){return rre(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);return(yield this._markdownHoverParticipant.computeAsync(this._range,e)).map((e=>new are(this._markdownHoverParticipant,e)))}))}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const e=this._editor.getModel(),t=this._range,n=t.startLineNumber;if(n>this._editor.getModel().getLineCount())return[];const i=e.getLineMaxColumn(n),s=this._editor.getLineDecorations(n).filter((e=>{if(e.options.isWholeLine)return!0;const s=e.range.startLineNumber===n?e.range.startColumn:1,r=e.range.endLineNumber===n?e.range.endColumn:i;return!(s>t.startColumn||t.endColumn>r)}));let r=[];const o=fie.get(this._editor);for(const c of s){const e=o.getColorData(c.range.getStartPosition());if(e){const{color:t,range:n}=e.colorInfo;r.push(new are(null,new ore(oe.lift(n),t,e.provider)));break}}const a=this._markdownHoverParticipant.computeSync(this._range,s);r=r.concat(a.map((e=>new are(this._markdownHoverParticipant,e))));const l=this._markerHoverParticipant.computeSync(this._range,s);return r=r.concat(l.map((e=>new are(this._markerHoverParticipant,e)))),bB(r)}onResult(e,t){this._result=t?e.concat(this._result):this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){const e=new are(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([e])}return this._result.slice(0)}}class cre extends aX{constructor(e,t,n,i){super(),this._hoverVisibleKey=t,this._themeService=i,this.allowEditorOverflow=!0,this._markerHoverParticipant=n.createInstance(Use,e,this),this._markdownHoverParticipant=n.createInstance(sre,e,this),this._hover=this._register(new Die),this._id=cre.ID,this._editor=e,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,(e=>{e.equals(9)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(40)&&this._updateFont()}))),this._editor.onDidLayoutChange((()=>this.layout())),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new lre(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new kie(this._computer,(e=>this._withResult(e,!0)),null,(e=>this._withResult(e,!1)),this._editor.getOption(50).delay),this._register(MO(this.getDomNode(),_R.FOCUS,(()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")}))),this._register(MO(this.getDomNode(),_R.BLUR,(()=>{this.getDomNode().classList.remove("colorpicker-hover")}))),this._register(e.onDidChangeConfiguration((()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)}))),this._register(fF.onDidChange((()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map((e=>{var t,n;if(e.data instanceof ore&&(null===(t=this._lastRange)||void 0===t?void 0:t.intersectRanges(e.data.range))&&(null===(n=this._colorPicker)||void 0===n?void 0:n.model.color)){const t=this._colorPicker.model.color,n={red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a};return new are(e.owner,new ore(e.data.range,n,e.data.provider))}return e})),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))})))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(e,t,n){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${n}px`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(e,t,n){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===e.startLineNumber){let t=[];for(let n=0,i=this._messages.length;n<i;n++){const i=this._messages[n],s=i.data.range;s&&s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn&&t.push(i)}if(t.length>0){if(function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].data.equals(t[n].data))return!1;return!0}(t,this._messages))return;this._renderMessages(e,t)}else this.hide()}else this.hide();this._lastRange=e,this._computer.setRange(e),this._shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout((()=>{this._isVisible||this._hoverVisibleKey.set(!1)}),0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()}_renderMessages(e,t){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let n=1073741824,i=t[0].data.range?oe.lift(t[0].data.range):null,s=document.createDocumentFragment(),r=!1;const o=new B,a=[],l=[];t.forEach((e=>{const t=e.data;if(t.range)if(n=Math.min(n,t.range.startColumn),i=i?oe.plusRange(i,t.range):oe.lift(t.range),t instanceof ore){r=!0;const{red:e,green:n,blue:i,alpha:a}=t.color,l=new R$(Math.round(255*e),Math.round(255*n),Math.round(255*i),a),c=new F$(l);if(!this._editor.hasModel())return;const d=this._editor.getModel();let h=new oe(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn),u={range:t.range,color:t.color};const p=new mie(c,[],0),g=new xie(s,p,this._editor.getOption(125),this._themeService);pie(d,u,t.provider,ne.None).then((e=>{if(p.colorPresentations=e||[],!this._editor.hasModel())return;const n=this._editor.getModel().getValueInRange(t.range);p.guessColorPresentation(c,n);const i=()=>{let e,t;if(p.presentation.textEdit){e=[p.presentation.textEdit],t=new oe(p.presentation.textEdit.range.startLineNumber,p.presentation.textEdit.range.startColumn,p.presentation.textEdit.range.endLineNumber,p.presentation.textEdit.range.endColumn);const n=this._editor.getModel()._setTrackedRange(null,t,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e),t=this._editor.getModel()._getTrackedRange(n)||t}else e=[{identifier:null,range:h,text:p.presentation.label,forceMoveMarkers:!1}],t=h.setEndPosition(h.endLineNumber,h.startColumn+p.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e);p.presentation.additionalTextEdits&&(e=[...p.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",e),this.hide()),this._editor.pushUndoStop(),h=t},r=e=>pie(d,{range:h,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},t.provider,ne.None).then((e=>{p.colorPresentations=e||[]})),a=p.onColorFlushed((e=>{r(e).then(i)})),l=p.onDidChangeColor(r);this._colorPicker=g,this.showAt(h.getStartPosition(),h,this._shouldFocus),this._updateContents(s),this._colorPicker.layout(),this._renderDisposable=Pt(a,l,g,o)}))}else t instanceof Wse?a.push(t):t instanceof ire&&l.push(t)})),l.length>0&&o.add(this._markdownHoverParticipant.renderHoverParts(l,s)),a.length&&o.add(this._markerHoverParticipant.renderHoverParts(a,s)),this._renderDisposable=o,!r&&s.hasChildNodes()&&(this.showAt(new je(e.startLineNumber,n),i,this._shouldFocus),this._updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,i?[{range:i,options:cre._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}}cre.ID="editor.contrib.modesContentHoverWidget",cre._DECORATION_OPTIONS=Q$.register({className:"hoverHighlight"}),LU(((e,t)=>{const n=e.getColor(XK);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)}));class dre extends aX{constructor(e,t){super(),this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(40)&&this.updateFont()}))),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);const t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),s=this._editor.getOption(55),r=n-i-(this._domNode.clientHeight-s)/2;this._domNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(r),0)}px`}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){[...Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),...Array.prototype.slice.call(this._domNode.getElementsByClassName("code"))].forEach((e=>this._editor.applyFontInfo(e)))}updateContents(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()}}class hre{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const i of t){if(!i.options.glyphMarginClassName)continue;const t=i.options.glyphMarginHoverMessage;t&&!Yte(t)&&n.push(...NB(t).map(e))}return n}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class ure extends dre{constructor(e,t,n=SA){super(ure.ID,e),this._renderDisposeables=this._register(new B),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new Jse({editor:this._editor},t,n)),this._computer=new hre(this._editor),this._hoverOperation=new kie(this._computer,(e=>this._withResult(e)),void 0,(e=>this._withResult(e)),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(const i of t){const e=this._markdownRenderer.render(i.value);this._renderDisposeables.add(e),n.appendChild(LR("div.hover-row",void 0,e.element))}this.updateContents(n),this.showAt(e)}}ure.ID="editor.contrib.modesGlyphHoverWidget";var pre=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class gre{constructor(e,t,n,i){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=i,this.id=x9.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?JI(0,"symbol in {0} on line {1} at column {2}, {3}",dA(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):JI(0,"symbol in {0} on line {1} at column {2}",dA(this.uri),this.range.startLineNumber,this.range.startColumn)}}class fre{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:i,startColumn:s,endLineNumber:r,endColumn:o}=e,a=n.getWordUntilPosition({lineNumber:i,column:s-t}),l=new oe(i,a.startColumn,i,s),c=new oe(r,o,r,1073741824),d=n.getValueInRange(l).replace(/^\s+/,""),h=n.getValueInRange(e);return{value:d+h+n.getValueInRange(c).replace(/\s+$/,""),highlight:{start:d.length,end:d.length+h.length}}}}class mre{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new jR}dispose(){De(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?JI(0,"1 symbol in {0}, full path {1}",dA(this.uri),this.uri.fsPath):JI(0,"{0} symbols in {1}, full path {2}",e,dA(this.uri),this.uri.fsPath)}resolve(e){return pre(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const t=yield e.createModelReference(n.uri);this._previews.set(n.uri,new fre(t))}catch(t){V(t)}return this}))}}class _re{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new x,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;let i;e.sort(_re._compareReferences);for(let s of e)if(i&&aA.isEqual(i.uri,s.uri,!0)||(i=new mre(this,s.uri),this.groups.push(i)),0===i.children.length||0!==_re._compareReferences(s,i.children[i.children.length-1])){const e=new gre(n===s,i,s,(e=>this._onDidChangeReferenceRange.fire(e)));this.references.push(e),i.children.push(e)}}dispose(){De(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new _re(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?JI(0,"No results found"):1===this.references.length?JI(0,"Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?JI(0,"Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):JI(0,"Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:n}=e,i=n.children.indexOf(e),s=n.children.length,r=n.parent.groups.length;return 1===r||t&&i+1<s||!t&&i>0?(i=t?(i+1)%s:(i+s-1)%s,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%r,n.parent.groups[i].children[0]):(i=(i+r-1)%r,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))}nearestReference(e,t){const n=this.references.map(((n,i)=>({idx:i,prefixLen:ct(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}))).sort(((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0))[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&oe.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return aA.compare(e.uri,t.uri)||oe.compareRangesUsingStarts(e.range,t.range)}}var vre=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function bre(e,t,n,i){const s=n.ordered(e).map((n=>Promise.resolve(i(n,e,t)).then(void 0,(e=>{xt(e)}))));return Promise.all(s).then((e=>{const t=[];for(let n of e)Array.isArray(n)?t.push(...n):n&&t.push(n);return t}))}function yre(e,t,n){return bre(e,t,QM,((e,t,i)=>e.provideDefinition(t,i,n)))}function wre(e,t,n){return bre(e,t,eF,((e,t,i)=>e.provideDeclaration(t,i,n)))}function Cre(e,t,n){return bre(e,t,tF,((e,t,i)=>e.provideImplementation(t,i,n)))}function Sre(e,t,n){return bre(e,t,nF,((e,t,i)=>e.provideTypeDefinition(t,i,n)))}function xre(e,t,n,i){return bre(e,t,$M,((e,t,s)=>vre(this,void 0,void 0,(function*(){const r=yield e.provideReferences(t,s,{includeDeclaration:!0},i);if(!n||!r||2!==r.length)return r;const o=yield e.provideReferences(t,s,{includeDeclaration:!1},i);return o&&1===o.length?o:r}))))}function kre(e){return vre(this,void 0,void 0,(function*(){const t=yield e(),n=new _re(t,""),i=n.references.map((e=>e.link));return n.dispose(),i}))}$U("_executeDefinitionProvider",((e,t)=>kre((()=>yre(e,t,ne.None))))),$U("_executeDeclarationProvider",((e,t)=>kre((()=>wre(e,t,ne.None))))),$U("_executeImplementationProvider",((e,t)=>kre((()=>Cre(e,t,ne.None))))),$U("_executeTypeDefinitionProvider",((e,t)=>kre((()=>Sre(e,t,ne.None))))),$U("_executeReferenceProvider",((e,t)=>kre((()=>xre(e,t,!1,ne.None)))));var Ere=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Dre=function(e,t){return function(n,i){t(n,i,e)}};let Tre=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof _re||e instanceof mre}getChildren(e){if(e instanceof _re)return e.groups;if(e instanceof mre)return e.resolve(this._resolverService).then((e=>e.children));throw new Error("bad tree")}};Tre=Ere([Dre(0,CF)],Tre);class Lre{getHeight(){return 23}getTemplateId(e){return e instanceof mre?Ore.id:Are.id}}let Nre=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof gre){const n=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(n)return n.value}return dA(e.uri)}};Nre=Ere([Dre(0,w1)],Nre);class Ire{getId(e){return e instanceof gre?e.id:e.uri}}let Pre=class extends F{constructor(e,t,n){super(),this._uriLabel=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new y9(i,{supportHighlights:!0})),this.badge=new t7(wR(i,LR(".count"))),this._register(function(e,t,n){return p4(t,{badgeBackground:(null==n?void 0:n.badgeBackground)||yq,badgeForeground:(null==n?void 0:n.badgeForeground)||wq,badgeBorder:YK},e)}(this.badge,n)),e.appendChild(i)}set(e,t){let n=hA(e.uri);this.file.setLabel(Tie(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const i=e.children.length;this.badge.setCount(i),i>1?this.badge.setTitleFormat(JI(0,"{0} references",i)):this.badge.setTitleFormat(JI(0,"{0} reference",i))}};Pre=Ere([Dre(1,T4),Dre(2,CU)],Pre);let Ore=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(Pre,e)}renderElement(e,t,n){n.set(e.element,I3(e.filterData))}disposeTemplate(e){e.dispose()}};Ore.id="FileReferencesRenderer",Ore=Ere([Dre(0,PP)],Ore);class Rre{constructor(e){this.label=new _9(e,!1)}set(e,t){var n;const i=null===(n=e.parent.getPreview(e))||void 0===n?void 0:n.preview(e.range);if(i&&i.value){const{value:e,highlight:n}=i;t&&!U3.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,I3(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[n]))}else this.label.set(`${dA(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class Are{constructor(){this.templateId=Are.id}renderTemplate(e){return new Rre(e)}renderElement(e,t,n){n.set(e.element,e.filterData)}disposeTemplate(){}}Are.id="OneReferenceRenderer";class Mre{getWidgetAriaLabel(){return JI(0,"References")}getAriaLabel(e){return e.ariaMessage}}var Fre=function(e,t){return function(n,i){t(n,i,e)}},Bre=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Vre{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new B,this._callOnModelChange=new B,this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const t=[],n=[];for(let s=0,r=e.children.length;s<r;s++){let i=e.children[s];this._decorationIgnoreSet.has(i.id)||i.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:i.range,options:Vre.DecorationOptions}),n.push(s))}const i=this._editor.deltaDecorations([],t);for(let s=0;s<i.length;s++)this._decorations.set(i[s],e.children[n[s]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[n,i]of this._decorations){const s=t.getDecorationRange(n);if(!s)continue;let r=!1;if(!oe.equalsRange(s,i.range)){if(oe.spansMultipleLines(s))r=!0;else{i.range.endColumn-i.range.startColumn!==s.endColumn-s.startColumn&&(r=!0)}r?(this._decorationIgnoreSet.add(i.id),e.push(n)):i.range=s}}for(let t=0,n=e.length;t<n;t++)this._decorations.delete(e[t]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Vre.DecorationOptions=Q$.register({stickiness:1,className:"reference-decoration"});class Wre extends g8{}let Hre=class extends Qie{constructor(e,t,n,i,s,r,o,a,l,c){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},r),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=s,this._instantiationService=r,this._peekViewService=o,this._uriLabel=a,this._undoRedoService=l,this._keybindingService=c,this._disposeOnNewModel=new B,this._callOnDispose=new B,this._onDidSelectReference=new x,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ZO(0,0),this._applyTheme(i.getColorTheme()),this._callOnDispose.add(i.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),De(this._preview),De(this._previewNotAvailableMessage),De(this._tree),De(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(ise)||F$.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(ese)||F$.transparent,primaryHeadingColor:e.getColor(tse),secondaryHeadingColor:e.getColor(nse)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=wR(e,LR("div.messages")),IR(this._messageContainer),this._splitView=new I6(e,{orientation:1}),this._previewContainer=wR(e,LR("div.preview.inline"));this._preview=this._instantiationService.createInstance(Iie,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),IR(this._previewContainer),this._previewNotAvailableMessage=new q$(JI(0,"no preview available"),q$.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=wR(e,LR("div.ref-tree.inline"));const t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Mre,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Nre),identityProvider:new Ire,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:sse}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(MO(this._treeContainer,"keydown",(e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(Wre,"ReferencesWidget",this._treeContainer,new Lre,[this._instantiationService.createInstance(Ore),this._instantiationService.createInstance(Are)],this._instantiationService.createInstance(Tre),t),this._splitView.addView({onDidChange:k.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},L6.Distribute),this._splitView.addView({onDidChange:k.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${e}px`,this._tree.layout(this._dim.height,e)}},L6.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));let n=(e,t)=>{e instanceof gre&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen((e=>{e.sideBySide?n(e.element,"side"):e.editorOptions.pinned?n(e.element,"goto"):n(e.element,"show")})),IR(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new ZO(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then((()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))}))}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=JI(0,"No results"),NR(this._messageContainer),Promise.resolve(void 0)):(IR(this._messageContainer),this._decorationsManager=new Vre(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e=>this._tree.rerender(e)))),this._disposeOnNewModel.add(this._preview.onMouseDown((e=>{const{event:t,target:n}=e;if(2!==t.detail)return;const i=this._getFocusedReference();i&&this._onDidSelectReference.fire({element:{uri:i.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),NR(this._treeContainer),NR(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof gre?e:e instanceof mre&&e.children.length>0?e.children[0]:void 0}revealReference(e){return Bre(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return Bre(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==EO.inMemory?this.setTitle(cA(e.uri),this._uriLabel.getUriLabel(hA(e.uri))):this.setTitle(JI(0,"References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const i=yield n;if(!this._model)return void i.dispose();De(this._previewModelReference);const s=i.object;if(s){const t=this._preview.getModel()===s.textEditorModel?0:1,n=oe.lift(e.range).collapseToStart();this._previewModelReference=i,this._preview.setModel(s.textEditorModel),this._preview.setSelection(n),this._preview.revealRangeInCenter(n,t)}else this._preview.setModel(this._previewNotAvailableMessage),i.dispose()}))}};Hre=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Fre(3,CU),Fre(4,CF),Fre(5,PP),Fre(6,Gie),Fre(7,T4),Fre(8,n2),Fre(9,w1)],Hre),LU(((e,t)=>{const n=e.getColor(hse);n&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${n}; }`);const i=e.getColor(use);i&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${i}; }`);const s=e.getColor(pse);s&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${s}; box-sizing: border-box; }`);const r=e.getColor(ZK);r&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${r}; box-sizing: border-box; }`);const o=e.getColor(sse);o&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${o}; }`);const a=e.getColor(rse);a&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${a}; }`);const l=e.getColor(ose);l&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${l}; }`);const c=e.getColor(ase);c&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${c}; }`);const d=e.getColor(lse);d&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${d} !important; }`);const h=e.getColor(cse);h&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${h};}`);const u=e.getColor(dse);u&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${u};}`)}));var Ure=function(e,t){return function(n,i){t(n,i,e)}},zre=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const jre=new mU("referenceSearchVisible",!1,JI(0,"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let $re=class e{constructor(e,t,n,i,s,r,o,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=i,this._notificationService=s,this._instantiationService=r,this._storageService=o,this._configurationService=a,this._disposables=new B,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=jre.bindTo(n)}static get(t){return t.getContribution(e.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let i;if(this._widget&&(i=this._widget.position),this.closeWidget(),i&&e.containsPosition(i))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const s="peekViewLayout",r=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const i=JSON.parse(e);t=i.ratio,n=i.heightInLines}catch(i){}return{ratio:t||.7,heightInLines:n||18}}}.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(Hre,this._editor,this._defaultTreeKeyboardSupport,r),this._widget.setTitle(JI(0,"Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((()=>{t.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((e=>{let{element:t,kind:i}=e;if(t)switch(i){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":n?this._gotoReference(t):this.openReference(t,!1,!0)}})));const o=++this._requestIdPool;t.then((t=>{var n;if(o===this._requestIdPool&&this._widget)return null===(n=this._model)||void 0===n||n.dispose(),this._model=t,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(JI(0,"{0} ({1})",this._model.title,this._model.references.length));let t=this._editor.getModel().uri,n=new je(e.startLineNumber,e.startColumn),i=this._model.nearestReference(t,n);if(i)return this._widget.setSelection(i).then((()=>{this._widget&&"editor"===this._editor.getOption(73)&&this._widget.focusOnPreviewEditor()}))}}));t.dispose()}),(e=>{this._notificationService.error(e)}))}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return zre(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const i=this._model.nextOrPreviousReference(n,e),s=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(i),yield this._gotoReference(i),s?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return zre(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t,n;null===(t=this._widget)||void 0===t||t.dispose(),null===(n=this._model)||void 0===n||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const n=oe.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:n}},this._editor).then((t=>{var i;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(n),this._widget.focusOnReferenceTree();else{const s=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),s.toggleWidget(n,hO((e=>Promise.resolve(r))),null!==(i=this._peekMode)&&void 0!==i&&i)}else this.closeWidget()}),(e=>{this._ignoreModelChangeEvent=!1,V(e)}))}openReference(e,t,n){t||this.closeWidget();const{uri:i,range:s}=e;this._editorService.openCodeEditor({resource:i,options:{selection:s,pinned:n}},this._editor,t)}};function Kre(e,t){const n=function(e){let t=e.get(MP).getFocusedCodeEditor();return t instanceof Iie?t.getParentEditor():t}(e);if(!n)return;let i=$re.get(n);i&&t(i)}$re.ID="editor.contrib.referencesController",$re=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Ure(2,_U),Ure(3,MP),Ure(4,JW),Ure(5,PP),Ure(6,I8),Ure(7,TW)],$re),UW.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:mn(2089,60),when:JH.or(jre,Yie.inPeekEditor),handler(e){Kre(e,(e=>{e.changeFocusBetweenPreviewAndReferences()}))}}),UW.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:JH.or(jre,Yie.inPeekEditor),handler(e){Kre(e,(e=>{e.goToNextOrPreviousReference(!0)}))}}),UW.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:JH.or(jre,Yie.inPeekEditor),handler(e){Kre(e,(e=>{e.goToNextOrPreviousReference(!1)}))}}),vA.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),vA.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),vA.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),vA.registerCommand("closeReferenceSearch",(e=>Kre(e,(e=>e.closeWidget())))),UW.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:JH.and(Yie.inPeekEditor,JH.not("config.editor.stablePeek"))}),UW.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:JH.and(jre,JH.not("config.editor.stablePeek"))}),UW.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:JH.and(jre,H6),handler(e){var t;const n=null===(t=e.get(F6).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof gre&&Kre(e,(e=>e.revealReference(n[0])))}}),UW.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:JH.and(jre,H6),handler(e){var t;const n=null===(t=e.get(F6).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof gre&&Kre(e,(e=>e.openReference(n[0],!0,!0)))}}),vA.registerCommand("openReference",(e=>{var t;const n=null===(t=e.get(F6).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof gre&&Kre(e,(e=>e.openReference(n[0],!1,!0)))}));var qre=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Gre=function(e,t){return function(n,i){t(n,i,e)}};const Yre=new mU("hasSymbols",!1,JI(0,"Whether there are symbol locations that can be navigated via keyboard-only.")),Zre=RP("ISymbolNavigationService");let Xre=class{constructor(e,t,n,i){this._editorService=t,this._notificationService=n,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Yre.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new Jre(this._editorService),i=n.onDidChange((e=>{if(this._ignoreEditorChange)return;const n=this._editorService.getActiveCodeEditor();if(!n)return;const i=n.getModel(),s=n.getPosition();if(!i||!s)return;let r=!1,o=!1;for(const a of t.references)if(lA(a.uri,i.uri))r=!0,o=o||oe.containsPosition(a.range,s);else if(r)break;r&&o||this.reset()}));this._currentState=Pt(n,i)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:oe.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?JI(0,"Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):JI(0,"Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};Xre=qre([Gre(0,_U),Gre(1,MP),Gre(2,JW),Gre(3,w1)],Xre),f0(Zre,Xre,!0),KU(new class extends UU{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Yre,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(Zre).revealNext(t)}}),UW.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Yre,primary:9,handler(e){e.get(Zre).reset()}});let Jre=class{constructor(e){this._listener=new Map,this._disposables=new B,this._onDidChange=new x,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),De(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Pt(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};Jre=qre([Gre(0,MP)],Jre);var Qre,eoe,toe,noe,ioe,soe,roe,ooe,aoe=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};AU.appendMenuItem(OU.EditorContext,{submenu:OU.EditorContextPeek,title:JI(0,"Peek"),group:"navigation",order:100});const loe=new Set;function coe(e){const t=new e;return YU(t),loe.add(t.id),t}class doe extends zU{constructor(e,t){super(t),this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const n=e.get(JW),i=e.get(MP),s=e.get(X0),r=e.get(Zre),o=t.getModel(),a=t.getPosition(),l=new y0(t,5),c=uO(this._getLocationModel(o,a,l.token),l.token).then((e=>aoe(this,void 0,void 0,(function*(){if(!e||l.token.isCancellationRequested)return;let n;if(VH(e.ariaMessage),e.referenceAt(o.uri,a)){const e=this._getAlternativeCommand(t);e!==this.id&&loe.has(e)&&(n=t.getAction(e))}const s=e.references.length;if(0===s){if(!this._configuration.muteMessage){const e=o.getWordAtPosition(a);Ene.get(t).showMessage(this._getNoResultFoundMessage(e),a)}}else{if(1!==s||!n)return this._onResult(i,r,t,e);n.run()}}))),(e=>{n.error(e)})).finally((()=>{l.dispose()}));return s.showWhile(c,250),c}_onResult(e,t,n,i){return aoe(this,void 0,void 0,(function*(){const s=this._getGoToPreference(n);if(n instanceof Iie||!(this._configuration.openInPeek||"peek"===s&&i.references.length>1)){const r=i.firstReference(),o=i.references.length>1&&"gotoAndPeek"===s,a=yield this._openReference(n,e,r,this._configuration.openToSide,!o);o&&a?this._openInPeek(a,i):i.dispose(),"goto"===s&&t.put(r)}else this._openInPeek(n,i)}))}_openReference(e,t,n,i,s){return aoe(this,void 0,void 0,(function*(){let r;var o;if((o=n)&&P.isUri(o.uri)&&oe.isIRange(o.range)&&(oe.isIRange(o.originSelectionRange)||oe.isIRange(o.targetSelectionRange))&&(r=n.targetSelectionRange),r||(r=n.range),!r)return;const a=yield t.openCodeEditor({resource:n.uri,options:{selection:oe.collapseToStart(r),selectionRevealType:3}},e,i);if(a){if(s){const e=a.getModel(),t=a.deltaDecorations([],[{range:r,options:{className:"symbolHighlight"}}]);setTimeout((()=>{a.getModel()===e&&a.deltaDecorations(t,[])}),350)}return a}}))}_openInPeek(e,t){let n=$re.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),hO((e=>Promise.resolve(t))),this._configuration.openInPeek):t.dispose()}}class hoe extends doe{_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(yield yre(e,t,n),JI(0,"Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?JI(0,"No definition found for '{0}'",e.word):JI(0,"No definition found")}_getAlternativeCommand(e){return e.getOption(47).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(47).multipleDefinitions}}const uoe=O&&!YP?2118:70;coe(((Qre=class e extends hoe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:JI(0,"Go to Definition"),alias:"Go to Definition",precondition:JH.and(EZ.hasDefinitionProvider,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:uoe,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:OU.MenubarGoMenu,group:"4_symbol_nav",order:2,title:JI(0,"Go to &&Definition")}}),vA.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",Qre)),coe(((eoe=class e extends hoe{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:JI(0,"Open Definition to the Side"),alias:"Open Definition to the Side",precondition:JH.and(EZ.hasDefinitionProvider,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,uoe),weight:100}}),vA.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",eoe)),coe(((toe=class e extends hoe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:JI(0,"Peek Definition"),alias:"Peek Definition",precondition:JH.and(EZ.hasDefinitionProvider,Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:OU.EditorContextPeek,group:"peek",order:2}}),vA.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",toe));class poe extends doe{_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(yield wre(e,t,n),JI(0,"Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?JI(0,"No declaration found for '{0}'",e.word):JI(0,"No declaration found")}_getAlternativeCommand(e){return e.getOption(47).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(47).multipleDeclarations}}coe(((noe=class e extends poe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:JI(0,"Go to Declaration"),alias:"Go to Declaration",precondition:JH.and(EZ.hasDeclarationProvider,EZ.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:OU.MenubarGoMenu,group:"4_symbol_nav",order:3,title:JI(0,"Go to &&Declaration")}})}_getNoResultFoundMessage(e){return e&&e.word?JI(0,"No declaration found for '{0}'",e.word):JI(0,"No declaration found")}}).id="editor.action.revealDeclaration",noe)),coe(class extends poe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:JI(0,"Peek Declaration"),alias:"Peek Declaration",precondition:JH.and(EZ.hasDeclarationProvider,Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:OU.EditorContextPeek,group:"peek",order:3}})}});class goe extends doe{_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(yield Sre(e,t,n),JI(0,"Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?JI(0,"No type definition found for '{0}'",e.word):JI(0,"No type definition found")}_getAlternativeCommand(e){return e.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(47).multipleTypeDefinitions}}coe(((ioe=class e extends goe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:JI(0,"Go to Type Definition"),alias:"Go to Type Definition",precondition:JH.and(EZ.hasTypeDefinitionProvider,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:OU.MenubarGoMenu,group:"4_symbol_nav",order:3,title:JI(0,"Go to &&Type Definition")}})}}).ID="editor.action.goToTypeDefinition",ioe)),coe(((soe=class e extends goe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:JI(0,"Peek Type Definition"),alias:"Peek Type Definition",precondition:JH.and(EZ.hasTypeDefinitionProvider,Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:OU.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",soe));class foe extends doe{_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(yield Cre(e,t,n),JI(0,"Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?JI(0,"No implementation found for '{0}'",e.word):JI(0,"No implementation found")}_getAlternativeCommand(e){return e.getOption(47).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(47).multipleImplementations}}coe(((roe=class e extends foe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:JI(0,"Go to Implementations"),alias:"Go to Implementations",precondition:JH.and(EZ.hasImplementationProvider,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:OU.MenubarGoMenu,group:"4_symbol_nav",order:4,title:JI(0,"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",roe)),coe(((ooe=class e extends foe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:JI(0,"Peek Implementations"),alias:"Peek Implementations",precondition:JH.and(EZ.hasImplementationProvider,Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:OU.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",ooe));class moe extends doe{_getNoResultFoundMessage(e){return e?JI(0,"No references found for '{0}'",e.word):JI(0,"No references found")}_getAlternativeCommand(e){return e.getOption(47).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(47).multipleReferences}}coe(class extends moe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:JI(0,"Go to References"),alias:"Go to References",precondition:JH.and(EZ.hasReferenceProvider,Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:EZ.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:OU.MenubarGoMenu,group:"4_symbol_nav",order:5,title:JI(0,"Go to &&References")}})}_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(yield xre(e,t,!0,n),JI(0,"References"))}))}}),coe(class extends moe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:JI(0,"Peek References"),alias:"Peek References",precondition:JH.and(EZ.hasReferenceProvider,Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:OU.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(yield xre(e,t,!1,n),JI(0,"References"))}))}});class _oe extends doe{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:JI(0,"Go To Any Symbol"),alias:"Go To Any Symbol",precondition:JH.and(Yie.notInPeekEditor,EZ.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}_getLocationModel(e,t,n){return aoe(this,void 0,void 0,(function*(){return new _re(this._references,JI(0,"Locations"))}))}_getNoResultFoundMessage(e){return e&&JI(0,"No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(47).multipleReferences}_getAlternativeCommand(){return""}}function voe(e,t){return!!e[t]}vA.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:P},{name:"position",description:"The position at which to start",constraint:je.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,n,i,s,r,o)=>aoe(void 0,void 0,void 0,(function*(){Ye(P.isUri(t)),Ye(je.isIPosition(n)),Ye(Array.isArray(i)),Ye(void 0===s||"string"==typeof s),Ye(void 0===o||"boolean"==typeof o);const a=e.get(MP),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(zV(l))return l.setPosition(n),l.revealPositionInCenterIfOutsideViewport(n,0),l.invokeWithinContext((e=>{const t=new class extends _oe{_getNoResultFoundMessage(e){return r||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(r),openInPeek:Boolean(o),openToSide:!1},i,s);e.get(PP).invokeFunction(t.run.bind(t),l)}))}))}),vA.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:P},{name:"position",description:"The position at which to start",constraint:je.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,n,i,s)=>aoe(void 0,void 0,void 0,(function*(){e.get(_A).executeCommand("editor.action.goToLocations",t,n,i,s,void 0,!0)}))}),vA.registerCommand({id:"editor.action.findReferences",handler:(e,t,n)=>{Ye(P.isUri(t)),Ye(je.isIPosition(n));const i=e.get(MP);return i.openCodeEditor({resource:t},i.getFocusedCodeEditor()).then((e=>{if(!zV(e)||!e.hasModel())return;const t=$re.get(e);if(!t)return;const i=hO((t=>xre(e.getModel(),je.lift(n),!1,t).then((e=>new _re(e,JI(0,"References")))))),s=new oe(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(s,i,!1))}))}}),vA.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");class boe{constructor(e,t){this.target=e.target,this.hasTriggerModifier=voe(e.event,t.triggerModifier),this.hasSideBySideModifier=voe(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class yoe{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=voe(e,t.triggerModifier)}}class woe{constructor(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Coe(e){return"altKey"===e?S?new woe(57,"metaKey",6,"altKey"):new woe(5,"ctrlKey",6,"altKey"):S?new woe(6,"altKey",57,"metaKey"):new woe(6,"altKey",5,"ctrlKey")}class Soe extends F{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new x),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new x),this.onExecute=this._onExecute.event,this._onCancel=this._register(new x),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Coe(this._editor.getOption(66)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(66)){const e=Coe(this._editor.getOption(66));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new boe(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new boe(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new boe(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new yoe(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new yoe(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var xoe=function(e,t){return function(n,i){t(n,i,e)}};let koe=class e{constructor(e,t,n){this.textModelResolverService=t,this.modeService=n,this.toUnhook=new B,this.toUnhookForKeyboard=new B,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let i=new Soe(e);this.toUnhook.add(i),this.toUnhook.add(i.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,Ge(t))}))),this.toUnhook.add(i.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((()=>{this.removeLinkDecorations()}),(e=>{this.removeLinkDecorations(),V(e)}))}))),this.toUnhook.add(i.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then((()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const n=e.target.position;this.startFindDefinition(n)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let i=new b0(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=hO((t=>this.findDefinition(e,t))),this.previousPromise.then((t=>{if(t&&t.length&&i.validate(this.editor))if(t.length>1)this.addDecoration(new oe(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),(new Gte).appendText(JI(0,"Click to show {0} definitions.",t.length)));else{let i=t[0];if(!i.uri)return;this.textModelResolverService.createModelReference(i.uri).then((t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:s}}=t,{startLineNumber:r}=i.range;if(r<1||r>s.getLineCount())return void t.dispose();const o=this.getPreviewValue(s,r,i);let a;a=i.originSelectionRange?oe.lift(i.originSelectionRange):new oe(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const l=this.modeService.getModeIdByFilepathOrFirstLine(s.uri);this.addDecoration(a,(new Gte).appendCodeblock(l||"",o)),t.dispose()}))}else this.removeLinkDecorations()})).then(void 0,V)}getPreviewValue(t,n,i){let s=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(t,n);s.endLineNumber-s.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(s=this.getPreviewRangeBasedOnIndentation(t,n));return this.stripIndentationFromPreviewRange(t,n,s)}stripIndentationFromPreviewRange(e,t,n){let i=e.getLineFirstNonWhitespaceColumn(t);for(let s=t+1;s<n.endLineNumber;s++){const t=e.getLineFirstNonWhitespaceColumn(s);i=Math.min(i,t)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${i-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,n){const i=t.getLineFirstNonWhitespaceColumn(n),s=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES);let r=n+1;for(;r<s;r++){if(i===t.getLineFirstNonWhitespaceColumn(r))break}return new oe(n,1,r+1,1)}getPreviewRangeBasedOnBrackets(t,n){const i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),s=[];let r=!0,o=t.findNextBracket(new je(n,1));for(;null!==o;){if(0===s.length)s.push(o);else{const e=s[s.length-1];if(e.open[0]===o.open[0]&&e.isOpen&&!o.isOpen?s.pop():s.push(o),0===s.length){if(!r)return new oe(n,1,o.range.endLineNumber+1,1);r=!1}}const e=t.getLineMaxColumn(n);let a=o.range.endLineNumber,l=o.range.endColumn;if(e===o.range.endColumn&&(a++,l=1),a>i)return new oe(n,1,i+1,1);o=t.findNextBracket(new je(a,l))}return new oe(n,1,i+1,1)}addDecoration(e,t){const n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&QM.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?yre(n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const n=!t&&this.editor.getOption(74)&&!this.isInPeekEditor(e);return new hoe({openToSide:t,openInPeek:n,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)}))}isInPeekEditor(e){const t=e.get(_U);return Yie.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};koe.ID="editor.contrib.gotodefinitionatposition",koe.MAX_SOURCE_PREVIEW_LINES=8,koe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([xoe(1,CF),xoe(2,wF)],koe),ZU(koe.ID,koe),LU(((e,t)=>{const n=e.getColor(fG);n&&t.addRule(`.monaco-editor .goto-definition-link { color: ${n} !important; }`)}));var Eoe=function(e,t){return function(n,i){t(n,i,e)}};let Doe=class e{constructor(e,t,n,i,s,r){this._editor=e,this._instantiationService=t,this._openerService=n,this._modeService=i,this._themeService=s,this._toUnhook=new B,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())})),this._hoverVisibleKey=EZ.hoverVisible.bindTo(r)}static get(t){return t.getContribution(e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(50);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged())))):(this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e,t;null===(e=this._contentWidget)||void 0===e||e.onModelDecorationsChanged(),null===(t=this._glyphWidget)||void 0===t||t.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target.type;9!==t||e.target.detail!==cre.ID?12===t&&e.target.detail===ure.ID||(12!==t&&e.target.detail!==ure.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,n,i,s,r,o;let a=e.target.type;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==a||e.target.detail!==cre.ID)&&(!this._isHoverSticky||(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed))&&(this._isHoverSticky||9!==a||e.target.detail!==cre.ID||!(null===(i=this._contentWidget)||void 0===i?void 0:i.isColorPickerVisible()))&&(!this._isHoverSticky||12!==a||e.target.detail!==ure.ID)){if(7===a){const t=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,n=e.target.detail;n&&!n.isAfterLines&&"number"==typeof n.horizontalDistanceToText&&n.horizontalDistanceToText<t&&(a=6)}if(6===a){if(null===(s=this._glyphWidget)||void 0===s||s.hide(),this._isHoverEnabled&&e.target.range){const t=[...(null===(r=e.target.element)||void 0===r?void 0:r.classList.values())||[]].find((e=>e.startsWith("ced-colorBox")))&&e.target.range.endColumn-e.target.range.startColumn==1?new oe(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;this._contentWidget||(this._contentWidget=new cre(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(t,0,!1)}}else 2===a?(null===(o=this._contentWidget)||void 0===o||o.hide(),this._isHoverEnabled&&e.target.position&&(this._glyphWidget||(this._glyphWidget=new ure(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(e.target.position.lineNumber))):this._hideWidgets()}}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._contentWidget||(this._contentWidget=new cre(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};Doe.ID="editor.contrib.hover",Doe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Eoe(1,PP),Eoe(2,CA),Eoe(3,wF),Eoe(4,CU),Eoe(5,_U)],Doe);ZU(Doe.ID,Doe),qU(class extends zU{constructor(){super({id:"editor.action.showHover",label:JI(0,"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let n=Doe.get(t);if(!n)return;const i=t.getPosition(),s=new oe(i.lineNumber,i.column,i.lineNumber,i.column),r=2===t.getOption(2);n.showContentHover(s,1,r)}}),qU(class extends zU{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:JI(0,"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let n=Doe.get(t);if(!n)return;const i=t.getPosition();if(!i)return;const s=new oe(i.lineNumber,i.column,i.lineNumber,i.column);koe.get(t).startFindDefinitionFromCursor(i).then((()=>{n.showContentHover(s,1,!0)}))}}),LU(((e,t)=>{const n=e.getColor(dG);n&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${n}; }`);const i=e.getColor(hG);i&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);const s=e.getColor(pG);s&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${s}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${s.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${s.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${s.transparent(.5)}; }`));const r=e.getColor(XK);r&&t.addRule(`.monaco-editor .monaco-hover a { color: ${r}; }`);const o=e.getColor(uG);o&&t.addRule(`.monaco-editor .monaco-hover { color: ${o}; }`);const a=e.getColor(gG);a&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${a}; }`);const l=e.getColor(JK);l&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${l}; }`)}));class Toe extends F{constructor(e){super(),this._editor=e,this._register(e.onMouseDown((e=>this.onMouseDown(e))))}dispose(){super.dispose()}onMouseDown(e){var t;if(6!==e.target.type)return;if(![...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find((e=>e.startsWith("ced-colorBox"))))return;if(!e.target.range)return;const n=this._editor.getContribution(Doe.ID);if(!n.isColorPickerVisible()){const t=new oe(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);n.showContentHover(t,0,!1)}}}Toe.ID="editor.contrib.colorContribution",ZU(Toe.ID,Toe);class Loe{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const i=t.length;if(n+i>e.length)return!1;for(let s=0;s<i;s++){const i=e.charCodeAt(n+s),r=t.charCodeAt(s);if(i!==r&&!(i>=65&&i<=90&&i+32===r||r>=65&&r<=90&&r+32===i))return!1}return!0}_createOperationsForBlockComment(e,t,n,i,s,r){const o=e.startLineNumber,a=e.startColumn,l=e.endLineNumber,c=e.endColumn,d=s.getLineContent(o),h=s.getLineContent(l);let u,p=d.lastIndexOf(t,a-1+t.length),g=h.indexOf(n,c-1-n.length);if(-1!==p&&-1!==g)if(o===l){d.substring(p+t.length,g).indexOf(n)>=0&&(p=-1,g=-1)}else{const e=d.substring(p+t.length),i=h.substring(0,g);(e.indexOf(n)>=0||i.indexOf(n)>=0)&&(p=-1,g=-1)}-1!==p&&-1!==g?(i&&p+t.length<d.length&&32===d.charCodeAt(p+t.length)&&(t+=" "),i&&g>0&&32===h.charCodeAt(g-1)&&(n=" "+n,g-=1),u=Loe._createRemoveBlockCommentOperations(new oe(o,p+t.length+1,l,g+1),t,n)):(u=Loe._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=1===u.length?n:null);for(const f of u)r.addTrackedEditOperation(f.range,f.text)}static _createRemoveBlockCommentOperations(e,t,n){let i=[];return oe.isEmpty(e)?i.push(DW.delete(new oe(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(i.push(DW.delete(new oe(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(DW.delete(new oe(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),i}static _createAddBlockCommentOperations(e,t,n,i){let s=[];return oe.isEmpty(e)?s.push(DW.replace(new oe(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(s.push(DW.insert(new je(e.startLineNumber,e.startColumn),t+(i?" ":""))),s.push(DW.insert(new je(e.endLineNumber,e.endColumn),(i?" ":"")+n))),s}getEditOperations(e,t){const n=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(n);const s=e.getLanguageIdAtPosition(n,i),r=dB.getComments(s);r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(2===n.length){const e=n[0],t=n[1];return new Ze(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=n[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new Ze(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}class Noe{constructor(e,t,n,i,s,r){this._selection=e,this._tabSize=t,this._type=n,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(e,t,n){e.tokenizeIfCheap(t);const i=e.getLanguageIdAtPosition(t,1),s=dB.getComments(i),r=s?s.lineCommentToken:null;if(!r)return null;let o=[];for(let a=0,l=n-t+1;a<l;a++)o[a]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return o}static _analyzeLines(e,t,n,i,s,r,o){let a,l=!0;a=0===e||1!==e;for(let c=0,d=i.length;c<d;c++){const d=i[c],h=s+c;if(h===s&&o){d.ignore=!0;continue}const u=n.getLineContent(h),p=Le(u);if(-1!==p){if(l=!1,d.ignore=!1,d.commentStrOffset=p,a&&!Loe._haystackHasNeedleAtOffset(u,d.commentStr,p)&&(0===e?a=!1:1===e||(d.ignore=!0)),a&&t){const e=p+d.commentStrLength;e<u.length&&32===u.charCodeAt(e)&&(d.commentStrLength+=1)}}else d.ignore=r,d.commentStrOffset=u.length}if(0===e&&l){a=!1;for(let e=0,t=i.length;e<t;e++)i[e].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:i}}static _gatherPreflightData(e,t,n,i,s,r,o){const a=Noe._gatherPreflightCommentStrings(n,i,s);return null===a?{supported:!1}:Noe._analyzeLines(e,t,n,a,i,r,o)}_executeLineComments(e,t,n,i){let s;n.shouldRemoveComments?s=Noe._createRemoveLineCommentsOperations(n.lines,i.startLineNumber):(Noe._normalizeInsertionPoint(e,n.lines,i.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(n.lines,i.startLineNumber));const r=new je(i.positionLineNumber,i.positionColumn);for(let o=0,a=s.length;o<a;o++)if(t.addEditOperation(s[o].range,s[o].text),oe.isEmpty(s[o].range)&&oe.getStartPosition(s[o].range).equals(r)){e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(s[o].text||"").length)}this._selectionId=t.trackSelection(i)}_attemptRemoveBlockComment(e,t,n,i){let s=t.startLineNumber,r=t.endLineNumber,o=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(s).lastIndexOf(n,o-1),l=e.getLineContent(r).indexOf(i,t.endColumn-1-n.length);return-1!==a&&-1===l&&(l=e.getLineContent(s).indexOf(i,a+n.length),r=s),-1===a&&-1!==l&&(a=e.getLineContent(r).lastIndexOf(n,l),s=r),!t.isEmpty()||-1!==a&&-1!==l||(a=e.getLineContent(s).indexOf(n),-1!==a&&(l=e.getLineContent(s).indexOf(i,a+n.length))),-1!==a&&32===e.getLineContent(s).charCodeAt(a+n.length)&&(n+=" "),-1!==l&&32===e.getLineContent(r).charCodeAt(l-1)&&(i=" "+i,l-=1),-1!==a&&-1!==l?Loe._createRemoveBlockCommentOperations(new oe(s,a+n.length+1,r,l+1),n,i):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let i=e.getLanguageIdAtPosition(n.startLineNumber,1),s=dB.getComments(i);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const r=s.blockCommentStartToken,o=s.blockCommentEndToken;let a=this._attemptRemoveBlockComment(e,n,r,o);if(!a){if(n.isEmpty()){const t=e.getLineContent(n.startLineNumber);let i=Le(t);-1===i&&(i=t.length),a=Loe._createAddBlockCommentOperations(new oe(n.startLineNumber,i+1,n.startLineNumber,t.length+1),r,o,this._insertSpace)}else a=Loe._createAddBlockCommentOperations(new oe(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),r,o,this._insertSpace);1===a.length&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(n);for(const l of a)t.addEditOperation(l.range,l.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new oe(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const i=Noe._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return i.supported?this._executeLineComments(e,t,i,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new Ze(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let i=0,s=e.length;i<s;i++){const s=e[i];s.ignore||n.push(DW.delete(new oe(t+i,s.commentStrOffset+1,t+i,s.commentStrOffset+s.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const i=this._insertSpace?" ":"";for(let s=0,r=e.length;s<r;s++){const r=e[s];r.ignore||n.push(DW.insert(new je(t+s,r.commentStrOffset+1),r.commentStr+i))}return n}static nextVisibleColumn(e,t,n,i){return n?e+(t-e%t):e+i}static _normalizeInsertionPoint(e,t,n,i){let s,r,o=1073741824;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const s=e.getLineContent(n+a);let r=0;for(let e=0,n=t[a].commentStrOffset;r<o&&e<n;e++)r=Noe.nextVisibleColumn(r,i,9===s.charCodeAt(e),1);r<o&&(o=r)}o=Math.floor(o/i)*i;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(n+a);let c=0;for(s=0,r=t[a].commentStrOffset;c<o&&s<r;s++)c=Noe.nextVisibleColumn(c,i,9===l.charCodeAt(s),1);t[a].commentStrOffset=c>o?s-1:s}}}class Ioe extends zU{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const n=[],i=t.getModel().getOptions(),s=t.getOption(17),r=t.getSelections().map(((e,t)=>({selection:e,index:t,ignoreFirstLine:!1})));r.sort(((e,t)=>oe.compareRangesUsingStarts(e.selection,t.selection)));let o=r[0];for(let a=1;a<r.length;a++){const e=r[a];o.selection.endLineNumber===e.selection.startLineNumber&&(o.index<e.index?e.ignoreFirstLine=!0:(o.ignoreFirstLine=!0,o=e))}for(const a of r)n.push(new Noe(a.selection,i.tabSize,this._type,s.insertSpace,s.ignoreEmptyLines,a.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}qU(class extends Ioe{constructor(){super(0,{id:"editor.action.commentLine",label:JI(0,"Toggle Line Comment"),alias:"Toggle Line Comment",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:OU.MenubarEditMenu,group:"5_insert",title:JI(0,"&&Toggle Line Comment"),order:1}})}}),qU(class extends Ioe{constructor(){super(1,{id:"editor.action.addCommentLine",label:JI(0,"Add Line Comment"),alias:"Add Line Comment",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2081),weight:100}})}}),qU(class extends Ioe{constructor(){super(2,{id:"editor.action.removeCommentLine",label:JI(0,"Remove Line Comment"),alias:"Remove Line Comment",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2099),weight:100}})}}),qU(class extends zU{constructor(){super({id:"editor.action.blockComment",label:JI(0,"Toggle Block Comment"),alias:"Toggle Block Comment",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:OU.MenubarEditMenu,group:"5_insert",title:JI(0,"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const n=t.getOption(17),i=[],s=t.getSelections();for(const r of s)i.push(new Loe(r,n.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}});var Poe=function(e,t){return function(n,i){t(n,i,e)}};let Ooe=class e{constructor(e,t,n,i,s,r){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=i,this._keybindingService=s,this._menuService=r,this._toDispose=new B,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((e=>this._onContextMenu(e)))),this._toDispose.add(this._editor.onMouseWheel((e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),n=e.srcElement;n.shadowRoot&&cR(t)===n.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())})))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(18))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const n of this._editor.getSelections())if(n.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(18))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),OU.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],i=this._menuService.createMenu(t,this._contextKeyService),s=i.getActions({arg:e.uri});i.dispose();for(let r of s){const[,t]=r;let i=0;for(const s of t)if(s instanceof MU){const t=this._getMenuActions(e,s.item.submenu);t.length>0&&(n.push(new qH(s.id,s.label,t)),i++)}else n.push(s),i++;i&&n.push(new KH)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),n=JO(this._editor.getDomNode()),i=n.left+e.left,s=n.top+e.top+e.height;t={x:i,y:s}}const i=this._editor.getOption(111);this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:i?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new T0(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const n=e;return"function"==typeof n.getActionViewItem?n.getActionViewItem():new T0(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};Ooe.ID="editor.contrib.contextmenu",Ooe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Poe(1,K0),Poe(2,$0),Poe(3,_U),Poe(4,w1),Poe(5,RU)],Ooe);ZU(Ooe.ID,Ooe),qU(class extends zU{constructor(){super({id:"editor.action.showContextMenu",label:JI(0,"Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:1092,weight:100}})}run(e,t){Ooe.get(t).showContextMenu()}});class Roe{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}class Aoe{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}class Moe extends F{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeModelContent((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeCursorSelection((t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const n=new Roe(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new Aoe(n,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}static get(e){return e.getContribution(Moe.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new Aoe(new Roe(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new Aoe(new Roe(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}Moe.ID="editor.contrib.cursorUndoRedoController";ZU(Moe.ID,Moe),qU(class extends zU{constructor(){super({id:"cursorUndo",label:JI(0,"Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:2099,weight:100}})}run(e,t,n){Moe.get(t).cursorUndo()}}),qU(class extends zU{constructor(){super({id:"cursorRedo",label:JI(0,"Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){Moe.get(t).cursorRedo()}});class Foe{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){let n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new oe(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new Ze(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new Ze(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new Ze(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Ze(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Ze(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function Boe(e){return S?e.altKey:e.ctrlKey}class Voe extends F{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(Boe(e)&&(this._modifierPressed=!0),this._mouseDown&&Boe(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(Boe(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Voe.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter((e=>t.position&&e.containsPosition(t.position)));if(1!==e.length)return;this._dragSelection=e[0]}Boe(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new je(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let n=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){const{selectionStartLineNumber:i,selectionStartColumn:s}=e;n=[new Ze(i,s,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new Ze(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Boe(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Voe.ID,new Foe(this._dragSelection,t,Boe(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new oe(e.lineNumber,e.column,e.lineNumber,e.column),options:Voe._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Voe.ID="editor.contrib.dragAndDrop",Voe.TRIGGER_KEY_VALUE=S?6:5,Voe._DECORATION_OPTIONS=Q$.register({className:"dnd-target"}),ZU(Voe.ID,Voe);class Woe{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((e=>this._editor.getModel().getDecorationRange(e))).filter((e=>!!e));if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const n of t){const e=n.options;if(e===Woe._FIND_MATCH_DECORATION||e===Woe._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let i=0,s=this._decorations.length;i<s;i++){let s=this._editor.getModel().getDecorationRange(this._decorations[i]);if(e.equalsRange(s)){t=this._decorations[i],n=i+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations((e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,Woe._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,Woe._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let n=this._editor.getModel().getDecorationRange(t);if(n.startLineNumber!==n.endLineNumber&&1===n.endColumn){let e=n.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);n=new oe(n.startLineNumber,n.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(n,Woe._RANGE_HIGHLIGHT_DECORATION)}})),n}set(e,t){this._editor.changeDecorations((n=>{let i=Woe._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){i=Woe._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/t,r=Math.max(2,Math.ceil(3/n));let o=e[0].range.startLineNumber,a=e[0].range.endLineNumber;for(let i=1,l=e.length;i<l;i++){const t=e[i].range;a+r>=t.startLineNumber?t.endLineNumber>a&&(a=t.endLineNumber):(s.push({range:new oe(o,1,a,1),options:Woe._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),o=t.startLineNumber,a=t.endLineNumber)}s.push({range:new oe(o,1,a,1),options:Woe._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let r=new Array(e.length);for(let t=0,o=e.length;t<o;t++)r[t]={range:e[t].range,options:i};this._decorations=n.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((e=>n.removeDecoration(e))),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map((e=>n.addDecoration(e,Woe._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let n=this._decorations[t],i=this._editor.getModel().getDecorationRange(n);if(i&&!(i.endLineNumber>e.lineNumber)){if(i.endLineNumber<e.lineNumber)return i;if(!(i.endColumn>e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,n=this._decorations.length;t<n;t++){let n=this._decorations[t],i=this._editor.getModel().getDecorationRange(n);if(i&&!(i.startLineNumber<e.lineNumber)){if(i.startLineNumber>e.lineNumber)return i;if(!(i.startColumn<e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Woe._CURRENT_FIND_MATCH_DECORATION=Q$.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:kU(rY),position:KA.Center},minimap:{color:kU(aY),position:GA.Inline}}),Woe._FIND_MATCH_DECORATION=Q$.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:kU(rY),position:KA.Center},minimap:{color:kU(aY),position:GA.Inline}}),Woe._FIND_MATCH_NO_OVERVIEW_DECORATION=Q$.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),Woe._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Q$.register({stickiness:1,overviewRuler:{color:kU(rY),position:KA.Center}}),Woe._RANGE_HIGHLIGHT_DECORATION=Q$.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Woe._FIND_SCOPE_DECORATION=Q$.register({className:"findScope",isWholeLine:!0});class Hoe{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort(((e,t)=>oe.compareRangesUsingStarts(e.range,t.range)));let n=[],i=e[0];for(let t=1;t<e.length;t++)i.range.endLineNumber===e[t].range.startLineNumber&&i.range.endColumn===e[t].range.startColumn?(i.range=i.range.plusRange(e[t].range),i.text=i.text+e[t].text):(n.push(i),i=e[t]);n.push(i);for(const s of n)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Uoe(e,t){if(e&&""!==e[0]){const n=zoe(e,t,"-"),i=zoe(e,t,"_");return n&&!i?joe(e,t,"-"):!n&&i?joe(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():_n(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function zoe(e,t,n){return-1!==e[0].indexOf(n)&&-1!==t.indexOf(n)&&e[0].split(n).length===t.split(n).length}function joe(e,t,n){const i=t.split(n),s=e[0].split(n);let r="";return i.forEach(((e,t)=>{r+=Uoe([s[t]],e)+n})),r.slice(0,-1)}class $oe{constructor(e){this.staticValue=e,this.kind=0}}class Koe{constructor(e){this.pieces=e,this.kind=1}}class qoe{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new $oe(e[0].staticValue):this._state=new Koe(e):this._state=new $oe("")}static fromStaticValue(e){return new qoe([Goe.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?Uoe(e,this._state.staticValue):this._state.staticValue;let n="";for(let i=0,s=this._state.pieces.length;i<s;i++){let t=this._state.pieces[i];if(null!==t.staticValue){n+=t.staticValue;continue}let s=qoe._substitute(t.matchIndex,e);if(null!==t.caseOps&&t.caseOps.length>0){let e=[],n=t.caseOps.length,i=0;for(let r=0,o=s.length;r<o;r++){if(i>=n){e.push(s.slice(r));break}switch(t.caseOps[i]){case"U":e.push(s[r].toUpperCase());break;case"u":e.push(s[r].toUpperCase()),i++;break;case"L":e.push(s[r].toLowerCase());break;case"l":e.push(s[r].toLowerCase()),i++;break;default:e.push(s[r])}}s=e.join("")}n+=s}return n}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let n="";for(;e>0;){if(e<t.length){return(t[e]||"")+n}n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class Goe{constructor(e,t,n){this.staticValue=e,this.matchIndex=t,n&&0!==n.length?this.caseOps=n.slice(0):this.caseOps=null}static staticValue(e){return new Goe(e,-1,null)}static caseOps(e,t){return new Goe(null,e,t)}}class Yoe{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Goe.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Goe.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Goe.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new qoe(this._result)}}const Zoe=new mU("findWidgetVisible",!1),Xoe=new mU("findInputFocussed",!1),Joe=new mU("replaceInputFocussed",!1),Qoe={primary:545,mac:{primary:2593}},eae={primary:565,mac:{primary:2613}},tae={primary:560,mac:{primary:2608}},nae={primary:554,mac:{primary:2602}},iae={primary:558,mac:{primary:2606}},sae="actions.find",rae="actions.findWithSelection",oae="editor.action.nextMatchFindAction",aae="editor.action.previousMatchFindAction",lae="editor.action.nextSelectionMatchFindAction",cae="editor.action.previousSelectionMatchFindAction",dae="editor.action.startFindReplaceAction",hae="closeFindWidget",uae="toggleFindCaseSensitive",pae="toggleFindWholeWord",gae="toggleFindRegex",fae="toggleFindInSelection",mae="togglePreserveCase",_ae="editor.action.replaceOne",vae="editor.action.replaceAll",bae="editor.action.selectAllMatches";class yae{constructor(e,t){this._toDispose=new B,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new bO,this._decorations=new Woe(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new wO((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,De(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;void 0!==t?null!==t&&(n=Array.isArray(t)?t:[t]):n=this._decorations.getFindScopes(),null!==n&&(n=n.map((e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new oe(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e})));let i=this._findMatches(n,!1,19999);this._decorations.set(i,n);const s=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(s);if(0===r&&i.length>0){const e=mB(i.map((e=>e.range)),(e=>oe.compareRangesUsingStarts(e,s)>=0));r=e>0?e-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:i}=e,s=this._editor.getModel();return t||1===i?(1===n?n=s.getLineCount():n--,i=s.getLineMaxColumn(n)):i--,new je(n,i)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;let n=this._decorations.getFindScope(),i=yae._getSearchRange(this._editor.getModel(),n);i.getEndPosition().isBefore(e)&&(e=i.getEndPosition()),e.isBefore(i.getStartPosition())&&(e=i.getEndPosition());let{lineNumber:s,column:r}=e,o=this._editor.getModel(),a=new je(s,r),l=o.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1);return l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=o.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1)),l?t||i.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:i}=e,s=this._editor.getModel();return t||i===s.getLineMaxColumn(n)?(n===s.getLineCount()?n=1:n++,i=1):i++,new je(n,i)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,i=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),r=yae._getSearchRange(this._editor.getModel(),s);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());let{lineNumber:o,column:a}=e,l=this._editor.getModel(),c=new je(o,a),d=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,t);return n&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),d=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,t)),d?i||r.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),t,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||0===e.length)return new qoe(null);let t=[],n=new Yoe(e);for(let i=0,s=e.length;i<s;i++){let r=e.charCodeAt(i);if(92!==r){if(36===r){if(i++,i>=s)break;let r=e.charCodeAt(i);if(36===r){n.emitUnchanged(i-1),n.emitStatic("$",i+1);continue}if(48===r||38===r){n.emitUnchanged(i-1),n.emitMatchIndex(0,i+1,t),t.length=0;continue}if(49<=r&&r<=57){let o=r-48;if(i+1<s){let s=e.charCodeAt(i+1);if(48<=s&&s<=57){i++,o=10*o+(s-48),n.emitUnchanged(i-2),n.emitMatchIndex(o,i+1,t),t.length=0;continue}}n.emitUnchanged(i-1),n.emitMatchIndex(o,i+1,t),t.length=0;continue}}}else{if(i++,i>=s)break;let r=e.charCodeAt(i);switch(r){case 92:n.emitUnchanged(i-1),n.emitStatic("\\",i+1);break;case 110:n.emitUnchanged(i-1),n.emitStatic("\n",i+1);break;case 116:n.emitUnchanged(i-1),n.emitStatic("\t",i+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(i-1),n.emitStatic("",i+1),t.push(String.fromCharCode(r))}}}return n.finalize()}(this._state.replaceString):qoe.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){let i=e.buildReplaceString(n.matches,this._state.preserveCase),s=new oZ(t,i);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new je(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const i=(e||[null]).map((e=>yae._getSearchRange(this._editor.getModel(),e)));return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new Gj(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const n=this._editor.getModel(),i=n.getValue(1),s=n.getFullModelRange(),r=this._getReplacePattern();let o;const a=this._state.preserveCase;o=r.hasReplacementPatterns||a?i.replace(t,(function(){return r.buildReplaceString(arguments,a)})):i.replace(t,r.buildReplaceString(null,a));let l=new dZ(s,o,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){const t=this._getReplacePattern();let n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),i=[];for(let r=0,o=n.length;r<o;r++)i[r]=t.buildReplaceString(n[r].matches,this._state.preserveCase);let s=new Hoe(this._editor.getSelection(),n.map((e=>e.range)),i);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map((e=>new Ze(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))),n=this._editor.getSelection();for(let i=0,s=t.length;i<s;i++){if(t[i].equalsRange(n)){t=[n].concat(t.slice(0,i)).concat(t.slice(i+1));break}}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const wae={inputActiveOptionBorder:F$.fromHex("#007ACC00"),inputActiveOptionForeground:F$.fromHex("#FFFFFF"),inputActiveOptionBackground:F$.fromHex("#0E639C50")};class Cae extends aX{constructor(e){super(),this._onChange=this._register(new x),this.onChange=this._onChange.event,this._onKeyDown=this._register(new x),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},wae),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...IM.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault()})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void e.preventDefault();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Sae=JI(0,"Match Case"),xae=JI(0,"Match Whole Word"),kae=JI(0,"Use Regular Expression");class Eae extends Cae{constructor(e){super({icon:NM.caseSensitive,title:Sae+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Dae extends Cae{constructor(e){super({icon:NM.wholeWord,title:xae+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Tae extends Cae{constructor(e){super({icon:NM.regex,title:kae+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Lae extends aX{constructor(e,t,n,i){super(),this._hideSoon=this._register(new wO((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const s=i.getColorTheme().getColor(iq),r=i.getColorTheme().getColor(rq),o=i.getColorTheme().getColor(sq);this.caseSensitive=this._register(new Eae({appendTitle:this._keybindingLabelFor(uae),isChecked:this._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionForeground:r,inputActiveOptionBackground:o})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new Dae({appendTitle:this._keybindingLabelFor(pae),isChecked:this._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionForeground:r,inputActiveOptionBackground:o})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new Tae({appendTitle:this._keybindingLabelFor(gae),isChecked:this._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionForeground:r,inputActiveOptionBackground:o})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()}))),this._register(VO(this._domNode,(e=>this._onMouseOut()))),this._register(RO(this._domNode,"mouseover",(e=>this._onMouseOver()))),this._applyTheme(i.getColorTheme()),this._register(i.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Lae.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(iq),inputActiveOptionForeground:e.getColor(rq),inputActiveOptionBackground:e.getColor(sq)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}function Nae(e,t){return 1===e||2!==e&&t}Lae.ID="editor.contrib.findOptionsWidget",LU(((e,t)=>{const n=e.getColor(Wq);n&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);const i=e.getColor(Hq);i&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);const s=e.getColor(QK);s&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const r=e.getColor(YK);r&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${r}; }`)}));class Iae extends F{constructor(){super(),this._onFindReplaceStateChange=this._register(new x),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Nae(this._isRegexOverride,this._isRegex)}get wholeWord(){return Nae(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Nae(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Nae(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){let i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,i.matchesPosition=!0,s=!0),this._matchesCount!==t&&(this._matchesCount=t,i.matchesCount=!0,s=!0),void 0!==n&&(oe.equalsRange(this._currentMatch,n)||(this._currentMatch=n,i.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(i)}change(e,t,n=!0){var i;let s={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},r=!1;const o=this.isRegex,a=this.wholeWord,l=this.matchCase,c=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,s.searchString=!0,r=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,s.replaceString=!0,r=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,s.isRevealed=!0,r=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,s.isReplaceRevealed=!0,r=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(i=e.searchScope)||void 0===i?void 0:i.every((e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some((t=>!oe.equalsRange(t,e)))})))||(this._searchScope=e.searchScope,s.searchScope=!0,r=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,s.loop=!0,r=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,o!==this.isRegex&&(r=!0,s.isRegex=!0),a!==this.wholeWord&&(r=!0,s.wholeWord=!0),l!==this.matchCase&&(r=!0,s.matchCase=!0),c!==this.preserveCase&&(r=!0,s.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=19999}}const Pae=JI(0,"input");class Oae extends aX{constructor(e,t,n,i){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new x),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new x),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new x),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new x),this._onKeyUp=this._register(new x),this._onCaseSensitiveKeyDown=this._register(new x),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new x),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||Pae,this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground;const s=i.appendCaseSensitiveLabel||"",r=i.appendWholeWordsLabel||"",o=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,d=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new X9(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:d})),this.regex=this._register(new Tae({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new Dae({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new Eae({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)}))),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=h.indexOf(document.activeElement);if(t>=0){let n=-1;e.equals(17)?n=(t+1)%h.length:e.equals(15)&&(n=0===t?h.length-1:t-1),e.equals(9)?(h[t].blur(),this.inputBox.focus()):n>=0&&h[n].focus(),vR(e,!0)}}}));let u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.caseSensitive.domNode),u.appendChild(this.wholeWords.domNode),u.appendChild(this.regex.domNode),this.domNode.appendChild(u),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Rae=JI(0,"input"),Aae=JI(0,"Preserve Case");class Mae extends Cae{constructor(e){super({icon:NM.preserveCase,title:Aae+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Fae extends aX{constructor(e,t,n,i){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new x),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new x),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new x),this._onInput=this._register(new x),this._onKeyUp=this._register(new x),this._onPreserveCaseKeyDown=this._register(new x),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||Rae,this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground;const s=i.appendPreserveCaseLabel||"",r=i.history||[],o=!!i.flexibleHeight,a=!!i.flexibleWidth,l=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new X9(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,flexibleHeight:o,flexibleWidth:a,flexibleMaxHeight:l})),this.preserveCase=this._register(new Mae({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((e=>{this._onPreserveCaseKeyDown.fire(e)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let c=[this.preserveCase.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=c.indexOf(document.activeElement);if(t>=0){let n=-1;e.equals(17)?n=(t+1)%c.length:e.equals(15)&&(n=0===t?c.length-1:t-1),e.equals(9)?(c[t].blur(),this.inputBox.focus()):n>=0&&c[n].focus(),vR(e,!0)}}}));let d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.preserveCase.domNode),this.domNode.appendChild(d),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Bae=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Vae=function(e,t){return function(n,i){t(n,i,e)}};function Wae(e,t){return e.getContext(document.activeElement).getValue(t)}function Hae(e,t){const n=function(e,t){return e.createScoped(t.target)}(e,t);!function(e,t,n){new mU(n,t).bindTo(e)}(n,t,"historyNavigationWidget");return{scopedContextKeyService:n,historyNavigationEnablement:new mU("historyNavigationEnabled",!0).bindTo(n)}}let Uae=class extends Oae{constructor(e,t,n,i,s=!1){super(e,t,s,n),this._register(Hae(i,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Uae=Bae([Vae(3,_U)],Uae);let zae=class extends Fae{constructor(e,t,n,i,s=!1){super(e,t,s,n),this._register(Hae(i,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};zae=Bae([Vae(3,_U)],zae),UW.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:JH.and(JH.has("historyNavigationWidget"),JH.equals("historyNavigationEnabled",!0)),primary:16,secondary:[528],handler:(e,t)=>{const n=Wae(e.get(_U),"historyNavigationWidget");if(n){n.historyNavigator.showPreviousValue()}}}),UW.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:JH.and(JH.has("historyNavigationWidget"),JH.equals("historyNavigationEnabled",!0)),primary:18,secondary:[530],handler:(e,t)=>{const n=Wae(e.get(_U),"historyNavigationWidget");if(n){n.historyNavigator.showNextValue()}}});var jae=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const $ae=P0("find-selection",NM.selection,JI(0,"Icon for 'Find in Selection' in the editor find widget.")),Kae=P0("find-collapsed",NM.chevronRight,JI(0,"Icon to indicate that the editor find widget is collapsed.")),qae=P0("find-expanded",NM.chevronDown,JI(0,"Icon to indicate that the editor find widget is expanded.")),Gae=P0("find-replace",NM.replace,JI(0,"Icon for 'Replace' in the editor find widget.")),Yae=P0("find-replace-all",NM.replaceAll,JI(0,"Icon for 'Replace All' in the editor find widget.")),Zae=P0("find-previous-match",NM.arrowUp,JI(0,"Icon for 'Find Previous' in the editor find widget.")),Xae=P0("find-next-match",NM.arrowDown,JI(0,"Icon for 'Find Next' in the editor find widget.")),Jae=JI(0,"Find"),Qae=JI(0,"Find"),ele=JI(0,"Previous match"),tle=JI(0,"Next match"),nle=JI(0,"Find in selection"),ile=JI(0,"Close"),sle=JI(0,"Replace"),rle=JI(0,"Replace"),ole=JI(0,"Replace"),ale=JI(0,"Replace All"),lle=JI(0,"Toggle Replace mode"),cle=JI(0,"Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),dle=JI(0,"{0} of {1}"),hle=JI(0,"No results");let ule=69;const ple=S?256:2048;class gle{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function fle(e,t,n){const i=!!t.match(/\n/);n&&i&&n.selectionStart>0&&e.stopPropagation()}function mle(e,t,n){const i=!!t.match(/\n/);n&&i&&n.selectionEnd<n.value.length&&e.stopPropagation()}class _le extends aX{constructor(e,t,n,i,s,r,o,a,l){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=n,this._contextViewProvider=i,this._keybindingService=s,this._contextKeyService=r,this._storageService=a,this._notificationService=l,this._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean("ctrlEnterReplaceAll.windows.donotask",0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new gO(500),this._register(I((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((e=>{if(e.hasChanged(77)&&(this._codeEditor.getOption(77)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(127)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(33)){const e=this._codeEditor.getOption(33).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new gle(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>jae(this,void 0,void 0,(function*(){if(this._isVisible){let e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}}))))),this._findInputFocused=Xoe.bindTo(r),this._findFocusTracker=this._register(yR(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=Joe.bindTo(r),this._replaceFocusTracker=this._register(yR(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new gle(0)),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel((()=>{this._isVisible&&(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}getId(){return _le.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(77)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=eR(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,V)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=ule+"px",this._state.matchesCount>=19999?this._matchesCount.title=cle:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");let n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=$e(dle,n,t)}else e=hle;this._matchesCount.appendChild(document.createTextNode(e)),VH(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),ule=Math.max(ule,this._matchesCount.clientWidth)}_getAriaLabel(e,t,n){if(e===hle)return""===n?JI(0,"{0} found",e):JI(0,"{0} found for '{1}'",e,n);if(t){const i=JI(0,"{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),s=this._codeEditor.getModel();if(s&&t.startLineNumber<=s.getLineCount()&&t.startLineNumber>=1){return`${s.getLineContent(t.startLineNumber)}, ${i}`}return i}return JI(0,"{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let n=!this._codeEditor.getOption(77);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}_reveal(){if(this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((()=>{this._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&e){const n=this._codeEditor.getDomNode();if(n){const i=JO(n),s=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=i.left+(s?s.left:0),o=s?s.top:0;if(this._viewZone&&o<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const n=XO(this._domNode).left;r>n&&(t=!1);const s=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());i.left+(s?s.left:0)>n&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((n=>{t.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)}))}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new gle(0));const t=this._viewZone;this._codeEditor.changeViewZones((n=>{if(void 0!==this._viewZoneId){const i=this._getHeight();if(i===t.heightInPx)return;let s=i-t.heightInPx;return t.heightInPx=i,n.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s))}{let i=this._getHeight();if(i-=this._codeEditor.getOption(71).top,i<=0)return;t.heightInPx=i,this._viewZoneId=n.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+i)}}))}_removeViewZone(){this._codeEditor.changeViewZones((e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(iq),inputActiveOptionBackground:e.getColor(sq),inputActiveOptionForeground:e.getColor(rq),inputBackground:e.getColor(eq),inputForeground:e.getColor(tq),inputBorder:e.getColor(nq),inputValidationInfoBackground:e.getColor(oq),inputValidationInfoForeground:e.getColor(aq),inputValidationInfoBorder:e.getColor(lq),inputValidationWarningBackground:e.getColor(cq),inputValidationWarningForeground:e.getColor(dq),inputValidationWarningBorder:e.getColor(hq),inputValidationErrorBackground:e.getColor(uq),inputValidationErrorForeground:e.getColor(pq),inputValidationErrorBorder:e.getColor(gq)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!PO(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const t=e.width,n=e.minimap.minimapWidth;let i=!1,s=!1,r=!1;if(this._resized){if(eR(this._domNode)>419)return this._domNode.style.maxWidth=t-28-n-15+"px",void(this._replaceInput.width=eR(this._findInput.domNode))}if(447+n>=t&&(s=!0),447+n-ule>=t&&(r=!0),447+n-ule>=t+50&&(i=!0),this._domNode.classList.toggle("collapsed-find-widget",i),this._domNode.classList.toggle("narrow-find-widget",r),this._domNode.classList.toggle("reduced-find-widget",s),r||i||(this._domNode.style.maxWidth=t-28-n-15+"px"),this._resized){this._findInput.inputBox.layout();let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=eR(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map((e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||oe.equalsRange(e,t)?null:e})).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|ple)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?fle(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?mle(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|ple)?(T&&R&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(JI(0,"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store("ctrlEnterReplaceAll.windows.donotask",!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?fle(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?mle(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Uae(null,this._contextViewProvider,{width:221,label:Jae,placeholder:Qae,appendCaseSensitiveLabel:this._keybindingLabelFor(uae),appendWholeWordsLabel:this._keybindingLabelFor(pae),appendRegexLabel:this._keybindingLabelFor(gae),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(t){return{content:t.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((e=>this._onFindInputKeyDown(e)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((e=>{this._tryUpdateHeight()&&this._showViewZone()}))),w&&this._register(this._findInput.onMouseDown((e=>this._onFindInputMouseDown(e)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new vle({label:ele+this._keybindingLabelFor(aae),icon:Zae,onTrigger:()=>{this._codeEditor.getAction(aae).run().then(void 0,V)}})),this._nextBtn=this._register(new vle({label:tle+this._keybindingLabelFor(oae),icon:Xae,onTrigger:()=>{this._codeEditor.getAction(oae).run().then(void 0,V)}}));let e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Cae({icon:$ae,title:nle+this._keybindingLabelFor(fae),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)}))),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new vle({label:ile+this._keybindingLabelFor(hae),icon:A0,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new zae(null,void 0,{label:sle,placeholder:rle,appendPreserveCaseLabel:this._keybindingLabelFor(mae),history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((e=>this._onReplaceInputKeyDown(e)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}))),this._replaceBtn=this._register(new vle({label:ole+this._keybindingLabelFor(_ae),icon:Gae,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new vle({label:ale+this._keybindingLabelFor(vae),icon:Yae,onTrigger:()=>{this._controller.replaceAll()}}));let n=document.createElement("div");n.className="replace-part",n.appendChild(this._replaceInput.domNode);const i=document.createElement("div");i.className="replace-actions",n.appendChild(i),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new vle({label:lle,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=eR(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(n),this._resizeSash=new u0(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let s=419;this._register(this._resizeSash.onDidStart((()=>{s=eR(this._domNode)}))),this._register(this._resizeSash.onDidChange((e=>{this._resized=!0;let t=s+e.startX-e.currentX;if(t<419)return;t>(parseFloat(qO(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=eR(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const e=eR(this._domNode);if(e<419)return;let t=419;if(!this._resized||419===e){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=eR(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}_le.ID="editor.contrib.findWidget";class vle extends aX{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+xU.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(e=>{this._opts.onTrigger(),e.preventDefault()})),this.onkeydown(this._domNode,(e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)}))}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...xU.asClassNameArray(Kae)),this._domNode.classList.add(...xU.asClassNameArray(qae))):(this._domNode.classList.remove(...xU.asClassNameArray(qae)),this._domNode.classList.add(...xU.asClassNameArray(Kae)))}}LU(((e,t)=>{const n=(e,n)=>{n&&t.addRule(`.monaco-editor ${e} { background-color: ${n}; }`)};n(".findMatch",e.getColor(rG)),n(".currentFindMatch",e.getColor(sG)),n(".findScope",e.getColor(oG));n(".find-widget",e.getColor(Wq));const i=e.getColor(QK);i&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${i}; }`);const s=e.getColor(lG);s&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const r=e.getColor(aG);r&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${r}; padding: 1px; box-sizing: border-box; }`);const o=e.getColor(cG);o&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const a=e.getColor(YK);a&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${a}; }`);const l=e.getColor(Hq);l&&t.addRule(`.monaco-editor .find-widget { color: ${l}; }`);const c=e.getColor(KK);c&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${c}; }`);const d=e.getColor(zq);if(d)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${d}; }`);else{const n=e.getColor(Uq);n&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${n}; }`)}const h=e.getColor(GK);h&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${h}; }`)}));var ble=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},yle=function(e,t){return function(n,i){t(n,i,e)}},wle=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function Cle(e,t="single"){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const t=e.getConfiguredWordAtPosition(n.getStartPosition());if(t)return t.word}else if(e.getModel().getValueLengthInRange(n)<524288)return e.getModel().getValueInRange(n);return null}let Sle=class e extends F{constructor(e,t,n,i){super(),this._editor=e,this._findWidgetVisible=Zoe.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=i,this._updateHistoryDelayer=new gO(500),this._state=this._register(new Iae),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})})))}get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Xoe.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=de(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e){return wle(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let n=Cle(this._editor,e.seedSearchStringFromSelection);n&&(this._state.isRegex?t.searchString=de(n):t.searchString=n)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let n=Cle(this._editor,e.seedSearchStringFromSelection);n&&(t.searchString=n)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(t.searchString=e)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some((e=>!e.isEmpty()))&&(t.searchScope=e)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new yae(this._editor,this._state))}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return wle(this,void 0,void 0,(function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Sle.ID="editor.contrib.findController",Sle=ble([yle(1,_U),yle(2,I8),yle(3,Y0)],Sle);let xle=class extends Sle{constructor(e,t,n,i,s,r,o,a){super(e,n,o,a),this._contextViewService=t,this._keybindingService=i,this._themeService=s,this._notificationService=r,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return wle(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const n=this._editor.getSelection();let i=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":i=!0;break;case"never":i=!1;break;case"multiline":i=!!n&&n.startLineNumber!==n.endLineNumber}e.updateSearchScope=i,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new _le(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Lae(this._editor,this._state,this._keybindingService,this._themeService))}};xle=ble([yle(1,$0),yle(2,_U),yle(3,w1),yle(4,CU),yle(5,JW),yle(6,I8),yle(7,Y0)],xle);GU(new jU({id:sae,label:JI(0,"Find"),alias:"Find",precondition:JH.or(EZ.focus,JH.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:OU.MenubarEditMenu,group:"3_find",title:JI(0,"&&Find"),order:1}})).addImplementation(0,((e,t,n)=>{const i=Sle.get(t);return!!i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:t.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})}));class kle extends zU{run(e,t){return wle(this,void 0,void 0,(function*(){let e=Sle.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}class Ele extends zU{run(e,t){return wle(this,void 0,void 0,(function*(){let e=Sle.get(t);if(!e)return;let n=Cle(t);n&&e.setSearchString(n),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}GU(new jU({id:dae,label:JI(0,"Replace"),alias:"Replace",precondition:JH.or(EZ.focus,JH.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:OU.MenubarEditMenu,group:"3_find",title:JI(0,"&&Replace"),order:2}})).addImplementation(0,((e,t,n)=>{if(!t.hasModel()||t.getOption(77))return!1;const i=Sle.get(t);if(!i)return!1;const s=t.getSelection(),r=i.isFindInputFocused(),o=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&t.getOption(33).seedSearchStringFromSelection&&!r,a=r||o?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:o?"single":"none",seedSearchStringFromGlobalClipboard:t.getOption(33).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})})),ZU(Sle.ID,xle),qU(class extends zU{constructor(){super({id:rae,label:JI(0,"Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return wle(this,void 0,void 0,(function*(){let e=Sle.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}),qU(class extends kle{constructor(){super({id:oae,label:JI(0,"Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),qU(class extends kle{constructor(){super({id:oae,label:JI(0,"Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:JH.and(EZ.focus,Xoe),primary:3,weight:100}})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),qU(class extends kle{constructor(){super({id:aae,label:JI(0,"Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})}_run(e){return e.moveToPrevMatch()}}),qU(class extends kle{constructor(){super({id:aae,label:JI(0,"Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:JH.and(EZ.focus,Xoe),primary:1027,weight:100}})}_run(e){return e.moveToPrevMatch()}}),qU(class extends Ele{constructor(){super({id:lae,label:JI(0,"Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),qU(class extends Ele{constructor(){super({id:cae,label:JI(0,"Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});const Dle=UU.bindToContribution(Sle.get);KU(new Dle({id:hae,precondition:Zoe,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:JH.and(EZ.focus,JH.not("isComposing")),primary:9,secondary:[1033]}})),KU(new Dle({id:uae,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:Qoe.primary,mac:Qoe.mac,win:Qoe.win,linux:Qoe.linux}})),KU(new Dle({id:pae,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:eae.primary,mac:eae.mac,win:eae.win,linux:eae.linux}})),KU(new Dle({id:gae,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:tae.primary,mac:tae.mac,win:tae.win,linux:tae.linux}})),KU(new Dle({id:fae,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:nae.primary,mac:nae.mac,win:nae.win,linux:nae.linux}})),KU(new Dle({id:mae,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:iae.primary,mac:iae.mac,win:iae.win,linux:iae.linux}})),KU(new Dle({id:_ae,precondition:Zoe,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:3094}})),KU(new Dle({id:_ae,precondition:Zoe,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:JH.and(EZ.focus,Joe),primary:3}})),KU(new Dle({id:vae,precondition:Zoe,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:2563}})),KU(new Dle({id:vae,precondition:Zoe,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:JH.and(EZ.focus,Joe),primary:void 0,mac:{primary:2051}}})),KU(new Dle({id:bae,precondition:Zoe,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:EZ.focus,primary:515}}));class Tle{constructor(e,t,n){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,n)=>{let i=e[e.length-1];return this.getStartLineNumber(i)<=t&&this.getEndLineNumber(i)>=n};for(let n=0,i=this._startIndexes.length;n<i;n++){let i=this._startIndexes[n],s=this._endIndexes[n];if(i>16777215||s>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;e.length>0&&!t(i,s);)e.pop();let r=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=i+((255&r)<<24),this._endIndexes[n]=s+((65280&r)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return 16777215&this._startIndexes[e]}getEndLineNumber(e){return 16777215&this._endIndexes[e]}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,n=e%32;return 0!=(this._collapseStates[t]&1<<n)}setCollapsed(e,t){let n=e/32|0,i=e%32,s=this._collapseStates[n];this._collapseStates[n]=t?s|1<<i:s&~(1<<i)}toRegion(e){return new Lle(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){let i=Math.floor((t+n)/2);e<this.getStartLineNumber(i)?n=i:t=i+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class Lle{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class Nle{constructor(e,t){this._updateEventEmitter=new x,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Tle(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort(((e,t)=>e.regionIndex-t.regionIndex));const t={};this._decorationProvider.changeDecorations((n=>{let i=0,s=-1,r=-1;const o=e=>{for(;i<e;){const e=this._regions.getEndLineNumber(i),t=this._regions.isCollapsed(i);e<=s&&n.changeDecorationOptions(this._editorDecorationIds[i],this._decorationProvider.getDecorationOption(t,e<=r)),t&&e>r&&(r=e),i++}};for(let a of e){let e=a.regionIndex,n=this._editorDecorationIds[e];if(n&&!t[n]){t[n]=!0,o(e);let i=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,i),s=Math.max(s,this._regions.getEndLineNumber(e))}}o(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let n=[],i=-1,s=(s,r)=>{const o=e.getStartLineNumber(s),a=e.getEndLineNumber(s);r&&((e,n)=>{for(let i of t)if(e<i&&i<=n)return!0;return!1})(o,a)&&(r=!1),e.setCollapsed(s,r);const l=this._textModel.getLineMaxColumn(o),c={startLineNumber:o,startColumn:Math.max(l-1,1),endLineNumber:o,endColumn:l};n.push({range:c,options:this._decorationProvider.getDecorationOption(r,a<=i)}),r&&a>i&&(i=a)},r=0,o=()=>{for(;r<this._regions.length;){let e=this._regions.isCollapsed(r);if(r++,e)return r-1}return-1},a=0,l=o();for(;-1!==l&&a<e.length;){let t=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(t){let n=t.startLineNumber;if(t.startColumn===Math.max(t.endColumn-1,1)&&this._textModel.getLineMaxColumn(n)===t.endColumn)for(;a<e.length;){let t=e.getStartLineNumber(a);if(!(n>=t))break;s(a,n===t),a++}}l=o()}for(;a<e.length;)s(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){let i=n.startLineNumber,s=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:i,endLineNumber:s})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let n of e){let e=this.getRegionAtLine(n.startLineNumber);e&&!e.isCollapsed&&t.push(e)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let n=[];if(this._regions){let i=this._regions.findRange(e),s=1;for(;i>=0;){let e=this._regions.toRegion(i);t&&!t(e,s)||n.push(e),s++,i=e.parentIndex}}return n}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let n=[],i=e?e.regionIndex+1:0,s=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let r=i,o=this._regions.length;r<o;r++){let i=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<s))break;for(;e.length>0&&!i.containedBy(e[e.length-1]);)e.pop();e.push(i),t(i,e.length)&&n.push(i)}}else for(let r=i,o=this._regions.length;r<o;r++){let e=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<s))break;t&&!t(e)||n.push(e)}return n}}function Ile(e,t,n=Number.MAX_VALUE,i){let s=[];if(i&&i.length>0)for(let r of i){let i=e.getRegionAtLine(r);if(i&&(i.isCollapsed!==t&&s.push(i),n>1)){let r=e.getRegionsInside(i,((e,i)=>e.isCollapsed!==t&&i<n));s.push(...r)}}else{let i=e.getRegionsInside(null,((e,i)=>e.isCollapsed!==t&&i<n));s.push(...i)}e.toggleCollapseState(s)}function Ple(e,t,n,i){let s=[];for(let r of i){let i=e.getAllRegionsAtLine(r,((e,i)=>e.isCollapsed!==t&&i<=n));s.push(...i)}e.toggleCollapseState(s)}function Ole(e,t,n){let i=[];for(let r of n)i.push(e.getAllRegionsAtLine(r,void 0)[0]);let s=e.getRegionsInside(null,(e=>i.every((t=>!t.containedBy(e)&&!e.containedBy(t)))&&e.isCollapsed!==t));e.toggleCollapseState(s)}function Rle(e,t,n){let i=e.textModel,s=e.regions,r=[];for(let o=s.length-1;o>=0;o--)if(n!==s.isCollapsed(o)){let e=s.getStartLineNumber(o);t.test(i.getLineContent(e))&&r.push(s.toRegion(o))}e.toggleCollapseState(r)}function Ale(e,t,n){let i=e.regions,s=[];for(let r=i.length-1;r>=0;r--)n!==i.isCollapsed(r)&&t===i.getType(r)&&s.push(i.toRegion(r));e.toggleCollapseState(s)}const Mle=P0("folding-expanded",NM.chevronDown,JI(0,"Icon for expanded ranges in the editor glyph margin.")),Fle=P0("folding-collapsed",NM.chevronRight,JI(0,"Icon for collapsed ranges in the editor glyph margin."));class Ble{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?Ble.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?Ble.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ble.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?Ble.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Ble.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}Ble.COLLAPSED_VISUAL_DECORATION=Q$.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:xU.asClassName(Fle)}),Ble.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Q$.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:xU.asClassName(Fle)}),Ble.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Q$.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:xU.asClassName(Mle)}),Ble.EXPANDED_VISUAL_DECORATION=Q$.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xU.asClassName(Mle)}),Ble.HIDDEN_RANGE_DECORATION=Q$.register({stickiness:1});class Vle{constructor(e){this._updateEventEmitter=new x,this._foldingModel=e,this._foldingModelListener=e.onDidChange((e=>this.updateHiddenRanges())),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let e=!1,t=[],n=0,i=0,s=Number.MAX_VALUE,r=-1,o=this._foldingModel.regions;for(;n<o.length;n++){if(!o.isCollapsed(n))continue;let a=o.getStartLineNumber(n)+1,l=o.getEndLineNumber(n);s<=a&&l<=r||(!e&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===a&&this._hiddenRanges[i].endLineNumber===l?(t.push(this._hiddenRanges[i]),i++):(e=!0,t.push(new oe(a,1,l,1))),s=a,r=l)}(e||i<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let n of e){if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new oe(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map((e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber})))}applyHiddenRanges(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==Wle(this._hiddenRanges,e)}adjustSelections(e){let t=!1,n=this._foldingModel.textModel,i=null,s=e=>(i&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,i)||(i=Wle(this._hiddenRanges,e)),i?i.startLineNumber-1:null);for(let r=0,o=e.length;r<o;r++){let i=e[r],o=s(i.startLineNumber);o&&(i=i.setStartPosition(o,n.getLineMaxColumn(o)),t=!0);let a=s(i.endLineNumber);a&&(i=i.setEndPosition(a,n.getLineMaxColumn(a)),t=!0),e[r]=i}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function Wle(e,t){let n=mB(e,(e=>t<e.startLineNumber))-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}class Hle{constructor(e){this.editorModel=e,this.id="indent"}dispose(){}compute(e){let t=dB.getFoldingRules(this.editorModel.getLanguageIdentifier().id),n=t&&!!t.offSide,i=t&&t.markers;return Promise.resolve(function(e,t,n,i=5e3){const s=e.getOptions().tabSize;let r,o=new Ule(i);n&&(r=new RegExp(`(${n.start.source})|(?:${n.end.source})`));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=e.getLineCount();c>0;c--){let n,i=e.getLineContent(c),l=q$.computeIndentLevel(i,s),d=a[a.length-1];if(-1!==l){if(r&&(n=i.match(r))){if(!n[1]){a.push({indent:-2,endAbove:c,line:c});continue}{let e=a.length-1;for(;e>0&&-2!==a[e].indent;)e--;if(e>0){a.length=e+1,d=a[e],o.insertFirst(c,d.line,l),d.line=c,d.indent=l,d.endAbove=c;continue}}}if(d.indent>l){do{a.pop(),d=a[a.length-1]}while(d.indent>l);let e=d.endAbove-1;e-c>=1&&o.insertFirst(c,e,l)}d.indent===l?d.endAbove=c:a.push({indent:l,endAbove:c,line:c})}else t&&(d.endAbove=c)}return o.toIndentRanges(e)}(this.editorModel,n,i))}}class Ule{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>16777215||t>16777215)return;let i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)e[i]=this._startIndexes[n],t[i]=this._endIndexes[n];return new Tle(e,t)}{let t=0,n=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let i=this._indentOccurrences[e];if(i){if(i+t>this._foldingRangesLimit){n=e;break}t+=i}}const i=e.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit);for(let o=this._length-1,a=0;o>=0;o--){let l=this._startIndexes[o],c=e.getLineContent(l),d=q$.computeIndentLevel(c,i);(d<n||d===n&&t++<this._foldingRangesLimit)&&(s[a]=l,r[a]=this._endIndexes[o],a++)}return new Tle(s,r)}}}const zle={};class jle{constructor(e,t,n,i=5e3){this.editorModel=e,this.providers=t,this.limit=i,this.id="syntax";for(const s of t)"function"==typeof s.onDidChange&&(this.disposables||(this.disposables=new B),this.disposables.add(s.onDidChange(n)))}compute(e){return function(e,t,n){let i=null,s=e.map(((e,s)=>Promise.resolve(e.provideFoldingRanges(t,zle,n)).then((e=>{if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(i)||(i=[]);let n=t.getLineCount();for(let t of e)t.start>0&&t.end>t.start&&t.end<=n&&i.push({start:t.start,end:t.end,rank:s,kind:t.kind})}}),xt)));return Promise.all(s).then((e=>i))}(this.providers,this.editorModel,e).then((e=>{if(e){return Kle(e,this.limit)}return null}))}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class $le{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,i){if(e>16777215||t>16777215)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._nestingLevels[s]=i,this._types[s]=n,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Tle(e,t,this._types)}{let e=0,t=this._nestingLevelCounts.length;for(let r=0;r<this._nestingLevelCounts.length;r++){let n=this._nestingLevelCounts[r];if(n){if(n+e>this._foldingRangesLimit){t=r;break}e+=n}}let n=new Uint32Array(this._foldingRangesLimit),i=new Uint32Array(this._foldingRangesLimit),s=[];for(let r=0,o=0;r<this._length;r++){let a=this._nestingLevels[r];(a<t||a===t&&e++<this._foldingRangesLimit)&&(n[o]=this._startIndexes[r],i[o]=this._endIndexes[r],s[o]=this._types[r],o++)}return new Tle(n,i,s)}}}function Kle(e,t){let n,i=e.sort(((e,t)=>{let n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n})),s=new $le(t),r=[];for(let o of i)if(n){if(o.start>n.start)if(o.end<=n.end)r.push(n),n=o,s.add(o.start,o.end,o.kind&&o.kind.value,r.length);else{if(o.start>n.end){do{n=r.pop()}while(n&&o.start>n.end);n&&r.push(n),n=o}s.add(o.start,o.end,o.kind&&o.kind.value,r.length)}}else n=o,s.add(o.start,o.end,o.kind&&o.kind.value,r.length);return s.toIndentRanges()}class qle{constructor(e,t,n,i){if(this.editorModel=e,this.id="init",t.length){let s=t=>({range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(s)),this.timeout=setTimeout(n,i)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let n of this.decorationIds){let e=this.editorModel.getDecorationRange(n);e&&t.push({start:e.startLineNumber,end:e.endLineNumber,rank:1})}return Promise.resolve(Kle(t,Number.MAX_VALUE))}}const Gle=new mU("foldingEnabled",!1);let Yle=class e extends F{constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new B),this.editor=e;const n=this.editor.getOptions();this._isEnabled=n.get(35),this._useFoldingProviders="indentation"!==n.get(36),this._unfoldOnClickAfterEndOfLine=n.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Ble(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===n.get(96),this.foldingDecorationProvider.showFoldingHighlights=n.get(37),this.foldingEnabled=Gle.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((e=>{if(e.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(96)||e.hasChanged(37)){const e=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===e.get(96),this.foldingDecorationProvider.showFoldingHighlights=e.get(37),this.onModelContentChanged()}e.hasChanged(36)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(36),this.onFoldingStrategyChanged()),e.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))}))),this.onModelChanged()}static get(t){return t.getContribution(e.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!e||!e.collapsedRegions||e.lineCount!==t.getLineCount())return;"syntax"!==e.provider&&"init"!==e.provider||(this.foldingStateMemento=e);const n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const e=this.getFoldingModel();e&&e.then((e=>{if(e){this._restoringViewState=!0;try{e.applyMemento(n)}finally{this._restoringViewState=!1}}})).then(void 0,V)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this.foldingModel=new Nle(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Vle(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((e=>this.onHiddenRangesChanges(e)))),this.updateScheduler=new gO(200),this.cursorChangedScheduler=new wO((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(uF.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((()=>this.onModelContentChanged()))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.localToDispose.add(this.editor.onMouseUp((e=>this.onEditorMouseUp(e)))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Hle(e),this._useFoldingProviders&&this.foldingModel){let t=uF.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){return this.rangeProvider=new qle(e,this.foldingStateMemento.collapsedRegions,(()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()}),3e4)}t.length>0&&(this.rangeProvider=new jle(e,t,(()=>this.onModelContentChanged())))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const e=this.foldingModel;if(!e)return null;let t=this.foldingRegionPromise=hO((t=>this.getRangeProvider(e.textModel).compute(t)));return t.then((n=>{if(n&&t===this.foldingRegionPromise){let t=this.editor.getSelections(),i=t?t.map((e=>e.startLineNumber)):[];e.update(n,i)}return e}))})).then(void 0,(e=>(V(e),null))))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let n=[];for(let i of t){let t=i.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&n.push(...e.getAllRegionsAtLine(t,(e=>e.isCollapsed&&t>e.startLineNumber)))}n.length&&(e.toggleCollapseState(n),this.reveal(t[0].getPosition()))}}})).then(void 0,V)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:const i=e.target.detail,s=e.target.element.offsetLeft;if(i.offsetX-s<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!e.target.detail.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let n=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,s=e.target.range;if(s&&s.startLineNumber===n){if(i){if(4!==e.target.type)return}else{let e=this.editor.getModel();if(!e||s.startColumn!==e.getLineMaxColumn(n))return}t.then((t=>{if(t){let s=t.getRegionAtLine(n);if(s&&s.startLineNumber===n){let r=s.isCollapsed;if(i||r){let i=[];if(e.event.altKey){let e=e=>!e.containedBy(s)&&!s.containedBy(e),n=t.getRegionsInside(null,e);for(const t of n)t.isCollapsed&&i.push(t);0===i.length&&(i=n)}else{let n=e.event.middleButton||e.event.shiftKey;if(n)for(const e of t.getRegionsInside(s))e.isCollapsed===r&&i.push(e);!r&&n&&0!==i.length||i.push(s)}t.toggleCollapseState(i),this.reveal({lineNumber:n,column:1})}}}})).then(void 0,V)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Yle.ID="editor.contrib.folding",Yle=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],Yle);class Zle extends zU{runEditorCommand(e,t,n){let i=Yle.get(t);if(!i)return;let s=i.getFoldingModel();return s?(this.reportTelemetry(e,t),s.then((e=>{if(e){this.invoke(i,e,t,n);const s=t.getSelection();s&&i.reveal(s.getStartPosition())}}))):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map((e=>e.startLineNumber)):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((e=>e+1)):this.getSelectedLines(t)}run(e,t){}}function Xle(e){if(!Fe(e)){if(!ie(e))return!1;const t=e;if(!Fe(t.levels)&&!_t(t.levels))return!1;if(!Fe(t.direction)&&!Me(t.direction))return!1;if(!(Fe(t.selectionLines)||re(t.selectionLines)&&t.selectionLines.every(_t)))return!1}return!0}class Jle extends Zle{getFoldingLevel(){return parseInt(this.id.substr(Jle.ID_PREFIX.length))}invoke(e,t,n){!function(e,t,n,i){let s=e.getRegionsInside(null,((e,s)=>s===t&&e.isCollapsed!==n&&!i.some((t=>e.containsLine(t)))));e.toggleCollapseState(s)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}Jle.ID_PREFIX="editor.foldLevel",Jle.ID=e=>Jle.ID_PREFIX+e,ZU(Yle.ID,Yle),qU(class extends Zle{constructor(){super({id:"editor.unfold",label:JI(0,"Unfold"),alias:"Unfold",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Xle,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,i){let s=i&&i.levels||1,r=this.getLineNumbers(i,n);i&&"up"===i.direction?Ple(t,!1,s,r):Ile(t,!1,s,r)}}),qU(class extends Zle{constructor(){super({id:"editor.unfoldRecursively",label:JI(0,"Unfold Recursively"),alias:"Unfold Recursively",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2137),weight:100}})}invoke(e,t,n,i){Ile(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}),qU(class extends Zle{constructor(){super({id:"editor.fold",label:JI(0,"Fold"),alias:"Fold",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:Xle,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,i){let s=this.getLineNumbers(i,n);const r=i&&i.levels,o=i&&i.direction;"number"!=typeof r&&"string"!=typeof o?function(e,t,n){let i=[];for(let s of n){let n=e.getAllRegionsAtLine(s,(e=>e.isCollapsed!==t));n.length>0&&i.push(n[0])}e.toggleCollapseState(i)}(t,!0,s):"up"===o?Ple(t,!0,r||1,s):Ile(t,!0,r||1,s)}}),qU(class extends Zle{constructor(){super({id:"editor.foldRecursively",label:JI(0,"Fold Recursively"),alias:"Fold Recursively",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2135),weight:100}})}invoke(e,t,n){let i=this.getSelectedLines(n);Ile(t,!0,Number.MAX_VALUE,i)}}),qU(class extends Zle{constructor(){super({id:"editor.foldAll",label:JI(0,"Fold All"),alias:"Fold All",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2069),weight:100}})}invoke(e,t,n){Ile(t,!0)}}),qU(class extends Zle{constructor(){super({id:"editor.unfoldAll",label:JI(0,"Unfold All"),alias:"Unfold All",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2088),weight:100}})}invoke(e,t,n){Ile(t,!1)}}),qU(class extends Zle{constructor(){super({id:"editor.foldAllBlockComments",label:JI(0,"Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2133),weight:100}})}invoke(e,t,n){if(t.regions.hasTypes())Ale(t,jM.Comment.value,!0);else{const e=n.getModel();if(!e)return;let i=dB.getComments(e.getLanguageIdentifier().id);if(i&&i.blockCommentStartToken){Rle(t,new RegExp("^\\s*"+de(i.blockCommentStartToken)),!0)}}}}),qU(class extends Zle{constructor(){super({id:"editor.foldAllMarkerRegions",label:JI(0,"Fold All Regions"),alias:"Fold All Regions",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2077),weight:100}})}invoke(e,t,n){if(t.regions.hasTypes())Ale(t,jM.Region.value,!0);else{const e=n.getModel();if(!e)return;let i=dB.getFoldingRules(e.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start){Rle(t,new RegExp(i.markers.start),!0)}}}}),qU(class extends Zle{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:JI(0,"Unfold All Regions"),alias:"Unfold All Regions",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2078),weight:100}})}invoke(e,t,n){if(t.regions.hasTypes())Ale(t,jM.Region.value,!1);else{const e=n.getModel();if(!e)return;let i=dB.getFoldingRules(e.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start){Rle(t,new RegExp(i.markers.start),!1)}}}}),qU(class extends Zle{constructor(){super({id:"editor.foldAllExcept",label:JI(0,"Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2131),weight:100}})}invoke(e,t,n){Ole(t,!0,this.getSelectedLines(n))}}),qU(class extends Zle{constructor(){super({id:"editor.unfoldAllExcept",label:JI(0,"Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2129),weight:100}})}invoke(e,t,n){Ole(t,!1,this.getSelectedLines(n))}}),qU(class extends Zle{constructor(){super({id:"editor.toggleFold",label:JI(0,"Toggle Fold"),alias:"Toggle Fold",precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2090),weight:100}})}invoke(e,t,n){!function(e,t,n){let i=[];for(let s of n){let n=e.getRegionAtLine(s);if(n){const s=!n.isCollapsed;if(i.push(n),t>1){let r=e.getRegionsInside(n,((e,n)=>e.isCollapsed!==s&&n<t));i.push(...r)}}}e.toggleCollapseState(i)}(t,1,this.getSelectedLines(n))}});for(let pCe=1;pCe<=7;pCe++)YU(new Jle({id:Jle.ID(pCe),label:JI(0,"Fold Level {0}",pCe),alias:`Fold Level ${pCe}`,precondition:Gle,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2048|21+pCe),weight:100}}));const Qle=jK("editor.foldBackground",{light:yY(Qq,.3),dark:yY(Qq,.3),hc:null},JI(0,"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),ece=jK("editorGutter.foldingControlForeground",{dark:qK,light:qK,hc:qK},JI(0,"Color of the folding control in the editor gutter."));LU(((e,t)=>{const n=e.getColor(Qle);n&&t.addRule(`.monaco-editor .folded-background { background-color: ${n}; }`);const i=e.getColor(ece);i&&t.addRule(`\n\t\t.monaco-editor .cldr${xU.asCSSSelector(Mle)},\n\t\t.monaco-editor .cldr${xU.asCSSSelector(Fle)} {\n\t\t\tcolor: ${i} !important;\n\t\t}\n\t\t`)}));qU(class extends zU{constructor(){super({id:"editor.action.fontZoomIn",label:JI(0,"Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){HA.setZoomLevel(HA.getZoomLevel()+1)}}),qU(class extends zU{constructor(){super({id:"editor.action.fontZoomOut",label:JI(0,"Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){HA.setZoomLevel(HA.getZoomLevel()-1)}}),qU(class extends zU{constructor(){super({id:"editor.action.fontZoomReset",label:JI(0,"Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){HA.setZoomLevel(0)}});var tce=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},nce=function(e,t){return function(n,i){t(n,i,e)}},ice=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let sce=class{constructor(e,t){this._workerService=t,this._callOnDispose=new B,this._callOnModel=new B,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(lF.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(45))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=lF.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let n=new vn;for(let i of t.autoFormatTriggerCharacters)n.add(i.charCodeAt(0));this._callOnModel.add(this._editor.onDidType((e=>{let t=e.charCodeAt(e.length-1);n.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1)return;const t=this._editor.getModel(),n=this._editor.getPosition();let i=!1;const s=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return i=!0,void s.dispose();for(let t=0,r=e.changes.length;t<r;t++){if(e.changes[t].range.endLineNumber<=n.lineNumber)return i=!0,void s.dispose()}}));Zee(this._workerService,t,n,e,t.getFormattingOptions()).then((e=>{s.dispose(),i||wB(e)&&(Vee.execute(this._editor,e,!0),zee(e))}),(e=>{throw s.dispose(),e}))}};sce.ID="editor.contrib.autoFormat",sce=tce([nce(1,yF)],sce);let rce=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new B,this._callOnModel=new B,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(aF.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(44)&&this.editor.hasModel()&&aF.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Kee,this.editor,e,2,Z0.None,ne.None).catch(V))}};rce.ID="editor.contrib.formatOnPaste",rce=tce([nce(1,PP)],rce);ZU(sce.ID,sce),ZU(rce.ID,rce),qU(class extends zU{constructor(){super({id:"editor.action.formatDocument",label:JI(0,"Format Document"),alias:"Format Document",precondition:JH.and(EZ.notInCompositeEditor,EZ.writable,EZ.hasDocumentFormattingProvider),kbOpts:{kbExpr:EZ.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return ice(this,void 0,void 0,(function*(){if(t.hasModel()){const n=e.get(PP),i=e.get(X0);yield i.showWhile(n.invokeFunction(Gee,t,1,Z0.None,ne.None),250)}}))}}),qU(class extends zU{constructor(){super({id:"editor.action.formatSelection",label:JI(0,"Format Selection"),alias:"Format Selection",precondition:JH.and(EZ.writable,EZ.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2084),weight:100},contextMenuOpts:{when:EZ.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return ice(this,void 0,void 0,(function*(){if(!t.hasModel())return;const n=e.get(PP),i=t.getModel(),s=t.getSelections().map((e=>e.isEmpty()?new oe(e.startLineNumber,1,e.startLineNumber,i.getLineMaxColumn(e.startLineNumber)):e)),r=e.get(X0);yield r.showWhile(n.invokeFunction(Kee,t,s,1,Z0.None,ne.None),250)}))}}),vA.registerCommand("editor.action.format",(e=>ice(void 0,void 0,void 0,(function*(){const t=e.get(MP).getFocusedCodeEditor();if(!t||!t.hasModel())return;const n=e.get(_A);t.getSelection().isEmpty()?yield n.executeCommand("editor.action.formatDocument"):yield n.executeCommand("editor.action.formatSelection")}))));class oce{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let n;"string"==typeof e?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,void 0!==t.children.get(n)&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let i=n;for(let s=0;void 0!==t.children.get(i);s++)i=`${n}_${s}`;return i}static empty(e){return 0===e.children.size}}class ace extends oce{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class lce extends oce{constructor(e,t,n,i){super(),this.id=e,this.parent=t,this.label=n,this.order=i,this.children=new Map}}class cce extends oce{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let n=this._keys.for(e,!0),i=cce._requests.get(n);if(!i){let t=new L;i={promiseCnt:0,source:t,promise:cce._create(e,t.token),model:void 0},cce._requests.set(n,i);const s=Date.now();i.promise.then((()=>{this._requestDurations.update(e,Date.now()-s)}))}return i.model?Promise.resolve(i.model):(i.promiseCnt+=1,t.onCancellationRequested((()=>{0==--i.promiseCnt&&(i.source.cancel(),cce._requests.delete(n))})),new Promise(((e,t)=>{i.promise.then((t=>{i.model=t,e(t)}),(e=>{cce._requests.delete(n),t(e)}))})))}static _create(e,t){const n=new L(t),i=new cce(e.uri),s=ZM.ordered(e),r=s.map(((t,s)=>{var r;let o=oce.findId(`provider_${s}`,i),a=new lce(o,i,null!==(r=t.displayName)&&void 0!==r?r:"Unknown Outline Provider",s);return Promise.resolve(t.provideDocumentSymbols(e,n.token)).then((e=>{for(const t of e||[])cce._makeOutlineElement(t,a);return a}),(e=>(xt(e),a))).then((e=>{oce.empty(e)?e.remove():i._groups.set(o,e)}))})),o=ZM.onDidChange((()=>{gB(ZM.ordered(e),s)||n.cancel()}));return Promise.all(r).then((()=>n.token.isCancellationRequested&&!t.isCancellationRequested?cce._create(e,t):i._compact())).finally((()=>{o.dispose()}))}static _makeOutlineElement(e,t){let n=oce.findId(e,t),i=new ace(n,t,e);if(e.children)for(const s of e.children)cce._makeOutlineElement(s,i);t.children.set(i.id,i)}_compact(){let e=0;for(const[t,n]of this._groups)0===n.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let e=ee.first(this._groups.values());for(let[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof ace?e.push(t.symbol):e.push(...ee.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>oe.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return cce._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>oe.compareRangesUsingStarts(e.range,t.range)))}static _flattenDocumentSymbols(e,t,n){for(const i of t)e.push({kind:i.kind,tags:i.tags,name:i.name,detail:i.detail,containerName:i.containerName||n,range:i.range,selectionRange:i.selectionRange,children:void 0}),i.children&&cce._flattenDocumentSymbols(e,i.children,i.name)}}cce._requestDurations=new EM(ZM,350),cce._requests=new KR(9,.75),cce._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,t){return`${e.id}/${t?e.getVersionId():""}/${this._hash(ZM.all(e))}`}_hash(e){let t="";for(const n of e){let e=this._data.get(n);void 0===e&&(e=this._counter++,this._data.set(n,e)),t+=e}return t}};var dce=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function hce(e,t,n){return dce(this,void 0,void 0,(function*(){const i=yield cce.create(e,n);return t?i.asListOfDocumentSymbols():i.getTopLevelSymbols()}))}function uce(e,t){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function pce(e,t,n){e=e<0?0:e;let i="";if(!n){let n=Math.floor(e/t);e%=t;for(let e=0;e<n;e++)i+="\t"}for(let s=0;s<e;s++)i+=" ";return i}function gce(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let s=dB.getIndentationRules(e.getLanguageIdentifier().id);if(!s)return[];for(n=Math.min(n,e.getLineCount());t<=n&&s.unIndentedLinePattern;){let n=e.getLineContent(t);if(!s.unIndentedLinePattern.test(n))break;t++}if(t>n-1)return[];const{tabSize:r,indentSize:o,insertSpaces:a}=e.getOptions(),l=(e,t)=>(t=t||1,CZ.shiftIndent(e,e.length+t,r,o,a)),c=(e,t)=>(t=t||1,CZ.unshiftIndent(e,e.length+t,r,o,a));let d,h=[],u=e.getLineContent(t),p=u;if(null!=i){d=i;let e=we(u);p=d+u.substring(e.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(p)&&(d=c(d),p=d+u.substring(e.length)),u!==p&&h.push(DW.replaceMove(new Ze(t,1,t,e.length+1),q$.normalizeIndentation(d,o,a)))}else d=we(u);let g=d;s.increaseIndentPattern&&s.increaseIndentPattern.test(p)?(g=l(g),d=l(d)):s.indentNextLinePattern&&s.indentNextLinePattern.test(p)&&(g=l(g));for(let f=++t;f<=n;f++){let t=e.getLineContent(f),n=we(t),i=g+t.substring(n.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(i)&&(g=c(g),d=c(d)),n!==g&&h.push(DW.replaceMove(new Ze(f,1,f,n.length+1),q$.normalizeIndentation(g,o,a))),s.unIndentedLinePattern&&s.unIndentedLinePattern.test(t)||(s.increaseIndentPattern&&s.increaseIndentPattern.test(i)?(d=l(d),g=d):g=s.indentNextLinePattern&&s.indentNextLinePattern.test(i)?l(g):d)}return h}vA.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return dce(this,void 0,void 0,(function*(){const[n]=t;Ye(P.isUri(n));const i=e.get(CM).getModel(n);if(i)return hce(i,!1,ne.None);const s=yield e.get(CF).createModelReference(n);try{return yield hce(s.object.textEditorModel,!1,ne.None)}finally{s.dispose()}}))}));class fce extends zU{constructor(){super({id:fce.ID,label:JI(0,"Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:EZ.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),s=t.getSelection();if(!s)return;const r=new xce(s,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}fce.ID="editor.action.indentationToSpaces";class mce extends zU{constructor(){super({id:mce.ID,label:JI(0,"Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:EZ.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),s=t.getSelection();if(!s)return;const r=new kce(s,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}mce.ID="editor.action.indentationToTabs";class _ce extends zU{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(u7),i=e.get(CM);let s=t.getModel();if(!s)return;let r=i.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget);const o=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize?JI(0,"Configured Tab Size"):void 0}))),a=Math.min(s.getOptions().tabSize-1,7);setTimeout((()=>{n.pick(o,{placeHolder:JI(0,"Select Tab Size for Current File"),activeItem:o[a]}).then((e=>{e&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})}))}),50)}}class vce extends _ce{constructor(){super(!1,{id:vce.ID,label:JI(0,"Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}vce.ID="editor.action.indentUsingTabs";class bce extends _ce{constructor(){super(!0,{id:bce.ID,label:JI(0,"Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}bce.ID="editor.action.indentUsingSpaces";class yce extends zU{constructor(){super({id:yce.ID,label:JI(0,"Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get(CM);let i=t.getModel();if(!i)return;let s=n.getCreationOptions(i.getLanguageIdentifier().language,i.uri,i.isForSimpleWidget);i.detectIndentation(s.insertSpaces,s.tabSize)}}yce.ID="editor.action.detectIndentation";class wce{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&"string"==typeof n.text&&this._edits.push(n)}getEditOperations(e,t){for(let i of this._edits)t.addEditOperation(oe.lift(i.range),i.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class Cce{constructor(e){this.callOnDispose=new B,this.callOnModel=new B,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(44)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const n=this.editor.getModel();if(!n)return;if(!n.isCheapToTokenize(e.getStartPosition().lineNumber))return;const i=this.editor.getOption(9),{tabSize:s,indentSize:r,insertSpaces:o}=n.getOptions();let a=[],l={shiftIndent:e=>CZ.shiftIndent(e,e.length+1,s,r,o),unshiftIndent:e=>CZ.unshiftIndent(e,e.length+1,s,r,o)},c=e.startLineNumber;for(;c<=e.endLineNumber&&this.shouldIgnoreLine(n,c);)c++;if(c>e.endLineNumber)return;let d=n.getLineContent(c);if(!/\S/.test(d.substring(0,e.startColumn-1))){let e=dB.getGoodIndentForLine(i,n,n.getLanguageIdentifier().id,c,l);if(null!==e){let t=we(d),i=uce(e,s);if(i!==uce(t,s)){let e=pce(i,s,o);a.push({range:new oe(c,1,c,t.length+1),text:e}),d=e+d.substr(t.length)}else{let e=dB.getIndentMetadata(n,c);if(0===e||8===e)return}}}const h=c;for(;c<e.endLineNumber&&!/\S/.test(n.getLineContent(c+1));)c++;if(c!==e.endLineNumber){let t={getLineTokens:e=>n.getLineTokens(e),getLanguageIdentifier:()=>n.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>n.getLanguageIdAtPosition(e,t),getLineContent:e=>e===h?d:n.getLineContent(e)},r=dB.getGoodIndentForLine(i,t,n.getLanguageIdentifier().id,c+1,l);if(null!==r){let t=uce(r,s),i=uce(we(n.getLineContent(c+1)),s);if(t!==i){let r=t-i;for(let t=c+1;t<=e.endLineNumber;t++){let e=n.getLineContent(t),i=we(e),l=pce(uce(i,s)+r,s,o);l!==i&&a.push({range:new oe(t,1,t,i.length+1),text:l})}}}}if(a.length>0){this.editor.pushUndoStop();let e=new wce(a,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;let i=e.getLineTokens(t);if(i.getCount()>0){let e=i.findTokenIndexAtOffset(n);if(e>=0&&1===i.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function Sce(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let s="";for(let o=0;o<n;o++)s+=" ";let r=new RegExp(s,"gi");for(let o=1,a=e.getLineCount();o<=a;o++){let n=e.getLineFirstNonWhitespaceColumn(o);if(0===n&&(n=e.getLineMaxColumn(o)),1===n)continue;const a=new oe(o,1,o,n),l=e.getValueInRange(a),c=i?l.replace(/\t/gi,s):l.replace(r,"\t");t.addEditOperation(a,c)}}Cce.ID="editor.contrib.autoIndentOnPaste";class xce{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Sce(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class kce{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Sce(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}ZU(Cce.ID,Cce),qU(fce),qU(mce),qU(vce),qU(bce),qU(yce),qU(class extends zU{constructor(){super({id:"editor.action.reindentlines",label:JI(0,"Reindent Lines"),alias:"Reindent Lines",precondition:EZ.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=gce(n,1,n.getLineCount());i.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,i),t.pushUndoStop())}}),qU(class extends zU{constructor(){super({id:"editor.action.reindentselectedlines",label:JI(0,"Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:EZ.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=t.getSelections();if(null===i)return;let s=[];for(let r of i){let e=r.startLineNumber,t=r.endLineNumber;if(e!==t&&1===r.endColumn&&t--,1===e){if(e===t)continue}else e--;let i=gce(n,e,t);s.push(...i)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}});var Ece=function(e,t){return function(n,i){t(n,i,e)}},Dce=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function Tce(e,t,n){return Dce(this,void 0,void 0,(function*(){const i=[],s=kB(sF.ordered(e).reverse().map((s=>t.map((t=>Promise.resolve(s.provideInlineHints(e,t,n)).then((e=>{e&&i.push({list:e,provider:s})}),(e=>{xt(e)})))))));return yield Promise.all(s),i}))}let Lce=class{constructor(e,t,n){this._editor=e,this._codeEditorService=t,this._themeService=n,this._disposables=new B,this._sessionDisposables=new B,this._getInlineHintsDelays=new EM(sF,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(sF.onDidChange((()=>this._update()))),this._disposables.add(n.onDidColorThemeChange((()=>this._update()))),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(123)&&this._update()}))),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(123).enabled)return void this._removeAllDecorations();const e=this._editor.getModel();if(!e||!sF.has(e))return void this._removeAllDecorations();const t=new wO((()=>Dce(this,void 0,void 0,(function*(){const n=Date.now(),i=new L;this._sessionDisposables.add(I((()=>i.dispose(!0))));const s=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=yield Tce(e,s,i.token),o=this._getInlineHintsDelays.update(e,Date.now()-n);t.delay=o,this._updateHintsDecorators(r)}))),this._getInlineHintsDelays.get(e));this._sessionDisposables.add(t),this._sessionDisposables.add(this._editor.onDidChangeModelContent((()=>t.schedule()))),this._disposables.add(this._editor.onDidScrollChange((()=>t.schedule()))),t.schedule();const n=new B;this._sessionDisposables.add(n);for(const i of sF.all(e))"function"==typeof i.onDidChangeInlineHints&&n.add(i.onDidChangeInlineHints((()=>t.schedule())))}_updateHintsDecorators(e){const{fontSize:t,fontFamily:n}=this._getLayoutInfo(),i=this._themeService.getColorTheme().getColor(_G),s=this._themeService.getColorTheme().getColor(mG),r=[],o=[],a="--inlineHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(a,n);for(const{list:l}of e)for(let e=0;e<l.length&&o.length<500;e++){const{text:n,range:c,description:d,whitespaceBefore:h,whitespaceAfter:u}=l[e],p={contentText:n,backgroundColor:`${i}`,color:`${s}`,margin:`0px ${u?t/3|0:0}px 0px ${h?t/3|0:0}px`,fontSize:`${t}px`,fontFamily:`var(${a})`,padding:`0px ${t/4|0}px`,borderRadius:(t/4|0)+"px"},g="inlineHints-"+he(p).toString(16);this._codeEditorService.registerDecorationType(g,{before:p},void 0,this._editor),r.push(g);const f=this._codeEditorService.resolveDecorationOptions(g,!0);"string"==typeof d?f.hoverMessage=(new Gte).appendText(d):d&&(f.hoverMessage=d),o.push({range:c,options:f})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=r,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,o)}_getLayoutInfo(){const e=this._editor.getOption(123),t=this._editor.getOption(42);let n=e.fontSize;(!n||n<5||n>t)&&(n=.9*t|0);return{fontSize:n,fontFamily:e.fontFamily}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};Lce.ID="editor.contrib.InlineHints",Lce=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Ece(1,MP),Ece(2,CU)],Lce),ZU(Lce.ID,Lce),vA.registerCommand("_executeInlineHintProvider",((e,...t)=>Dce(void 0,void 0,void 0,(function*(){const[n,i]=t;Ye(P.isUri(n)),Ye(oe.isIRange(i));const s=yield e.get(CF).createModelReference(n);try{return kB((yield Tce(s.object.textEditorModel,[oe.lift(i)],ne.None)).map((e=>e.list))).sort(((e,t)=>oe.compareRangesUsingStarts(e.range,t.range)))}finally{s.dispose()}}))));class Nce{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Ze(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new Ze(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}let Ice=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,n){this.currentRequest&&this.currentRequest.cancel();const i=this.editor.getSelection(),s=this.editor.getModel();if(!s||!i)return;let r=i;if(r.startLineNumber!==r.endLineNumber)return;const o=new b0(this.editor,5),a=s.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=hO((e=>this.editorWorkerService.navigateValueSet(a,r,n))),this.currentRequest.then((n=>{if(!n||!n.range||!n.value)return;if(!o.validate(this.editor))return;let i=oe.lift(n.range),s=n.range,a=n.value.length-(r.endColumn-r.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+n.value.length},a>1&&(r=new Ze(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+a-1));const l=new Nce(i,r,n.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,l),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:s,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=mO(350),this.decorationRemover.then((()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))).catch(V)})).catch(V)):Promise.resolve(void 0)}};Ice.ID="editor.contrib.inPlaceReplaceController",Ice.DECORATION=Q$.register({className:"valueSetReplacement"}),Ice=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,yF)],Ice);ZU(Ice.ID,Ice),qU(class extends zU{constructor(){super({id:"editor.action.inPlaceReplace.up",label:JI(0,"Replace with Previous Value"),alias:"Replace with Previous Value",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=Ice.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}),qU(class extends zU{constructor(){super({id:"editor.action.inPlaceReplace.down",label:JI(0,"Replace with Next Value"),alias:"Replace with Next Value",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=Ice.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}),LU(((e,t)=>{const n=e.getColor(zY);n&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${n}; }`)}));class Pce{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let n=function(e,t){t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber));for(let o=t.length-2;o>=0;o--)t[o].lineNumber===t[o+1].lineNumber&&t.splice(o,1);let n=[],i=0,s=0,r=t.length;for(let o=1,a=e.getLineCount();o<=a;o++){let a=e.getLineContent(o),l=a.length+1,c=0;if(s<r&&t[s].lineNumber===o&&(c=t[s].column,s++,c===l))continue;if(0===a.length)continue;let d=Ne(a),h=0;if(-1===d)h=1;else{if(d===a.length-1)continue;h=d+2}h=Math.max(c,h),n[i++]=DW.delete(new oe(o,h,o,l))}return n}(e,this._cursors);for(let i=0,s=n.length;i<s;i++){let e=n[i];t.addEditOperation(e.range,e.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class Oce{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let i=[];for(let r=n.startLineNumber;r<=n.endLineNumber;r++)i.push(e.getLineContent(r));const s=i.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new oe(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new oe(n.startLineNumber,1,n.startLineNumber,1),s+"\n"):t.addEditOperation(new oe(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=n.startLineNumber,t=n.startColumn,i=n.endLineNumber,s=n.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(i+=this._endLineNumberDelta,s=1),n=Ze.createWithDirection(e,t,i,s,this._selectionDirection)}return n}}class Rce{constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let i=this._selection;i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const{tabSize:s,indentSize:r,insertSpaces:o}=e.getOptions();let a=this.buildIndentConverter(s,r,o),l={getLineTokens:t=>e.getLineTokens(t),getLanguageIdentifier:()=>e.getLanguageIdentifier(),getLanguageIdAtPosition:(t,n)=>e.getLanguageIdAtPosition(t,n),getLineContent:null};if(i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){let n=i.startLineNumber,s=this._isMovingDown?n+1:n-1;1===e.getLineMaxColumn(s)?t.addEditOperation(new oe(1,1,1,1),null):(t.addEditOperation(new oe(n,1,n,1),e.getLineContent(s)),t.addEditOperation(new oe(s,1,s,e.getLineMaxColumn(s)),null)),i=new Ze(s,1,s,1)}else{let n,r;if(this._isMovingDown){n=i.endLineNumber+1,r=e.getLineContent(n),t.addEditOperation(new oe(n-1,e.getLineMaxColumn(n-1),n,e.getLineMaxColumn(n)),null);let c=r;if(this.shouldAutoIndent(e,i)){let d=this.matchEnterRule(e,a,s,n,i.startLineNumber-1);if(null!==d){let t=pce(d+uce(we(e.getLineContent(n)),s),s,o);c=t+this.trimLeft(r)}else{l.getLineContent=t=>t===i.startLineNumber?e.getLineContent(n):e.getLineContent(t);let t=dB.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n,1),i.startLineNumber,a);if(null!==t){let i=we(e.getLineContent(n)),a=uce(t,s);if(a!==uce(i,s)){let e=pce(a,s,o);c=e+this.trimLeft(r)}}}t.addEditOperation(new oe(i.startLineNumber,1,i.startLineNumber,1),c+"\n");let h=this.matchEnterRuleMovingDown(e,a,s,i.startLineNumber,n,c);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,i,s,o,h);else{l.getLineContent=t=>t===i.startLineNumber?c:t>=i.startLineNumber+1&&t<=i.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let r=dB.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n,1),i.startLineNumber+1,a);if(null!==r){const n=we(e.getLineContent(i.startLineNumber)),a=uce(r,s),l=uce(n,s);if(a!==l){const n=a-l;this.getIndentEditsOfMovingBlock(e,t,i,s,o,n)}}}}else t.addEditOperation(new oe(i.startLineNumber,1,i.startLineNumber,1),c+"\n")}else if(n=i.startLineNumber-1,r=e.getLineContent(n),t.addEditOperation(new oe(n,1,n+1,1),null),t.addEditOperation(new oe(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+r),this.shouldAutoIndent(e,i)){l.getLineContent=t=>t===n?e.getLineContent(i.startLineNumber):e.getLineContent(t);let r=this.matchEnterRule(e,a,s,i.startLineNumber,i.startLineNumber-2);if(null!==r)0!==r&&this.getIndentEditsOfMovingBlock(e,t,i,s,o,r);else{let r=dB.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i.startLineNumber,1),n,a);if(null!==r){let n=we(e.getLineContent(i.startLineNumber)),a=uce(r,s),l=uce(n,s);if(a!==l){let n=a-l;this.getIndentEditsOfMovingBlock(e,t,i,s,o,n)}}}}}this._selectionId=t.trackSelection(i)}buildIndentConverter(e,t,n){return{shiftIndent:i=>CZ.shiftIndent(i,i.length+1,e,t,n),unshiftIndent:i=>CZ.unshiftIndent(i,i.length+1,e,t,n)}}parseEnterResult(e,t,n,i,s){if(s){let r=s.indentation;s.indentAction===DF.None||s.indentAction===DF.Indent?r=s.indentation+s.appendText:s.indentAction===DF.IndentOutdent?r=s.indentation:s.indentAction===DF.Outdent&&(r=t.unshiftIndent(s.indentation)+s.appendText);let o=e.getLineContent(i);if(this.trimLeft(o).indexOf(this.trimLeft(r))>=0){let s=we(e.getLineContent(i)),o=we(r),a=dB.getIndentMetadata(e,i);return null!==a&&2&a&&(o=t.unshiftIndent(o)),uce(o,n)-uce(s,n)}}return null}matchEnterRuleMovingDown(e,t,n,i,s,r){if(Ne(r)>=0){let r=e.getLineMaxColumn(s),o=dB.getEnterAction(this._autoIndent,e,new oe(s,r,s,r));return this.parseEnterResult(e,t,n,i,o)}{let s=i-1;for(;s>=1;){let t=e.getLineContent(s);if(Ne(t)>=0)break;s--}if(s<1||i>e.getLineCount())return null;let r=e.getLineMaxColumn(s),o=dB.getEnterAction(this._autoIndent,e,new oe(s,r,s,r));return this.parseEnterResult(e,t,n,i,o)}}matchEnterRule(e,t,n,i,s,r){let o=s;for(;o>=1;){let t;if(t=o===s&&void 0!==r?r:e.getLineContent(o),Ne(t)>=0)break;o--}if(o<1||i>e.getLineCount())return null;let a=e.getLineMaxColumn(o),l=dB.getEnterAction(this._autoIndent,e,new oe(o,a,o,a));return this.parseEnterResult(e,t,n,i,l)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==dB.getIndentRulesSupport(n)}getIndentEditsOfMovingBlock(e,t,n,i,s,r){for(let o=n.startLineNumber;o<=n.endLineNumber;o++){let a=e.getLineContent(o),l=we(a),c=pce(uce(l,i)+r,i,s);c!==l&&(t.addEditOperation(new oe(o,1,o,l.length+1),c),o===n.endLineNumber&&n.endColumn<=l.length+1&&""===c&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}class Ace{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return Ace._COLLATOR||(Ace._COLLATOR=new Intl.Collator),Ace._COLLATOR}getEditOperations(e,t){let n=function(e,t,n){let i=Mce(e,t,n);if(!i)return null;return DW.replace(new oe(i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),i.after.join("\n"))}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(null===e)return!1;let i=Mce(e,t,n);if(!i)return!1;for(let s=0,r=i.before.length;s<r;s++)if(i.before[s]!==i.after[s])return!0;return!1}}function Mce(e,t,n){let i=t.startLineNumber,s=t.endLineNumber;if(1===t.endColumn&&s--,i>=s)return null;let r=[];for(let a=i;a<=s;a++)r.push(e.getLineContent(a));let o=r.slice(0);return o.sort(Ace.getCollator().compare),!0===n&&(o=o.reverse()),{startLineNumber:i,endLineNumber:s,before:r,after:o}}Ace._COLLATOR=null;class Fce extends zU{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));n.sort(((e,t)=>oe.compareRangesUsingStarts(e.selection,t.selection)));let i=n[0];for(let r=1;r<n.length;r++){const e=n[r];i.selection.endLineNumber===e.selection.startLineNumber&&(i.index<e.index?e.ignore=!0:(i.ignore=!0,i=e))}const s=[];for(const r of n)s.push(new Oce(r.selection,this.down,r.ignore));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class Bce extends zU{constructor(e,t){super(t),this.down=e}run(e,t){let n=[],i=t.getSelections()||[];const s=t.getOption(9);for(const r of i)n.push(new Rce(r,this.down,s));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class Vce extends zU{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const s of n)if(!Ace.canRun(t.getModel(),s,this.descending))return;let i=[];for(let s=0,r=n.length;s<r;s++)i[s]=new Ace(n[s],this.descending);t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class Wce extends zU{constructor(){super({id:Wce.ID,label:JI(0,"Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:mn(2089,2102),weight:100}})}run(e,t,n){let i=[];"auto-save"===n.reason&&(i=(t.getSelections()||[]).map((e=>new je(e.positionLineNumber,e.positionColumn))));let s=t.getSelection();if(null===s)return;let r=new Pce(s,i);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}}Wce.ID="editor.action.trimTrailingWhitespace";class Hce extends zU{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let i=this._getRangesToDelete(t),s=[];for(let a=0,l=i.length-1;a<l;a++){let e=i[a],t=i[a+1];null===oe.intersectRanges(e,t)?s.push(e):i[a+1]=oe.plusRange(e,t)}s.push(i[i.length-1]);let r=this._getEndCursorState(n,s),o=s.map((e=>DW.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,o,r),t.pushUndoStop()}}class Uce extends zU{run(e,t){const n=t.getSelections();if(null===n)return;const i=t.getModel();if(null===i)return;const s=t.getOption(113),r=[];for(const o of n)if(o.isEmpty()){const e=o.getStartPosition(),n=t.getConfiguredWordAtPosition(e);if(!n)continue;const a=new oe(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),l=i.getValueInRange(a);r.push(DW.replace(a,this._modifyText(l,s)))}else{const e=i.getValueInRange(o);r.push(DW.replace(o,this._modifyText(e,s)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class zce{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class jce extends Uce{constructor(){super({id:"editor.action.transformToSnakecase",label:JI(0,"Transform to Snake Case"),alias:"Transform to Snake Case",precondition:EZ.writable})}_modifyText(e,t){const n=jce.regExp1.get(),i=jce.regExp2.get();return n&&i?e.replace(n,"$1_$2").replace(i,"$1_$2$3").toLocaleLowerCase():e}}jce.regExp1=new zce("(\\p{Ll})(\\p{Lu})","gmu"),jce.regExp2=new zce("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),qU(class extends Fce{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:JI(0,"Copy Line Up"),alias:"Copy Line Up",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"2_line",title:JI(0,"&&Copy Line Up"),order:1}})}}),qU(class extends Fce{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:JI(0,"Copy Line Down"),alias:"Copy Line Down",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"2_line",title:JI(0,"Co&&py Line Down"),order:2}})}}),qU(class extends zU{constructor(){super({id:"editor.action.duplicateSelection",label:JI(0,"Duplicate Selection"),alias:"Duplicate Selection",precondition:EZ.writable,menuOpts:{menuId:OU.MenubarSelectionMenu,group:"2_line",title:JI(0,"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const i=[],s=t.getSelections(),r=t.getModel();for(const o of s)if(o.isEmpty())i.push(new Oce(o,!0));else{const e=new Ze(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn);i.push(new aZ(e,r.getValueInRange(o)))}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}),qU(class extends Bce{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:JI(0,"Move Line Up"),alias:"Move Line Up",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"2_line",title:JI(0,"Mo&&ve Line Up"),order:3}})}}),qU(class extends Bce{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:JI(0,"Move Line Down"),alias:"Move Line Down",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"2_line",title:JI(0,"Move &&Line Down"),order:4}})}}),qU(class extends Vce{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:JI(0,"Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:EZ.writable})}}),qU(class extends Vce{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:JI(0,"Sort Lines Descending"),alias:"Sort Lines Descending",precondition:EZ.writable})}}),qU(Wce),qU(class extends zU{constructor(){super({id:"editor.action.deleteLines",label:JI(0,"Delete Line"),alias:"Delete Line",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let s=0,r=[],o=[];for(let a=0,l=n.length;a<l;a++){const e=n[a];let t=e.startLineNumber,l=e.endLineNumber,c=1,d=i.getLineMaxColumn(l);l<i.getLineCount()?(l+=1,d=1):t>1&&(t-=1,c=i.getLineMaxColumn(t)),r.push(DW.replace(new Ze(t,c,l,d),"")),o.push(new Ze(t-s,e.positionColumn,t-s,e.positionColumn)),s+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,o),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));let n=[],i=t[0];for(let s=1;s<t.length;s++)i.endLineNumber+1>=t[s].startLineNumber?i.endLineNumber=t[s].endLineNumber:(n.push(i),i=t[s]);return n.push(i),n}}),qU(class extends zU{constructor(){super({id:"editor.action.indentLines",label:JI(0,"Indent Line"),alias:"Indent Line",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,xZ.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}),qU(class extends zU{constructor(){super({id:"editor.action.outdentLines",label:JI(0,"Outdent Line"),alias:"Outdent Line",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:2135,weight:100}})}run(e,t){BZ.Outdent.runEditorCommand(e,t,null)}}),qU(class extends zU{constructor(){super({id:"editor.action.insertLineBefore",label:JI(0,"Insert Line Above"),alias:"Insert Line Above",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,xZ.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}),qU(class extends zU{constructor(){super({id:"editor.action.insertLineAfter",label:JI(0,"Insert Line Below"),alias:"Insert Line Below",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,xZ.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}),qU(class extends Hce{constructor(){super({id:"deleteAllLeft",label:JI(0,"Delete All Left"),alias:"Delete All Left",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null,i=[],s=0;return t.forEach((t=>{let r;if(1===t.endColumn&&s>0){let e=t.startLineNumber-s;r=new Ze(e,t.startColumn,e,t.startColumn)}else r=new Ze(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);s+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=r:i.push(r)})),n&&i.unshift(n),i}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let n=t,i=e.getModel();return null===i?[]:(n.sort(oe.compareRangesUsingStarts),n=n.map((e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:i.getLineContent(t).length+1;return new oe(t,n,e.startLineNumber,1)}return new oe(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new oe(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),n)}}),qU(class extends Hce{constructor(){super({id:"deleteAllRight",label:JI(0,"Delete All Right"),alias:"Delete All Right",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null,i=[];for(let s=0,r=t.length,o=0;s<r;s++){let r=t[s],a=new Ze(r.startLineNumber-o,r.startColumn,r.startLineNumber-o,r.startColumn);r.intersectRanges(e)?n=a:i.push(a)}return n&&i.unshift(n),i}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let n=e.getSelections();if(null===n)return[];let i=n.map((e=>{if(e.isEmpty()){const n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new oe(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new oe(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return i.sort(oe.compareRangesUsingStarts),i}}),qU(class extends zU{constructor(){super({id:"editor.action.joinLines",label:JI(0,"Join Lines"),alias:"Join Lines",precondition:EZ.writable,kbOpts:{kbExpr:EZ.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let n=t.getSelections();if(null===n)return;let i=t.getSelection();if(null===i)return;n.sort(oe.compareRangesUsingStarts);let s=[],r=n.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(s.push(e),t):new Ze(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(s.push(e),t):new Ze(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));s.push(r);let o=t.getModel();if(null===o)return;let a=[],l=[],c=i,d=0;for(let h=0,u=s.length;h<u;h++){let e,t,n=s[h],r=n.startLineNumber,u=1,p=0,g=o.getLineContent(n.endLineNumber).length-n.endColumn;if(n.isEmpty()||n.startLineNumber===n.endLineNumber){let i=n.getStartPosition();i.lineNumber<o.getLineCount()?(e=r+1,t=o.getLineMaxColumn(e)):(e=i.lineNumber,t=o.getLineMaxColumn(i.lineNumber))}else e=n.endLineNumber,t=o.getLineMaxColumn(e);let f=o.getLineContent(r);for(let i=r+1;i<=e;i++){let e=o.getLineContent(i),t=o.getLineFirstNonWhitespaceColumn(i);if(t>=1){let n=!0;""===f&&(n=!1),!n||" "!==f.charAt(f.length-1)&&"\t"!==f.charAt(f.length-1)||(n=!1,f=f.replace(/[\s\uFEFF\xA0]+$/g," "));let i=e.substr(t-1);f+=(n?" ":"")+i,p=n?i.length+1:i.length}else p=0}let m=new oe(r,u,e,t);if(!m.isEmpty()){let e;n.isEmpty()?(a.push(DW.replace(m,f)),e=new Ze(m.startLineNumber-d,f.length-p+1,r-d,f.length-p+1)):n.startLineNumber===n.endLineNumber?(a.push(DW.replace(m,f)),e=new Ze(n.startLineNumber-d,n.startColumn,n.endLineNumber-d,n.endColumn)):(a.push(DW.replace(m,f)),e=new Ze(n.startLineNumber-d,n.startColumn,n.startLineNumber-d,f.length-g)),null!==oe.intersectRanges(m,i)?c=e:l.push(e)}d+=m.endLineNumber-m.startLineNumber}l.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}),qU(class extends zU{constructor(){super({id:"editor.action.transpose",label:JI(0,"Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:EZ.writable})}run(e,t){let n=t.getSelections();if(null===n)return;let i=t.getModel();if(null===i)return;let s=[];for(let r=0,o=n.length;r<o;r++){let e=n[r];if(!e.isEmpty())continue;let t=e.getStartPosition(),o=i.getLineMaxColumn(t.lineNumber);if(t.column>=o){if(t.lineNumber===i.getLineCount())continue;let e=new oe(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),n=i.getValueInRange(e).split("").reverse().join("");s.push(new oZ(new Ze(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),n))}else{let e=new oe(t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),n=i.getValueInRange(e).split("").reverse().join("");s.push(new dZ(e,n,new Ze(t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}),qU(class extends Uce{constructor(){super({id:"editor.action.transformToUppercase",label:JI(0,"Transform to Uppercase"),alias:"Transform to Uppercase",precondition:EZ.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),qU(class extends Uce{constructor(){super({id:"editor.action.transformToLowercase",label:JI(0,"Transform to Lowercase"),alias:"Transform to Lowercase",precondition:EZ.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),qU(class extends Uce{constructor(){super({id:"editor.action.transformToTitlecase",label:JI(0,"Transform to Title Case"),alias:"Transform to Title Case",precondition:EZ.writable})}_modifyText(e,t){const n=("\r\n\t "+t).split("");let i="",s=!0;for(let r=0;r<e.length;r++){let t=e[r];n.indexOf(t)>=0?(s=!0,i+=t):s?(s=!1,i+=t.toLocaleUpperCase()):i+=t.toLocaleLowerCase()}return i}}),jce.regExp1.isSupported()&&jce.regExp2.isSupported()&&qU(jce);var $ce=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const Kce=new mU("LinkedEditingInputVisible",!1);let qce=class e extends F{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new B),this._editor=e,this._enabled=!1,this._visibleContextKey=Kce.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new B),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize()))),this._register(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(58)||e.hasChanged(78))&&this.reinitialize()}))),this._register(JM.onDidChange((()=>this.reinitialize()))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize()))),this.reinitialize()}static get(t){return t.getContribution(e.ID)}reinitialize(){const e=this._editor.getModel(),t=null!==e&&(this._editor.getOption(58)||this._editor.getOption(78))&&JM.has(e);if(t===this._enabled)return;if(this._enabled=t,this.clearRanges(),this._localToDispose.clear(),!t||null===e)return;this._languageWordPattern=dB.getWordDefinition(e.getLanguageIdentifier().id),this._localToDispose.add(e.onDidChangeLanguageConfiguration((()=>{this._languageWordPattern=dB.getWordDefinition(e.getLanguageIdentifier().id)})));const n=new gO(this._debounceDuration),i=()=>{this._rangeUpdateTriggerPromise=n.trigger((()=>this.updateRanges()),this._debounceDuration)},s=new gO(0),r=e=>{this._rangeSyncTriggerPromise=s.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{i()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((t=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const n=e.getDecorationRange(this._currentDecorations[0]);if(n&&t.changes.every((e=>n.intersectRanges(e.range))))return void r(this._currentDecorations)}i()}))),this._localToDispose.add({dispose:()=>{n.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const i=t.getValueInRange(n);if(this._currentWordPattern){const e=i.match(this._currentWordPattern);if((e?e[0].length:0)!==i.length)return this.clearRanges()}let s=[];for(let r=1,o=e.length;r<o;r++){const n=t.getDecorationRange(e[r]);if(n)if(n.startLineNumber!==n.endLineNumber)s.push({range:n,text:i});else{let e=t.getValueInRange(n),r=i,o=n.startColumn,a=n.endColumn;const l=ct(e,r);o+=l,e=e.substr(l),r=r.substr(l);const c=lt(e,r);a-=c,e=e.substr(0,e.length-c),r=r.substr(0,r.length-c),o===a&&0===r.length||s.push({range:new oe(n.startLineNumber,o,n.endLineNumber,a),text:r})}}if(0!==s.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return $ce(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const n=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const i=this._editor.getModel(),s=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(n.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=i.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(n))return}}this._currentRequestPosition=n,this._currentRequestModelVersion=s;const r=hO((t=>$ce(this,void 0,void 0,(function*(){try{const o=yield Gce(i,n,t);if(r!==this._currentRequest)return;if(this._currentRequest=null,s!==i.getVersionId())return;let a=[];(null==o?void 0:o.ranges)&&(a=o.ranges),this._currentWordPattern=(null==o?void 0:o.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(oe.containsPosition(a[e],n)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const c=a.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,c)}catch(o){kt(o)||V(o),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=r,r}))}};qce.ID="editor.contrib.linkedEditing",qce.DECORATION=Q$.register({stickiness:0,className:"linked-editing-decoration"}),qce=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],qce);function Gce(e,t,n){return vO(JM.ordered(e).map((i=>()=>$ce(this,void 0,void 0,(function*(){try{return yield i.provideLinkedEditingRanges(e,t,n)}catch(s){return void xt(s)}})))),(e=>!!e&&wB(null==e?void 0:e.ranges)))}KU(new(UU.bindToContribution(qce.get))({id:"cancelLinkedEditingInput",precondition:Kce,handler:e=>e.clearRanges(),kbOpts:{kbExpr:EZ.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const Yce=jK("editor.linkedEditingBackground",{dark:F$.fromHex("#f00").transparent(.3),light:F$.fromHex("#f00").transparent(.3),hc:F$.fromHex("#f00").transparent(.3)},JI(0,"Background color when the editor auto renames on type."));LU(((e,t)=>{const n=e.getColor(Yce);n&&t.addRule(`.monaco-editor .linked-editing-decoration { background: ${n}; border-left-color: ${n}; }`)})),$U("_executeLinkedEditingProvider",((e,t)=>Gce(e,t,ne.None))),ZU(qce.ID,qce),qU(class extends zU{constructor(){super({id:"editor.action.linkedEditing",label:JI(0,"Start Linked Editing"),alias:"Start Linked Editing",precondition:JH.and(EZ.writable,EZ.hasRenameProvider),kbOpts:{kbExpr:EZ.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(MP),[i,s]=Array.isArray(t)&&t||[void 0,void 0];return P.isUri(i)&&je.isIPosition(s)?n.openCodeEditor({resource:i},n.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(s),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),V):super.runCommand(e,t)}run(e,t){const n=qce.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}});var Zce=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Xce{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return Zce(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}}class Jce{constructor(e){this._disposables=new B;let t=[];for(const[n,i]of e){const e=n.links.map((e=>new Xce(e,i)));t=Jce._union(t,e),Ft(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let n,i,s,r,o=[];for(n=0,s=0,i=e.length,r=t.length;n<i&&s<r;){const i=e[n],r=t[s];if(oe.areIntersectingOrTouching(i.range,r.range)){n++;continue}oe.compareRangesUsingStarts(i.range,r.range)<0?(o.push(i),n++):(o.push(r),s++)}for(;n<i;n++)o.push(e[n]);for(;s<r;s++)o.push(t[s]);return o}}function Qce(e,t){const n=[],i=cF.ordered(e).reverse().map(((i,s)=>Promise.resolve(i.provideLinks(e,t)).then((e=>{e&&(n[s]=[e,i])}),xt)));return Promise.all(i).then((()=>{const e=new Jce(bB(n));return t.isCancellationRequested?(e.dispose(),new Jce([])):e}))}vA.registerCommand("_executeLinkProvider",((e,...t)=>Zce(void 0,void 0,void 0,(function*(){let[n,i]=t;Ye(n instanceof P),"number"!=typeof i&&(i=0);const s=e.get(CM).getModel(n);if(!s)return[];const r=yield Qce(s,ne.None);if(!r)return[];for(let e=0;e<Math.min(i,r.links.length);e++)yield r.links[e].resolve(ne.None);const o=r.links.slice(0);return r.dispose(),o}))));var ede=function(e,t){return function(n,i){t(n,i,e)}},tde=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const nde={general:Q$.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Q$.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ide{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:ide._getOptions(e,t,!1)}}static _getOptions(e,t,n){const i=Object.assign({},n?nde.active:nde.general);return i.hoverMessage=function(e,t){const n=e.url&&/^command:/i.test(e.url.toString()),i=e.tooltip?e.tooltip:JI(0,n?"Execute command":"Follow link"),s=JI(0,t?S?"cmd + click":"ctrl + click":S?"option + click":"alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const n=e.url.toString().match(/^command:([^?#]+)/);n&&(t=` "${JI(0,"Execute command {0}",n[1])}"`)}return new Gte("",!0).appendMarkdown(`[${i}](${e.url.toString(!0)}${t}) (${s})`)}return(new Gte).appendText(`${i} (${s})`)}(e,t),i}activate(e,t){e.changeDecorationOptions(this.decorationId,ide._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,ide._getOptions(this.link,t,!1))}}let sde=class e{constructor(e,t,n){this.listenersToRemove=new B,this.editor=e,this.openerService=t,this.notificationService=n;let i=new Soe(e);this.listenersToRemove.add(i),this.listenersToRemove.add(i.onMouseMoveOrRelevantKeyDown((([e,t])=>{this._onEditorMouseMove(e,t)}))),this.listenersToRemove.add(i.onExecute((e=>{this.onEditorMouseUp(e)}))),this.listenersToRemove.add(i.onCancel((e=>{this.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(59),this.listenersToRemove.add(e.onDidChangeConfiguration((t=>{const n=e.getOption(59);this.enabled!==n&&(this.enabled=n,this.updateDecorations([]),this.stop(),this.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((e=>this.onChange()))),this.listenersToRemove.add(e.onDidChangeModel((e=>this.onModelChanged()))),this.listenersToRemove.add(e.onDidChangeModelLanguage((e=>this.onModelModeChanged()))),this.listenersToRemove.add(cF.onDidChange((e=>this.onModelModeChanged()))),this.timeout=new bO,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet((()=>this.beginCompute()),e.RECOMPUTE_TIME)}beginCompute(){return tde(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(cF.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=hO((t=>Qce(e,t)));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){V(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(66);let n=[],i=Object.keys(this.currentOccurrences);for(let o=0,a=i.length;o<a;o++){let e=i[o],t=this.currentOccurrences[e];n.push(t.decorationId)}let s=[];if(e)for(const o of e)s.push(ide.decoration(o,t));let r=this.editor.deltaDecorations(n,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let o=0,a=r.length;o<a;o++){let t=new ide(e[o],r[o]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const n="altKey"===this.editor.getOption(66);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations((e=>{t.activate(e,n),this.activeLinkDecorationId=t.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(66);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((n=>{t.deactivate(n,e)})),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:i}=e;i.resolve(ne.None).then((e=>{if("string"==typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===EO.file&&e.startsWith(`${EO.file}:`)){const n=P.parse(e);if(n.scheme===EO.file){const i=oA(n);let s=null;i.startsWith("/./")?s=`.${i.substr(1)}`:i.startsWith("//./")&&(s=`.${i.substr(2)}`),s&&(e=uA(t,s))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})}),(e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(JI(0,"Failed to open this link because it is not well-formed: {0}",i.url.toString())):"missing"===t?this.notificationService.warn(JI(0,"Failed to open this link because its target is missing.")):V(e)}))}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const e=this.currentOccurrences[n.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};sde.ID="editor.linkDetector",sde.RECOMPUTE_TIME=1e3,sde=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([ede(1,CA),ede(2,JW)],sde);function rde(e,t){const n=t.filter((t=>!e.find((e=>e.equals(t)))));if(n.length>=1){const e=n.map((e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`)).join(", ");WH(1===n.length?JI(0,"Cursor added: {0}",e):JI(0,"Cursors added: {0}",e))}}ZU(sde.ID,sde),qU(class extends zU{constructor(){super({id:"editor.action.openLink",label:JI(0,"Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let n=sde.get(t);if(!n)return;if(!t.hasModel())return;let i=t.getSelections();for(let s of i){let e=n.getLinkOccurrence(s.getEndPosition());e&&n.openLinkOccurrence(e,!1)}}}),LU(((e,t)=>{const n=e.getColor(fG);n&&t.addRule(`.monaco-editor .detected-link-active { color: ${n} !important; }`)}));class ode{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class ade{constructor(e,t,n,i,s,r,o){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=i,this.wholeWord=s,this.matchCase=r,this.currentMatch=o}static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new ade(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let i,s,r=!1;const o=e.getSelections();1===o.length&&o[0].isEmpty()?(r=!0,i=!0,s=!0):(i=n.wholeWord,s=n.matchCase);const a=e.getSelection();let l,c=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;l=t.word,c=new Ze(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else l=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new ade(e,t,r,l,i,s,c)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new ode(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new ode(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return n?new Ze(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new ode(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new ode(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return n?new Ze(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1,1073741824)):[]}}class lde extends F{constructor(e){super(),this._sessionDispose=this._register(new B),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(lde.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=ade.create(this._editor,e);if(!t)return;this._session=t;const n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),e.getState().change(n,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((e=>{(e.matchCase||e.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new Ze(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const n=e.getState().matchCase;if(!ude(this._editor.getModel(),t,n)){const e=this._editor.getModel();let n=[];for(let i=0,s=t.length;i<s;i++)n[i]=this._expandEmptyToWord(e,t[i]);return void this._editor.setSelections(n)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(113):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(n.searchScope){const e=n.searchScope;let i=[];t.forEach((t=>{e.forEach((e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&i.push(t)}))})),t=i}if(t.length>0){const e=this._editor.getSelection();for(let n=0,i=t.length;n<i;n++){const i=t[n];if(i.range.intersectRanges(e)){t[n]=t[0],t[0]=i;break}}this._setSelections(t.map((e=>new Ze(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))))}}}lde.ID="editor.contrib.multiCursorController";class cde extends zU{run(e,t){const n=lde.get(t);if(!n)return;const i=Sle.get(t);if(!i)return;const s=t._getViewModel();if(s){const e=s.getCursorStates();this._run(n,i),rde(e,s.getCursorStates())}}}class dde{constructor(e,t,n,i){this.searchText=e,this.matchCase=t,this.wordSeparators=n,this.modelVersionId=i}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class hde extends F{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(94),this.decorations=[],this.updateSoon=this._register(new wO((()=>this._update()),300)),this.state=null,this._register(e.onDidChangeConfiguration((t=>{this._isEnabled=e.getOption(94)}))),this._register(e.onDidChangeCursorSelection((e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(e.onDidChangeModel((e=>{this._setState(null)}))),this._register(e.onDidChangeModelContent((e=>{this._isEnabled&&this.updateSoon.schedule()}))),this._register(Sle.get(e).getState().onFindReplaceStateChange((e=>{this._update()})))}_update(){this._setState(hde._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const n=t.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;const i=lde.get(t);if(!i)return null;const s=Sle.get(t);if(!s)return null;let r=i.getSession(s);if(!r){const e=t.getSelections();if(e.length>1){const n=s.getState().matchCase;if(!ude(t.getModel(),e,n))return null}r=ade.create(t,s)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;const o=s.getState(),a=o.matchCase;if(o.isRevealed){let e=o.searchString;a||(e=e.toLowerCase());let t=r.searchText;if(a||(t=t.toLowerCase()),e===t&&r.matchCase===o.matchCase&&r.wholeWord===o.wholeWord&&!o.isRegex)return null}return new dde(r.searchText,r.matchCase,r.wholeWord?t.getOption(113):null,t.getModel().getVersionId())}_setState(e){if(dde.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=XM.has(t)&&this.editor.getOption(68);let i=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((e=>e.range));i.sort(oe.compareRangesUsingStarts);let s=this.editor.getSelections();s.sort(oe.compareRangesUsingStarts);let r=[];for(let a=0,l=0,c=i.length,d=s.length;a<c;){const e=i[a];if(l>=d)r.push(e),a++;else{const t=oe.compareRangesUsingStarts(e,s[l]);t<0?(!s[l].isEmpty()&&oe.areIntersecting(e,s[l])||r.push(e),a++):(t>0||a++,l++)}}const o=r.map((e=>({range:e,options:n?hde._SELECTION_HIGHLIGHT:hde._SELECTION_HIGHLIGHT_OVERVIEW})));this.decorations=this.editor.deltaDecorations(this.decorations,o)}dispose(){this._setState(null),super.dispose()}}function ude(e,t,n){const i=pde(e,t[0],!n);for(let s=1,r=t.length;s<r;s++){const r=t[s];if(r.isEmpty())return!1;if(i!==pde(e,r,!n))return!1}return!0}function pde(e,t,n){const i=e.getValueInRange(t);return n?i.toLowerCase():i}hde.ID="editor.contrib.selectionHighlighter",hde._SELECTION_HIGHLIGHT_OVERVIEW=Q$.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:kU(oY),position:KA.Center}}),hde._SELECTION_HIGHLIGHT=Q$.register({stickiness:1,className:"selectionHighlight"}),ZU(lde.ID,lde),ZU(hde.ID,hde),qU(class extends zU{constructor(){super({id:"editor.action.insertCursorAbove",label:JI(0,"Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"3_multi",title:JI(0,"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;const i=n&&!0===n.logicalLine,s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();const r=s.getCursorStates();s.setCursorStates(n.source,3,_Z.addCursorUp(s,r,i)),s.revealTopMostCursor(n.source),rde(r,s.getCursorStates())}}),qU(class extends zU{constructor(){super({id:"editor.action.insertCursorBelow",label:JI(0,"Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"3_multi",title:JI(0,"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;const i=n&&!0===n.logicalLine,s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();const r=s.getCursorStates();s.setCursorStates(n.source,3,_Z.addCursorDown(s,r,i)),s.revealBottomMostCursor(n.source),rde(r,s.getCursorStates())}}),qU(class extends zU{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:JI(0,"Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"3_multi",title:JI(0,"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let i=e.startLineNumber;i<e.endLineNumber;i++){let e=t.getLineMaxColumn(i);n.push(new Ze(i,e,i,e))}e.endColumn>1&&n.push(new Ze(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),i=t.getSelections(),s=t._getViewModel(),r=s.getCursorStates();let o=[];i.forEach((e=>this.getCursorsForSelection(e,n,o))),o.length>0&&t.setSelections(o),rde(r,s.getCursorStates())}}),qU(class extends cde{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:JI(0,"Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:2082,weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"3_multi",title:JI(0,"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),qU(class extends cde{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:JI(0,"Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:OU.MenubarSelectionMenu,group:"3_multi",title:JI(0,"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),qU(class extends cde{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:JI(0,"Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:mn(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),qU(class extends cde{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:JI(0,"Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),qU(class extends cde{constructor(){super({id:"editor.action.selectHighlights",label:JI(0,"Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:3114,weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"3_multi",title:JI(0,"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),qU(class extends cde{constructor(){super({id:"editor.action.changeAll",label:JI(0,"Change All Occurrences"),alias:"Change All Occurrences",precondition:JH.and(EZ.writable,EZ.editorTextFocus),kbOpts:{kbExpr:EZ.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),qU(class extends zU{constructor(){super({id:"editor.action.addCursorsToBottom",label:JI(0,"Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),i=t.getModel().getLineCount();let s=[];for(let a=n[0].startLineNumber;a<=i;a++)s.push(new Ze(a,n[0].startColumn,a,n[0].endColumn));const r=t._getViewModel(),o=r.getCursorStates();s.length>0&&t.setSelections(s),rde(o,r.getCursorStates())}}),qU(class extends zU{constructor(){super({id:"editor.action.addCursorsToTop",label:JI(0,"Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections();let i=[];for(let o=n[0].startLineNumber;o>=1;o--)i.push(new Ze(o,n[0].startColumn,o,n[0].endColumn));const s=t._getViewModel(),r=s.getCursorStates();i.length>0&&t.setSelections(i),rde(r,s.getCursorStates())}});var gde=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const fde={Visible:new mU("parameterHintsVisible",!1),MultipleSignatures:new mU("parameterHintsMultipleSignatures",!1)};function mde(e,t,n,i){return gde(this,void 0,void 0,(function*(){const s=GM.ordered(e);for(const o of s)try{const s=yield o.provideSignatureHelp(e,t,i,n);if(s)return s}catch(r){xt(r)}}))}vA.registerCommand("_executeSignatureHelpProvider",((e,...t)=>gde(void 0,void 0,void 0,(function*(){const[n,i,s]=t;Ye(P.isUri(n)),Ye(je.isIPosition(i)),Ye("string"==typeof s||!s);const r=yield e.get(CF).createModelReference(n);try{const e=yield mde(r.object.textEditorModel,je.lift(i),{triggerKind:FM.Invoke,isRetrigger:!1,triggerCharacter:s},ne.None);if(!e)return;return setTimeout((()=>e.dispose()),0),e.value}finally{r.dispose()}}))));var _de,vde=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}};e.Active=class{constructor(e){this.hints=e,this.type=1}}}(_de||(_de={}));class bde extends F{constructor(e,t=bde.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=_de.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Tt),this.triggerChars=new vn,this.retriggerChars=new vn,this.triggerId=0,this.editor=e,this.throttledDelayer=new gO(t),this._register(this.editor.onDidBlurEditorWidget((()=>this.cancel()))),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((e=>this.onCursorChange(e)))),this._register(this.editor.onDidChangeModelContent((e=>this.onModelContentChange()))),this._register(GM.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((e=>this.onDidType(e)))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=_de.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const n=this.editor.getModel();if(!n||!GM.has(n))return;const i=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((()=>this.doTrigger(i)),t).catch(V)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e==e-1,i=this.editor.getOption(72).cycle;!(e<2||n)||i?this.updateActiveSignature(n&&i?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=0===t,i=this.editor.getOption(72).cycle;!(e<2||n)||i?this.updateActiveSignature(n&&i?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new _de.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return vde(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,n=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const i=this._pendingTriggers.reduce(yde);this._pendingTriggers=[];const s={triggerKind:i.triggerKind,triggerCharacter:i.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),o=this.editor.getPosition();this.state=new _de.Pending(hO((e=>mde(r,o,s,e))),n);try{const t=yield this.state.request;return e!==this.triggerId?(null==t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new _de.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=_de.Default),V(a),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new vn,this.retriggerChars=new vn;const e=this.editor.getModel();if(e)for(const t of GM.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:FM.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:FM.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:FM.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(72).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function yde(e,t){switch(t.triggerKind){case FM.Invoke:return t;case FM.ContentChange:return e;case FM.TriggerCharacter:default:return t}}bde.DEFAULT_DELAY=120;var wde=function(e,t){return function(n,i){t(n,i,e)}};const Cde=LR,Sde=P0("parameter-hints-next",NM.chevronDown,JI(0,"Icon for show next parameter hint.")),xde=P0("parameter-hints-previous",NM.chevronUp,JI(0,"Icon for show previous parameter hint."));let kde=class e extends F{constructor(e,t,n,i){super(),this.editor=e,this.renderDisposeables=this._register(new B),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Jse({editor:e},i,n)),this.model=this._register(new bde(e)),this.keyVisible=fde.Visible.bindTo(t),this.keyMultipleSignatures=fde.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints((e=>{e?(this.show(),this.render(e)):this.hide()})))}createParamaterHintDOMNodes(){const e=Cde(".editor-widget.parameter-hints-widget"),t=wR(e,Cde(".phwrapper"));t.tabIndex=-1;const n=wR(t,Cde(".controls")),i=wR(n,Cde(".button"+xU.asCSSSelector(xde))),s=wR(n,Cde(".overloads")),r=wR(n,Cde(".button"+xU.asCSSSelector(Sde))),o=JP(ZP(i,"click"));this._register(o(this.previous,this));const a=JP(ZP(r,"click"));this._register(a(this.next,this));const l=Cde(".body"),c=new TX(l,{});this._register(c),t.appendChild(c.getDomNode());const d=wR(l,Cde(".signature")),h=wR(l,Cde(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:d,overloads:s,docs:h,scrollbar:c},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((e=>{this.visible&&this.editor.layoutContentWidget(this)})));const u=()=>{if(!this.domNodes)return;const e=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${e.fontSize}px`};u(),this._register(k.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(40))).on(u,null)),this._register(this.editor.onDidLayoutChange((e=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{this.domNodes&&this.domNodes.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const i=e.signatures[e.activeSignature];if(!i)return;const s=wR(this.domNodes.signature,Cde(".code")),r=this.editor.getOption(40);s.style.fontSize=`${r.fontSize}px`,s.style.fontFamily=r.fontFamily;const o=i.parameters.length>0,a=null!==(t=i.activeParameter)&&void 0!==t?t:e.activeParameter;if(o)this.renderParameters(s,i,a);else{wR(s,Cde("span")).textContent=i.label}const l=i.parameters[a];if(null==l?void 0:l.documentation){const e=Cde("span.documentation");if("string"==typeof l.documentation)e.textContent=l.documentation;else{const t=this.renderMarkdownDocs(l.documentation);e.appendChild(t.element)}wR(this.domNodes.docs,Cde("p",{},e))}if(void 0===i.documentation);else if("string"==typeof i.documentation)wR(this.domNodes.docs,Cde("p",{},i.documentation));else{const e=this.renderMarkdownDocs(i.documentation);wR(this.domNodes.docs,e.element)}const c=this.hasDocs(i,l);if(this.domNodes.signature.classList.toggle("has-docs",c),this.domNodes.docs.classList.toggle("empty",!c),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,l){const e=this.getParameterLabel(i,a);this.announcedLabel!==e&&(VH(JI(0,"{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&bn(t.documentation).length>0)||(!!(t&&"object"==typeof t.documentation&&bn(t.documentation).value.length>0)||(!!(e.documentation&&"string"==typeof e.documentation&&bn(e.documentation).length>0)||!!(e.documentation&&"object"==typeof e.documentation&&bn(e.documentation.value).length>0)))}renderParameters(e,t,n){const[i,s]=this.getParameterLabelOffsets(t,n),r=document.createElement("span");r.textContent=t.label.substring(0,i);const o=document.createElement("span");o.textContent=t.label.substring(i,s),o.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(s),wR(e,r,o,a)}getParameterLabel(e,t){const n=e.parameters[t];return Array.isArray(n.label)?e.label.substring(n.label[0],n.label[1]):n.label}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const t=new RegExp(`(\\W|^)${de(n.label)}(?=\\W|$)`,"g");t.test(e.label);const i=t.lastIndex-n.label.length;return i>=0?[i,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}};kde.ID="editor.widget.parameterHintsWidget",kde=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([wde(1,_U),wde(2,CA),wde(3,wF)],kde),LU(((e,t)=>{const n=e.getColor(pG);if(n){const i=e.type===yU.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${i}px solid ${n}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${n.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${n.transparent(.5)}; }`)}const i=e.getColor(hG);i&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);const s=e.getColor(XK);s&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${s}; }`);const r=e.getColor(uG);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const o=e.getColor(JK);o&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${o}; }`)}));let Ede=class e extends F{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(kde,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};Ede.ID="editor.controller.parameterHints",Ede=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,PP)],Ede);ZU(Ede.ID,Ede),qU(class extends zU{constructor(){super({id:"editor.action.triggerParameterHints",label:JI(0,"Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:EZ.hasSignatureHelpProvider,kbOpts:{kbExpr:EZ.editorTextFocus,primary:3082,weight:100}})}run(e,t){const n=Ede.get(t);n&&n.trigger({triggerKind:FM.Invoke})}});const Dde=UU.bindToContribution(Ede.get);KU(new Dde({id:"closeParameterHints",precondition:fde.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:EZ.focus,primary:9,secondary:[1033]}})),KU(new Dde({id:"showPrevParameterHint",precondition:JH.and(fde.Visible,fde.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:EZ.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),KU(new Dde({id:"showNextParameterHint",precondition:JH.and(fde.Visible,fde.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:EZ.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var Tde=function(e,t){return function(n,i){t(n,i,e)}};const Lde=new mU("renameInputVisible",!1,JI(0,"Whether the rename input widget is visible"));let Nde=class{constructor(e,t,n,i,s){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=i,this._disposables=new B,this.allowEditorOverflow=!0,this._visibleContextKey=Lde.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(40)&&this._updateFont()}))),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",JI(0,"Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,t;const[n,i]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(n),this._label.innerText=JI(0,"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(n))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(i))||void 0===t?void 0:t.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,i,s;if(!this._input||!this._domNode)return;const r=e.getColor(QK);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(Wq))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String(null!==(n=e.getColor(tq))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(i=e.getColor(eq))&&void 0!==i?i:"");const o=e.getColor(nq);this._input.style.borderWidth=o?"1px":"0px",this._input.style.borderStyle=o?"solid":"none",this._input.style.borderColor=null!==(s=null==o?void 0:o.toString())&&void 0!==s?s:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(40);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,n,i,s,r){this._domNode.classList.toggle("preview",s),this._position=new je(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",i.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const o=new B;return new Promise((e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=n=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:s&&n})):this.cancelInput(!0)},r.onCancellationRequested((()=>this.cancelInput(!0))),o.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!1)))),this._show()})).finally((()=>{o.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Nde=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Tde(2,CU),Tde(3,w1),Tde(4,_U)],Nde);var Ide=function(e,t){return function(n,i){t(n,i,e)}},Pde=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Ode{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=KM.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return Pde(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;let i=yield n.resolveRenameLocation(this.model,this.position,e);if(i){if(!i.rejectReason)return i;t.push(i.rejectReason)}}const n=this.model.getWordAtPosition(this.position);return n?{range:new oe(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:oe.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return Pde(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,n,i){return Pde(this,void 0,void 0,(function*(){const s=this._providers[t];if(!s)return{edits:[],rejectReason:n.join("\n")};const r=yield s.provideRenameEdits(this.model,this.position,e,i);return r?r.rejectReason?this._provideRenameEdits(e,t+1,n.concat(r.rejectReason),i):r:this._provideRenameEdits(e,t+1,n.concat(JI(0,"No result.")),i)}))}}let Rde=class e{constructor(e,t,n,i,s,r,o){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=i,this._progressService=s,this._logService=r,this._configService=o,this._dispoableStore=new B,this._cts=new L,this._renameInputField=this._dispoableStore.add(new SO((()=>this._dispoableStore.add(this._instaService.createInstance(Nde,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"])))))}static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Pde(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),t=new Ode(this.editor.getModel(),e);if(!t.hasProvider())return;let n;this._cts=new y0(this.editor,5);try{const e=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),n=yield e}catch(c){return void Ene.get(this.editor).showMessage(c||JI(0,"An unknown error occurred while resolving rename location"),e)}if(!n)return;if(n.rejectReason)return void Ene.get(this.editor).showMessage(n.rejectReason,e);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new y0(this.editor,5,n.range);let i=this.editor.getSelection(),s=0,r=n.text.length;oe.isEmpty(i)||oe.spansMultipleLines(i)||!oe.containsRange(n.range,i)||(s=Math.max(0,i.startColumn-n.range.startColumn),r=Math.min(n.range.endColumn,i.endColumn)-n.range.startColumn);const o=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),a=yield this._renameInputField.value.getInput(n.range,n.text,s,r,o,this._cts.token);if("boolean"==typeof a)return void(a&&this.editor.focus());this.editor.focus();const l=uO(t.provideRenameEdits(a.newName,this._cts.token),this._cts.token).then((e=>Pde(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):this._bulkEditService.apply(qV.convert(e),{editor:this.editor,showPreview:a.wantsPreview,label:JI(0,"Renaming '{0}'",null==n?void 0:n.text),quotableLabel:JI(0,"Renaming {0}",null==n?void 0:n.text)}).then((e=>{e.ariaSummary&&VH(JI(0,"Successfully renamed '{0}' to '{1}'. Summary: {2}",n.text,a.newName,e.ariaSummary))})).catch((e=>{this._notificationService.error(JI(0,"Rename failed to apply edits")),this._logService.error(e)})))}))),(e=>{this._notificationService.error(JI(0,"Rename failed to compute edits")),this._logService.error(e)}));return this._progressService.showWhile(l,250),l}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Rde.ID="editor.contrib.renameController",Rde=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Ide(1,PP),Ide(2,JW),Ide(3,KV),Ide(4,X0),Ide(5,IB),Ide(6,hB)],Rde);ZU(Rde.ID,Rde),qU(class extends zU{constructor(){super({id:"editor.action.rename",label:JI(0,"Rename Symbol"),alias:"Rename Symbol",precondition:JH.and(EZ.writable,EZ.hasRenameProvider),kbOpts:{kbExpr:EZ.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(MP),[i,s]=Array.isArray(t)&&t||[void 0,void 0];return P.isUri(i)&&je.isIPosition(s)?n.openCodeEditor({resource:i},n.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(s),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),V):super.runCommand(e,t)}run(e,t){const n=Rde.get(t);return n?n.run():Promise.resolve()}});const Ade=UU.bindToContribution(Rde.get);KU(new Ade({id:"acceptRenameInput",precondition:Lde,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:EZ.focus,primary:3}})),KU(new Ade({id:"acceptRenameInputWithPreview",precondition:JH.and(Lde,JH.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:EZ.focus,primary:1027}})),KU(new Ade({id:"cancelRenameInput",precondition:Lde,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:EZ.focus,primary:9,secondary:[1033]}})),$U("_executeDocumentRenameProvider",(function(e,t,...n){const[i]=n;return Ye("string"==typeof i),function(e,t,n){return Pde(this,void 0,void 0,(function*(){const i=new Ode(e,t),s=yield i.resolveRenameLocation(ne.None);return(null==s?void 0:s.rejectReason)?{edits:[],rejectReason:s.rejectReason}:i.provideRenameEdits(n,ne.None)}))}(e,t,i)})),ZV.as(QV).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:JI(0,"Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var Mde=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Fde{provideSelectionRanges(e,t){return Mde(this,void 0,void 0,(function*(){const n=[];for(const i of t){const t=[];n.push(t);const s=new Map;yield new Promise((t=>Fde._bracketsRightYield(t,0,e,i,s))),yield new Promise((n=>Fde._bracketsLeftYield(n,0,e,i,s,t)))}return n}))}static _bracketsRightYield(e,t,n,i,s){const r=new Map,o=Date.now();for(;;){if(t>=Fde._maxRounds){e();break}if(!i){e();break}let a=n.findNextBracket(i);if(!a){e();break}if(Date.now()-o>Fde._maxDuration){setTimeout((()=>Fde._bracketsRightYield(e,t+1,n,i,s)));break}const l=a.close[0];if(a.isOpen){let e=r.has(l)?r.get(l):0;r.set(l,e+1)}else{let e=r.has(l)?r.get(l):0;if(e-=1,r.set(l,Math.max(0,e)),e<0){let e=s.get(l);e||(e=new Q,s.set(l,e)),e.push(a.range)}}i=a.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,i,s,r){const o=new Map,a=Date.now();for(;;){if(t>=Fde._maxRounds&&0===s.size){e();break}if(!i){e();break}let l=n.findPrevBracket(i);if(!l){e();break}if(Date.now()-a>Fde._maxDuration){setTimeout((()=>Fde._bracketsLeftYield(e,t+1,n,i,s,r)));break}const c=l.close[0];if(l.isOpen){let e=o.has(c)?o.get(c):0;if(e-=1,o.set(c,Math.max(0,e)),e<0){let e=s.get(c);if(e){let t=e.shift();0===e.size&&s.delete(c);const i=oe.fromPositions(l.range.getEndPosition(),t.getStartPosition()),o=oe.fromPositions(l.range.getStartPosition(),t.getEndPosition());r.push({range:i}),r.push({range:o}),Fde._addBracketLeading(n,o,r)}}}else{let e=o.has(c)?o.get(c):0;o.set(c,e+1)}i=l.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const i=t.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(i);0!==s&&s!==t.startColumn&&(n.push({range:oe.fromPositions(new je(i,s),t.getEndPosition())}),n.push({range:oe.fromPositions(new je(i,1),t.getEndPosition())}));const r=i-1;if(r>0){const i=e.getLineFirstNonWhitespaceColumn(r);i===t.startColumn&&i!==e.getLineLastNonWhitespaceColumn(r)&&(n.push({range:oe.fromPositions(new je(r,i),t.getEndPosition())}),n.push({range:oe.fromPositions(new je(r,1),t.getEndPosition())}))}}}Fde._maxDuration=30,Fde._maxRounds=2;var Bde,Vde,Wde=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Hde{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new Hde(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}class Ude{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(Ude.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return Wde(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(!hF.has(n))return;if(this._state||(yield jde(n,t.map((e=>e.getPosition())),this._editor.getOption(99),ne.None).then((e=>{var n;if(wB(e)&&e.length===t.length&&this._editor.hasModel()&&gB(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let n=0;n<e.length;n++)e[n]=e[n].filter((e=>e.containsPosition(t[n].getStartPosition())&&e.containsPosition(t[n].getEndPosition()))),e[n].unshift(t[n]);this._state=e.map((e=>new Hde(0,e))),null===(n=this._selectionListener)||void 0===n||n.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)}))}}))),!this._state)return;this._state=this._state.map((t=>t.mov(e)));const i=this._state.map((e=>Ze.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(i)}finally{this._ignoreSelection=!1}}))}}Ude.ID="editor.contrib.smartSelectController";class zde extends zU{constructor(e,t){super(t),this._forward=e}run(e,t){return Wde(this,void 0,void 0,(function*(){let e=Ude.get(t);e&&(yield e.run(this._forward))}))}}vA.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function jde(e,t,n,i){return Wde(this,void 0,void 0,(function*(){const s=hF.all(e);1===s.length&&s.unshift(new Fde);let r=[],o=[];for(const n of s)r.push(Promise.resolve(n.provideSelectionRanges(e,t,i)).then((e=>{if(wB(e)&&e.length===t.length)for(let n=0;n<t.length;n++){o[n]||(o[n]=[]);for(const i of e[n])oe.isIRange(i.range)&&oe.containsPosition(i.range,t[n])&&o[n].push(oe.lift(i.range))}}),xt));return yield Promise.all(r),o.map((t=>{if(0===t.length)return[];t.sort(((e,t)=>je.isBefore(e.getStartPosition(),t.getStartPosition())?1:je.isBefore(t.getStartPosition(),e.getStartPosition())||je.isBefore(e.getEndPosition(),t.getEndPosition())?-1:je.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));let i,s=[];for(const e of t)(!i||oe.containsRange(e,i)&&!oe.equalsRange(e,i))&&(s.push(e),i=e);if(!n.selectLeadingAndTrailingWhitespace)return s;let r=[s[0]];for(let n=1;n<s.length;n++){const t=s[n-1],i=s[n];if(i.startLineNumber!==t.startLineNumber||i.endLineNumber!==t.endLineNumber){const n=new oe(t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineLastNonWhitespaceColumn(t.endLineNumber));n.containsRange(t)&&!n.equalsRange(t)&&i.containsRange(n)&&!i.equalsRange(n)&&r.push(n);const s=new oe(t.startLineNumber,1,t.endLineNumber,e.getLineMaxColumn(t.endLineNumber));s.containsRange(t)&&!s.equalsRange(n)&&i.containsRange(s)&&!i.equalsRange(s)&&r.push(s)}r.push(i)}return r}))}))}ZU(Ude.ID,Ude),qU(class extends zde{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:JI(0,"Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"1_basic",title:JI(0,"&&Expand Selection"),order:2}})}}),qU(class extends zde{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:JI(0,"Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:OU.MenubarSelectionMenu,group:"1_basic",title:JI(0,"&&Shrink Selection"),order:3}})}}),hF.register("*",new class{provideSelectionRanges(e,t){const n=[];for(const i of t){const t=[];n.push(t),this._addInWordRanges(t,e,i),this._addWordRanges(t,e,i),this._addWhitespaceLine(t,e,i),t.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const i=t.getWordAtPosition(n);if(!i)return;let{word:s,startColumn:r}=i,o=n.column-r,a=o,l=o,c=0;for(;a>=0;a--){let e=s.charCodeAt(a);if(a!==o&&(95===e||45===e))break;if(gt(e)&&ft(c))break;c=e}for(a+=1;l<s.length;l++){let e=s.charCodeAt(l);if(ft(e)&&gt(c))break;if(95===e||45===e)break;c=e}a<l&&e.push({range:new oe(n.lineNumber,r+a,n.lineNumber,r+l)})}_addWordRanges(e,t,n){const i=t.getWordAtPosition(n);i&&e.push({range:new oe(n.lineNumber,i.startColumn,n.lineNumber,i.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new oe(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}),Bde="_executeSelectionRangeProvider",Vde=function(e,...t){const[n]=t;return jde(e,n,{selectLeadingAndTrailingWhitespace:!0},ne.None)},vA.registerCommand(Bde,(function(e,...t){const[n]=t;Ye(P.isUri(n));const i=e.get(CM).getModel(n);return i?Vde(i,...t.slice(1)):e.get(CF).createModelReference(n).then((e=>new Promise(((n,i)=>{try{n(Vde(e.object.textEditorModel,t.slice(1)))}catch(s){i(s)}})).finally((()=>{e.dispose()}))))}));class $de{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e,t=this.pos,n=0,i=this.value.charCodeAt(t);if(e=$de._table[i],"number"==typeof e)return this.pos+=1,{type:e,pos:t,len:1};if($de.isDigitCharacter(i)){e=8;do{n+=1,i=this.value.charCodeAt(t+n)}while($de.isDigitCharacter(i));return this.pos+=n,{type:e,pos:t,len:n}}if($de.isVariableCharacter(i)){e=9;do{i=this.value.charCodeAt(t+ ++n)}while($de.isVariableCharacter(i)||$de.isDigitCharacter(i));return this.pos+=n,{type:e,pos:t,len:n}}e=10;do{n+=1,i=this.value.charCodeAt(t+n)}while(!isNaN(i)&&void 0===$de._table[i]&&!$de.isDigitCharacter(i)&&!$de.isVariableCharacter(i));return this.pos+=n,{type:e,pos:t,len:n}}}$de._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class Kde{constructor(){this._children=[]}appendChild(e){return e instanceof qde&&this._children[this._children.length-1]instanceof qde?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,i=n.children.indexOf(e),s=n.children.slice(0);s.splice(i,1,...t),n._children=s,function e(t,n){for(const i of t)i.parent=n,e(i.children,i)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof the)return e;e=e.parent}}toString(){return this.children.reduce(((e,t)=>e+t.toString()),"")}len(){return 0}}class qde extends Kde{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new qde(this.value)}}class Gde extends Kde{}class Yde extends Gde{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof Zde?this._children[0]:void 0}clone(){let e=new Yde(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}class Zde extends Kde{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof qde&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new Zde;return this.options.forEach(e.appendChild,e),e}}class Xde extends Kde{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,i=e.replace(this.regexp,(function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!n&&this._children.some((e=>e instanceof Jde&&Boolean(e.elseValue)))&&(i=this._replace([])),i}_replace(e){let t="";for(const n of this._children)if(n instanceof Jde){let i=e[n.index]||"";i=n.resolve(i),t+=i}else t+=n.toString();return t}toString(){return""}clone(){let e=new Xde;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((e=>e.clone())),e}}class Jde extends Kde{constructor(e,t,n,i){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=i}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e}clone(){return new Jde(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Qde extends Gde{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new qde(t)],!0)}clone(){const e=new Qde(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}function ehe(e,t){const n=[...e];for(;n.length>0;){const e=n.shift();if(!t(e))break;n.unshift(...e.children)}}class the extends Kde{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(n){return n instanceof Yde&&(t.push(n),e=!e||e.index<n.index?n:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk((i=>i===e?(n=!0,!1):(t+=i.len(),!0))),n?t:-1}fullLen(e){let t=0;return ehe([e],(e=>(t+=e.len(),!0))),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof Yde&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk((t=>(t instanceof Qde&&t.resolve(e)&&(this._placeholders=void 0),!0))),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new the;return this._children=this.children.map((e=>e.clone())),e}walk(e){ehe(this.children,e)}}class nhe{constructor(){this._scanner=new $de,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){this._scanner.text(e),this._token=this._scanner.next();const i=new the;for(;this._parse(i););const s=new Map,r=[];let o=0;i.walk((e=>(e instanceof Yde&&(o+=1,e.isFinalTabstop?s.set(0,void 0):!s.has(e.index)&&e.children.length>0?s.set(e.index,e.children):r.push(e)),!0)));for(const a of r){const e=s.get(a.index);if(e){const t=new Yde(a.index);t.transform=a.transform;for(const n of e)t.appendChild(n.clone());i.replace(a,[t])}}return n||(n=o>0&&t),!s.has(0)&&n&&i.appendChild(new Yde(0)),i}_accept(e,t){if(void 0===e||this._token.type===e){let e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new qde(t)),!0)}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Yde(Number(t)):new Qde(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const i=new Yde(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(i),!0;if(!this._parse(i))return e.appendChild(new qde("${"+t+":")),i.children.forEach(e.appendChild,e),!0}else{if(!(i.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(i)?(e.appendChild(i),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(i),!0):this._backTo(n);{const t=new Zde;for(;;){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(i.appendChild(t),this._accept(4)))return e.appendChild(i),!0}return this._backTo(n),!1}}}}_parseChoiceElement(e){const t=this._token,n=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;n.push(e)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new qde(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const i=new Qde(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(i)?(e.appendChild(i),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(i),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(i),!0;if(!this._parse(i))return e.appendChild(new qde("${"+t+":")),i.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new Xde,n="",i="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,n+=e;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new qde(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,i)}catch(s){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let i=this._accept(8,!0);if(!i)return this._backTo(t),!1;if(!n)return e.appendChild(new Jde(Number(i))),!0;if(this._accept(4))return e.appendChild(new Jde(Number(i))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let n=this._accept(9,!0);return n&&this._accept(4)?(e.appendChild(new Jde(Number(i),n)),!0):(this._backTo(t),!1)}if(this._accept(11)){let t=this._until(4);if(t)return e.appendChild(new Jde(Number(i),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return e.appendChild(new Jde(Number(i),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let n=this._until(4);if(n)return e.appendChild(new Jde(Number(i),void 0,t,n)),!0}}else{let t=this._until(4);if(t)return e.appendChild(new Jde(Number(i),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new qde(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}var ihe=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const she={Visible:new mU("suggestWidgetVisible",!1,JI(0,"Whether suggestion are visible")),DetailsVisible:new mU("suggestWidgetDetailsVisible",!1,JI(0,"Whether suggestion details are visible")),MultipleSuggestions:new mU("suggestWidgetMultipleSuggestions",!1,JI(0,"Whether there are multiple suggestions to pick from")),MakesTextEdit:new mU("suggestionMakesTextEdit",!0,JI(0,"Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new mU("acceptSuggestionOnEnter",!0,JI(0,"Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new mU("suggestionHasInsertAndReplaceRange",!1,JI(0,"Whether the current suggestion has insert and replace behaviour")),InsertMode:new mU("suggestionInsertMode",void 0,{type:"string",description:JI(0,"Whether the default behaviour is to insert or replace")}),CanResolve:new mU("suggestionCanResolve",!1,JI(0,"Whether the current suggestion supports to resolve further details"))},rhe=new OU("suggestWidgetStatusBar");class ohe{constructor(e,t,n,i){this.position=e,this.completion=t,this.container=n,this.provider=i,this.isInvalid=!1,this.score=U3.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),oe.isIRange(t.range)?(this.editStart=new je(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new je(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new je(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||oe.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new je(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new je(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new je(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||oe.spansMultipleLines(t.range.insert)||oe.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof i.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return ihe(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()}),(e=>{kt(e)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}}class ahe{constructor(e=2,t=new Set,n=new Set){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n}}ahe.default=new ahe;class lhe{constructor(e,t,n,i){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=i}}function che(e,t,n=ahe.default,i={triggerKind:0},s=ne.None){return ihe(this,void 0,void 0,(function*(){const r=new Se(!0);t=t.clone();const o=e.getWordAtPosition(t),a=o?new oe(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):oe.fromPositions(t),l={replace:a,insert:a.setEndPosition(t.lineNumber,t.column)},c=[],d=new B,h=[];let u=!1;const p=(e,i,s)=>{var r,o;if(i){for(let s of i.suggestions)n.kindFilter.has(s.kind)||(s.range||(s.range=l),s.sortText||(s.sortText="string"==typeof s.label?s.label:s.label.name),!u&&s.insertTextRules&&4&s.insertTextRules&&(u=nhe.guessNeedsClipboard(s.insertText)),c.push(new ohe(t,s,i,e)));Ft(i)&&d.add(i),h.push({providerName:null!==(r=e._debugDisplayName)&&void 0!==r?r:"unkown_provider",elapsedProvider:null!==(o=i.duration)&&void 0!==o?o:-1,elapsedOverall:s.elapsed()})}},g=(()=>ihe(this,void 0,void 0,(function*(){})))();for(let f of qM.orderedGroups(e)){let r=c.length;if(yield Promise.all(f.map((r=>ihe(this,void 0,void 0,(function*(){if(!(n.providerFilter.size>0)||n.providerFilter.has(r))try{const n=new Se(!0),o=yield r.provideCompletionItems(e,t,i,s);p(r,o,n)}catch(o){xt(o)}}))))),r!==c.length||s.isCancellationRequested)break}return yield g,s.isCancellationRequested?(d.dispose(),Promise.reject(N())):new lhe(c.sort(uhe(n.snippetSortOrder)),u,{entries:h,elapsed:r.elapsed()},d)}))}function dhe(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}const hhe=new Map;function uhe(e){return hhe.get(e)}hhe.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return dhe(e,t)})),hhe.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return dhe(e,t)})),hhe.set(1,dhe),vA.registerCommand("_executeCompletionItemProvider",((e,...t)=>ihe(void 0,void 0,void 0,(function*(){const[n,i,s,r]=t;Ye(P.isUri(n)),Ye(je.isIPosition(i)),Ye("string"==typeof s||!s),Ye("number"==typeof r||!r);const o=yield e.get(CF).createModelReference(n);try{const e={incomplete:!1,suggestions:[]},t=[],n=yield che(o.object.textEditorModel,je.lift(i),void 0,{triggerCharacter:s,triggerKind:s?1:0});for(const i of n.items)t.length<(null!=r?r:0)&&t.push(i.resolve(ne.None)),e.incomplete=e.incomplete||i.container.incomplete,e.suggestions.push(i.completion);try{return yield Promise.all(t),e}finally{setTimeout((()=>n.disposable.dispose()),100)}}finally{o.dispose()}}))));const phe=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};qM.register("*",phe);function ghe(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&P.isUri(t.uri)}const fhe=new Uint8Array(16),mhe=[];for(let pCe=0;pCe<256;pCe++)mhe.push(pCe.toString(16).padStart(2,"0"));let _he;_he="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};class vhe{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let n=t.resolve(e);if(void 0!==n)return n}}}class bhe{constructor(e,t,n,i){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=i}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,n=e.multiline)}if(t&&n&&e.snippet){const n=this._model.getLineContent(this._selection.startLineNumber),i=we(n,0,this._selection.startColumn-1);let s=i;e.snippet.walk((t=>t!==e&&(t instanceof qde&&(s=we(Ae(t.value).pop())),!0)));const r=ct(s,i);t=t.replace(/(\r\n|\r|\n)(.*)/g,((e,t,n)=>`${t}${s.substr(r)}${n}`))}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class yhe{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return le(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=le(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t&&this._labelService?"."===Z(this._model.uri.fsPath)?"":this._labelService.getUriLabel(hA(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class whe{constructor(e,t,n,i){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=i}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter((e=>!qe(e)));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}class Che{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),i=dB.getComments(n);if(i)return"LINE_COMMENT"===t?i.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?i.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&i.blockCommentEndToken||void 0}}class She{resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===t?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===t?String((new Date).getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String((new Date).getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String((new Date).getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String((new Date).getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String((new Date).getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?She.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===t?She.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===t?She.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?She.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(Date.now()/1e3)):void 0}}She.dayNames=[JI(0,"Sunday"),JI(0,"Monday"),JI(0,"Tuesday"),JI(0,"Wednesday"),JI(0,"Thursday"),JI(0,"Friday"),JI(0,"Saturday")],She.dayNamesShort=[JI(0,"Sun"),JI(0,"Mon"),JI(0,"Tue"),JI(0,"Wed"),JI(0,"Thu"),JI(0,"Fri"),JI(0,"Sat")],She.monthNames=[JI(0,"January"),JI(0,"February"),JI(0,"March"),JI(0,"April"),JI(0,"May"),JI(0,"June"),JI(0,"July"),JI(0,"August"),JI(0,"September"),JI(0,"October"),JI(0,"November"),JI(0,"December")],She.monthNamesShort=[JI(0,"Jan"),JI(0,"Feb"),JI(0,"Mar"),JI(0,"Apr"),JI(0,"May"),JI(0,"Jun"),JI(0,"Jul"),JI(0,"Aug"),JI(0,"Sep"),JI(0,"Oct"),JI(0,"Nov"),JI(0,"Dec")];class xhe{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(n=this._workspaceService.getWorkspace()).configuration?{id:n.id,configPath:n.configuration}:1===n.folders.length?{id:n.id,uri:n.folders[0].uri}:void 0;var n;return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if(ghe(e))return le(e.uri.path);let t=le(e.configPath.path);return t.endsWith("code-workspace")&&(t=t.substr(0,t.length-"code-workspace".length-1)),t}_resoveWorkspacePath(e){if(ghe(e))return Lie(e.uri.fsPath);let t=le(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?Lie(n):"/"}}class khe{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?function(){_he(fhe),fhe[6]=15&fhe[6]|64,fhe[8]=63&fhe[8]|128;let e=0,t="";return t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+="-",t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+="-",t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+="-",t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+="-",t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t+=mhe[fhe[e++]],t}():void 0}}LU(((e,t)=>{function n(t){const n=e.getColor(t);return n?n.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${n(tY)}; outline-color: ${n(nY)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${n(iY)}; outline-color: ${n(sY)}; }`)}));class Ehe{constructor(e,t,n,i){this._editor=e,this._snippet=t,this._offset=n,this._snippetLineLeadingWhitespace=i,this._nestingLevel=1,this._placeholderGroups=vB(t.placeholders,Yde.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t=>{for(const n of this._snippet.placeholders){const i=this._snippet.offset(n),s=this._snippet.fullLen(n),r=oe.fromPositions(e.getPositionAt(this._offset+i),e.getPositionAt(this._offset+i+s)),o=n.isFinalTabstop?Ehe._decor.inactiveFinal:Ehe._decor.inactive,a=t.addDecoration(r,o);this._placeholderDecorations.set(n,a)}}))}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const n=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(n),s=this._editor.getModel().getValueInRange(i),r=t.transform.resolve(s).split(/\r\n|\r|\n/);for(let e=1;e<r.length;e++)r[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+r[e]);e.push(DW.replace(i,r.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations((e=>{const n=new Set,i=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const r=this._placeholderDecorations.get(s),o=this._editor.getModel().getDecorationRange(r);i.push(new Ze(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(s),e.changeDecorationOptions(r,s.isFinalTabstop?Ehe._decor.activeFinal:Ehe._decor.active),n.add(s);for(const t of this._snippet.enclosingPlaceholders(s)){const i=this._placeholderDecorations.get(t);e.changeDecorationOptions(i,t.isFinalTabstop?Ehe._decor.activeFinal:Ehe._decor.active),n.add(t)}}for(const[t,s]of this._placeholderDecorations)n.has(t)||e.changeDecorationOptions(s,t.isFinalTabstop?Ehe._decor.inactiveFinal:Ehe._decor.inactive);return i}));return t?this.move(e):null!=n?n:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Yde){const e=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(e).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const i of t){if(i.isFinalTabstop)break;n||(n=[],e.set(i.index,n));const t=this._placeholderDecorations.get(i),s=this._editor.getModel().getDecorationRange(t);if(!s){e.delete(i.index);break}n.push(s)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((n=>{for(const i of this._placeholderGroups[this._placeholderGroupsIdx]){const s=e.shift();console.assert(!s._placeholderDecorations);const r=s._snippet.placeholderInfo.last.index;for(const e of s._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=i.index+(r+1)/this._nestingLevel:e.index=i.index+e.index/this._nestingLevel;this._snippet.replace(i,s._snippet.children);const o=this._placeholderDecorations.get(i);n.removeDecoration(o),this._placeholderDecorations.delete(i);for(const e of s._snippet.placeholders){const i=s._snippet.offset(e),r=s._snippet.fullLen(e),o=oe.fromPositions(t.getPositionAt(s._offset+i),t.getPositionAt(s._offset+i+r)),a=n.addDecoration(o,Ehe._decor.inactive);this._placeholderDecorations.set(e,a)}}this._placeholderGroups=vB(this._snippet.placeholders,Yde.compareByIndex)}))}}Ehe._decor={active:Q$.register({stickiness:0,className:"snippet-placeholder"}),inactive:Q$.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:Q$.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Q$.register({stickiness:1,className:"finish-snippet-placeholder"})};const Dhe={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class The{constructor(e,t,n=Dhe){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}static adjustWhitespace(e,t,n,i,s){const r=e.getLineContent(t.lineNumber),o=we(r,0,t.column-1);let a;return n.walk((t=>{if(!(t instanceof qde)||t.parent instanceof Zde)return!0;const s=t.value.split(/\r\n|\r|\n/);if(i){const i=n.offset(t);if(0===i)s[0]=e.normalizeIndentation(s[0]);else{a=null!=a?a:n.toString();let t=a.charCodeAt(i-1);10!==t&&13!==t||(s[0]=e.normalizeIndentation(o+s[0]))}for(let t=1;t<s.length;t++)s[t]=e.normalizeIndentation(o+s[t])}const r=s.join(e.getEOL());return r!==t.value&&(t.parent.replace(t,[new qde(r)]),a=void 0),!0})),o}static adjustSelection(e,t,n,i){if(0!==n||0!==i){const{positionLineNumber:s,positionColumn:r}=t,o=r-n,a=r+i,l=e.validateRange({startLineNumber:s,startColumn:o,endLineNumber:s,endColumn:a});t=Ze.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,n,i,s,r,o,a){const l=[],c=[];if(!e.hasModel())return{edits:l,snippets:c};const d=e.getModel(),h=e.invokeWithinContext((e=>e.get(QW,AP))),u=e.invokeWithinContext((e=>new yhe(e.get(T4,AP),d))),p=()=>o;let g=0,f=d.getValueInRange(The.adjustSelection(d,e.getSelection(),n,0)),m=d.getValueInRange(The.adjustSelection(d,e.getSelection(),0,i)),_=d.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const v=e.getSelections().map(((e,t)=>({selection:e,idx:t}))).sort(((e,t)=>oe.compareRangesUsingStarts(e.selection,t.selection)));for(const{selection:b,idx:y}of v){let o=The.adjustSelection(d,b,n,0),w=The.adjustSelection(d,b,0,i);f!==d.getValueInRange(o)&&(o=b),m!==d.getValueInRange(w)&&(w=b);const C=b.setStartPosition(o.startLineNumber,o.startColumn).setEndPosition(w.endLineNumber,w.endColumn),S=(new nhe).parse(t,!0,s),x=C.getStartPosition(),k=The.adjustWhitespace(d,x,S,r||y>0&&_!==d.getLineFirstNonWhitespaceColumn(b.positionLineNumber),!0);S.resolveVariables(new vhe([u,new whe(p,y,v.length,"spread"===e.getOption(67)),new bhe(d,b,y,a),new Che(d,b),new She,new xhe(h),new khe]));const E=d.getOffsetAt(x)+g;g+=S.toString().length-d.getValueLengthInRange(C),l[y]=DW.replace(C,S.toString()),l[y].identifier={major:y,minor:0},c[y]=new Ehe(e,S,E,k)}return{edits:l,snippets:c}}dispose(){De(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=The.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,(e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter((e=>!!e.identifier)).map((e=>Ze.fromPositions(e.range.getEndPosition()))))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=Dhe){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:i}=The.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",n,(e=>{for(const t of this._snippets)t.merge(i);return console.assert(0===i.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter((e=>!!e.identifier)).map((e=>Ze.fromPositions(e.range.getEndPosition())))}))}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const i=n.move(e);t.push(...i)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const n of this._snippets){const i=n.computePossibleSelections();if(0===t.size)for(const[n,s]of i){s.sort(oe.compareRangesUsingStarts);for(const i of e)if(s[0].containsRange(i)){t.set(n,[]);break}}if(0===t.size)return!1;t.forEach(((e,t)=>{e.push(...i.get(t))}))}e.sort(oe.compareRangesUsingStarts);for(let[n,i]of t)if(i.length===e.length){i.sort(oe.compareRangesUsingStarts);for(let s=0;s<i.length;s++)i[s].containsRange(e[s])||t.delete(n)}else t.delete(n);return t.size>0}}var Lhe=function(e,t){return function(n,i){t(n,i,e)}};const Nhe={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Ihe=class e{constructor(t,n,i){this._editor=t,this._logService=n,this._snippetListener=new B,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(i),this._hasNextTabstop=e.HasNextTabstop.bindTo(i),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?Nhe:Object.assign(Object.assign({},Nhe),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new The(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((e=>e.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState()))))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;var t,n;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map((e=>Ze.fromPositions(e.getStartPosition()))));const[i]=e.options;t=this._editor,n=e.options.map(((e,t)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(t+1),range:oe.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,i.value.length))}))),setTimeout((()=>{phe.onlyOnceSuggestions.push(...n),t.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(phe))}),0)}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Ihe.ID="snippetController2",Ihe.InSnippetMode=new mU("inSnippetMode",!1,JI(0,"Whether the editor in current in snippet mode")),Ihe.HasNextTabstop=new mU("hasNextTabstop",!1,JI(0,"Whether there is a next tab stop when in snippet mode")),Ihe.HasPrevTabstop=new mU("hasPrevTabstop",!1,JI(0,"Whether there is a previous tab stop when in snippet mode")),Ihe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Lhe(1,IB),Lhe(2,_U)],Ihe),ZU(Ihe.ID,Ihe);const Phe=UU.bindToContribution(Ihe.get);KU(new Phe({id:"jumpToNextSnippetPlaceholder",precondition:JH.and(Ihe.InSnippetMode,Ihe.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:EZ.editorTextFocus,primary:2}})),KU(new Phe({id:"jumpToPrevSnippetPlaceholder",precondition:JH.and(Ihe.InSnippetMode,Ihe.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:EZ.editorTextFocus,primary:1026}})),KU(new Phe({id:"leaveSnippet",precondition:Ihe.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:EZ.editorTextFocus,primary:9,secondary:[1033]}})),KU(new Phe({id:"acceptSnippet",precondition:Ihe.InSnippetMode,handler:e=>e.finish()}));var Ohe=function(e,t){return function(n,i){t(n,i,e)}};class Rhe{constructor(e){this.name=e}select(e,t,n){if(0===n.length)return 0;let i=n[0].score[0];for(let s=0;s<n.length;s++){const{score:e,completion:t}=n[s];if(e[0]!==i)break;if(t.preselect)return s}return 0}}class Ahe extends Rhe{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}let Mhe=class e{constructor(e,t,n){this._storageService=e,this._modeService=t,this._configService=n,this._disposables=new B,this._persistSoon=new wO((()=>this._saveState()),500),this._disposables.add(e.onWillSaveState((e=>{e.reason===P8.SHUTDOWN&&this._saveState()})))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(t,n){var i,s;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(i=this._modeService.getLanguageIdentifier(t.getLanguageIdAtPosition(n.lineNumber,n.column)))||void 0===i?void 0:i.language,resource:t.uri});if((null===(s=this._strategy)||void 0===s?void 0:s.name)!==r){this._saveState();const t=e._strategyCtors.get(r)||Ahe;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=this._storageService.get(`${e._storagePrefix}/${r}`,t);n&&this._strategy.fromJSON(JSON.parse(n))}catch(o){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,n,t,1)}}};Mhe._strategyCtors=new Map([["recentlyUsedByPrefix",class extends Rhe{constructor(){super("recentlyUsedByPrefix"),this._trie=zR.forStrings(),this._seq=0}memorize(e,t,n){const{word:i}=e.getWordUntilPosition(t),s=`${e.getLanguageIdentifier().language}/${i}`;this._trie.set(s,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){let{word:i}=e.getWordUntilPosition(t);if(!i)return super.select(e,t,n);let s=`${e.getLanguageIdentifier().language}/${i}`,r=this._trie.get(s);if(r||(r=this._trie.findSubstr(s)),r)for(let o=0;o<n.length;o++){let{kind:e,insertText:t}=n[o].completion;if(e===r.type&&t===r.insertText)return o}return super.select(e,t,n)}toJSON(){let e=[];return this._trie.forEach(((t,n)=>e.push([n,t]))),e.sort(((e,t)=>-(e[1].touch-t[1].touch))).forEach(((e,t)=>e[1].touch=t)),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type="number"==typeof n.type?n.type:MM(n.type),this._trie.set(t,n)}}}],["recentlyUsed",class extends Rhe{constructor(){super("recentlyUsed"),this._cache=new KR(300,.66),this._seq=0}memorize(e,t,n){const i=`${e.getLanguageIdentifier().language}/${n.textLabel}`;this._cache.set(i,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(0===n.length)return 0;const i=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(i))return super.select(e,t,n);let s=n[0].score[0],r=-1,o=-1,a=-1;for(let l=0;l<n.length&&n[l].score[0]===s;l++){const t=`${e.getLanguageIdentifier().language}/${n[l].textLabel}`,i=this._cache.peek(t);if(i&&i.touch>a&&i.type===n[l].completion.kind&&i.insertText===n[l].completion.insertText&&(a=i.touch,o=l),n[l].completion.preselect&&-1===r)return l}return-1!==o?o:-1!==r?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[t,n]of e)n.touch=0,n.type="number"==typeof n.type?n.type:MM(n.type),this._cache.set(t,n);this._seq=this._cache.size}}],["first",Ahe]]),Mhe._storagePrefix="suggest/memories",Mhe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Ohe(0,I8),Ohe(1,wF),Ohe(2,TW)],Mhe);const Fhe=RP("ISuggestMemories");f0(Fhe,Mhe,!0);let Bhe=class e{constructor(t,n){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(n)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:n},i){if(0===t.items.length)return void this.reset();e._moveIndex(!0,t,n)!==n?(this._acceptNext=i,this._model=t,this._index=n,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,n){let i=n;for(;i=(i+t.items.length+(e?1:-1))%t.items.length,i!==n&&t.items[i].completion.additionalTextEdits;);return i}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Bhe.OtherSuggestions=new mU("hasOtherSuggestions",!1),Bhe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],Bhe);class Vhe{constructor(e,t,n,i,s,r,o){this.clipboardText=o,this._snippetCompareFn=Vhe._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=i,this._options=s,this._refilterKind=1,this._lineContext=n,"top"===r?this._snippetCompareFn=Vhe._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=Vhe._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){let t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let i="",s="";const r=1===this._refilterKind?this._items:this._filteredItems,o=[],a=!this._options.filterGraceful||r.length>2e3?j3:K3;for(let l=0;l<r.length;l++){const c=r[l];if(c.isInvalid)continue;this._providerInfo.set(c.provider,Boolean(c.container.incomplete));const d=c.position.column-c.editStart.column,h=d+n-(c.position.column-this._column);if(i.length!==h&&(i=0===h?"":t.slice(-h),s=i.toLowerCase()),c.word=i,0===h)c.score=U3.Default;else{let e=0;for(;e<d;){const t=i.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=h)c.score=U3.Default;else if("string"==typeof c.completion.filterText){let t=a(i,s,e,c.completion.filterText,c.filterTextLow,0,!1);if(!t)continue;0===U(c.completion.filterText,c.textLabel)?c.score=t:(c.score=N3(i,s,e,c.textLabel,c.labelLow,0),c.score[0]=t[0])}else{let t=a(i,s,e,c.textLabel,c.labelLow,0,!1);if(!t)continue;c.score=t}}c.idx=l,c.distance=this._wordDistance.distance(c.position,c.completion),o.push(c),e.push(c.textLabel.length)}this._filteredItems=o.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?_B(e.length-.85,e,((e,t)=>e-t)):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return Vhe._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return Vhe._compareCompletionItems(e,t)}}var Whe=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Hhe{static create(e,t){return Whe(this,void 0,void 0,(function*(){if(!t.getOption(103).localityBonus)return Hhe.None;if(!t.hasModel())return Hhe.None;const n=t.getModel(),i=t.getPosition();if(!e.canComputeWordRanges(n.uri))return Hhe.None;const[s]=yield(new Fde).provideSelectionRanges(n,[i]);if(0===s.length)return Hhe.None;const r=yield e.computeWordRanges(n.uri,s[0].range);if(!r)return Hhe.None;const o=n.getWordUntilPosition(i);return delete r[o.word],new class extends Hhe{distance(e,n){if(!i.equals(t.getPosition()))return 0;if(17===n.kind)return 2<<20;let o="string"==typeof n.label?n.label:n.label.name,a=r[o];if(yB(a))return 2<<20;let l=fB(a,oe.fromPositions(e),oe.compareRangesUsingStarts),c=l>=0?a[l]:a[Math.max(0,~l-1)],d=s.length;for(const t of s){if(!oe.containsRange(t.range,c))break;d-=1}return d}}}))}}Hhe.None=new class extends Hhe{distance(){return 0}};var Uhe=function(e,t){return function(n,i){t(n,i,e)}},zhe=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class jhe{constructor(e,t,n,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=i}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);const i=t.getWordAtPosition(n);return!!i&&(i.endColumn===n.column&&!!isNaN(Number(i.word)))}}let $he=class e{constructor(e,t,n,i,s){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=i,this._logService=s,this._toDispose=new B,this._quickSuggestDelay=10,this._triggerCharacterListener=new B,this._triggerQuickSuggest=new bO,this._state=0,this._completionDisposables=new B,this._onDidCancel=new x,this._onDidTrigger=new x,this._onDidSuggest=new x,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ze(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()}))),this._toDispose.add(qM.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._onCursorChange(e)})));let r=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{r=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{r=!1,this._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{r||this._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){De(this._triggerCharacterListener),De([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(76),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(77)||!this._editor.hasModel()||!this._editor.getOption(106))return;const e=new Map;for(const n of qM.all(this._editor.getModel()))for(const t of n.triggerCharacters||[]){let i=e.get(t);i||(i=new Set,i.add(void 0),e.set(t,i)),i.add(n)}const t=t=>{if(!t){const e=this._editor.getPosition();t=this._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}let n="";wt(t.charCodeAt(t.length-1))?_e(t.charCodeAt(t.length-2))&&(n=t.substr(t.length-2)):n=t.charAt(t.length-1);const i=e.get(n);if(i){const e=this._completionModel?{items:this._completionModel.adopt(i),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:n},Boolean(this._completionModel),i,e)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&qM.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(qM.has(t))if(0===this._state&&0===e.reason){if(!1===this._editor.getOption(75))return;if(!n.containsRange(this._currentSelection)&&!n.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(103).snippetsPreventQuickSuggestions&&Ihe.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(0!==this._state)return;if(!jhe.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=this._editor.getOption(75);if(!1!==n){if(!0===n);else{e.tokenizeIfCheap(t.lineNumber);const i=e.getLineTokens(t.lineNumber),s=i.getStandardTokenType(i.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(n.other&&0===s||n.comments&&1===s||n.strings&&2===s))return}this.trigger({auto:!0,shy:!1})}}),this._quickSuggestDelay)}else 0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then((()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new jhe(e,t,2===this._state,!1);this._onNewContext(n)}))}trigger(t,n=!1,i,s){var r;if(!this._editor.hasModel())return;const o=this._editor.getModel(),a=t.auto,l=new jhe(o,this._editor.getPosition(),a,t.shy);this.cancel(n),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:t.shy,position:this._editor.getPosition()}),this._context=l;let c={triggerKind:null!==(r=t.triggerKind)&&void 0!==r?r:0};t.triggerCharacter&&(c={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new L;const d=this._editor.getOption(98);let h=1;switch(d){case"top":h=0;break;case"bottom":h=2}const u=e._createItemKindFilter(this._editor),p=Hhe.create(this._editorWorkerService,this._editor),g=che(o,this._editor.getPosition(),new ahe(h,u,i),c,this._requestToken.token);Promise.all([g,p]).then((([e,n])=>zhe(this,void 0,void 0,(function*(){var i;if(null===(i=this._requestToken)||void 0===i||i.dispose(),!this._editor.hasModel())return;let r=null==s?void 0:s.clipboardText;if(!r&&e.needsClipboard&&(r=yield this._clipboardService.readText()),0===this._state)return;const o=this._editor.getModel();let l=e.items;if(s){const e=uhe(h);l=l.concat(s.items).sort(e)}const c=new jhe(o,this._editor.getPosition(),a,t.shy);this._completionModel=new Vhe(l,this._context.column,{leadingLineContent:c.leadingLineContent,characterCountDelta:c.column-this._context.column},n,this._editor.getOption(103),this._editor.getOption(98),r),this._completionDisposables.add(e.disposable),this._onNewContext(c),this._reportDurationsTelemetry(e.durations)})))).catch(V)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout((()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)}))}static _createItemKindFilter(e){const t=new Set;"none"===e.getOption(98)&&t.add(27);const n=e.getOption(103);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),t}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if(we(e.leadingLineContent)===we(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(qM.all(this._editor.getModel()));for(let n of this._completionModel.allProvider)e.delete(n);const t=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:e}=this._completionModel,t=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(jhe.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}else this.cancel();else this.cancel()}};$he=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Uhe(1,yF),Uhe(2,Y0),Uhe(3,BU),Uhe(4,IB)],$he);const Khe=jK("symbolIcon.arrayForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qhe=jK("symbolIcon.booleanForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ghe=jK("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},JI(0,"The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yhe=jK("symbolIcon.colorForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zhe=jK("symbolIcon.constantForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xhe=jK("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},JI(0,"The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Jhe=jK("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},JI(0,"The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qhe=jK("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},JI(0,"The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),eue=jK("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},JI(0,"The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tue=jK("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},JI(0,"The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nue=jK("symbolIcon.fileForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),iue=jK("symbolIcon.folderForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sue=jK("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},JI(0,"The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rue=jK("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},JI(0,"The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oue=jK("symbolIcon.keyForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aue=jK("symbolIcon.keywordForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lue=jK("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},JI(0,"The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cue=jK("symbolIcon.moduleForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),due=jK("symbolIcon.namespaceForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hue=jK("symbolIcon.nullForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uue=jK("symbolIcon.numberForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pue=jK("symbolIcon.objectForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gue=jK("symbolIcon.operatorForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fue=jK("symbolIcon.packageForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mue=jK("symbolIcon.propertyForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_ue=jK("symbolIcon.referenceForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vue=jK("symbolIcon.snippetForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bue=jK("symbolIcon.stringForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yue=jK("symbolIcon.structForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wue=jK("symbolIcon.textForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cue=jK("symbolIcon.typeParameterForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sue=jK("symbolIcon.unitForeground",{dark:$K,light:$K,hc:$K},JI(0,"The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xue=jK("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},JI(0,"The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));LU(((e,t)=>{const n=e.getColor(Khe);n&&t.addRule(`${NM.symbolArray.cssSelector} { color: ${n}; }`);const i=e.getColor(qhe);i&&t.addRule(`${NM.symbolBoolean.cssSelector} { color: ${i}; }`);const s=e.getColor(Ghe);s&&t.addRule(`${NM.symbolClass.cssSelector} { color: ${s}; }`);const r=e.getColor(lue);r&&t.addRule(`${NM.symbolMethod.cssSelector} { color: ${r}; }`);const o=e.getColor(Yhe);o&&t.addRule(`${NM.symbolColor.cssSelector} { color: ${o}; }`);const a=e.getColor(Zhe);a&&t.addRule(`${NM.symbolConstant.cssSelector} { color: ${a}; }`);const l=e.getColor(Xhe);l&&t.addRule(`${NM.symbolConstructor.cssSelector} { color: ${l}; }`);const c=e.getColor(Jhe);c&&t.addRule(`\n\t\t\t${NM.symbolValue.cssSelector},${NM.symbolEnum.cssSelector} { color: ${c}; }`);const d=e.getColor(Qhe);d&&t.addRule(`${NM.symbolEnumMember.cssSelector} { color: ${d}; }`);const h=e.getColor(eue);h&&t.addRule(`${NM.symbolEvent.cssSelector} { color: ${h}; }`);const u=e.getColor(tue);u&&t.addRule(`${NM.symbolField.cssSelector} { color: ${u}; }`);const p=e.getColor(nue);p&&t.addRule(`${NM.symbolFile.cssSelector} { color: ${p}; }`);const g=e.getColor(iue);g&&t.addRule(`${NM.symbolFolder.cssSelector} { color: ${g}; }`);const f=e.getColor(sue);f&&t.addRule(`${NM.symbolFunction.cssSelector} { color: ${f}; }`);const m=e.getColor(rue);m&&t.addRule(`${NM.symbolInterface.cssSelector} { color: ${m}; }`);const _=e.getColor(oue);_&&t.addRule(`${NM.symbolKey.cssSelector} { color: ${_}; }`);const v=e.getColor(aue);v&&t.addRule(`${NM.symbolKeyword.cssSelector} { color: ${v}; }`);const b=e.getColor(cue);b&&t.addRule(`${NM.symbolModule.cssSelector} { color: ${b}; }`);const y=e.getColor(due);y&&t.addRule(`${NM.symbolNamespace.cssSelector} { color: ${y}; }`);const w=e.getColor(hue);w&&t.addRule(`${NM.symbolNull.cssSelector} { color: ${w}; }`);const C=e.getColor(uue);C&&t.addRule(`${NM.symbolNumber.cssSelector} { color: ${C}; }`);const S=e.getColor(pue);S&&t.addRule(`${NM.symbolObject.cssSelector} { color: ${S}; }`);const x=e.getColor(gue);x&&t.addRule(`${NM.symbolOperator.cssSelector} { color: ${x}; }`);const k=e.getColor(fue);k&&t.addRule(`${NM.symbolPackage.cssSelector} { color: ${k}; }`);const E=e.getColor(mue);E&&t.addRule(`${NM.symbolProperty.cssSelector} { color: ${E}; }`);const D=e.getColor(_ue);D&&t.addRule(`${NM.symbolReference.cssSelector} { color: ${D}; }`);const T=e.getColor(vue);T&&t.addRule(`${NM.symbolSnippet.cssSelector} { color: ${T}; }`);const L=e.getColor(bue);L&&t.addRule(`${NM.symbolString.cssSelector} { color: ${L}; }`);const N=e.getColor(yue);N&&t.addRule(`${NM.symbolStruct.cssSelector} { color: ${N}; }`);const I=e.getColor(wue);I&&t.addRule(`${NM.symbolText.cssSelector} { color: ${I}; }`);const P=e.getColor(Cue);P&&t.addRule(`${NM.symbolTypeParameter.cssSelector} { color: ${P}; }`);const O=e.getColor(Sue);O&&t.addRule(`${NM.symbolUnit.cssSelector} { color: ${O}; }`);const R=e.getColor(xue);R&&t.addRule(`${NM.symbolVariable.cssSelector} { color: ${R}; }`)}));class kue{constructor(){let e;this._onDidWillResize=new x,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new x,this.onDidResize=this._onDidResize.event,this._sashListener=new B,this._size=new ZO(0,0),this._minSize=new ZO(0,0),this._maxSize=new ZO(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new u0(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new u0(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new u0(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:l0.North}),this._southSash=new u0(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:l0.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,n=0;this._sashListener.add(k.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)}))),this._sashListener.add(k.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==e&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((i=>{e&&(n=i.currentX-i.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((i=>{e&&(n=-(i.currentX-i.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((i=>{e&&(t=-(i.currentY-i.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((i=>{e&&(t=i.currentY-i.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(k.any(this._eastSash.onDidReset,this._westSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(k.any(this._northSash.onDidReset,this._southSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(e,t,n,i){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=i?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:i}=this._minSize,{height:s,width:r}=this._maxSize;e=Math.max(n,Math.min(s,e)),t=Math.max(i,Math.min(r,t));const o=new ZO(t,e);ZO.equals(o,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=o,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}function Eue(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let Due=class{constructor(e,t){this._editor=e,this._onDidClose=new x,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new x,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new B,this._renderDisposeable=new B,this._borderWidth=1,this._size=new ZO(330,0),this.domNode=LR(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Jse,{editor:e}),this._body=LR(".body"),this._scrollbar=new TX(this._body,{}),wR(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=wR(this._body,LR(".header")),this._close=wR(this._header,LR("span"+NM.close.cssSelector)),this._close.title=JI(0,"Close"),this._type=wR(this._header,LR("p.type")),this._docs=wR(this._body,LR("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(40)&&this._configureFont()})))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(40),n=t.fontFamily,i=e.get(104)||t.fontSize,s=e.get(105)||t.lineHeight,r=t.fontWeight,o=`${i}px`,a=`${s}px`;this.domNode.style.fontSize=o,this.domNode.style.lineHeight=a,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=a,this._close.style.width=a}getLayoutInfo(){const e=this._editor.getOption(105)||this._editor.getOption(40).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=JI(0,"Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,i;this._renderDisposeable.clear();let{detail:s,documentation:r}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}\n`,t+=`prefix: ${null!==(n=e.word)&&void 0!==n?n:"(no prefix)"}\n`,t+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,t+=`distance: ${e.distance} (localityBonus-setting)\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,t+=`commit_chars: ${null===(i=e.completion.commitCharacters)||void 0===i?void 0:i.join("")}\n`,r=(new Gte).appendCodeblock("empty",t),s=`Provider: ${e.provider._debugDisplayName}`}if(t||Eue(e)){if(this.domNode.classList.remove("no-docs","no-type"),s){const e=s.length>1e5?`${s.substr(0,1e5)}`:s;this._type.textContent=e,this._type.title=e,NR(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(e))}else IO(this._type),this._type.title="",IR(this._type),this.domNode.classList.add("no-type");if(IO(this._docs),"string"==typeof r)this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),IO(this._docs);const e=this._markdownRenderer.render(r);this._docs.appendChild(e.element),this._renderDisposeable.add(e),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new ZO(e,t);ZO.equals(n,this._size)||(this._size=n,function(e,t,n){"number"==typeof t&&(e.style.width=`${t}px`),"number"==typeof n&&(e.style.height=`${n}px`)}(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};Due=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,PP)],Due);class Tue{constructor(e,t){let n,i;this.widget=e,this._editor=t,this._disposables=new B,this._added=!1,this._resizable=new kue,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let s=0,r=0;this._disposables.add(this._resizable.onDidWillResize((()=>{n=this._topLeft,i=this._resizable.size}))),this._disposables.add(this._resizable.onDidResize((e=>{if(n&&i){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(r=i.width-e.dimension.width,t=!0),e.north&&(s=i.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:n.top+s,left:n.left+r})}e.done&&(n=void 0,i=void 0,s=0,r=0,this._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size)})))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e){var t;const n=JO(e);this._anchorBox=n,this._placeAtAnchor(this._anchorBox,null!==(t=this._userSize)&&void 0!==t?t:this.widget.size)}_placeAtAnchor(e,t){const n=GO(document.body),i=this.widget.getLayoutInfo();let s,r,o,a,l=new ZO(220,2*i.lineHeight),c=0,d=e.top,h=e.top+e.height-i.borderHeight,u=n.width-(e.left+e.width+i.borderWidth+i.horizontalPadding);c=-i.borderWidth+e.left+e.width,a=!0,s=new ZO(u,n.height-e.top-i.borderHeight-i.verticalPadding),r=s.with(void 0,e.top+e.height-i.borderHeight-i.verticalPadding),t.width>u&&(e.left>u&&(u=e.left-i.borderWidth-i.horizontalPadding,a=!1,c=Math.max(i.horizontalPadding,e.left-t.width-i.borderWidth),s=s.with(u),r=s.with(void 0,r.height)),e.width>1.3*u&&n.height-(e.top+e.height)>e.height&&(u=e.width,c=e.left,d=-i.borderWidth+e.top+e.height,s=new ZO(e.width-i.borderHeight,n.height-e.top-e.height-i.verticalPadding),r=s.with(void 0,e.top-i.verticalPadding),l=l.with(s.width)));let p,g=t.height,f=Math.max(s.height,r.height);g>f&&(g=f),g<=s.height?(o=!0,p=s):(o=!1,p=r),this._applyTopLeft({left:c,top:o?d:h-g}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!o,a,o,!a),this._resizable.minSize=l,this._resizable.maxSize=p,this._resizable.layout(g,Math.min(p.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Lue=function(e,t){return function(n,i){t(n,i,e)}};class Nue extends zie{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id);if(!e)return super.updateLabel();this.label&&(this.label.textContent=JI(0,"{0} ({1})",this._action.label,Nue.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"")}}let Iue=class{constructor(e,t,n,i){this._menuService=n,this._contextKeyService=i,this._menuDisposables=new B,this.element=wR(e,LR(".suggest-status-bar"));const s=e=>e instanceof FU?t.createInstance(Nue,e):void 0;this._leftActions=new N0(this.element,{actionViewItemProvider:s}),this._rightActions=new N0(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(rhe,this._contextKeyService),t=()=>{const t=[],n=[];for(let[i,s]of e.getActions())"left"===i?t.push(...s):n.push(...s);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(e.onDidChange((()=>t()))),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};var Pue,Oue;function Rue(e,t,n,i){const s=i===Pue.ROOT_FOLDER?["rootfolder-icon"]:i===Pue.FOLDER?["folder-icon"]:["file-icon"];if(n){let r;if(n.scheme===EO.data){r=fA.parseMetaData(n).get(fA.META_DATA_LABEL)}else r=Aue(cA(n).toLowerCase());if(i===Pue.FOLDER)s.push(`${r}-name-folder-icon`);else{if(r){if(s.push(`${r}-name-file-icon`),r.length<=255){const e=r.split(".");for(let t=1;t<e.length;t++)s.push(`${e.slice(t).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const i=function(e,t,n){if(!n)return null;let i=null;if(n.scheme===EO.data){const e=fA.parseMetaData(n).get(fA.META_DATA_MIME);e&&(i=t.getModeId(e))}else{const t=e.getModel(n);t&&(i=t.getModeId())}if(i&&"plaintext"!==i)return i;return t.getModeIdByFilepathOrFirstLine(n)}(e,t,n);i&&s.push(`${Aue(i)}-lang-file-icon`)}}return s}function Aue(e){return e.replace(/[\11\12\14\15\40]/g,"/")}Iue=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Lue(1,PP),Lue(2,RU),Lue(3,_U)],Iue),(Oue=Pue||(Pue={}))[Oue.FILE=0]="FILE",Oue[Oue.FOLDER=1]="FOLDER",Oue[Oue.ROOT_FOLDER=2]="ROOT_FOLDER";var Mue,Fue=function(e,t){return function(n,i){t(n,i,e)}};function Bue(e){return`suggest-aria-id:${e}`}const Vue=P0("suggest-more-info",NM.chevronRight,JI(0,"Icon for more information in the suggest widget.")),Wue=new((Mue=class e{extract(t,n){if(t.textLabel.match(e._regexStrict))return n[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return n[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const i=e._regexRelaxed.exec(t.completion.documentation);if(i&&(0===i.index||i.index+i[0].length===t.completion.documentation.length))return n[0]=i[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Mue._regexStrict=new RegExp(`^${Mue._regexRelaxed.source}$`,"i"),Mue);let Hue=class{constructor(e,t,n,i){this._editor=e,this._modelService=t,this._modeService=n,this._themeService=i,this._onDidToggleDetails=new x,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new B,t.root=e,t.root.classList.add("show-file-icons"),t.icon=wR(e,LR(".icon")),t.colorspan=wR(t.icon,LR("span.colorspan"));const n=wR(e,LR(".contents")),i=wR(n,LR(".main"));t.iconContainer=wR(i,LR(".icon-label.codicon")),t.left=wR(i,LR("span.left")),t.right=wR(i,LR("span.right")),t.iconLabel=new y9(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=wR(t.left,LR("span.signature-label")),t.qualifierLabel=wR(t.left,LR("span.qualifier-label")),t.detailsLabel=wR(t.right,LR("span.details-label")),t.readMore=wR(t.right,LR("span.readMore"+xU.asCSSSelector(Vue))),t.readMore.title=JI(0,"Read More");const s=()=>{const e=this._editor.getOptions(),n=e.get(40),s=n.fontFamily,r=n.fontFeatureSettings,o=e.get(104)||n.fontSize,a=e.get(105)||n.lineHeight,l=n.fontWeight,c=`${o}px`,d=`${a}px`;t.root.style.fontSize=c,t.root.style.fontWeight=l,i.style.fontFamily=s,i.style.fontFeatureSettings=r,i.style.lineHeight=d,t.icon.style.height=d,t.icon.style.width=d,t.readMore.style.height=d,t.readMore.style.width=d};return s(),t.disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(40)||e.hasChanged(104)||e.hasChanged(105))&&s()}))),t}renderElement(e,t,n){var i,s,r;const{completion:o}=e;n.root.id=Bue(t),n.colorspan.style.backgroundColor="";const a={labelEscapeNewLines:!0,matches:I3(e.score)};let l=[];if(19===o.kind&&Wue.extract(e,l))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=l[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const t=Rue(this._modelService,this._modeService,P.from({scheme:"fake",path:e.textLabel}),Pue.FILE),i=Rue(this._modelService,this._modeService,P.from({scheme:"fake",path:o.detail}),Pue.FILE);a.extraClasses=t.length>i.length?t:i}else 23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",a.extraClasses=kB([Rue(this._modelService,this._modeService,P.from({scheme:"fake",path:e.textLabel}),Pue.FOLDER),Rue(this._modelService,this._modeService,P.from({scheme:"fake",path:o.detail}),Pue.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...AM(o.kind).split(" ")));o.tags&&o.tags.indexOf(1)>=0&&(a.extraClasses=(a.extraClasses||[]).concat(["deprecated"]),a.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,a),"string"==typeof o.label?(n.parametersLabel.textContent="",n.qualifierLabel.textContent="",n.detailsLabel.textContent=(o.detail||"").replace(/\n.*$/m,""),n.root.classList.add("string-label"),n.root.title=""):(n.parametersLabel.textContent=(o.label.parameters||"").replace(/\n.*$/m,""),n.qualifierLabel.textContent=(o.label.qualifier||"").replace(/\n.*$/m,""),n.detailsLabel.textContent=(o.label.type||"").replace(/\n.*$/m,""),n.root.classList.remove("string-label"),n.root.title=`${e.textLabel}${null!==(i=o.label.parameters)&&void 0!==i?i:""}  ${null!==(s=o.label.qualifier)&&void 0!==s?s:""}  ${null!==(r=o.label.type)&&void 0!==r?r:""}`),this._editor.getOption(103).showInlineDetails?NR(n.detailsLabel):IR(n.detailsLabel),Eue(e)?(n.right.classList.add("can-expand-details"),NR(n.readMore),n.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},n.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),IR(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};Hue=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Fue(1,CM),Fue(2,wF),Fue(3,CU)],Hue);var Uue=function(e,t){return function(n,i){t(n,i,e)}},zue=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const jue=jK("editorSuggestWidget.background",{dark:Wq,light:Wq,hc:Wq},JI(0,"Background color of the suggest widget.")),$ue=jK("editorSuggestWidget.border",{dark:Uq,light:Uq,hc:Uq},JI(0,"Border color of the suggest widget.")),Kue=jK("editorSuggestWidget.foreground",{dark:Vq,light:Vq,hc:Vq},JI(0,"Foreground color of the suggest widget.")),que=jK("editorSuggestWidget.selectedBackground",{dark:qG,light:qG,hc:qG},JI(0,"Background color of the selected entry in the suggest widget.")),Gue=jK("editorSuggestWidget.highlightForeground",{dark:WG,light:WG,hc:WG},JI(0,"Color of the match highlights in the suggest widget."));class Yue{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Iie}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const e=JSON.parse(t);if(ZO.is(e))return ZO.lift(e)}catch(n){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let Zue=class e{constructor(e,t,n,i,s){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new bO,this._disposables=new B,this._onDidSelect=new x,this._onDidFocus=new x,this._onDidHide=new x,this._onDidShow=new x,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new x,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new kue,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Xue(this,e),this._persistedSize=new Yue(t,e);class r{constructor(e,t,n=!1,i=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=n,this.persistWidth=i}}let o;this._disposables.add(this.element.onDidWillResize((()=>{this._contentWidget.lockPreference(),o=new r(this._persistedSize.restore(),this.element.size)}))),this._disposables.add(this.element.onDidResize((e=>{var t,n,i,s;if(this._resize(e.dimension.width,e.dimension.height),o&&(o.persistHeight=o.persistHeight||!!e.north||!!e.south,o.persistWidth=o.persistWidth||!!e.east||!!e.west),e.done){if(o){const{itemHeight:e,defaultSize:r}=this.getLayoutInfo(),a=Math.round(e/2);let{width:l,height:c}=this.element.size;(!o.persistHeight||Math.abs(o.currentSize.height-c)<=a)&&(c=null!==(n=null===(t=o.persistedSize)||void 0===t?void 0:t.height)&&void 0!==n?n:r.height),(!o.persistWidth||Math.abs(o.currentSize.width-l)<=a)&&(l=null!==(s=null===(i=o.persistedSize)||void 0===i?void 0:i.width)&&void 0!==s?s:r.width),this._persistedSize.store(new ZO(l,c))}this._contentWidget.unlockPreference(),o=void 0}}))),this._messageElement=wR(this.element.domNode,LR(".message")),this._listElement=wR(this.element.domNode,LR(".tree"));const a=s.createInstance(Due,this.editor);a.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Tue(a,this.editor);const l=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(103).showIcons);l();const c=s.createInstance(Hue,this.editor);this._disposables.add(c),this._disposables.add(c.onDidToggleDetails((()=>this.toggleDetails()))),this._list=new g5("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[c],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:e=>{if(e.isResolved&&this._isDetailsVisible()){const{documentation:t,detail:n}=e.completion,i=$e("{0}{1}",n||"",t?"string"==typeof t?t:t.value:"");return JI(0,"{0}, docs: {1}",e.textLabel,i)}return e.textLabel},getWidgetAriaLabel:()=>JI(0,"Suggest"),getWidgetRole:()=>"listbox"}}),this._status=s.createInstance(Iue,this.element.domNode);const d=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(103).showStatusBar);d(),this._disposables.add(g4(this._list,i,{listInactiveFocusBackground:que,listInactiveFocusOutline:ZK})),this._disposables.add(i.onDidColorThemeChange((e=>this._onThemeChange(e)))),this._onThemeChange(i.getColorTheme()),this._disposables.add(this._list.onMouseDown((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onTap((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onDidChangeSelection((e=>this._onListSelection(e)))),this._disposables.add(this._list.onDidChangeFocus((e=>this._onListFocus(e)))),this._disposables.add(this.editor.onDidChangeCursorSelection((()=>this._onCursorSelectionChanged()))),this._disposables.add(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(103)&&(d(),l())}))),this._ctxSuggestWidgetVisible=she.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=she.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=she.MultipleSuggestions.bindTo(n),this._disposables.add(MO(this._details.widget.domNode,"keydown",(e=>{this._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((e=>this._onEditorMouseDown(e))))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){const t=e.getColor(jue);t&&(this.element.domNode.style.backgroundColor=t.toString(),this._messageElement.style.backgroundColor=t.toString(),this._details.widget.domNode.style.backgroundColor=t.toString());const n=e.getColor($ue);n&&(this.element.domNode.style.borderColor=n.toString(),this._messageElement.style.borderColor=n.toString(),this._status.element.style.borderTopColor=n.toString(),this._details.widget.domNode.style.borderColor=n.toString(),this._detailsBorderColor=n.toString());const i=e.getColor(GK);i&&(this._detailsFocusBorderColor=i.toString()),this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const n=e.elements[0],i=e.indexes[0];n!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(i),this._currentSuggestionDetails=hO((e=>zue(this,void 0,void 0,(function*(){const t=_O((()=>{this._isDetailsVisible()&&this.showDetails(!0)}),250);e.onCancellationRequested((()=>t.dispose()));const i=yield n.resolve(e);return t.dispose(),i})))),this._currentSuggestionDetails.then((()=>{i>=this._list.length||n!==this._list.element(i)||(this._ignoreFocusEvents=!0,this._list.splice(i,1,[n]),this._list.setFocus([i]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Bue(i)}))})).catch(V)),this._onDidFocus.fire({item:n,index:i,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:IR(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,IR(this._listElement,this._status.element),NR(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,IR(this._listElement,this._status.element),NR(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:IR(this._messageElement),NR(this._listElement,this._status.element),this._show();break;case 5:IR(this._messageElement),NR(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)}),100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=_O((()=>this._setState(1)),t)))}showSuggestions(e,t,n,i){var s,r;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(s=this._loadingTimeout)||void 0===s||s.dispose(),null===(r=this._currentSuggestionDetails)||void 0===r||r.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&2!==this._state&&0!==this._state)return void this._setState(4);const o=this._completionModel.items.length,a=0===o;if(this._ctxSuggestWidgetMultipleSuggestions.set(o>1),a)return this._setState(i?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!Eue(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,n,i;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const s=GO(document.body),r=this.getLayoutInfo();e||(e=r.defaultSize);let o=e.height,a=e.width;if(this._status.element.style.lineHeight=`${r.itemHeight}px`,2===this._state||1===this._state)o=r.itemHeight+r.borderHeight,a=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ZO(a,o),this._contentWidget.setPreference(2);else{const l=s.width-r.borderHeight-2*r.horizontalPadding;a>l&&(a=l);const c=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:a,d=r.statusBarHeight+this._list.contentHeight+r.borderHeight,h=r.itemHeight+r.statusBarHeight,u=JO(this.editor.getDomNode()),p=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),g=u.top+p.top+p.height,f=Math.min(s.height-g-r.verticalPadding,d),m=Math.min(u.top+p.top-r.verticalPadding,d);let _=Math.min(Math.max(m,f)+r.borderHeight,d);o===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(o=this._cappedHeight.wanted),o<h&&(o=h),o>_&&(o=_),o>f?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),_=m):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),_=f),this.element.preferredSize=new ZO(c,r.defaultSize.height),this.element.maxSize=new ZO(l,_),this.element.minSize=new ZO(220,h),this._cappedHeight=o===d?{wanted:null!==(i=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==i?i:e.height,capped:o}:void 0}this._resize(a,o)}_resize(e,t){const{width:n,height:i}=this.element.maxSize;e=Math.min(n,e),t=Math.min(i,t);const{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(t-s,e),this._listElement.style.height=t-s+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const e=this.editor.getOption(40),t=eM(this.editor.getOption(105)||e.lineHeight,8,1e3),n=this.editor.getOption(103).showStatusBar&&2!==this._state&&1!==this._state?t:0,i=this._details.widget.borderWidth,s=2*i;return{itemHeight:t,statusBarHeight:n,borderWidth:i,borderHeight:s,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ZO(430,n+12*t+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}};Zue.LOADING_MESSAGE=JI(0,"Loading..."),Zue.NO_SUGGESTIONS_MESSAGE=JI(0,"No suggestions."),Zue=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Uue(1,I8),Uue(2,_U),Uue(3,CU),Uue(4,PP)],Zue);class Xue{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:i}=this._widget.getLayoutInfo();return new ZO(t+2*n+i,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}LU(((e,t)=>{const n=e.getColor(Gue);n&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${n}; }`);const i=e.getColor(Kue);i&&t.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${i}; }`);const s=e.getColor(XK);s&&t.addRule(`.monaco-editor .suggest-details a { color: ${s}; }`);const r=e.getColor(JK);r&&t.addRule(`.monaco-editor .suggest-details code { background-color: ${r}; }`)}));let Jue=class e{constructor(t,n){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration((e=>e.hasChanged(108)&&this._update())),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(108);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),n=e.getWordAtPosition(t.getStartPosition());n?this._ckAtEnd.set(n.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Jue.AtEnd=new mU("atEndOfWord",!1),Jue=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],Jue);class Que{constructor(e,t,n){this._disposables=new B,this._disposables.add(t.onDidShow((()=>this._onItem(t.getFocusedItem())))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((i=>{if(this._active&&!t.isFrozen()){const t=i.charCodeAt(i.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&n(this._active.item)}})))}_onItem(e){if(!e||!wB(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new vn;for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class epe{constructor(e,t){this._disposables=new B,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType((()=>{if(!this._empty)return;if(!e.hasModel())return;const t=e.getSelections(),n=t.length;let i=!1;for(let e=0;e<n;e++)if(!t[e].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const s=e.getModel();for(let e=0;e<n;e++){const n=t[e];if(s.getValueLengthInRange(n)>epe._maxSelectionLength)return;this._lastOvertyped[e]={value:s.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}this._empty=!1}))),this._disposables.add(t.onDidCancel((e=>{this._empty||e.retrigger||(this._empty=!0)})))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}epe._maxSelectionLength=51200;var tpe=function(e,t){return function(n,i){t(n,i,e)}};class npe{constructor(e,t){this._model=e,this._position=t;if(e.getLineMaxColumn(t.lineNumber)!==t.column){const n=e.getOffsetAt(t),i=e.getPositionAt(n+1);this._marker=e.deltaDecorations([],[{range:oe.fromPositions(t,i),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let ipe=class e{constructor(e,t,n,i,s,r){this._memoryService=t,this._commandService=n,this._contextKeyService=i,this._instantiationService=s,this._logService=r,this._lineSuffix=new Tt,this._toDispose=new B,this.editor=e,this.model=s.createInstance($he,this.editor);const o=she.InsertMode.bindTo(i);o.set(e.getOption(103).insertMode),this.model.onDidTrigger((()=>o.set(e.getOption(103).insertMode))),this.widget=this._toDispose.add(new SO((()=>{const e=this._instantiationService.createInstance(Zue,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect((e=>this._insertSuggestion(e,0)),this));const t=new Que(this.editor,e,(e=>this._insertSuggestion(e,2)));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest((e=>{0===e.completionModel.items.length&&t.reset()})));const n=she.MakesTextEdit.bindTo(this._contextKeyService),i=she.HasInsertAndReplaceRange.bindTo(this._contextKeyService),s=she.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(I((()=>{n.reset(),i.reset(),s.reset()}))),this._toDispose.add(e.onDidFocus((({item:e})=>{const t=this.editor.getPosition(),r=e.editStart.column,o=t.column;let a=!0;if(!("smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.command||e.completion.additionalTextEdits||4&e.completion.insertTextRules||o-r!==e.completion.insertText.length)){a=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:r,endLineNumber:t.lineNumber,endColumn:o})!==e.completion.insertText}n.set(a),i.set(!je.equals(e.editInsertEnd,e.editReplaceEnd)),s.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)}))),this._toDispose.add(e.onDetailsKeyDown((e=>{e.toKeybinding().equals(new E(!0,!1,!1,!1,33))||S&&e.toKeybinding().equals(new E(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new SO((()=>this._toDispose.add(new epe(this.editor,this.model))))),this._alternatives=this._toDispose.add(new SO((()=>this._toDispose.add(new Bhe(this.editor,this._contextKeyService))))),this._toDispose.add(s.createInstance(Jue,e)),this._toDispose.add(this.model.onDidTrigger((e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new npe(this.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((e=>{if(!e.shy){let t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items);this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((e=>{e.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{this.model.cancel(),this.model.clear()})));let a=she.AcceptSuggestionsOnEnter.bindTo(i),l=()=>{const e=this.editor.getOption(1);a.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>l()))),l()}static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=this.editor.getModel(),i=n.getAlternativeVersionId(),{item:s}=e,r=[],o=new L;1&t||this.editor.pushUndoStop();const a=this.getOverwriteInfo(s,Boolean(8&t));if(this._memoryService.memorize(n,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){const e=C0.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map((e=>DW.replace(oe.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){const e=new Se(!0);let i;const a=n.onDidChangeContent((e=>{if(e.isFlush)return o.cancel(),void a.dispose();for(let t of e.changes){const e=oe.getEndPosition(t.range);i&&!je.isBefore(e,i)||(i=e)}}));let l=t;t|=2;let c=!1,d=this.editor.onWillType((()=>{d.dispose(),c=!0,2&l||this.editor.pushUndoStop()}));r.push(s.resolve(o.token).then((()=>{if(!s.completion.additionalTextEdits||o.token.isCancellationRequested)return!1;if(i&&s.completion.additionalTextEdits.some((e=>je.isBefore(i,oe.getStartPosition(e.range)))))return!1;c&&this.editor.pushUndoStop();const e=C0.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map((e=>DW.replace(oe.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!c&&2&l||this.editor.pushUndoStop(),!0})).then((t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),a.dispose(),d.dispose()})))}let{insertText:l}=s.completion;4&s.completion.insertTextRules||(l=nhe.escape(l)),Ihe.get(this.editor).insert(l,{overwriteBefore:a.overwriteBefore,overwriteAfter:a.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&s.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===spe.id?this.model.trigger({auto:!0,shy:!1},!0):(r.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(V)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,(e=>{for(o.cancel();n.canUndo();){i!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(s),Promise.all(r).finally((()=>{this.model.clear(),o.dispose()}))}getOverwriteInfo(e,t){Ye(this.editor.hasModel());let n="replace"===this.editor.getOption(103).insertMode;t&&(n=!n);const i=e.position.column-e.editStart.column,s=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:i+(this.editor.getPosition().column-e.position.column),overwriteAfter:s+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if(wB(e.completion.additionalTextEdits)){VH(JI(0,"Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length))}}triggerSuggest(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},i=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),n=e.editStart.column,i=t.column;if(i-n!==e.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:n,endLineNumber:t.lineNumber,endColumn:i})!==e.completion.insertText};k.once(this.model.onDidTrigger)((e=>{let t=[];k.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{De(t),n()}),void 0,t),this.model.onDidSuggest((({completionModel:e})=>{if(De(t),0===e.items.length)return void n();const s=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),r=e.items[s];i(r)?(this.editor.pushUndoStop(),this._insertSuggestion({index:s,item:r,model:e},7)):n()}),void 0,t)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(t.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let i=0;e&&(i|=4),t&&(i|=8),this._insertSuggestion(n,i)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};ipe.ID="editor.contrib.suggestController",ipe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([tpe(1,Fhe),tpe(2,_A),tpe(3,_U),tpe(4,PP),tpe(5,IB)],ipe);class spe extends zU{constructor(){super({id:spe.id,label:JI(0,"Trigger Suggest"),alias:"Trigger Suggest",precondition:JH.and(EZ.writable,EZ.hasCompletionItemProvider),kbOpts:{kbExpr:EZ.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t){const n=ipe.get(t);n&&n.triggerSuggest()}}spe.id="editor.action.triggerSuggest",ZU(ipe.ID,ipe),qU(spe);const rpe=UU.bindToContribution(ipe.get);KU(new rpe({id:"acceptSelectedSuggestion",precondition:she.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}})),UW.registerKeybindingRule({id:"acceptSelectedSuggestion",when:JH.and(she.Visible,EZ.textInputFocus),primary:2,weight:190}),UW.registerKeybindingRule({id:"acceptSelectedSuggestion",when:JH.and(she.Visible,EZ.textInputFocus,she.AcceptSuggestionsOnEnter,she.MakesTextEdit),primary:3,weight:190}),AU.appendMenuItem(rhe,{command:{id:"acceptSelectedSuggestion",title:JI(0,"Insert")},group:"left",order:1,when:she.HasInsertAndReplaceRange.toNegated()}),AU.appendMenuItem(rhe,{command:{id:"acceptSelectedSuggestion",title:JI(0,"Insert")},group:"left",order:1,when:JH.and(she.HasInsertAndReplaceRange,she.InsertMode.isEqualTo("insert"))}),AU.appendMenuItem(rhe,{command:{id:"acceptSelectedSuggestion",title:JI(0,"Replace")},group:"left",order:1,when:JH.and(she.HasInsertAndReplaceRange,she.InsertMode.isEqualTo("replace"))}),KU(new rpe({id:"acceptAlternativeSelectedSuggestion",precondition:JH.and(she.Visible,EZ.textInputFocus),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:rhe,group:"left",order:2,when:JH.and(she.HasInsertAndReplaceRange,she.InsertMode.isEqualTo("insert")),title:JI(0,"Replace")},{menuId:rhe,group:"left",order:2,when:JH.and(she.HasInsertAndReplaceRange,she.InsertMode.isEqualTo("replace")),title:JI(0,"Insert")}]})),vA.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),KU(new rpe({id:"hideSuggestWidget",precondition:she.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:9,secondary:[1033]}})),KU(new rpe({id:"selectNextSuggestion",precondition:JH.and(she.Visible,she.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),KU(new rpe({id:"selectNextPageSuggestion",precondition:JH.and(she.Visible,she.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:12,secondary:[2060]}})),KU(new rpe({id:"selectLastSuggestion",precondition:JH.and(she.Visible,she.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),KU(new rpe({id:"selectPrevSuggestion",precondition:JH.and(she.Visible,she.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),KU(new rpe({id:"selectPrevPageSuggestion",precondition:JH.and(she.Visible,she.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:11,secondary:[2059]}})),KU(new rpe({id:"selectFirstSuggestion",precondition:JH.and(she.Visible,she.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),KU(new rpe({id:"toggleSuggestionDetails",precondition:she.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:rhe,group:"right",order:1,when:JH.and(she.DetailsVisible,she.CanResolve),title:JI(0,"show less")},{menuId:rhe,group:"right",order:1,when:JH.and(she.DetailsVisible.toNegated(),she.CanResolve),title:JI(0,"show more")}]})),KU(new rpe({id:"toggleExplainMode",precondition:she.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),KU(new rpe({id:"toggleSuggestionFocus",precondition:she.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:2570,mac:{primary:778}}})),KU(new rpe({id:"insertBestCompletion",precondition:JH.and(EZ.textInputFocus,JH.equals("config.editor.tabCompletion","on"),Jue.AtEnd,she.Visible.toNegated(),Bhe.OtherSuggestions.toNegated(),Ihe.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest(ie(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),KU(new rpe({id:"insertNextSuggestion",precondition:JH.and(EZ.textInputFocus,JH.equals("config.editor.tabCompletion","on"),Bhe.OtherSuggestions,she.Visible.toNegated(),Ihe.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:2}})),KU(new rpe({id:"insertPrevSuggestion",precondition:JH.and(EZ.textInputFocus,JH.equals("config.editor.tabCompletion","on"),Bhe.OtherSuggestions,she.Visible.toNegated(),Ihe.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:190,kbExpr:EZ.textInputFocus,primary:1026}})),qU(class extends zU{constructor(){super({id:"editor.action.resetSuggestSize",label:JI(0,"Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){ipe.get(t).resetWidgetSize()}});qU(class extends zU{constructor(){super({id:"editor.action.forceRetokenize",label:JI(0,"Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.resetTokenization();const i=new Se(!0);n.forceTokenization(n.getLineCount()),i.stop(),console.log(`tokenization took ${i.elapsed()}`)}});class ope extends zU{constructor(){super({id:ope.ID,label:JI(0,"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const n=!pW.getTabFocusMode();pW.setTabFocusMode(n),VH(JI(0,n?"Pressing Tab will now move focus to the next focusable element":"Pressing Tab will now insert the tab character"))}}ope.ID="editor.action.toggleTabFocusMode",qU(ope);var ape=function(e,t){return function(n,i){t(n,i,e)}},lpe=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let cpe=class extends F{constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(110),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(110)&&(this._config=this._editor.getOption(110),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((e=>{e.isUndoing||this._checkForUnusualLineTerminators()})))}_checkForUnusualLineTerminators(){return lpe(this,void 0,void 0,(function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;if(!0===function(e,t){return e.getModelProperty(t.uri,"ignoreUnusualLineTerminators")}(this._codeEditorService,e))return;if(this._editor.getOption(77))return;if("auto"===this._config)return void e.removeUnusualLineTerminators(this._editor.getSelections());(yield this._dialogService.confirm({title:JI(0,"Unusual Line Terminators"),message:JI(0,"Detected unusual line terminators"),detail:JI(0,"This file contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`."),primaryButton:JI(0,"Fix this file"),secondaryButton:JI(0,"Ignore problem for this file")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(e,t,n){e.setModelProperty(t.uri,"ignoreUnusualLineTerminators",n)}(this._codeEditorService,e,!0)}))}};cpe.ID="editor.contrib.unusualLineTerminatorsDetector",cpe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([ape(1,C4),ape(2,MP)],cpe),ZU(cpe.ID,cpe);var dpe=function(e,t){return function(n,i){t(n,i,e)}};let hpe=class extends F{constructor(e,t,n,i){super(),this._modelService=t,this._themeService=n,this._configurationService=i,this._editor=e,this._tokenizeViewport=new wO((()=>this._tokenizeViewportNow()),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange((()=>{this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModel((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModelContent((e=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(gF.onDidChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&(this._cancelAll(),this._tokenizeViewport.schedule())}))),this._register(this._themeService.onDidColorThemeChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()})))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!S2(e,this._themeService,this._configurationService))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const t=f2(e);if(!t)return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const n=this._modelService.getSemanticTokensProviderStyling(t),i=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(i.map((i=>this._requestRange(e,i,t,n))))}_requestRange(e,t,n,i){const s=e.getVersionId(),r=hO((i=>Promise.resolve(n.provideDocumentRangeSemanticTokens(e,t,i))));return r.then((n=>{n&&!e.isDisposed()&&e.getVersionId()===s&&e.setPartialSemanticTokens(t,a2(n,i,e.getLanguageIdentifier()))})).then((()=>this._removeOutstandingRequest(r)),(()=>this._removeOutstandingRequest(r))),r}};hpe.ID="editor.contrib.viewportSemanticTokens",hpe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([dpe(1,CM),dpe(2,CU),dpe(3,TW)],hpe),ZU(hpe.ID,hpe);const upe=jK("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},JI(0,"Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),ppe=jK("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},JI(0,"Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),gpe=jK("editor.wordHighlightBorder",{light:null,dark:null,hc:ZK},JI(0,"Border color of a symbol during read-access, like reading a variable.")),fpe=jK("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:ZK},JI(0,"Border color of a symbol during write-access, like writing to a variable.")),mpe=jK("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},JI(0,"Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),_pe=jK("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},JI(0,"Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),vpe=new mU("hasWordHighlights",!1);function bpe(e,t,n){return vO(XM.ordered(e).map((i=>()=>Promise.resolve(i.provideDocumentHighlights(e,t,n)).then(void 0,xt))),wB)}class ype{constructor(e,t,n){this._wordRange=this._getCurrentWordRange(e,t),this.result=hO((i=>this._compute(e,t,n,i)))}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new oe(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const i=t.startLineNumber,s=t.startColumn,r=t.endColumn,o=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(o));for(let l=0,c=n.length;!a&&l<c;l++){let t=e.getDecorationRange(n[l]);t&&t.startLineNumber===i&&t.startColumn<=s&&t.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}}class wpe extends ype{_compute(e,t,n,i){return bpe(e,t.getPosition(),i).then((e=>e||[]))}}class Cpe extends ype{constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,n,i){return mO(250,i).then((()=>{if(!t.isEmpty())return[];const i=e.getWordAtPosition(t.getPosition());if(!i||i.word.length>1e3)return[];return e.findMatches(i.word,!0,!1,!0,n,!1).map((e=>({range:e.range,kind:VM.Text})))}))}isValid(e,t,n){const i=t.isEmpty();return this._selectionIsEmpty===i&&super.isValid(e,t,n)}}$U("_executeDocumentHighlights",((e,t)=>bpe(e,t,ne.None)));class Spe{constructor(e,t){this.toUnhook=new B,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=vpe.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(68),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{let t=this.editor.getOption(68);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return bB(this._decorationIds.map((e=>this.model.getDecorationRange(e))).sort(oe.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,n=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const i=this._getWord();if(i){VH(`${this.editor.getModel().getLineContent(n.startLineNumber)}, ${t+1} of ${e.length} for '${i.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,n=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const i=this._getWord();if(i){VH(`${this.editor.getModel().getLineContent(n.startLineNumber)}, ${t+1} of ${e.length} for '${i.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,n=e.endColumn;const i=this._getWord();if(!i||i.startColumn>t||i.endColumn<n)return void this._stopAll();const s=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(r=this.model,o=this.editor.getSelection(),a=this.editor.getOption(113),XM.has(r)?new wpe(r,o,a):new Cpe(r,o,a)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),V)}var r,o,a}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:Spe._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===VM.Write?this._WRITE_OPTIONS:e===VM.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Spe._WRITE_OPTIONS=Q$.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:kU(_pe),position:KA.Center}}),Spe._TEXT_OPTIONS=Q$.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:kU(oY),position:KA.Center}}),Spe._REGULAR_OPTIONS=Q$.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:kU(mpe),position:KA.Center}});let xpe=class e extends F{constructor(e,t){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new Spe(e,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()}))),n()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};xpe.ID="editor.contrib.wordHighlighter",xpe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(1,_U)],xpe);class kpe extends zU{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=xpe.get(t);n&&(this._isNext?n.moveNext():n.moveBack())}}ZU(xpe.ID,xpe),qU(class extends kpe{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:JI(0,"Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:vpe,kbOpts:{kbExpr:EZ.editorTextFocus,primary:65,weight:100}})}}),qU(class extends kpe{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:JI(0,"Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:vpe,kbOpts:{kbExpr:EZ.editorTextFocus,primary:1089,weight:100}})}}),qU(class extends zU{constructor(){super({id:"editor.action.wordHighlight.trigger",label:JI(0,"Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:vpe.toNegated(),kbOpts:{kbExpr:EZ.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const i=xpe.get(t);i&&i.restoreViewState(!0)}}),LU(((e,t)=>{const n=e.getColor(nG);n&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${n}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${n.transparent(.5)}; }`));const i=e.getColor(upe);i&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);const s=e.getColor(ppe);s&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${s}; }`);const r=e.getColor(iG);r&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const o=e.getColor(gpe);o&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; box-sizing: border-box; }`);const a=e.getColor(fpe);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===e.type?"dashed":"solid"} ${a}; box-sizing: border-box; }`)}));class Epe extends UU{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const i=qj(t.getOption(113)),s=t.getModel(),r=t.getSelections().map((e=>{const t=new je(e.positionLineNumber,e.positionColumn),n=this._move(i,s,t,this._wordNavigationType);return this._moveTo(e,n,this._inSelectionMode)}));if(s.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,r.map((e=>uK.fromModelSelection(e)))),1===r.length){const e=new je(r[0].positionLineNumber,r[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,n){return n?new Ze(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Ze(t.lineNumber,t.column,t.lineNumber,t.column)}}class Dpe extends Epe{_move(e,t,n,i){return gZ.moveWordLeft(e,t,n,i)}}class Tpe extends Epe{_move(e,t,n,i){return gZ.moveWordRight(e,t,n,i)}}class Lpe extends UU{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const i=qj(t.getOption(113)),s=t.getModel(),r=t.getSelections(),o=t.getOption(5),a=t.getOption(8),l=dB.getAutoClosingPairs(s.getLanguageIdentifier().id),c=t._getViewModel(),d=r.map((e=>{const n=this._delete({wordSeparators:i,model:s,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:o,autoClosingQuotes:a,autoClosingPairs:l,autoClosedCharacters:c.getCursorAutoClosedCharacters()},this._wordNavigationType);return new oZ(n,"")}));t.pushUndoStop(),t.executeCommands(this.id,d),t.pushUndoStop()}}class Npe extends Lpe{_delete(e,t){let n=gZ.deleteWordLeft(e,t);return n||new oe(1,1,1,1)}}class Ipe extends Lpe{_delete(e,t){let n=gZ.deleteWordRight(e,t);if(n)return n;const i=e.model.getLineCount(),s=e.model.getLineMaxColumn(i);return new oe(i,s,i,s)}}KU(new class extends Dpe{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),KU(new class extends Dpe{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),KU(new class extends Dpe{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:JH.and(EZ.textInputFocus,null===(e=JH.and(IQ,_5))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}),KU(new class extends Dpe{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),KU(new class extends Dpe{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),KU(new class extends Dpe{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:JH.and(EZ.textInputFocus,null===(e=JH.and(IQ,_5))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),KU(new class extends Tpe{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),KU(new class extends Tpe{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:JH.and(EZ.textInputFocus,null===(e=JH.and(IQ,_5))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}),KU(new class extends Tpe{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),KU(new class extends Tpe{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),KU(new class extends Tpe{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:JH.and(EZ.textInputFocus,null===(e=JH.and(IQ,_5))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),KU(new class extends Tpe{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),KU(new class extends Dpe{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,i){return super._move(qj(LP.wordSeparators.defaultValue),t,n,i)}}),KU(new class extends Dpe{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,i){return super._move(qj(LP.wordSeparators.defaultValue),t,n,i)}}),KU(new class extends Tpe{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,i){return super._move(qj(LP.wordSeparators.defaultValue),t,n,i)}}),KU(new class extends Tpe{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,i){return super._move(qj(LP.wordSeparators.defaultValue),t,n,i)}}),KU(new class extends Npe{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:EZ.writable})}}),KU(new class extends Npe{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:EZ.writable})}}),KU(new class extends Npe{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),KU(new class extends Ipe{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:EZ.writable})}}),KU(new class extends Ipe{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:EZ.writable})}}),KU(new class extends Ipe{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),qU(class extends zU{constructor(){super({id:"deleteInsideWord",precondition:EZ.writable,label:JI(0,"Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const i=qj(t.getOption(113)),s=t.getModel(),r=t.getSelections().map((e=>{const t=gZ.deleteInsideWord(i,s,e);return new oZ(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}});class Ppe extends Epe{_move(e,t,n,i){return fZ.moveWordPartLeft(e,t,n)}}vA.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");vA.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Ope extends Epe{_move(e,t,n,i){return fZ.moveWordPartRight(e,t,n)}}KU(new class extends Lpe{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let n=fZ.deleteWordPartLeft(e);return n||new oe(1,1,1,1)}}),KU(new class extends Lpe{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:EZ.writable,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let n=fZ.deleteWordPartRight(e);if(n)return n;const i=e.model.getLineCount(),s=e.model.getLineMaxColumn(i);return new oe(i,s,i,s)}}),KU(new class extends Ppe{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),KU(new class extends Ppe{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),KU(new class extends Ope{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),KU(new class extends Ope{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:EZ.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var Rpe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ape=function(e,t){return function(n,i){t(n,i,e)}};const Mpe=new mU("accessibilityHelpWidgetVisible",!1);let Fpe=class e extends F{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Bpe,this._editor))}static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};Fpe.ID="editor.contrib.accessibilityHelpController",Fpe=Rpe([Ape(1,PP)],Fpe);let Bpe=class e extends aX{constructor(e,t,n,i){super(),this._contextKeyService=t,this._keybindingService=n,this._openerService=i,this._editor=e,this._isVisibleKey=Mpe.bindTo(this._contextKeyService),this._domNode=gz(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=gz(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(MO(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&(VH(tH.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),IO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){VH(tH.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(P.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){let i=this._keybindingService.lookupKeybinding(e);return i?$e(t,i.getAriaLabel()):$e(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const e=this._editor.getModel();e&&t.forEach((t=>{n+=e.getValueLengthInRange(t)}))}let i=function(e,t){return e&&0!==e.length?1===e.length?t?$e(tH.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):$e(tH.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?$e(tH.multiSelectionRange,e.length,t):e.length>0?$e(tH.multiSelection,e.length):"":tH.noSelection}(t,n);e.get(51)?e.get(77)?i+=tH.readonlyDiffEditor:i+=tH.editableDiffEditor:e.get(77)?i+=tH.readonlyEditor:i+=tH.editableEditor;const s=S?tH.changeConfigToOnMac:tH.changeConfigToOnWinLinux;switch(e.get(2)){case 0:i+="\n\n - "+s;break;case 2:i+="\n\n - "+tH.auto_on;break;case 1:i+="\n\n - "+tH.auto_off,i+=" "+s}e.get(126)?i+="\n\n - "+this._descriptionForCommand(ope.ID,tH.tabFocusModeOnMsg,tH.tabFocusModeOnMsgNoKb):i+="\n\n - "+this._descriptionForCommand(ope.ID,tH.tabFocusModeOffMsg,tH.tabFocusModeOffMsgNoKb);i+="\n\n - "+(S?tH.openDocMac:tH.openDocWinLinux),i+="\n\n"+tH.outroMsg,this._contentDomNode.domNode.appendChild(W9(i)),this._contentDomNode.domNode.setAttribute("aria-label",i)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,IO(this._contentDomNode.domNode),this._editor.focus())}_layout(){let t=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(e.WIDTH,t.width-40)),i=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(n),this._domNode.setHeight(i);let s=Math.round((t.height-i)/2);this._domNode.setTop(s);let r=Math.round((t.width-n)/2);this._domNode.setLeft(r)}};Bpe.ID="editor.contrib.accessibilityHelpWidget",Bpe.WIDTH=500,Bpe.HEIGHT=300,Bpe=Rpe([Ape(1,_U),Ape(2,w1),Ape(3,CA)],Bpe);ZU(Fpe.ID,Fpe),qU(class extends zU{constructor(){super({id:"editor.action.showAccessibilityHelp",label:tH.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){let n=Fpe.get(t);n&&n.show()}});KU(new(UU.bindToContribution(Fpe.get))({id:"closeAccessibilityHelp",precondition:Mpe,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:EZ.focus,primary:9,secondary:[1033]}})),LU(((e,t)=>{const n=e.getColor(Wq);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${n}; }`);const i=e.getColor(Hq);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${i}; }`);const s=e.getColor(QK);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${s}; }`);const r=e.getColor(YK);r&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${r}; }`)}));class Vpe extends F{constructor(e){super(),this.editor=e,this.widget=null,qP&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(77);!this.widget&&e?this.widget=new Wpe(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}Vpe.ID="editor.contrib.iPadShowKeyboard";class Wpe extends F{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(RO(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(RO(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return Wpe.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}Wpe.ID="editor.contrib.ShowKeyboardWidget",ZU(Vpe.ID,Vpe);var Hpe=function(e,t){return function(n,i){t(n,i,e)}};let Upe=class e extends F{constructor(e,t,n){super(),this._editor=e,this._modeService=n,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(fF.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new zpe(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Upe.ID="editor.contrib.inspectTokens",Upe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Hpe(1,y1),Hpe(2,wF)],Upe);class zpe extends F{constructor(e,t){var n;super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=(n=this._model.getLanguageIdentifier(),fF.get(n.language)||{getInitialState:()=>mF,tokenize:(e,t,i,s)=>vF(n.language,0,i,s),tokenize2:(e,t,i,s)=>bF(n.id,0,i,s)}),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return zpe._ID}_compute(e){let t=this._getTokensAtLine(e.lineNumber),n=0;for(let a=t.tokens1.length-1;a>=0;a--){let i=t.tokens1[a];if(e.column-1>=i.offset){n=a;break}}let i=0;for(let a=t.tokens2.length>>>1;a>=0;a--)if(e.column-1>=t.tokens2[a<<1]){i=a;break}let s=this._model.getLineContent(e.lineNumber),r="";if(n<t.tokens1.length){let e=t.tokens1[n].offset,i=n+1<t.tokens1.length?t.tokens1[n+1].offset:s.length;r=s.substring(e,i)}CR(this._domNode,LR("h2.tm-token",void 0,function(e){let t="";for(let n=0,i=e.length;n<i;n++){let i=e.charCodeAt(n);switch(i){case 9:t+="";break;case 32:t+="";break;default:t+=String.fromCharCode(i)}}return t}(r),LR("span.tm-token-length",void 0,`${r.length} ${1===r.length?"char":"chars"}`))),wR(this._domNode,LR("hr.tokens-inspect-separator",{style:"clear:both"}));const o=1+(i<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(i<<1)]):null;wR(this._domNode,LR("table.tm-metadata-table",void 0,LR("tbody",void 0,LR("tr",void 0,LR("td.tm-metadata-key",void 0,"language"),LR("td.tm-metadata-value",void 0,`${o?o.languageIdentifier.language:"-?-"}`)),LR("tr",void 0,LR("td.tm-metadata-key",void 0,"token type"),LR("td.tm-metadata-value",void 0,`${o?this._tokenTypeToString(o.tokenType):"-?-"}`)),LR("tr",void 0,LR("td.tm-metadata-key",void 0,"font style"),LR("td.tm-metadata-value",void 0,`${o?this._fontStyleToString(o.fontStyle):"-?-"}`)),LR("tr",void 0,LR("td.tm-metadata-key",void 0,"foreground"),LR("td.tm-metadata-value",void 0,`${o?F$.Format.CSS.formatHex(o.foreground):"-?-"}`)),LR("tr",void 0,LR("td.tm-metadata-key",void 0,"background"),LR("td.tm-metadata-value",void 0,`${o?F$.Format.CSS.formatHex(o.background):"-?-"}`))))),wR(this._domNode,LR("hr.tokens-inspect-separator")),n<t.tokens1.length&&wR(this._domNode,LR("span.tm-token-type",void 0,t.tokens1[n].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let t=fF.getColorMap(),n=RM.getLanguageId(e),i=RM.getTokenType(e),s=RM.getFontStyle(e),r=RM.getForeground(e),o=RM.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(n),tokenType:i,fontStyle:s,foreground:t[r],background:t[o]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}_getTokensAtLine(e){let t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0),i=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:n.tokens,tokens2:i.tokens,endState:n.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let n=1;n<e;n++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t,0).endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}zpe._ID="editor.contrib.inspectTokensWidget",ZU(Upe.ID,Upe),qU(class extends zU{constructor(){super({id:"editor.action.inspectTokens",label:iH.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){let n=Upe.get(t);n&&n.launch()}}),LU(((e,t)=>{const n=e.getColor(pG);if(n){let i=e.type===yU.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${i}px solid ${n}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${n}; }`)}const i=e.getColor(hG);i&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${i}; }`);const s=e.getColor(uG);s&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${s}; }`)}));let jpe=class e{constructor(e){this.quickInputService=e,this.registry=ZV.as(f7)}provide(t){const n=new B;n.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),n.add(t.onDidChangeValue((t=>{const n=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));n&&n.prefix&&n.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})));const{editorProviders:i,globalProviders:s}=this.getQuickAccessProviders();return t.items=0===i.length||0===s.length?[...0===i.length?s:i]:[{label:JI(0,"global commands"),type:"separator"},...s,{label:JI(0,"editor commands"),type:"separator"},...i],n}getQuickAccessProviders(){const t=[],n=[];for(const i of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(i.prefix!==e.PREFIX)for(const e of i.helpEntries){const s=e.prefix||i.prefix,r=s||"";(e.needsEditor?n:t).push({prefix:s,label:r,ariaLabel:JI(0,"{0}, {1}",r,e.description),description:e.description})}return{editorProviders:n,globalProviders:t}}};jpe.PREFIX="?",jpe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(0,u7)],jpe),ZV.as(f7).registerQuickAccessProvider({ctor:jpe,prefix:"",helpEntries:[{description:rH.helpQuickAccessActionLabel,needsEditor:!0}]});class $pe{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var n;const i=new B;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=i.add(new Tt);return s.value=this.doProvide(e,t),i.add(this.onDidActiveTextEditorControlChange((()=>{s.value=void 0,s.value=this.doProvide(e,t)}))),i}doProvide(e,t){const n=new B,i=this.activeTextEditorControl;if(i&&this.canProvideWithTextEditor(i)){const s={editor:i},r=$V(i);if(r){let e=Ge(i.saveViewState());n.add(r.onDidChangeCursorPosition((()=>{e=Ge(i.saveViewState())}))),s.restoreViewState=()=>{e&&i===this.activeTextEditorControl&&i.restoreViewState(e)},n.add(jX(t.onCancellationRequested)((()=>{var e;return null===(e=s.restoreViewState)||void 0===e?void 0:e.call(s)})))}n.add(I((()=>this.clearDecorations(i)))),n.add(this.provideWithTextEditor(s,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return jV(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((e=>{const n=[];this.rangeHighlightDecorationId&&(n.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),n.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const i=[{range:t,options:{className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:kU(ZY),position:KA.Full}}}],[s,r]=e.deltaDecorations(n,i);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:r}}))}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}class Kpe extends $pe{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=JI(0,"Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,F.None}provideWithTextEditor(e,t,n){const i=e.editor,s=new B;s.add(t.onDidAccept((n=>{const[s]=t.selectedItems;if(s){if(!this.isValidLineNumber(i,s.lineNumber))return;this.gotoLocation(e,{range:this.toRange(s.lineNumber,s.column),keyMods:t.keyMods,preserveFocus:n.inBackground}),n.inBackground||t.hide()}})));const r=()=>{const e=this.parsePosition(i,t.value.trim().substr(Kpe.PREFIX.length)),n=this.getPickLabel(i,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:n}],t.ariaLabel=n,!this.isValidLineNumber(i,e.lineNumber))return void this.clearDecorations(i);const s=this.toRange(e.lineNumber,e.column);i.revealRangeInCenter(s,0),this.addDecorations(i,s)};r(),s.add(t.onDidChangeValue((()=>r())));const o=$V(i);if(o){2===o.getOptions().get(56).renderType&&(o.updateOptions({lineNumbers:"on"}),s.add(I((()=>o.updateOptions({lineNumbers:"relative"})))))}return s}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const n=t.split(/,|:|#/).map((e=>parseInt(e,10))).filter((e=>!isNaN(e))),i=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:i+n[0],column:n[1]}}getPickLabel(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?JI(0,"Go to line {0} and character {1}.",t,n):JI(0,"Go to line {0}.",t);const i=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?JI(0,"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",i.lineNumber,i.column,s):JI(0,"Current Line: {0}, Character: {1}. Type a line number to navigate to.",i.lineNumber,i.column)}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,n){if(!n||"number"!=typeof n)return!1;const i=this.getModel(e);if(!i)return!1;const s={lineNumber:t,column:n};return i.validatePosition(s).equals(s)}lineCount(e){var t,n;return null!==(n=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==n?n:0}}Kpe.PREFIX=":";let qpe=class extends Kpe{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=k.None}get activeTextEditorControl(){return Ge(this.editorService.getFocusedCodeEditor())}};qpe=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(0,MP)],qpe),ZV.as(f7).registerQuickAccessProvider({ctor:qpe,prefix:qpe.PREFIX,helpEntries:[{description:sH.gotoLineActionLabel,needsEditor:!0}]});qU(class extends zU{constructor(){super({id:"editor.action.gotoLine",label:sH.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(u7).quickAccess.show(qpe.PREFIX)}});const Gpe=[void 0,[]];function Ype(e,t,n=0,i=0){const s=t;return s.values&&s.values.length>1?function(e,t,n,i){let s=0;const r=[];for(const o of t){const[t,a]=Zpe(e,o,n,i);if("number"!=typeof t)return Gpe;s+=t,r.push(...a)}return[s,Xpe(r)]}(e,s.values,n,i):Zpe(e,t,n,i)}function Zpe(e,t,n,i){const s=j3(t.original,t.originalLowercase,n,e,e.toLowerCase(),i,!0);return s?[s[0],I3(s)]:Gpe}function Xpe(e){const t=e.sort(((e,t)=>e.start-t.start)),n=[];let i;for(const s of t)i&&Jpe(i,s)?(i.start=Math.min(i.start,s.start),i.end=Math.max(i.end,s.end)):(i=s,n.push(s));return n}function Jpe(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function Qpe(e){"string"!=typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:n,normalized:i,normalizedLowercase:s}=ege(e),r=n.indexOf(q)>=0;let o;const a=e.split(" ");if(a.length>1)for(const l of a){const{pathNormalized:e,normalized:t,normalizedLowercase:n}=ege(l);t&&(o||(o=[]),o.push({original:l,originalLowercase:l.toLowerCase(),pathNormalized:e,normalized:t,normalizedLowercase:n}))}return{original:e,originalLowercase:t,pathNormalized:n,normalized:i,normalizedLowercase:s,values:o,containsPathSeparator:r}}function ege(e){let t;t=T?e.replace(/\//g,q):e.replace(/\\/g,q);const n=yn(t).replace(/\s/g,"");return{pathNormalized:t,normalized:n,normalizedLowercase:n.toLowerCase()}}function tge(e){return Array.isArray(e)?Qpe(e.map((e=>e.original)).join(" ")):Qpe(e.original)}var nge=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class ige extends $pe{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,JI(0,"To go to a symbol, first open a text editor with symbol information.")),F.None}provideWithTextEditor(e,t,n){const i=e.editor,s=this.getModel(i);return s?ZM.has(s)?this.doProvideWithEditorSymbols(e,s,t,n):this.doProvideWithoutEditorSymbols(e,s,t,n):F.None}doProvideWithoutEditorSymbols(e,t,n,i){const s=new B;return this.provideLabelPick(n,JI(0,"The active text editor does not provide symbol information.")),(()=>{nge(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(t,s))&&!i.isCancellationRequested&&s.add(this.doProvideWithEditorSymbols(e,t,n,i))}))})(),s}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return nge(this,void 0,void 0,(function*(){if(ZM.has(e))return!0;let n;const i=new Promise((e=>n=e)),s=t.add(ZM.onDidChange((()=>{ZM.has(e)&&(s.dispose(),n(!0))})));return t.add(I((()=>n(!1)))),i}))}doProvideWithEditorSymbols(e,t,n,i){const s=e.editor,r=new B;r.add(n.onDidAccept((t=>{const[i]=n.selectedItems;i&&i.range&&(this.gotoLocation(e,{range:i.range.selection,keyMods:n.keyMods,preserveFocus:t.inBackground}),t.inBackground||n.hide())}))),r.add(n.onDidTriggerItemButton((({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));const o=this.getDocumentSymbols(t,i);let a;const l=()=>nge(this,void 0,void 0,(function*(){null==a||a.dispose(!0),n.busy=!1,a=new L(i),n.busy=!0;try{const e=Qpe(n.value.substr(ige.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(o,e,void 0,a.token);if(i.isCancellationRequested)return;t.length>0?n.items=t:e.original.length>0?this.provideLabelPick(n,JI(0,"No matching editor symbols")):this.provideLabelPick(n,JI(0,"No editor symbols"))}finally{i.isCancellationRequested||(n.busy=!1)}}));r.add(n.onDidChangeValue((()=>l()))),l();let c=!0;return r.add(n.onDidChangeActive((()=>{const[e]=n.activeItems;if(e&&e.range){if(c)return void(c=!1);s.revealRangeInCenter(e.range.selection,0),this.addDecorations(s,e.range.decoration)}}))),r}doGetSymbolPicks(e,t,n,i){return nge(this,void 0,void 0,(function*(){const s=yield e;if(i.isCancellationRequested)return[];const r=0===t.original.indexOf(ige.SCOPE_PREFIX),o=r?1:0;let a,l;t.values&&t.values.length>1?(a=tge(t.values[0]),l=tge(t.values.slice(1))):a=t;const c=[];for(let e=0;e<s.length;e++){const i=s[e],r=wn(i.name),d=`$(symbol-${HM.toString(i.kind)||"property"}) ${r}`,h=d.length-r.length;let u,p,g,f,m=i.containerName;if((null==n?void 0:n.extraContainerLabel)&&(m=m?`${n.extraContainerLabel}  ${m}`:n.extraContainerLabel),t.original.length>o){let e=!1;if(a!==t&&([u,p]=Ype(d,Object.assign(Object.assign({},t),{values:void 0}),o,h),"number"==typeof u&&(e=!0)),"number"!=typeof u&&([u,p]=Ype(d,a,o,h),"number"!=typeof u))continue;if(!e&&l){if(m&&l.original.length>0&&([g,f]=Ype(m,l)),"number"!=typeof g)continue;"number"==typeof u&&(u+=g)}}const _=i.tags&&i.tags.indexOf(1)>=0;c.push({index:e,kind:i.kind,score:u,label:d,ariaLabel:r,description:m,highlights:_?void 0:{label:p,description:f},range:{selection:oe.collapseToStart(i.selectionRange),decoration:i.range},strikethrough:_,buttons:(()=>{var e,t;const n=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(n)return[{iconClass:"right"===n?NM.splitHorizontal.classNames:NM.splitVertical.classNames,tooltip:JI(0,"right"===n?"Open to the Side":"Open to the Bottom")}]})()})}const d=c.sort(((e,t)=>r?this.compareByKindAndScore(e,t):this.compareByScore(e,t)));let h=[];if(r){let e,t,n=function(){t&&"number"==typeof e&&i>0&&(t.label=$e(rge[e]||sge,i))},i=0;for(const s of d)e!==s.kind?(n(),e=s.kind,i=1,t={type:"separator"},h.push(t)):i++,h.push(s);n()}else d.length>0&&(h=[{label:JI(0,"symbols ({0})",c.length),type:"separator"},...d]);return h}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const n=rge[e.kind]||sge,i=rge[t.kind]||sge,s=n.localeCompare(i);return 0===s?this.compareByScore(e,t):s}getDocumentSymbols(e,t){return nge(this,void 0,void 0,(function*(){const n=yield cce.create(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()}))}}ige.PREFIX="@",ige.SCOPE_PREFIX=":",ige.PREFIX_BY_CATEGORY=`${ige.PREFIX}${ige.SCOPE_PREFIX}`;const sge=JI(0,"properties ({0})"),rge={5:JI(0,"methods ({0})"),11:JI(0,"functions ({0})"),8:JI(0,"constructors ({0})"),12:JI(0,"variables ({0})"),4:JI(0,"classes ({0})"),22:JI(0,"structs ({0})"),23:JI(0,"events ({0})"),24:JI(0,"operators ({0})"),10:JI(0,"interfaces ({0})"),2:JI(0,"namespaces ({0})"),3:JI(0,"packages ({0})"),25:JI(0,"type parameters ({0})"),1:JI(0,"modules ({0})"),6:JI(0,"properties ({0})"),9:JI(0,"enumerations ({0})"),21:JI(0,"enumeration members ({0})"),14:JI(0,"strings ({0})"),0:JI(0,"files ({0})"),17:JI(0,"arrays ({0})"),15:JI(0,"numbers ({0})"),16:JI(0,"booleans ({0})"),18:JI(0,"objects ({0})"),19:JI(0,"keys ({0})"),7:JI(0,"fields ({0})"),13:JI(0,"constants ({0})")};let oge=class extends ige{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=k.None}get activeTextEditorControl(){return Ge(this.editorService.getFocusedCodeEditor())}};oge=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([function(e,t){return function(n,i){t(n,i,e)}}(0,MP)],oge),ZV.as(f7).registerQuickAccessProvider({ctor:oge,prefix:ige.PREFIX,helpEntries:[{description:lH.quickOutlineActionLabel,prefix:ige.PREFIX,needsEditor:!0},{description:lH.quickOutlineByCategoryActionLabel,prefix:ige.PREFIX_BY_CATEGORY,needsEditor:!0}]});qU(class extends zU{constructor(){super({id:"editor.action.quickOutline",label:lH.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:EZ.hasDocumentSymbolProvider,kbOpts:{kbExpr:EZ.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(u7).quickAccess.show(ige.PREFIX)}});var age,lge,cge=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function dge(e){const t=e;return Array.isArray(t.items)}(lge=age||(age={}))[lge.NO_ACTION=0]="NO_ACTION",lge[lge.CLOSE_PICKER=1]="CLOSE_PICKER",lge[lge.REFRESH_PICKER=2]="REFRESH_PICKER",lge[lge.REMOVE_ITEM=3]="REMOVE_ITEM";class hge extends F{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var n;const i=new B;let s;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const r=i.add(new Tt),o=()=>cge(this,void 0,void 0,(function*(){const n=r.value=new B;null==s||s.dispose(!0),e.busy=!1,s=new L(t);const i=s.token,o=e.value.substr(this.prefix.length).trim(),a=this.getPicks(o,n,i),l=(t,n)=>{var i;let s,r;if(dge(t)?(s=t.items,r=t.active):s=t,0===s.length){if(n)return!1;o.length>0&&(null===(i=this.options)||void 0===i?void 0:i.noResultsPick)&&(s=[this.options.noResultsPick])}return e.items=s,r&&(e.activeItems=[r]),!0};if(null===a);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(a)){let t=!1,n=!1;yield Promise.all([(()=>cge(this,void 0,void 0,(function*(){yield mO(hge.FAST_PICKS_RACE_DELAY),i.isCancellationRequested||n||(t=l(a.picks,!0))})))(),(()=>cge(this,void 0,void 0,(function*(){e.busy=!0;try{const s=yield a.additionalPicks;if(i.isCancellationRequested)return;let r,o,c,d;if(dge(a.picks)?(r=a.picks.items,o=a.picks.active):r=a.picks,dge(s)?(c=s.items,d=s.active):c=s,c.length>0||!t){let t;if(!o&&!d){const n=e.activeItems[0];n&&-1!==r.indexOf(n)&&(t=n)}l({items:[...r,...c],active:o||d||t})}}finally{i.isCancellationRequested||(e.busy=!1),n=!0}})))()])}else if(a instanceof Promise){e.busy=!0;try{const t=yield a;if(i.isCancellationRequested)return;l(t)}finally{i.isCancellationRequested||(e.busy=!1)}}else l(a)}));return i.add(e.onDidChangeValue((()=>o()))),o(),i.add(e.onDidAccept((t=>{const[n]=e.selectedItems;"function"==typeof(null==n?void 0:n.accept)&&(t.inBackground||e.hide(),n.accept(e.keyMods,t))}))),i.add(e.onDidTriggerItemButton((({button:n,item:i})=>cge(this,void 0,void 0,(function*(){var s,r;if("function"==typeof i.trigger){const a=null!==(r=null===(s=i.buttons)||void 0===s?void 0:s.indexOf(n))&&void 0!==r?r:-1;if(a>=0){const n=i.trigger(a,e.keyMods),s="number"==typeof n?n:yield n;if(t.isCancellationRequested)return;switch(s){case age.NO_ACTION:break;case age.CLOSE_PICKER:e.hide();break;case age.REFRESH_PICKER:o();break;case age.REMOVE_ITEM:const t=e.items.indexOf(i);if(-1!==t){const n=e.items.slice();n.splice(t,1),e.items=n}}}}}))))),i}}function uge(e,t){return t&&(e.stack||e.stacktrace)?JI(0,"{0}: {1}",gge(e),pge(e.stack)||pge(e.stacktrace)):gge(e)}function pge(e){return Array.isArray(e)?e.join("\n"):e}function gge(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?JI(0,"A system error occurred ({0})",e.message):e.message||JI(0,"An unknown error occurred. Please consult the log for more details.")}function fge(e=null,t=!1){if(!e)return JI(0,"An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const n=bB(e),i=fge(n[0],t);return n.length>1?JI(0,"{0} ({1} errors in total)",i,n.length):i}if(Me(e))return e;if(e.detail){const n=e.detail;if(n.error)return uge(n.error,t);if(n.exception)return uge(n.exception,t)}return e.stack?uge(e,t):e.message?e.message:JI(0,"An unknown error occurred. Please consult the log for more details.")}hge.FAST_PICKS_RACE_DELAY=200;var mge=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},_ge=function(e,t){return function(n,i){t(n,i,e)}},vge=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let bge=class e extends hge{constructor(t,n,i,s,r,o){super(e.PREFIX,t),this.instantiationService=n,this.keybindingService=i,this.commandService=s,this.telemetryService=r,this.notificationService=o,this.commandsHistory=this._register(this.instantiationService.createInstance(yge)),this.options=t}getPicks(t,n,i){return vge(this,void 0,void 0,(function*(){const s=yield this.getCommandPicks(n,i);if(i.isCancellationRequested)return[];const r=[];for(const n of s){const i=Ge(e.WORD_FILTER(t,n.label)),s=n.commandAlias?Ge(e.WORD_FILTER(t,n.commandAlias)):void 0;i||s?(n.highlights={label:i,detail:this.options.showAlias?s:void 0},r.push(n)):t===n.commandId&&r.push(n)}const o=new Map;for(const e of r){const t=o.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):o.set(e.label,e)}r.sort(((e,t)=>{const n=this.commandsHistory.peek(e.commandId),i=this.commandsHistory.peek(t.commandId);return n&&i?n>i?-1:1:n?-1:i?1:e.label.localeCompare(t.label)}));const a=[];let l=!1;for(let e=0;e<r.length;e++){const t=r[e],n=this.keybindingService.lookupKeybinding(t.commandId),i=n?JI(0,"{0}, {1}",t.label,n.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(a.push({type:"separator",label:JI(0,"recently used")}),l=!0),0!==e&&l&&!this.commandsHistory.peek(t.commandId)&&(a.push({type:"separator",label:JI(0,"other commands")}),l=!1),a.push(Object.assign(Object.assign({},t),{ariaLabel:i,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:n,accept:()=>vge(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){kt(e)||this.notificationService.error(JI(0,"Command '{0}' resulted in an error ({1})",t.label,fge(e)))}}))}))}return a}))}};bge.PREFIX=">",bge.WORD_FILTER=c3(d3,(function(e,t,n=!1){if(!t||0===t.length)return null;let i=null,s=0;for(e=e.toLowerCase(),t=t.toLowerCase();s<t.length&&null===(i=x3(e,t,0,s,n));)s=k3(t,s+1);return i}),h3),bge=mge([_ge(1,PP),_ge(2,w1),_ge(3,_A),_ge(4,BU),_ge(5,JW)],bge);let yge=class e extends F{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let n;if(t)try{n=JSON.parse(t)}catch(s){}const i=e.cache=new KR(this.configuredCommandsHistoryLength,1);if(n){let e;e=n.usesLRU?n.entries:n.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>i.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var n;return null===(n=e.cache)||void 0===n?void 0:n.peek(t)}static saveState(t){if(!e.cache)return;const n={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>n.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(n),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var n,i;const s=null===(i=null===(n=t.getValue().workbench)||void 0===n?void 0:n.commandPalette)||void 0===i?void 0:i.history;return"number"==typeof s?s:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};yge.DEFAULT_COMMANDS_HISTORY_LENGTH=50,yge.PREF_KEY_CACHE="commandPalette.mru.cache",yge.PREF_KEY_COUNTER="commandPalette.mru.counter",yge.counter=1,yge=mge([_ge(0,I8),_ge(1,TW)],yge);class wge extends bge{constructor(e,t,n,i,s,r){super(e,t,n,i,s,r)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:J3(n.label)||n.id});return t}}var Cge=function(e,t){return function(n,i){t(n,i,e)}},Sge=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};let xge=class extends wge{constructor(e,t,n,i,s,r){super({showAlias:!1},e,n,i,s,r),this.codeEditorService=t}get activeTextEditorControl(){return Ge(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Sge(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};xge=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Cge(0,PP),Cge(1,MP),Cge(2,w1),Cge(3,_A),Cge(4,BU),Cge(5,JW)],xge),ZV.as(f7).registerQuickAccessProvider({ctor:xge,prefix:xge.PREFIX,helpEntries:[{description:oH.quickCommandHelp,needsEditor:!0}]});qU(class extends zU{constructor(){super({id:"editor.action.quickCommand",label:oH.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:EZ.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(u7).quickAccess.show(xge.PREFIX)}});var kge=function(e,t){return function(n,i){t(n,i,e)}};let Ege=class extends $re{constructor(e,t,n,i,s,r,o){super(!0,e,t,n,i,s,r,o)}};Ege=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([kge(1,_U),kge(2,MP),kge(3,JW),kge(4,PP),kge(5,I8),kge(6,TW)],Ege),ZU($re.ID,Ege);qU(class extends zU{constructor(){super({id:"editor.action.toggleHighContrast",label:uH.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(y1);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}});var Dge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CancellationTokenSource:Jee,Emitter:Qee,KeyCode:ete,KeyMod:tte,Position:nte,Range:ite,Selection:ste,SelectionDirection:rte,MarkerSeverity:ote,MarkerTag:ate,Uri:lte,Token:cte,editor:dte,languages:hte}),Tge=e=>"string"==typeof e;class Lge{constructor(e){this.html=e}removeComments(){if(!this.html)return[];const e=/\/\*[\s\S]*?\*\/|\/\*[\s\S]*$|([^\\:]|^)\/\/.*|<!--[\s\S]*?-->$/gim;let t;for(;t=e.exec(this.html);)t&&(this.html=this.html.slice(0,t.index)+" ".repeat(e.lastIndex-t.index)+this.html.slice(e.lastIndex))}parseAttrs(){var e;if(!this.html)return[];const t=[],n=/\S+\s*=\s*"[^"]+"|\S+\s*=\s*'[^']+'|\S+\s*=\s*[^>\s]+/gim;let i;for(;i=n.exec(this.html);)if(i){const s=i[0],r=s.indexOf("="),o=s.slice(0,r).trim();let a=s.slice(r+1).trim(),l=i.index+(r+1+((null==(e=s.slice(r+1).match(/\S/))?void 0:e.index)||0));['"',"'"].includes(a.charAt(0))&&(l++,a=a.slice(1,-1)),t.push({raw:s,key:o,value:{raw:a,start:l},start:i.index,end:n.lastIndex})}return t}parseClasses(){if(!this.html)return[];const e=/\s(?:class|className|w:dark|w:light|w:active|w:after|w:before|w:checked|w:disabled|w:focus|w:hover|w:tw)=(["'])([^{}]+)\1/,t=/["']/,n=[];let i=0,s=this.html,r=s.search(e);for(;-1!==r;){const o=s.substring(r),a=o.search(t),l=r+a+1,c=l+o.substring(a+1).search(t);n.push({start:i+l,end:i+c,result:s.substring(l,c)}),s=s.substring(c+2),i+=c+2,r=s.search(e)}return n}parseApplies(){if(!this.html)return[];const e=[],t=/(?<=@apply\s+)[^;]+(?=\s+!important)|(?<=@apply\s+)[^;]+(?=;)/gim;let n;for(;n=t.exec(this.html);)n&&e.push({result:this.html.slice(n.index,t.lastIndex),start:n.index,end:t.lastIndex});return e}}const Nge=new d,Ige={colors:u(Nge.theme("colors",{})),variants:Nge.resolveVariants(),completions:p(Nge,null,!0)},{rules:Pge}=function(e){const t=document.createElement("style");t.title=e,document.body.appendChild(t);const n=hr({}),i=Object.values(document.styleSheets).find((({title:t})=>t===e));return xo(n,(e=>{if(i){for(let e=0;e<i.rules.length;++e)i.deleteRule(e);Object.keys(e).forEach((t=>i.insertRule(`${t} { ${e[t]} }`)))}})),{rules:n}}("__windicss_styles__"),Oge={decorations:[]};function Rge(e,t,n,i,s){s=Tge(s)?s:v(s[0],s[1],s[2]);const{lineNumber:r,column:o}=e.getPositionAt(t+n),{lineNumber:a,column:l}=e.getPositionAt(t+n+i.length),[c,d,h]=b(s);return{ownerId:0,id:i,range:new ite(r,o,a,l),options:{beforeContentClassName:`editor-windicss-color-block ${f(c,d,h)?"editor-windicss-color-block-dark":"editor-windicss-color-block-light"} color-${s.replace("#","")})}`}}}const Age=[{language:"html",onContentChanged(e){const t=e.getValue(),n=new Lge(t);n.removeComments();const i=n.parseAttrs(),s=e.getModel(),r=i.filter((e=>g(e.key,Ige.completions.attr.static))).map((e=>{const t=e.value.raw.matchAll(/[^\s/]+/gim);return Array.from(t).map((t=>{const n=t[0].replace("dark:","").replace("!","");if(n in Ige.colors||n.startsWith("hex-")){const i=n in Ige.colors?Ige.colors[n]:n.replace(/^hex-/,"#");return{color:i,decoration:Rge(s,e.value.start,t.index,t[0],i)}}return null})).filter((e=>e))})).flat(),o=i.filter((e=>m(e.key,Ige.variants)||["class","className"].includes(e.key))).map((e=>{const t=new gI(e.value.raw,":",Object.keys(Ige.variants)).parse(!1),n=[];for(const i of t){if("group"===i.type&&Array.isArray(i.content))for(const r of i.content){const t=_(r.raw,Ige.colors);t&&t.color&&n.push({color:t.color,decoration:Rge(s,e.value.start,r.start,i.raw,t.color)})}const t="utility"===i.type&&_(i.raw,Ige.colors);t&&t.color&&n.push({color:t.color,decoration:Rge(s,e.value.start,i.start,i.raw,t.color)})}return n})).flat();Pge.value=[...r,...o].filter((({color:e})=>e)).reduce(((e,t)=>{const n=Tge(t.color)?t.color:v(t.color[0],t.color[1],t.color[2]);return e[`.color-${n.replace("#","")}`]=`background-color: ${n}`,e}),{}),Oge.decorations=e.deltaDecorations(Oge.decorations,[...r.map((({decoration:e})=>e)),...o.map((({decoration:e})=>e))])}}];const Mge=function(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const e=t;t=void 0,e&&await e},n}((async()=>{hte.typescript.javascriptDefaults.setCompilerOptions(l(a({},hte.typescript.javascriptDefaults.getCompilerOptions()),{noUnusedLocals:!1,noUnusedParameters:!1,allowUnreachableCode:!0,allowUnusedLabels:!0,strict:!1,allowJs:!0}));const e=["vue","@vueuse/core","vue-hooks-plus"];return hte.typescript.javascriptDefaults.addExtraLib("\n    declare module 'vue-hooks-plus' { import { ComputedRef } from 'vue';\r\nimport { default as Cookies_2 } from 'js-cookie';\r\nimport { createApp } from 'vue';\r\nimport type { DebouncedFunc } from 'lodash';\r\nimport { Options as Options_9 } from '@/useRequest/types';\r\nimport { Ref } from 'vue';\r\nimport { Service as Service_2 } from '@/useRequest/types';\r\nimport type { UnwrapRef } from 'vue';\r\nimport { VueElement } from 'vue';\r\nimport { WatchSource } from 'vue';\r\n\r\ndeclare interface Actions {\r\n    setTrue: () => void;\r\n    setFalse: () => void;\r\n    set: (value: boolean) => void;\r\n    toggle: () => void;\r\n}\r\n\r\ndeclare type Actions_2<K, T> = {\r\n    set: (key: K, value: T) => void;\r\n    get: (key: K) => T | undefined;\r\n    remove: (key: K) => void;\r\n    has: (key: K) => boolean;\r\n    clear: () => void;\r\n    setAll: (newMap: MapValue<K, T>) => void;\r\n    reset: () => void;\r\n};\r\n\r\ndeclare interface Actions_3<T> {\r\n    add: (value: T) => void;\r\n    remove: (value: T) => void;\r\n    has: (value: T) => boolean;\r\n    clear: () => void;\r\n    reset: () => void;\r\n}\r\n\r\ndeclare interface Actions_4<T> {\r\n    setLeft: () => void;\r\n    setRight: () => void;\r\n    set: (value: T) => void;\r\n    toggle: () => void;\r\n}\r\n\r\ndeclare type AsyncOrder = {\r\n    task: ((resolve?: Resolve, reject?: interruptibleRejectType, index?: number) => void)[];\r\n    option?: {\r\n        delay?: number;\r\n        onReady?: () => void;\r\n        onSuccess?: (result: any) => void;\r\n        onError?: (err: any) => void;\r\n    };\r\n};\r\n\r\ndeclare type BasicTarget<T extends TargetType = Element> = (() => TargetValue<T>) | TargetValue<T> | Ref<TargetValue<T>>;\r\n\r\ndeclare type BasicTarget_2<T extends TargetType_2 = Element> = (() => TargetValue_2<T>) | TargetValue_2<T> | Ref<TargetValue_2<T>>;\r\n\r\ndeclare interface CachedData<TData = any, TParams = any> {\r\n    data: TData;\r\n    params: TParams;\r\n    time: number;\r\n}\r\n\r\ndeclare type Data = {\r\n    list: any[];\r\n    [key: string]: any;\r\n};\r\n\r\ndeclare interface DebounceOptions {\r\n    wait?: number;\r\n    leading?: boolean;\r\n    trailing?: boolean;\r\n    maxWait?: number;\r\n}\r\n\r\ndeclare type DependencyList = WatchSource | any[] | any;\r\n\r\ndeclare type DependencyList_2 = Ref[];\r\n\r\ndeclare type Effect = (changes?: number[], previousDeps?: DependencyList_2, currentDeps?: DependencyList_2) => void | (() => void);\r\n\r\ndeclare class EventEmitter<T> {\r\n    private subscriptions;\r\n    private emitEffectCache;\r\n    constructor();\r\n    useSubscription: (event: string, listener?: Subscription<T> | undefined) => void;\r\n    emit: (event: string | number, ...args: T extends any[] ? any[] : any) => void;\r\n    emitEffect: (event: string | number) => void;\r\n    removeListener: (event: string) => void;\r\n    clear: () => void;\r\n}\r\n\r\ndeclare const eventEmitterOverall: EventEmitter<unknown>;\r\n\r\ndeclare type EventEmitterType<T = void> = EventEmitter<T> | typeof eventEmitterOverall;\r\n\r\ndeclare type EventHandler = (event: KeyboardEvent) => void;\r\n\r\ndeclare class Fetch<TData, TParams extends any[] = any> {\r\n    serviceRef: Ref<Service<TData, TParams>>;\r\n    options: Options<TData, TParams, any>;\r\n    setUpdataData: (s: any, key?: keyof FetchState<TData, TParams>) => void;\r\n    initState: Partial<FetchState<TData, TParams>>;\r\n    pluginImpls: PluginReturn<TData, TParams>[] | undefined;\r\n    count: number;\r\n    state: FetchState<TData, TParams>;\r\n    constructor(serviceRef: Ref<Service<TData, TParams>>, options: Options<TData, TParams, any>, setUpdataData: (s: any, key?: keyof FetchState<TData, TParams>) => void, initState?: Partial<FetchState<TData, TParams>>);\r\n    setState(s?: Partial<FetchState<TData, TParams>>): void;\r\n    setData(data: any, key?: keyof FetchState<TData, TParams> | (keyof FetchState<TData, TParams>)[]): void;\r\n    runPluginHandler(event: keyof PluginReturn<TData, TParams>, ...rest: any[]): any;\r\n    runAsync(...params: TParams): Promise<TData>;\r\n    run(...params: TParams): void;\r\n    cancel(): void;\r\n    refresh(): void;\r\n    refreshAsync(): Promise<TData>;\r\n    mutate(data?: TData | ((oldData?: TData) => TData | undefined)): void;\r\n}\r\n\r\ndeclare interface FetchState<TData, TParams extends any[]> {\r\n    loading: boolean;\r\n    params?: TParams;\r\n    data?: TData;\r\n    error?: Error | unknown;\r\n}\r\n\r\ndeclare interface IFuncUpdater<T> {\r\n    (previousState?: T): T;\r\n}\r\n\r\ndeclare interface InfiniteScrollOptions<TData extends Data> {\r\n    target?: BasicTarget<Element | Document>;\r\n    isNoMore?: (data?: TData) => boolean;\r\n    threshold?: number;\r\n    manual?: boolean;\r\n    reloadDeps?: DependencyList;\r\n    onBefore?: () => void;\r\n    onSuccess?: (data: TData) => void;\r\n    onError?: (e: Error) => void;\r\n    onFinally?: (data?: TData, e?: Error) => void;\r\n}\r\n\r\ndeclare type interruptibleRejectType = (error: any) => void;\r\n\r\ndeclare type IProps = Record<string, any>;\r\n\r\ndeclare type KeyEvent = 'keydown' | 'keyup';\r\n\r\ndeclare type KeyFilter = keyType | keyType[] | ((event: KeyboardEvent) => boolean);\r\n\r\ndeclare type keyType = number | string;\r\n\r\ndeclare type MapValue<K, T> = Iterable<readonly [K, T]>;\r\n\r\ndeclare interface NetworkState {\r\n    since?: Date;\r\n    online?: boolean;\r\n    rtt?: number;\r\n    type?: string;\r\n    downlink?: number;\r\n    saveData?: boolean;\r\n    downlinkMax?: number;\r\n    effectiveType?: string;\r\n}\r\n\r\ndeclare type noop = (...args: any) => any;\r\n\r\ndeclare type noop_2 = (...p: any) => void;\r\n\r\ndeclare type noop_3 = (...args: any) => any;\r\n\r\ndeclare type Options<TData, TParams extends any[], TPlugin> = {\r\n    [K in keyof TPlugin]: TPlugin[K];\r\n} & {\r\n    manual?: boolean;\r\n    onBefore?: (params: TParams) => void;\r\n    onSuccess?: (data: TData, params: TParams) => void;\r\n    onError?: (e: Error, params: TParams) => void;\r\n    onFinally?: (params: TParams, data?: TData, e?: Error) => void;\r\n    defaultParams?: TParams;\r\n    refreshDeps?: WatchSource[] | any;\r\n    refreshDepsAction?: () => void;\r\n    loadingDelay?: number | Ref<number>;\r\n    formatResult?: (data?: TData) => any;\r\n    pollingInterval?: Ref<number> | number;\r\n    pollingWhenHidden?: boolean;\r\n    refreshOnWindowFocus?: Ref<boolean> | boolean;\r\n    focusTimespan?: Ref<number> | number;\r\n    debounceWait?: number;\r\n    debounceLeading?: Ref<boolean>;\r\n    debounceTrailing?: Ref<boolean>;\r\n    debounceMaxWait?: Ref<number>;\r\n    throttleWait?: number;\r\n    throttleLeading?: Ref<boolean>;\r\n    throttleTrailing?: Ref<boolean>;\r\n    cacheKey?: string;\r\n    cacheTime?: number;\r\n    staleTime?: number;\r\n    setCache?: (data: CachedData<TData, TParams>) => void;\r\n    getCache?: (params: TParams) => CachedData<TData, TParams> | undefined;\r\n    retryCount?: number;\r\n    retryInterval?: number;\r\n    ready?: Ref<boolean> | boolean;\r\n    [x: string]: any;\r\n};\r\n\r\ndeclare interface Options_10 {\r\n    onEnter?: () => void;\r\n    onLeave?: () => void;\r\n}\r\n\r\ndeclare interface Options_11 {\r\n    rootMargin?: string;\r\n    threshold?: number | number[];\r\n    root?: BasicTarget<Element>;\r\n}\r\n\r\ndeclare type Options_12 = {\r\n    events?: KeyEvent[];\r\n    target?: Target_2;\r\n    exactMatch?: boolean;\r\n};\r\n\r\ndeclare interface Options_13<T> {\r\n    serializer?: (value: T) => string;\r\n    deserializer?: (value: string) => T;\r\n}\r\n\r\ndeclare interface Options_14 {\r\n    restoreOnUnmount?: boolean;\r\n}\r\n\r\ndeclare interface Options_15<T> {\r\n    wrapperTarget: Ref<TargetValue_3<HTMLElement>>;\r\n    itemHeight: number | ((index: number, data: T) => number);\r\n    overscan?: number;\r\n}\r\n\r\ndeclare interface Options_16 {\r\n    onExit?: () => void;\r\n    onEnter?: () => void;\r\n}\r\n\r\ndeclare interface Options_2 extends Cookies_2.CookieAttributes {\r\n    defaultValue?: State | (() => State);\r\n}\r\n\r\ndeclare interface Options_3 {\r\n    min?: number;\r\n    max?: number;\r\n}\r\n\r\ndeclare interface Options_4 {\r\n    draggable?: boolean;\r\n    onDragStart?: (event: DragEvent) => void;\r\n    onDragEnd?: (event: DragEvent) => void;\r\n}\r\n\r\ndeclare interface Options_5 {\r\n    onFiles?: (files: File[], event?: DragEvent) => void;\r\n    onUri?: (url: string, event?: DragEvent) => void;\r\n    onDom?: (content: any, event?: DragEvent) => void;\r\n    onText?: (text: string, event?: ClipboardEvent) => void;\r\n    onDragEnter?: (event?: DragEvent) => void;\r\n    onDragOver?: (event?: DragEvent) => void;\r\n    onDragLeave?: (event?: DragEvent) => void;\r\n    onDrop?: (event?: DragEvent) => void;\r\n    onPaste?: (event?: ClipboardEvent) => void;\r\n}\r\n\r\ndeclare interface Options_6 {\r\n    type?: 'js' | 'css';\r\n    js?: Partial<HTMLScriptElement>;\r\n    css?: Partial<HTMLStyleElement>;\r\n}\r\n\r\ndeclare type Options_7<T extends Target = Target> = {\r\n    target?: T;\r\n    capture?: boolean;\r\n    once?: boolean;\r\n    passive?: boolean;\r\n};\r\n\r\ndeclare interface Options_8 {\r\n    onFocus?: (e: FocusEvent) => void;\r\n    onBlur?: (e: FocusEvent) => void;\r\n    onChange?: (isFocusWithin: boolean) => void;\r\n}\r\n\r\ndeclare interface OptionsWithDefaultValue<T> extends Options_13<T> {\r\n    defaultValue: T | IFuncUpdater<T>;\r\n}\r\n\r\ndeclare type ParamsType<P> = P extends any[] ? any[] : any;\r\n\r\ndeclare type Plugin_2<TData, TParams extends any[], TPlugin = any> = {\r\n    (fetchInstance: Fetch<TData, TParams>, options: Options<TData, TParams, TPlugin>): PluginReturn<TData, TParams>;\r\n    onInit?: (options: Options<TData, TParams, TPlugin>) => Partial<FetchState<TData, TParams>>;\r\n};\r\n\r\ndeclare interface PluginReturn<TData, TParams extends any[]> {\r\n    onBefore?: (params: TParams) => ({\r\n        stopNow?: boolean;\r\n        returnNow?: boolean;\r\n    } & Partial<FetchState<TData, TParams>>) | void;\r\n    onRequest?: (service: Service<TData, TParams>, params: TParams) => {\r\n        servicePromise?: Promise<TData>;\r\n    };\r\n    onSuccess?: (data: TData, params: TParams) => void;\r\n    onError?: (e: Error, params: TParams) => void;\r\n    onFinally?: (params: TParams, data?: TData, e?: Error) => void;\r\n    onCancel?: () => void;\r\n    onMutate?: (data: TData) => void;\r\n}\r\n\r\ndeclare type Position = {\r\n    left: number;\r\n    top: number;\r\n};\r\n\r\ndeclare type Resolve = (value: any) => void;\r\n\r\ndeclare interface Result<TData, TParams extends any[]> {\r\n    loading: Ref<boolean>;\r\n    data?: Ref<TData>;\r\n    error?: Ref<Error>;\r\n    params: Ref<TParams | []>;\r\n    cancel: Fetch<TData, TParams>['cancel'];\r\n    refresh: Fetch<TData, TParams>['refresh'];\r\n    refreshAsync: Fetch<TData, TParams>['refreshAsync'];\r\n    run: Fetch<TData, TParams>['run'];\r\n    runAsync: Fetch<TData, TParams>['runAsync'];\r\n    mutate: Fetch<TData, TParams>['mutate'];\r\n}\r\n\r\ndeclare type ScrollListenController = (val: Position) => boolean;\r\n\r\ndeclare type Service<TData, TParams extends any[]> = (...args: TParams) => Promise<TData>;\r\n\r\ndeclare type Service_3<TData extends Data> = (currentData?: TData) => Promise<TData>;\r\n\r\ndeclare type Size = {\r\n    width: Ref<number>;\r\n    height: Ref<number>;\r\n};\r\n\r\ndeclare type State = string | undefined;\r\n\r\ndeclare type Status = 'unset' | 'loading' | 'ready' | 'error';\r\n\r\ndeclare type StorageStateResultHasDefaultValue<T> = [\r\nRef<T> | Ref<undefined>,\r\n(value?: T | IFuncUpdater<T> | undefined) => void\r\n];\r\n\r\ndeclare type Subscription<T> = ({ params, event }: SubscriptionParams<T>) => void;\r\n\r\ndeclare type SubscriptionParams<T = any> = {\r\n    params: T;\r\n    event: string | number;\r\n};\r\n\r\ndeclare type Target = BasicTarget<HTMLElement | Element | Window | Document>;\r\n\r\ndeclare type Target_2 = BasicTarget<HTMLElement | Document | Window>;\r\n\r\ndeclare type Target_3 = BasicTarget<Element | Document>;\r\n\r\ndeclare type TargetType = HTMLElement | Element | Window | Document;\r\n\r\ndeclare type TargetType_2 = HTMLElement | Element | Window | Document;\r\n\r\ndeclare type TargetValue<T> = T | undefined | null;\r\n\r\ndeclare type TargetValue_2<T> = T | undefined | null;\r\n\r\ndeclare type TargetValue_3<T> = T | undefined | null;\r\n\r\ndeclare interface ThrottleOptions {\r\n    wait?: number;\r\n    leading?: boolean;\r\n    trailing?: boolean;\r\n}\r\n\r\ndeclare interface UrlState {\r\n    [key: string]: any;\r\n}\r\n\r\nexport declare function useAsyncOrder({ task, option }: AsyncOrder): void;\r\n\r\nexport declare function useBoolean(defaultValue?: boolean): [Ref<boolean>, Actions];\r\n\r\nexport declare function useCookieState(cookieKey: string, options?: Options_2): readonly [Ref<State>, (newValue: State | ((prevState: State) => State), newOptions?: Cookies_2.CookieAttributes) => void];\r\n\r\nexport declare function useCounter(initialValue?: number, options?: Options_3): readonly [Ref<number>, {\r\n    readonly inc: (delta?: number) => void;\r\n    readonly dec: (delta?: number) => void;\r\n    readonly set: (value: ValueParam) => void;\r\n    readonly reset: () => void;\r\n}];\r\n\r\nexport declare function useDarkMode(): [\r\nComputedRef<any>,\r\n(value?: unknown) => void\r\n];\r\n\r\nexport declare function useDebounce<T>(value: Ref<T>, options?: DebounceOptions): Ref<T>;\r\n\r\nexport declare function useDebounceFn<T extends noop>(fn: T, options?: DebounceOptions): {\r\n    run: DebouncedFunc<T>;\r\n    cancel: () => void;\r\n    flush: () => ReturnType<T> | undefined;\r\n};\r\n\r\nexport declare const useDrag: <T>(data: T, target: BasicTarget, options?: Options_4) => void;\r\n\r\nexport declare const useDrop: (target: BasicTarget, options?: Options_5) => void;\r\n\r\nexport declare function useEventEmitter<T = void>(options?: {\r\n    global?: boolean;\r\n}): EventEmitterType<T>;\r\n\r\nexport declare function useEventListener<K extends keyof HTMLElementEventMap>(eventName: K, handler: (ev: HTMLElementEventMap[K]) => void, options?: Options_7<HTMLElement>): void;\r\n\r\nexport declare function useEventListener<K extends keyof ElementEventMap>(eventName: K, handler: (ev: ElementEventMap[K]) => void, options?: Options_7<Element>): void;\r\n\r\nexport declare function useEventListener<K extends keyof DocumentEventMap>(eventName: K, handler: (ev: DocumentEventMap[K]) => void, options?: Options_7<Document>): void;\r\n\r\nexport declare function useEventListener<K extends keyof WindowEventMap>(eventName: K, handler: (ev: WindowEventMap[K]) => void, options?: Options_7<Window>): void;\r\n\r\nexport declare function useEventListener(eventName: string, handler: noop_2, options: Options_7): void;\r\n\r\nexport declare function useExternal(path?: string | Ref<string>, options?: Options_6): Ref<Status>;\r\n\r\nexport declare function useFavicon(href?: string | Ref<string | undefined>): void;\r\n\r\nexport declare function useFetchs<TData, TParams>(service: Service_2<TData, ParamsType<TParams>>, options: Options_9<TData, ParamsType<TParams>, any> & {\r\n    manual: true;\r\n}, self: {\r\n    fetchKey?: (...args: ParamsType<TParams>) => string;\r\n}): {\r\n    fetchs: Ref<{\r\n        [x: string]: {\r\n            data: UnwrapRef<TData> | undefined;\r\n            params: UnwrapRef<TParams>;\r\n            loading: boolean;\r\n            key: string | number;\r\n        };\r\n        [x: number]: {\r\n            data: UnwrapRef<TData> | undefined;\r\n            params: UnwrapRef<TParams>;\r\n            loading: boolean;\r\n            key: string | number;\r\n        };\r\n    }>;\r\n    fetchRun: (...args: TParams extends any[] ? any[] : any) => void;\r\n};\r\n\r\nexport declare function useFocusWithin(target: BasicTarget, options?: Options_8): Ref<boolean>;\r\n\r\nexport declare function useFormatResult<TData, FData>(data: TData | Ref<TData>, formatResultCallback: (data: TData) => FData): ComputedRef<FData>;\r\n\r\nexport declare const useFullscreen: (target: BasicTarget, options?: Options_16 | undefined) => readonly [Ref<boolean>, {\r\n    readonly enterFullscreen: () => void;\r\n    readonly exitFullscreen: () => void;\r\n    readonly toggleFullscreen: () => void;\r\n    readonly isEnabled: true;\r\n}];\r\n\r\nexport declare function useHover(target: BasicTarget, options?: Options_10): Ref<boolean>;\r\n\r\nexport declare const useInfiniteScroll: <TData extends Data>(service: Service_3<TData>, options?: InfiniteScrollOptions<TData>) => {\r\n    data: Ref<TData | undefined>;\r\n    loading: ComputedRef<boolean>;\r\n    loadingMore: Ref<boolean>;\r\n    noMore: ComputedRef<boolean>;\r\n    loadMore: () => void;\r\n    loadMoreAsync: () => Promise<TData> | undefined;\r\n    reload: () => void;\r\n    reloadAsync: () => Promise<TData>;\r\n    mutate: (mutateData: any) => void;\r\n    scrollMethod: () => void;\r\n    cancel: () => void;\r\n};\r\n\r\nexport declare function useInterval(fn: () => void, delay: Ref<number | undefined> | number | undefined, options?: {\r\n    immediate?: boolean;\r\n}): void;\r\n\r\nexport declare function useInViewport(target: BasicTarget, options?: Options_11): readonly [Ref<boolean | undefined>, Ref<number | undefined>];\r\n\r\nexport declare function useKeyPress(keyFilter: KeyFilter, eventHandler: EventHandler, option?: Options_12): void;\r\n\r\nexport declare const useLocalStorageState: <T>(key: string | Ref<string>, options?: OptionsWithDefaultValue<T> | undefined) => StorageStateResultHasDefaultValue<T>;\r\n\r\nexport declare function useLockFn<P extends any[], V>(fn: (...args: P) => Promise<V>): (...args: P) => Promise<V | undefined>;\r\n\r\nexport declare function useMap<K, T>(initialValue?: MapValue<K, T>): [Ref<Map<K, T>>, Actions_2<K, T>];\r\n\r\nexport declare function useMedia(queries: any[], values: {\r\n    [x: string]: any;\r\n}, defaultValue: any): any;\r\n\r\nexport declare function useMouse(target?: BasicTarget): Ref<{\r\n    screenX: number;\r\n    screenY: number;\r\n    clientX: number;\r\n    clientY: number;\r\n    pageX: number;\r\n    pageY: number;\r\n    elementX: number;\r\n    elementY: number;\r\n    elementH: number;\r\n    elementW: number;\r\n    elementPosX: number;\r\n    elementPosY: number;\r\n}>;\r\n\r\nexport declare function useNetwork(): NetworkState;\r\n\r\nexport declare function usePreview(md: Parameters<typeof createApp> | Ref<string> | string | VueElement): {\r\n    container: Ref<Element | undefined>;\r\n};\r\n\r\nexport declare function useRequest<TData, TParams extends any[], PluginsOptions extends Plugin_2<TData, TParams>[]>(service: Service<TData, TParams>, options?: Options<TData, TParams, PluginsOptions extends (infer P)[] ? (P extends Plugin_2<TData, TParams, infer R> ? R : any) : any>, plugins?: PluginsOptions): Result<TData, TParams>;\r\n\r\nexport declare function useScroll(target?: Target_3, shouldUpdate?: ScrollListenController): Ref<Position | undefined>;\r\n\r\nexport declare const useSessionStorageState: <T>(key: string | Ref<string>, options?: OptionsWithDefaultValue<T> | undefined) => StorageStateResultHasDefaultValue<T>;\r\n\r\nexport declare function useSet<T = any>(initialValue?: T[]): [state: Ref<Set<any>>, actions: Actions_3<T>];\r\n\r\n/**\r\n *\r\n * @param {dom id ref} target\r\n     */\r\n export declare function useSize(target: BasicTarget_2): Size | undefined;\r\n\r\n export declare function useThrottle<T>(value: Ref<T>, options?: ThrottleOptions): Ref<any>;\r\n\r\n export declare function useThrottleFn<T extends noop_3>(fn: T, options?: ThrottleOptions): {\r\n     run: ComputedRef<DebouncedFunc<(...args: Parameters<T>) => ReturnType<T>>>;\r\n     cancel: () => void;\r\n     flush: () => ReturnType<T> | undefined;\r\n };\r\n\r\n export declare function useTimeout(fn: () => void, delay: Ref<number | undefined> | number | undefined, options?: {\r\n     immediate?: boolean;\r\n }): void;\r\n\r\n export declare function useTitle(title: Ref<string>, options?: Options_14): void;\r\n\r\n export declare function useToggle<T = boolean>(): [Ref<T>, Actions_4<T>];\r\n\r\n export declare function useToggle<T = boolean>(defaultValue: T): [Ref<T>, Actions_4<T>];\r\n\r\n export declare function useToggle<T, U>(defaultValue: T, reverseValue: U): [Ref<T | U>, Actions_4<T | U>];\r\n\r\n export declare const useTrackedEffect: (effect: Effect, deps?: DependencyList_2 | undefined) => void;\r\n\r\n export declare function useUpdate(): {\r\n     update: Ref<{}>;\r\n     setUpdate: () => void;\r\n };\r\n\r\n export declare function useUrlState<S extends UrlState = Partial<UrlState>>(initialState?: S | (() => S), options?: UseUrlStateOptions): Ref<S>;\r\n\r\n declare interface UseUrlStateOptions {\r\n     localStorageKey?: string;\r\n     detectNumber?: boolean;\r\n     routerPush?: (url: string) => void;\r\n }\r\n\r\n export declare const useVirtualList: <T = any>(list: Ref<T[]>, options: Options_15<T>) => readonly [Ref<{\r\n     index: number;\r\n     data: T;\r\n }[]>, {\r\n     ref: (ele: any) => void;\r\n     onScroll: (e: any) => void;\r\n }, (index: number) => void];\r\n\r\n export declare function useWhyDidYouUpdate(componentName: string, props: IProps): void;\r\n\r\n export declare function useWinResize(Action?: () => void): null;\r\n\r\n declare type ValueParam = number | ((c: number) => number);\r\n\r\n export { }\r\n }\n  ","ts:vue-hooks-plus"),hte.typescript.javascriptDefaults.addExtraLib("\n    declare module '@vueuse/core' { import * as _vueuse_shared from '@vueuse/shared';\nimport { Fn, MaybeRef, MaybeComputedRef, Awaitable, ConfigurableEventFilter, ConfigurableFlush, RemovableRef, EventHookOn, UseIntervalFnOptions, Pausable, UseTimeoutFnOptions, EventHook } from '@vueuse/shared';\nexport * from '@vueuse/shared';\nimport * as vue_demi from 'vue-demi';\nimport { Ref, InjectionKey, ComputedRef, ComponentPublicInstance, UnwrapRef, WatchOptions, UnwrapNestedRefs, WatchSource, ToRefs } from 'vue-demi';\nimport * as vue from 'vue-demi';\n\n/**\n * Handle overlapping async evaluations.\n *\n * @param cancelCallback The provided callback is invoked when a re-evaluation of the computed value is triggered before the previous one finished\n */\ndeclare type AsyncComputedOnCancel = (cancelCallback: Fn) => void;\ninterface AsyncComputedOptions {\n    /**\n     * Should value be evaluated lazily\n     *\n     * @default false\n     */\n    lazy?: Boolean;\n    /**\n     * Ref passed to receive the updated of async evaluation\n     */\n    evaluating?: Ref<boolean>;\n    /**\n     * Callback when error is caught.\n     */\n    onError?: (e: unknown) => void;\n}\n/**\n * Create an asynchronous computed dependency.\n *\n * @see https://vueuse.org/computedAsync\n * @param evaluationCallback     The promise-returning callback which generates the computed value\n * @param initialState           The initial state, used until the first evaluation finishes\n * @param optionsOrRef           Additional options or a ref passed to receive the updates of the async evaluation\n */\ndeclare function computedAsync<T>(evaluationCallback: (onCancel: AsyncComputedOnCancel) => T | Promise<T>, initialState?: T, optionsOrRef?: Ref<boolean> | AsyncComputedOptions): Ref<T>;\n\ndeclare type ComputedInjectGetter<T, K> = (source: T | undefined, ctx?: any) => K;\ndeclare type ComputedInjectGetterWithDefault<T, K> = (source: T, ctx?: any) => K;\ndeclare type ComputedInjectSetter<T> = (v: T) => void;\ninterface WritableComputedInjectOptions<T, K> {\n    get: ComputedInjectGetter<T, K>;\n    set: ComputedInjectSetter<K>;\n}\ninterface WritableComputedInjectOptionsWithDefault<T, K> {\n    get: ComputedInjectGetterWithDefault<T, K>;\n    set: ComputedInjectSetter<K>;\n}\ndeclare function computedInject<T, K = any>(key: InjectionKey<T> | string, getter: ComputedInjectGetter<T, K>): ComputedRef<K | undefined>;\ndeclare function computedInject<T, K = any>(key: InjectionKey<T> | string, options: WritableComputedInjectOptions<T, K>): ComputedRef<K | undefined>;\ndeclare function computedInject<T, K = any>(key: InjectionKey<T> | string, getter: ComputedInjectGetterWithDefault<T, K>, defaultSource: T, treatDefaultAsFactory?: false): ComputedRef<K>;\ndeclare function computedInject<T, K = any>(key: InjectionKey<T> | string, options: WritableComputedInjectOptionsWithDefault<T, K>, defaultSource: T | (() => T), treatDefaultAsFactory: true): ComputedRef<K>;\n\ndeclare type UnrefFn<T> = T extends (...args: infer A) => infer R ? (...args: {\n    [K in keyof A]: MaybeRef<A[K]>;\n}) => R : never;\n/**\n * Make a plain function accepting ref and raw values as arguments.\n * Returns the same value the unconverted function returns, with proper typing.\n */\ndeclare const createUnrefFn: <T extends Function>(fn: T) => UnrefFn<T>;\n\ndeclare type VueInstance = ComponentPublicInstance;\ndeclare type MaybeElementRef<T extends MaybeElement = MaybeElement> = MaybeRef<T>;\ndeclare type MaybeComputedElementRef<T extends MaybeElement = MaybeElement> = MaybeComputedRef<T>;\ndeclare type MaybeElement = HTMLElement | SVGElement | VueInstance | undefined | null;\ndeclare type UnRefElementReturn<T extends MaybeElement = MaybeElement> = T extends VueInstance ? Exclude<MaybeElement, VueInstance> : T | undefined;\n/**\n * Get the dom element of a ref of element or Vue component instance\n *\n * @param elRef\n */\ndeclare function unrefElement<T extends MaybeElement>(elRef: MaybeComputedElementRef<T>): UnRefElementReturn<T>;\n\ninterface ConfigurableWindow {\n    window?: Window;\n}\ninterface ConfigurableDocument {\n    document?: Document;\n}\ninterface ConfigurableNavigator {\n    navigator?: Navigator;\n}\ninterface ConfigurableLocation {\n    location?: Location;\n}\ndeclare const defaultWindow: (Window & typeof globalThis) | undefined;\ndeclare const defaultDocument: Document | undefined;\ndeclare const defaultNavigator: Navigator | undefined;\ndeclare const defaultLocation: Location | undefined;\n\ninterface OnClickOutsideOptions extends ConfigurableWindow {\n    /**\n     * List of elements that should not trigger the event.\n     */\n    ignore?: MaybeElementRef[];\n    /**\n     * Use capturing phase for internal event listener.\n     * @default true\n     */\n    capture?: boolean;\n    /**\n     * Run handler function if focus moves to an iframe.\n     * @default false\n     */\n    detectIframe?: boolean;\n}\n/**\n * Listen for clicks outside of an element.\n *\n * @see https://vueuse.org/onClickOutside\n * @param target\n * @param handler\n * @param options\n */\ndeclare function onClickOutside<T extends OnClickOutsideOptions>(target: MaybeElementRef, handler: (evt: T['detectIframe'] extends true ? PointerEvent | FocusEvent : PointerEvent) => void, options?: T): (() => void) | undefined;\n\ndeclare type KeyPredicate = (event: KeyboardEvent) => boolean;\ndeclare type KeyFilter = null | undefined | string | string[] | KeyPredicate;\ndeclare type KeyStrokeEventName = 'keydown' | 'keypress' | 'keyup';\ninterface OnKeyStrokeOptions {\n    eventName?: KeyStrokeEventName;\n    target?: MaybeComputedRef<EventTarget>;\n    passive?: boolean;\n}\n/**\n * Listen for keyboard keys being stroked.\n *\n * @see https://vueuse.org/onKeyStroke\n * @param key\n * @param handler\n * @param options\n */\ndeclare function onKeyStroke(key: KeyFilter, handler: (event: KeyboardEvent) => void, options?: OnKeyStrokeOptions): _vueuse_shared.Fn;\n/**\n * Listen to the keydown event of the given key.\n *\n * @see https://vueuse.org/onKeyStroke\n * @param key\n * @param handler\n * @param options\n */\ndeclare function onKeyDown(key: KeyFilter, handler: (event: KeyboardEvent) => void, options?: Omit<OnKeyStrokeOptions, 'eventName'>): _vueuse_shared.Fn;\n/**\n * Listen to the keypress event of the given key.\n *\n * @see https://vueuse.org/onKeyStroke\n * @param key\n * @param handler\n * @param options\n */\ndeclare function onKeyPressed(key: KeyFilter, handler: (event: KeyboardEvent) => void, options?: Omit<OnKeyStrokeOptions, 'eventName'>): _vueuse_shared.Fn;\n/**\n * Listen to the keyup event of the given key.\n *\n * @see https://vueuse.org/onKeyStroke\n * @param key\n * @param handler\n * @param options\n */\ndeclare function onKeyUp(key: KeyFilter, handler: (event: KeyboardEvent) => void, options?: Omit<OnKeyStrokeOptions, 'eventName'>): _vueuse_shared.Fn;\n\ninterface OnLongPressOptions {\n    /**\n     * Time in ms till `longpress` gets called\n     *\n     * @default 500\n     */\n    delay?: number;\n    modifiers?: OnLongPressModifiers;\n}\ninterface OnLongPressModifiers {\n    stop?: boolean;\n    once?: boolean;\n    prevent?: boolean;\n    capture?: boolean;\n    self?: boolean;\n}\ndeclare function onLongPress(target: MaybeElementRef, handler: (evt: PointerEvent) => void, options?: OnLongPressOptions): void;\n\n/**\n * Fires when users start typing on non-editable elements.\n *\n * @see https://vueuse.org/onStartTyping\n * @param callback\n * @param options\n */\ndeclare function onStartTyping(callback: (event: KeyboardEvent) => void, options?: ConfigurableDocument): void;\n\n/**\n * Shorthand for binding ref to template element.\n *\n * @see https://vueuse.org/templateRef\n * @param key\n * @param initialValue\n */\ndeclare function templateRef<T extends HTMLElement | SVGElement | null>(key: string, initialValue?: T | null): Readonly<Ref<T>>;\n\n/**\n * Reactive `document.activeElement`\n *\n * @see https://vueuse.org/useActiveElement\n * @param options\n */\ndeclare function useActiveElement<T extends HTMLElement>(options?: ConfigurableWindow): vue_demi.ComputedRef<T | null | undefined>;\n\ndeclare type UseAsyncQueueTask<T> = (...args: any[]) => T | Promise<T>;\ninterface UseAsyncQueueResult<T> {\n    state: 'pending' | 'fulfilled' | 'rejected';\n    data: T | null;\n}\ninterface UseAsyncQueueReturn<T> {\n    activeIndex: Ref<number>;\n    result: T;\n}\ninterface UseAsyncQueueOptions {\n    /**\n     * Interrupt tasks when current task fails.\n     *\n     * @default true\n     */\n    interrupt?: boolean;\n    /**\n     * Trigger it when the tasks fails.\n     *\n     */\n    onError?: () => void;\n    /**\n     * Trigger it when the tasks ends.\n     *\n     */\n    onFinished?: () => void;\n}\n/**\n * Asynchronous queue task controller.\n *\n * @see https://vueuse.org/useAsyncQueue\n * @param tasks\n * @param options\n */\ndeclare function useAsyncQueue<T1>(tasks: [UseAsyncQueueTask<T1>], options?: UseAsyncQueueOptions): UseAsyncQueueReturn<[UseAsyncQueueResult<T1>]>;\ndeclare function useAsyncQueue<T1, T2>(tasks: [UseAsyncQueueTask<T1>, UseAsyncQueueTask<T2>], options?: UseAsyncQueueOptions): UseAsyncQueueReturn<[UseAsyncQueueResult<T1>, UseAsyncQueueResult<T2>]>;\ndeclare function useAsyncQueue<T1, T2, T3>(tasks: [UseAsyncQueueTask<T1>, UseAsyncQueueTask<T2>, UseAsyncQueueTask<T3>], options?: UseAsyncQueueOptions): UseAsyncQueueReturn<[UseAsyncQueueResult<T1>, UseAsyncQueueResult<T2>, UseAsyncQueueResult<T3>]>;\ndeclare function useAsyncQueue<T1, T2, T3, T4>(tasks: [UseAsyncQueueTask<T1>, UseAsyncQueueTask<T2>, UseAsyncQueueTask<T3>, UseAsyncQueueTask<T4>], options?: UseAsyncQueueOptions): UseAsyncQueueReturn<[UseAsyncQueueResult<T1>, UseAsyncQueueResult<T2>, UseAsyncQueueResult<T3>, UseAsyncQueueResult<T4>]>;\ndeclare function useAsyncQueue<T1, T2, T3, T4, T5>(tasks: [UseAsyncQueueTask<T1>, UseAsyncQueueTask<T2>, UseAsyncQueueTask<T3>, UseAsyncQueueTask<T4>, UseAsyncQueueTask<T5>], options?: UseAsyncQueueOptions): UseAsyncQueueReturn<[UseAsyncQueueResult<T1>, UseAsyncQueueResult<T2>, UseAsyncQueueResult<T3>, UseAsyncQueueResult<T4>, UseAsyncQueueResult<T5>]>;\ndeclare function useAsyncQueue<T>(tasks: UseAsyncQueueTask<T>[], options?: UseAsyncQueueOptions): UseAsyncQueueReturn<UseAsyncQueueResult<T>[]>;\n\ninterface UseAsyncStateReturn<Data, Shallow extends boolean> {\n    state: Shallow extends true ? Ref<Data> : Ref<UnwrapRef<Data>>;\n    isReady: Ref<boolean>;\n    isLoading: Ref<boolean>;\n    error: Ref<unknown>;\n    execute: (delay?: number, ...args: any[]) => Promise<Data>;\n}\ninterface UseAsyncStateOptions<Shallow extends boolean> {\n    /**\n     * Delay for executing the promise. In milliseconds.\n     *\n     * @default 0\n     */\n    delay?: number;\n    /**\n     * Execute the promise right after the function is invoked.\n     * Will apply the delay if any.\n     *\n     * When set to false, you will need to execute it manually.\n     *\n     * @default true\n     */\n    immediate?: boolean;\n    /**\n     * Callback when error is caught.\n     */\n    onError?: (e: unknown) => void;\n    /**\n     * Sets the state to initialState before executing the promise.\n     *\n     * This can be useful when calling the execute function more than once (for\n     * example, to refresh data). When set to false, the current state remains\n     * unchanged until the promise resolves.\n     *\n     * @default true\n     */\n    resetOnExecute?: boolean;\n    /**\n     * Use shallowRef.\n     *\n     * @default true\n     */\n    shallow?: Shallow;\n    /**\n     *\n     * An error is thrown when executing the execute function\n     *\n     * @default false\n     */\n    throwError?: boolean;\n}\n/**\n * Reactive async state. Will not block your setup function and will trigger changes once\n * the promise is ready.\n *\n * @see https://vueuse.org/useAsyncState\n * @param promise         The promise / async function to be resolved\n * @param initialState    The initial state, used until the first evaluation finishes\n * @param options\n */\ndeclare function useAsyncState<Data, Shallow extends boolean = true>(promise: Promise<Data> | ((...args: any[]) => Promise<Data>), initialState: Data, options?: UseAsyncStateOptions<Shallow>): UseAsyncStateReturn<Data, Shallow>;\n\ninterface ToDataURLOptions {\n    /**\n     * MIME type\n     */\n    type?: string | undefined;\n    /**\n     * Image quality of jpeg or webp\n     */\n    quality?: any;\n}\ninterface UseBase64ObjectOptions<T> {\n    serializer: (v: T) => string;\n}\ninterface UseBase64Return {\n    base64: Ref<string>;\n    promise: Ref<Promise<string>>;\n    execute: () => Promise<string>;\n}\ndeclare function useBase64(target: MaybeComputedRef<string>): UseBase64Return;\ndeclare function useBase64(target: MaybeComputedRef<Blob>): UseBase64Return;\ndeclare function useBase64(target: MaybeComputedRef<ArrayBuffer>): UseBase64Return;\ndeclare function useBase64(target: MaybeComputedRef<HTMLCanvasElement>, options?: ToDataURLOptions): UseBase64Return;\ndeclare function useBase64(target: MaybeComputedRef<HTMLImageElement>, options?: ToDataURLOptions): UseBase64Return;\ndeclare function useBase64<T extends Record<string, unknown>>(target: MaybeComputedRef<T>, options?: UseBase64ObjectOptions<T>): UseBase64Return;\ndeclare function useBase64<T extends Map<string, unknown>>(target: MaybeComputedRef<T>, options?: UseBase64ObjectOptions<T>): UseBase64Return;\ndeclare function useBase64<T extends Set<unknown>>(target: MaybeComputedRef<T>, options?: UseBase64ObjectOptions<T>): UseBase64Return;\ndeclare function useBase64<T>(target: MaybeComputedRef<T[]>, options?: UseBase64ObjectOptions<T[]>): UseBase64Return;\n\ninterface BatteryManager extends EventTarget {\n    charging: boolean;\n    chargingTime: number;\n    dischargingTime: number;\n    level: number;\n}\n/**\n * Reactive Battery Status API.\n *\n * @see https://vueuse.org/useBattery\n * @param options\n */\ndeclare function useBattery({ navigator }?: ConfigurableNavigator): {\n    isSupported: vue_demi.Ref<boolean>;\n    charging: vue_demi.Ref<boolean>;\n    chargingTime: vue_demi.Ref<number>;\n    dischargingTime: vue_demi.Ref<number>;\n    level: vue_demi.Ref<number>;\n};\ndeclare type UseBatteryReturn = ReturnType<typeof useBattery>;\n\ninterface UseBluetoothRequestDeviceOptions {\n    /**\n      *\n      * An array of BluetoothScanFilters. This filter consists of an array\n      * of BluetoothServiceUUIDs, a name parameter, and a namePrefix parameter.\n      *\n      */\n    filters?: BluetoothLEScanFilter[] | undefined;\n    /**\n      *\n      * An array of BluetoothServiceUUIDs.\n      *\n      * @see https://developer.mozilla.org/en-US/docs/Web/API/BluetoothRemoteGATTService/uuid\n      *\n      */\n    optionalServices?: BluetoothServiceUUID[] | undefined;\n}\ninterface UseBluetoothOptions extends UseBluetoothRequestDeviceOptions, ConfigurableNavigator {\n    /**\n      *\n      * A boolean value indicating that the requesting script can accept all Bluetooth\n      * devices. The default is false.\n      *\n      * !! This may result in a bunch of unrelated devices being shown\n      * in the chooser and energy being wasted as there are no filters.\n      *\n      *\n      * Use it with caution.\n      *\n      * @default false\n      *\n      */\n    acceptAllDevices?: boolean;\n}\ndeclare function useBluetooth(options?: UseBluetoothOptions): UseBluetoothReturn;\ninterface UseBluetoothReturn {\n    isSupported: Ref<boolean>;\n    isConnected: ComputedRef<boolean>;\n    device: Ref<BluetoothDevice | undefined>;\n    requestDevice: () => Promise<void>;\n    server: Ref<BluetoothRemoteGATTServer | undefined>;\n    error: Ref<unknown | null>;\n}\n\n/**\n * Breakpoints from Tailwind V2\n *\n * @see https://tailwindcss.com/docs/breakpoints\n */\ndeclare const breakpointsTailwind: {\n    sm: number;\n    md: number;\n    lg: number;\n    xl: number;\n    '2xl': number;\n};\n/**\n * Breakpoints from Bootstrap V5\n *\n * @see https://getbootstrap.com/docs/5.0/layout/breakpoints\n */\ndeclare const breakpointsBootstrapV5: {\n    sm: number;\n    md: number;\n    lg: number;\n    xl: number;\n    xxl: number;\n};\n/**\n * Breakpoints from Vuetify V2\n *\n * @see https://vuetifyjs.com/en/features/breakpoints\n */\ndeclare const breakpointsVuetify: {\n    xs: number;\n    sm: number;\n    md: number;\n    lg: number;\n};\n/**\n * Breakpoints from Ant Design\n *\n * @see https://ant.design/components/layout/#breakpoint-width\n */\ndeclare const breakpointsAntDesign: {\n    xs: number;\n    sm: number;\n    md: number;\n    lg: number;\n    xl: number;\n    xxl: number;\n};\n/**\n * Breakpoints from Quasar V2\n *\n * @see https://quasar.dev/style/breakpoints\n */\ndeclare const breakpointsQuasar: {\n    xs: number;\n    sm: number;\n    md: number;\n    lg: number;\n};\n/**\n * Sematic Breakpoints\n */\ndeclare const breakpointsSematic: {\n    mobileS: number;\n    mobileM: number;\n    mobileL: number;\n    tablet: number;\n    laptop: number;\n    laptopL: number;\n    desktop4K: number;\n};\n\ndeclare type Breakpoints<K extends string = string> = Record<K, number | string>;\n/**\n * Reactively viewport breakpoints\n *\n * @see https://vueuse.org/useBreakpoints\n * @param options\n */\ndeclare function useBreakpoints<K extends string>(breakpoints: Breakpoints<K>, options?: ConfigurableWindow): {\n    greater: (k: K) => Ref<boolean>;\n    smaller(k: K): Ref<boolean>;\n    between(a: K, b: K): Ref<boolean>;\n    isGreater(k: K): boolean;\n    isSmaller(k: K): boolean;\n    isInBetween(a: K, b: K): boolean;\n} & Record<K, Ref<boolean>>;\ndeclare type UseBreakpointsReturn<K extends string = string> = {\n    greater: (k: K) => Ref<boolean>;\n    smaller(k: K): Ref<boolean>;\n    between(a: K, b: K): Ref<boolean>;\n    isGreater(k: K): boolean;\n    isSmaller(k: K): boolean;\n    isInBetween(a: K, b: K): boolean;\n} & Record<K, Ref<boolean>>;\n\ninterface UseBroadcastChannelOptions extends ConfigurableWindow {\n    /**\n     * The name of the channel.\n     */\n    name: string;\n}\n/**\n * Reactive BroadcastChannel\n *\n * @see https://vueuse.org/useBroadcastChannel\n * @see https://developer.mozilla.org/en-US/docs/Web/API/BroadcastChannel\n * @param options\n *\n */\ndeclare const useBroadcastChannel: <D, P>(options: UseBroadcastChannelOptions) => UseBroadcastChannelReturn<D, P>;\ninterface UseBroadcastChannelReturn<D, P> {\n    isSupported: Ref<boolean>;\n    channel: Ref<BroadcastChannel | undefined>;\n    data: Ref<D>;\n    post: (data: P) => void;\n    close: () => void;\n    error: Ref<Event | null>;\n    isClosed: Ref<boolean>;\n}\n\ninterface BrowserLocationState {\n    trigger: string;\n    state?: any;\n    length?: number;\n    hash?: string;\n    host?: string;\n    hostname?: string;\n    href?: string;\n    origin?: string;\n    pathname?: string;\n    port?: string;\n    protocol?: string;\n    search?: string;\n}\n/**\n * Reactive browser location.\n *\n * @see https://vueuse.org/useBrowserLocation\n * @param options\n */\ndeclare function useBrowserLocation({ window }?: ConfigurableWindow): vue_demi.Ref<{\n    trigger: string;\n    state?: any;\n    length?: number | undefined;\n    hash?: string | undefined;\n    host?: string | undefined;\n    hostname?: string | undefined;\n    href?: string | undefined;\n    origin?: string | undefined;\n    pathname?: string | undefined;\n    port?: string | undefined;\n    protocol?: string | undefined;\n    search?: string | undefined;\n}>;\ndeclare type UseBrowserLocationReturn = ReturnType<typeof useBrowserLocation>;\n\ndeclare function useCached<T>(refValue: Ref<T>, comparator?: (a: T, b: T) => boolean, watchOptions?: WatchOptions): Ref<T>;\n\ninterface UseClipboardOptions<Source> extends ConfigurableNavigator {\n    /**\n     * Enabled reading for clipboard\n     *\n     * @default false\n     */\n    read?: boolean;\n    /**\n     * Copy source\n     */\n    source?: Source;\n    /**\n     * Milliseconds to reset state of `copied` ref\n     *\n     * @default 1500\n     */\n    copiedDuring?: number;\n}\ninterface UseClipboardReturn<Optional> {\n    isSupported: Ref<boolean>;\n    text: ComputedRef<string>;\n    copied: ComputedRef<boolean>;\n    copy: Optional extends true ? (text?: string) => Promise<void> : (text: string) => Promise<void>;\n}\n/**\n * Reactive Clipboard API.\n *\n * @see https://vueuse.org/useClipboard\n * @param options\n */\ndeclare function useClipboard(options?: UseClipboardOptions<undefined>): UseClipboardReturn<false>;\ndeclare function useClipboard(options: UseClipboardOptions<MaybeComputedRef<string>>): UseClipboardReturn<true>;\n\ninterface StorageLikeAsync {\n    getItem(key: string): Awaitable<string | null>;\n    setItem(key: string, value: string): Awaitable<void>;\n    removeItem(key: string): Awaitable<void>;\n}\ninterface StorageLike {\n    getItem(key: string): string | null;\n    setItem(key: string, value: string): void;\n    removeItem(key: string): void;\n}\n/**\n * @expiremental The API is not finalized yet. It might not follow semver.\n */\ninterface SSRHandlersMap {\n    getDefaultStorage: () => StorageLike | undefined;\n    getDefaultStorageAsync: () => StorageLikeAsync | undefined;\n    updateHTMLAttrs: (selector: string, attribute: string, value: string) => void;\n}\ndeclare function getSSRHandler<T extends keyof SSRHandlersMap>(key: T, fallback: SSRHandlersMap[T]): SSRHandlersMap[T];\ndeclare function getSSRHandler<T extends keyof SSRHandlersMap>(key: T, fallback: SSRHandlersMap[T] | undefined): SSRHandlersMap[T] | undefined;\ndeclare function setSSRHandler<T extends keyof SSRHandlersMap>(key: T, fn: SSRHandlersMap[T]): void;\n\ninterface Serializer<T> {\n    read(raw: string): T;\n    write(value: T): string;\n}\ninterface SerializerAsync<T> {\n    read(raw: string): Awaitable<T>;\n    write(value: T): Awaitable<string>;\n}\ndeclare const StorageSerializers: Record<'boolean' | 'object' | 'number' | 'any' | 'string' | 'map' | 'set' | 'date', Serializer<any>>;\ninterface UseStorageOptions<T> extends ConfigurableEventFilter, ConfigurableWindow, ConfigurableFlush {\n    /**\n     * Watch for deep changes\n     *\n     * @default true\n     */\n    deep?: boolean;\n    /**\n     * Listen to storage changes, useful for multiple tabs application\n     *\n     * @default true\n     */\n    listenToStorageChanges?: boolean;\n    /**\n     * Write the default value to the storage when it does not exist\n     *\n     * @default true\n     */\n    writeDefaults?: boolean;\n    /**\n     * Merge the default value with the value read from the storage.\n     *\n     * When setting it to true, it will perform a **shallow merge** for objects.\n     * You can pass a function to perform custom merge (e.g. deep merge), for example:\n     *\n     * @default false\n     */\n    mergeDefaults?: boolean | ((storageValue: T, defaults: T) => T);\n    /**\n     * Custom data serialization\n     */\n    serializer?: Serializer<T>;\n    /**\n     * On error callback\n     *\n     * Default log error to `console.error`\n     */\n    onError?: (error: unknown) => void;\n    /**\n     * Use shallow ref as reference\n     *\n     * @default false\n     */\n    shallow?: boolean;\n}\ndeclare function useStorage(key: string, defaults: MaybeComputedRef<string>, storage?: StorageLike, options?: UseStorageOptions<string>): RemovableRef<string>;\ndeclare function useStorage(key: string, defaults: MaybeComputedRef<boolean>, storage?: StorageLike, options?: UseStorageOptions<boolean>): RemovableRef<boolean>;\ndeclare function useStorage(key: string, defaults: MaybeComputedRef<number>, storage?: StorageLike, options?: UseStorageOptions<number>): RemovableRef<number>;\ndeclare function useStorage<T>(key: string, defaults: MaybeComputedRef<T>, storage?: StorageLike, options?: UseStorageOptions<T>): RemovableRef<T>;\ndeclare function useStorage<T = unknown>(key: string, defaults: MaybeComputedRef<null>, storage?: StorageLike, options?: UseStorageOptions<T>): RemovableRef<T>;\n\ndeclare type BasicColorSchema = 'light' | 'dark' | 'auto';\ninterface UseColorModeOptions<T extends string = BasicColorSchema> extends UseStorageOptions<T | BasicColorSchema> {\n    /**\n     * CSS Selector for the target element applying to\n     *\n     * @default 'html'\n     */\n    selector?: string;\n    /**\n     * HTML attribute applying the target element\n     *\n     * @default 'class'\n     */\n    attribute?: string;\n    /**\n     * The initial color mode\n     *\n     * @default 'auto'\n     */\n    initialValue?: T | BasicColorSchema;\n    /**\n     * Prefix when adding value to the attribute\n     */\n    modes?: Partial<Record<T | BasicColorSchema, string>>;\n    /**\n     * A custom handler for handle the updates.\n     * When specified, the default behavior will be overridded.\n     *\n     * @default undefined\n     */\n    onChanged?: (mode: T | BasicColorSchema, defaultHandler: ((mode: T | BasicColorSchema) => void)) => void;\n    /**\n     * Custom storage ref\n     *\n     * When provided, `useStorage` will be skipped\n     */\n    storageRef?: Ref<T | BasicColorSchema>;\n    /**\n     * Key to persist the data into localStorage/sessionStorage.\n     *\n     * Pass `null` to disable persistence\n     *\n     * @default 'vueuse-color-scheme'\n     */\n    storageKey?: string | null;\n    /**\n     * Storage object, can be localStorage or sessionStorage\n     *\n     * @default localStorage\n     */\n    storage?: StorageLike;\n    /**\n     * Emit `auto` mode from state\n     *\n     * When set to `true`, preferred mode won't be translated into `light` or `dark`.\n     * This is useful when the fact that `auto` mode was selected needs to be known.\n     *\n     * @default undefined\n     */\n    emitAuto?: boolean;\n}\n/**\n * Reactive color mode with auto data persistence.\n *\n * @see https://vueuse.org/useColorMode\n * @param options\n */\ndeclare function useColorMode<T extends string = BasicColorSchema>(options?: UseColorModeOptions<T>): vue_demi.WritableComputedRef<BasicColorSchema | T>;\n\ndeclare type UseConfirmDialogRevealResult<C, D> = {\n    data?: C;\n    isCanceled: false;\n} | {\n    data?: D;\n    isCanceled: true;\n};\ninterface UseConfirmDialogReturn<RevealData, ConfirmData, CancelData> {\n    /**\n     * Revealing state\n     */\n    isRevealed: ComputedRef<boolean>;\n    /**\n     * Opens the dialog.\n     * Create promise and return it. Triggers `onReveal` hook.\n     */\n    reveal: (data?: RevealData) => Promise<UseConfirmDialogRevealResult<ConfirmData, CancelData>>;\n    /**\n     * Confirms and closes the dialog. Triggers a callback inside `onConfirm` hook.\n     * Resolves promise from `reveal()` with `data` and `isCanceled` ref with `false` value.\n     * Can accept any data and to pass it to `onConfirm` hook.\n     */\n    confirm: (data?: ConfirmData) => void;\n    /**\n     * Cancels and closes the dialog. Triggers a callback inside `onCancel` hook.\n     * Resolves promise from `reveal()` with `data` and `isCanceled` ref with `true` value.\n     * Can accept any data and to pass it to `onCancel` hook.\n     */\n    cancel: (data?: CancelData) => void;\n    /**\n     * Event Hook to be triggered right before dialog creating.\n     */\n    onReveal: EventHookOn<RevealData>;\n    /**\n     * Event Hook to be called on `confirm()`.\n     * Gets data object from `confirm` function.\n     */\n    onConfirm: EventHookOn<ConfirmData>;\n    /**\n     * Event Hook to be called on `cancel()`.\n     * Gets data object from `cancel` function.\n     */\n    onCancel: EventHookOn<CancelData>;\n}\n/**\n * Hooks for creating confirm dialogs. Useful for modal windows, popups and logins.\n *\n * @see https://vueuse.org/useConfirmDialog/\n * @param revealed `boolean` `ref` that handles a modal window\n */\ndeclare function useConfirmDialog<RevealData = any, ConfirmData = any, CancelData = any>(revealed?: Ref<boolean>): UseConfirmDialogReturn<RevealData, ConfirmData, CancelData>;\n\ninterface UseCssVarOptions extends ConfigurableWindow {\n    initialValue?: string;\n}\n/**\n * Manipulate CSS variables.\n *\n * @see https://vueuse.org/useCssVar\n * @param prop\n * @param target\n * @param initialValue\n * @param options\n */\ndeclare function useCssVar(prop: MaybeComputedRef<string>, target?: MaybeElementRef, { window, initialValue }?: UseCssVarOptions): vue_demi.Ref<string>;\n\ndeclare function useCurrentElement<T extends Element = Element>(): vue_demi.ComputedRef<T>;\n\ninterface UseCycleListOptions<T> {\n    /**\n     * The initial value of the state.\n     * A ref can be provided to reuse.\n     */\n    initialValue?: T;\n    /**\n     * The default index when\n     */\n    fallbackIndex?: number;\n    /**\n     * Custom function to get the index of the current value.\n     */\n    getIndexOf?: (value: T, list: T[]) => number;\n}\n/**\n * Cycle through a list of items\n *\n * @see https://vueuse.org/useCycleList\n */\ndeclare function useCycleList<T>(list: T[], options?: UseCycleListOptions<T>): UseCycleListReturn<T>;\ninterface UseCycleListReturn<T> {\n    state: Ref<T>;\n    index: Ref<number>;\n    next: (n?: number) => T;\n    prev: (n?: number) => T;\n}\n\ninterface UseDarkOptions extends Omit<UseColorModeOptions<BasicColorSchema>, 'modes' | 'onChanged'> {\n    /**\n     * Value applying to the target element when isDark=true\n     *\n     * @default 'dark'\n     */\n    valueDark?: string;\n    /**\n     * Value applying to the target element when isDark=false\n     *\n     * @default ''\n     */\n    valueLight?: string;\n    /**\n     * A custom handler for handle the updates.\n     * When specified, the default behavior will be overridded.\n     *\n     * @default undefined\n     */\n    onChanged?: (isDark: boolean) => void;\n}\n/**\n * Reactive dark mode with auto data persistence.\n *\n * @see https://vueuse.org/useDark\n * @param options\n */\ndeclare function useDark(options?: UseDarkOptions): vue_demi.WritableComputedRef<boolean>;\n\ninterface UseRefHistoryRecord<T> {\n    snapshot: T;\n    timestamp: number;\n}\ndeclare type CloneFn<F, T = F> = (x: F) => T;\ninterface UseManualRefHistoryOptions<Raw, Serialized = Raw> {\n    /**\n     * Maximum number of history to be kept. Default to unlimited.\n     */\n    capacity?: number;\n    /**\n     * Clone when taking a snapshot, shortcut for dump: JSON.parse(JSON.stringify(value)).\n     * Default to false\n     *\n     * @default false\n     */\n    clone?: boolean | CloneFn<Raw>;\n    /**\n     * Serialize data into the history\n     */\n    dump?: (v: Raw) => Serialized;\n    /**\n     * Deserialize data from the history\n     */\n    parse?: (v: Serialized) => Raw;\n    /**\n     * Deserialize data from the history\n     */\n    setSource?: (source: Ref<Raw>, v: Raw) => void;\n}\ninterface UseManualRefHistoryReturn<Raw, Serialized> {\n    /**\n     * Bypassed tracking ref from the argument\n     */\n    source: Ref<Raw>;\n    /**\n     * An array of history records for undo, newest comes to first\n     */\n    history: Ref<UseRefHistoryRecord<Serialized>[]>;\n    /**\n    * Last history point, source can be different if paused\n    */\n    last: Ref<UseRefHistoryRecord<Serialized>>;\n    /**\n     * Same as 'history'\n     */\n    undoStack: Ref<UseRefHistoryRecord<Serialized>[]>;\n    /**\n     * Records array for redo\n     */\n    redoStack: Ref<UseRefHistoryRecord<Serialized>[]>;\n    /**\n     * A ref representing if undo is possible (non empty undoStack)\n     */\n    canUndo: Ref<boolean>;\n    /**\n     * A ref representing if redo is possible (non empty redoStack)\n     */\n    canRedo: Ref<boolean>;\n    /**\n     * Undo changes\n     */\n    undo(): void;\n    /**\n     * Redo changes\n     */\n    redo(): void;\n    /**\n     * Clear all the history\n     */\n    clear(): void;\n    /**\n     * Create new a new history record\n     */\n    commit(): void;\n    /**\n     * Reset ref's value with lastest history\n     */\n    reset(): void;\n}\n/**\n * Track the change history of a ref, also provides undo and redo functionality.\n *\n * @see https://vueuse.org/useManualRefHistory\n * @param source\n * @param options\n */\ndeclare function useManualRefHistory<Raw, Serialized = Raw>(source: Ref<Raw>, options?: UseManualRefHistoryOptions<Raw, Serialized>): UseManualRefHistoryReturn<Raw, Serialized>;\n\ninterface UseRefHistoryOptions<Raw, Serialized = Raw> extends ConfigurableEventFilter {\n    /**\n     * Watch for deep changes, default to false\n     *\n     * When set to true, it will also create clones for values store in the history\n     *\n     * @default false\n     */\n    deep?: boolean;\n    /**\n     * The flush option allows for greater control over the timing of a history point, default to 'pre'\n     *\n     * Possible values: 'pre', 'post', 'sync'\n     * It works in the same way as the flush option in watch and watch effect in vue reactivity\n     *\n     * @default 'pre'\n     */\n    flush?: 'pre' | 'post' | 'sync';\n    /**\n     * Maximum number of history to be kept. Default to unlimited.\n     */\n    capacity?: number;\n    /**\n     * Clone when taking a snapshot, shortcut for dump: JSON.parse(JSON.stringify(value)).\n     * Default to false\n     *\n     * @default false\n     */\n    clone?: boolean | CloneFn<Raw>;\n    /**\n     * Serialize data into the history\n     */\n    dump?: (v: Raw) => Serialized;\n    /**\n     * Deserialize data from the history\n     */\n    parse?: (v: Serialized) => Raw;\n}\ninterface UseRefHistoryReturn<Raw, Serialized> {\n    /**\n     * Bypassed tracking ref from the argument\n     */\n    source: Ref<Raw>;\n    /**\n     * An array of history records for undo, newest comes to first\n     */\n    history: Ref<UseRefHistoryRecord<Serialized>[]>;\n    /**\n    * Last history point, source can be different if paused\n    */\n    last: Ref<UseRefHistoryRecord<Serialized>>;\n    /**\n     * Same as 'history'\n     */\n    undoStack: Ref<UseRefHistoryRecord<Serialized>[]>;\n    /**\n     * Records array for redo\n     */\n    redoStack: Ref<UseRefHistoryRecord<Serialized>[]>;\n    /**\n     * A ref representing if the tracking is enabled\n     */\n    isTracking: Ref<boolean>;\n    /**\n     * A ref representing if undo is possible (non empty undoStack)\n     */\n    canUndo: Ref<boolean>;\n    /**\n     * A ref representing if redo is possible (non empty redoStack)\n     */\n    canRedo: Ref<boolean>;\n    /**\n     * Undo changes\n     */\n    undo(): void;\n    /**\n     * Redo changes\n     */\n    redo(): void;\n    /**\n     * Clear all the history\n     */\n    clear(): void;\n    /**\n     * Pause change tracking\n     */\n    pause(): void;\n    /**\n     * Resume change tracking\n     *\n     * @param [commit] if true, a history record will be create after resuming\n     */\n    resume(commit?: boolean): void;\n    /**\n     * Create new a new history record\n     */\n    commit(): void;\n    /**\n     * Reset ref's value with lastest history\n     */\n    reset(): void;\n    /**\n     * A sugar for auto pause and auto resuming within a function scope\n     *\n     * @param fn\n     */\n    batch(fn: (cancel: Fn) => void): void;\n    /**\n     * Clear the data and stop the watch\n     */\n    dispose(): void;\n}\n/**\n * Track the change history of a ref, also provides undo and redo functionality.\n *\n * @see https://vueuse.org/useRefHistory\n * @param source\n * @param options\n */\ndeclare function useRefHistory<Raw, Serialized = Raw>(source: Ref<Raw>, options?: UseRefHistoryOptions<Raw, Serialized>): UseRefHistoryReturn<Raw, Serialized>;\n\n/**\n * Shorthand for [useRefHistory](https://vueuse.org/useRefHistory) with debounce filter.\n *\n * @see https://vueuse.org/useDebouncedRefHistory\n * @param source\n * @param options\n */\ndeclare function useDebouncedRefHistory<Raw, Serialized = Raw>(source: Ref<Raw>, options?: Omit<UseRefHistoryOptions<Raw, Serialized>, 'eventFilter'> & {\n    debounce?: MaybeComputedRef<number>;\n}): UseRefHistoryReturn<Raw, Serialized>;\n\ninterface DeviceMotionOptions extends ConfigurableWindow, ConfigurableEventFilter {\n}\n/**\n * Reactive DeviceMotionEvent.\n *\n * @see https://vueuse.org/useDeviceMotion\n * @param options\n */\ndeclare function useDeviceMotion(options?: DeviceMotionOptions): {\n    acceleration: Ref<DeviceMotionEventAcceleration | null>;\n    accelerationIncludingGravity: Ref<DeviceMotionEventAcceleration | null>;\n    rotationRate: Ref<DeviceMotionEventRotationRate | null>;\n    interval: Ref<number>;\n};\ndeclare type UseDeviceMotionReturn = ReturnType<typeof useDeviceMotion>;\n\n/**\n * Reactive DeviceOrientationEvent.\n *\n * @see https://vueuse.org/useDeviceOrientation\n * @param options\n */\ndeclare function useDeviceOrientation(options?: ConfigurableWindow): {\n    isSupported: Ref<boolean>;\n    isAbsolute: Ref<boolean>;\n    alpha: Ref<number | null>;\n    beta: Ref<number | null>;\n    gamma: Ref<number | null>;\n};\ndeclare type UseDeviceOrientationReturn = ReturnType<typeof useDeviceOrientation>;\n\n/**\n * Reactively track `window.devicePixelRatio`.\n *\n * @see https://vueuse.org/useDevicePixelRatio\n * @param options\n */\ndeclare function useDevicePixelRatio({ window, }?: ConfigurableWindow): {\n    pixelRatio: vue_demi.Ref<number>;\n};\ndeclare type UseDevicePixelRatioReturn = ReturnType<typeof useDevicePixelRatio>;\n\ninterface UseDevicesListOptions extends ConfigurableNavigator {\n    onUpdated?: (devices: MediaDeviceInfo[]) => void;\n    /**\n     * Request for permissions immediately if it's not granted,\n     * otherwise label and deviceIds could be empty\n     *\n     * @default false\n     */\n    requestPermissions?: boolean;\n    /**\n     * Request for types of media permissions\n     *\n     * @default { audio: true, video: true }\n     */\n    constraints?: MediaStreamConstraints;\n}\ninterface UseDevicesListReturn {\n    /**\n     * All devices\n     */\n    devices: Ref<MediaDeviceInfo[]>;\n    videoInputs: ComputedRef<MediaDeviceInfo[]>;\n    audioInputs: ComputedRef<MediaDeviceInfo[]>;\n    audioOutputs: ComputedRef<MediaDeviceInfo[]>;\n    permissionGranted: Ref<boolean>;\n    ensurePermissions: () => Promise<boolean>;\n    isSupported: Ref<boolean>;\n}\n/**\n * Reactive `enumerateDevices` listing avaliable input/output devices\n *\n * @see https://vueuse.org/useDevicesList\n * @param options\n */\ndeclare function useDevicesList(options?: UseDevicesListOptions): UseDevicesListReturn;\n\ninterface UseDisplayMediaOptions extends ConfigurableNavigator {\n    /**\n     * If the stream is enabled\n     * @default false\n     */\n    enabled?: MaybeRef<boolean>;\n    /**\n     * If the stream video media constraints\n     */\n    video?: boolean | MediaTrackConstraints | undefined;\n    /**\n     * If the stream audio media constraints\n     */\n    audio?: boolean | MediaTrackConstraints | undefined;\n}\n/**\n * Reactive `mediaDevices.getDisplayMedia` streaming\n *\n * @see https://vueuse.org/useDisplayMedia\n * @param options\n */\ndeclare function useDisplayMedia(options?: UseDisplayMediaOptions): {\n    isSupported: Ref<boolean>;\n    stream: Ref<MediaStream | undefined>;\n    start: () => Promise<MediaStream | undefined>;\n    stop: () => void;\n    enabled: Ref<boolean>;\n};\ndeclare type UseDisplayMediaReturn = ReturnType<typeof useDisplayMedia>;\n\n/**\n * Reactively track `document.visibilityState`.\n *\n * @see https://vueuse.org/useDocumentVisibility\n * @param options\n */\ndeclare function useDocumentVisibility({ document }?: ConfigurableDocument): Ref<DocumentVisibilityState>;\n\ninterface Position {\n    x: number;\n    y: number;\n}\ninterface RenderableComponent {\n    /**\n     * The element that the component should be rendered as\n     *\n     * @default 'div'\n     */\n    as?: Object | string;\n}\ndeclare type PointerType = 'mouse' | 'touch' | 'pen';\n\ninterface UseDraggableOptions {\n    /**\n     * Only start the dragging when click on the element directly\n     *\n     * @default false\n     */\n    exact?: MaybeComputedRef<boolean>;\n    /**\n     * Prevent events defaults\n     *\n     * @default false\n     */\n    preventDefault?: MaybeComputedRef<boolean>;\n    /**\n     * Prevent events propagation\n     *\n     * @default false\n     */\n    stopPropagation?: MaybeComputedRef<boolean>;\n    /**\n     * Element to attach `pointermove` and `pointerup` events to.\n     *\n     * @default window\n     */\n    draggingElement?: MaybeComputedRef<HTMLElement | SVGElement | Window | Document | null | undefined>;\n    /**\n     * Pointer types that listen to.\n     *\n     * @default ['mouse', 'touch', 'pen']\n     */\n    pointerTypes?: PointerType[];\n    /**\n     * Initial position of the element.\n     *\n     * @default { x: 0, y: 0}\n     */\n    initialValue?: MaybeComputedRef<Position>;\n    /**\n     * Callback when the dragging starts. Return `false` to prevent dragging.\n     */\n    onStart?: (position: Position, event: PointerEvent) => void | false;\n    /**\n     * Callback during dragging.\n     */\n    onMove?: (position: Position, event: PointerEvent) => void;\n    /**\n     * Callback when dragging end.\n     */\n    onEnd?: (position: Position, event: PointerEvent) => void;\n}\n/**\n * Make elements draggable.\n *\n * @see https://vueuse.org/useDraggable\n * @param target\n * @param options\n */\ndeclare function useDraggable(target: MaybeComputedRef<HTMLElement | SVGElement | null | undefined>, options?: UseDraggableOptions): {\n    position: vue_demi.Ref<{\n        x: number;\n        y: number;\n    }>;\n    isDragging: vue_demi.ComputedRef<boolean>;\n    style: vue_demi.ComputedRef<string>;\n    x: vue_demi.Ref<number>;\n    y: vue_demi.Ref<number>;\n};\ndeclare type UseDraggableReturn = ReturnType<typeof useDraggable>;\n\ninterface UseDropZoneReturn {\n    isOverDropZone: Ref<boolean>;\n}\ndeclare function useDropZone(target: MaybeComputedRef<HTMLElement | null | undefined>, onDrop?: (files: File[] | null) => void): UseDropZoneReturn;\n\ninterface UseElementBoundingOptions {\n    /**\n     * Reset values to 0 on component unmounted\n     *\n     * @default true\n     */\n    reset?: boolean;\n    /**\n     * Listen to window resize event\n     *\n     * @default true\n     */\n    windowResize?: boolean;\n    /**\n     * Listen to window scroll event\n     *\n     * @default true\n     */\n    windowScroll?: boolean;\n    /**\n     * Immediately call update on component mounted\n     *\n     * @default true\n     */\n    immediate?: boolean;\n}\n/**\n * Reactive bounding box of an HTML element.\n *\n * @see https://vueuse.org/useElementBounding\n * @param target\n */\ndeclare function useElementBounding(target: MaybeComputedElementRef, options?: UseElementBoundingOptions): {\n    height: vue_demi.Ref<number>;\n    bottom: vue_demi.Ref<number>;\n    left: vue_demi.Ref<number>;\n    right: vue_demi.Ref<number>;\n    top: vue_demi.Ref<number>;\n    width: vue_demi.Ref<number>;\n    x: vue_demi.Ref<number>;\n    y: vue_demi.Ref<number>;\n    update: () => void;\n};\ndeclare type UseElementBoundingReturn = ReturnType<typeof useElementBounding>;\n\ninterface UseElementByPointOptions {\n    x: MaybeComputedRef<number>;\n    y: MaybeComputedRef<number>;\n}\n/**\n * Reactive element by point.\n *\n * @see https://vueuse.org/useElementByPoint\n * @param options - UseElementByPointOptions\n */\ndeclare function useElementByPoint(options: UseElementByPointOptions): {\n    isActive: vue_demi.Ref<boolean>;\n    pause: _vueuse_shared.Fn;\n    resume: _vueuse_shared.Fn;\n    element: vue_demi.Ref<HTMLElement | null>;\n};\ndeclare type UseElementByPointReturn = ReturnType<typeof useElementByPoint>;\n\ndeclare function useElementHover(el: MaybeComputedRef<EventTarget>): Ref<boolean>;\n\ninterface ResizeObserverSize {\n    readonly inlineSize: number;\n    readonly blockSize: number;\n}\ninterface ResizeObserverEntry {\n    readonly target: Element;\n    readonly contentRect: DOMRectReadOnly;\n    readonly borderBoxSize?: ReadonlyArray<ResizeObserverSize>;\n    readonly contentBoxSize?: ReadonlyArray<ResizeObserverSize>;\n    readonly devicePixelContentBoxSize?: ReadonlyArray<ResizeObserverSize>;\n}\ndeclare type ResizeObserverCallback = (entries: ReadonlyArray<ResizeObserverEntry>, observer: ResizeObserver) => void;\ninterface UseResizeObserverOptions extends ConfigurableWindow {\n    /**\n     * Sets which box model the observer will observe changes to. Possible values\n     * are `content-box` (the default), and `border-box`.\n     *\n     * @default 'content-box'\n     */\n    box?: 'content-box' | 'border-box';\n}\ndeclare class ResizeObserver {\n    constructor(callback: ResizeObserverCallback);\n    disconnect(): void;\n    observe(target: Element, options?: UseResizeObserverOptions): void;\n    unobserve(target: Element): void;\n}\n/**\n * Reports changes to the dimensions of an Element's content or the border-box\n *\n * @see https://vueuse.org/useResizeObserver\n * @param target\n * @param callback\n * @param options\n */\ndeclare function useResizeObserver(target: MaybeComputedElementRef, callback: ResizeObserverCallback, options?: UseResizeObserverOptions): {\n    isSupported: vue_demi.Ref<boolean>;\n    stop: () => void;\n};\ndeclare type UseResizeObserverReturn = ReturnType<typeof useResizeObserver>;\n\ninterface ElementSize {\n    width: number;\n    height: number;\n}\n/**\n * Reactive size of an HTML element.\n *\n * @see https://vueuse.org/useElementSize\n * @param target\n * @param callback\n * @param options\n */\ndeclare function useElementSize(target: MaybeComputedElementRef, initialSize?: ElementSize, options?: UseResizeObserverOptions): {\n    width: vue_demi.Ref<number>;\n    height: vue_demi.Ref<number>;\n};\ndeclare type UseElementSizeReturn = ReturnType<typeof useElementSize>;\n\ninterface UseElementVisibilityOptions extends ConfigurableWindow {\n    scrollTarget?: MaybeComputedRef<HTMLElement | undefined | null>;\n}\n/**\n * Tracks the visibility of an element within the viewport.\n *\n * @see https://vueuse.org/useElementVisibility\n * @param element\n * @param options\n */\ndeclare function useElementVisibility(element: MaybeComputedElementRef, { window, scrollTarget }?: UseElementVisibilityOptions): vue_demi.Ref<boolean>;\n\ndeclare type EventBusListener<T = unknown, P = any> = (event: T, payload?: P) => void;\ndeclare type EventBusEvents<T, P = any> = EventBusListener<T, P>[];\ninterface EventBusKey<T> extends Symbol {\n}\ndeclare type EventBusIdentifier<T = unknown> = EventBusKey<T> | string | number;\ninterface UseEventBusReturn<T, P> {\n    /**\n     * Subscribe to an event. When calling emit, the listeners will execute.\n     * @param listener watch listener.\n     * @returns a stop function to remove the current callback.\n     */\n    on: (listener: EventBusListener<T, P>) => Fn;\n    /**\n     * Similar to `on`, but only fires once\n     * @param listener watch listener.\n     * @returns a stop function to remove the current callback.\n     */\n    once: (listener: EventBusListener<T, P>) => Fn;\n    /**\n     * Emit an event, the corresponding event listeners will execute.\n     * @param event data sent.\n     */\n    emit: (event?: T, payload?: P) => void;\n    /**\n     * Remove the corresponding listener.\n     * @param listener watch listener.\n     */\n    off: (listener: EventBusListener<T>) => void;\n    /**\n     * Clear all events\n     */\n    reset: () => void;\n}\ndeclare function useEventBus<T = unknown, P = any>(key: EventBusIdentifier<T>): UseEventBusReturn<T, P>;\n\ninterface InferEventTarget<Events> {\n    addEventListener(event: Events, fn?: any, options?: any): any;\n    removeEventListener(event: Events, fn?: any, options?: any): any;\n}\ndeclare type WindowEventName = keyof WindowEventMap;\ndeclare type DocumentEventName = keyof DocumentEventMap;\ninterface GeneralEventListener<E = Event> {\n    (evt: E): void;\n}\n/**\n * Register using addEventListener on mounted, and removeEventListener automatically on unmounted.\n *\n * Overload 1: Omitted Window target\n *\n * @see https://vueuse.org/useEventListener\n * @param event\n * @param listener\n * @param options\n */\ndeclare function useEventListener<E extends keyof WindowEventMap>(event: E, listener: (this: Window, ev: WindowEventMap[E]) => any, options?: boolean | AddEventListenerOptions): Fn;\n/**\n * Register using addEventListener on mounted, and removeEventListener automatically on unmounted.\n *\n * Overload 2: Explicitly Window target\n *\n * @see https://vueuse.org/useEventListener\n * @param target\n * @param event\n * @param listener\n * @param options\n */\ndeclare function useEventListener<E extends keyof WindowEventMap>(target: Window, event: E, listener: (this: Window, ev: WindowEventMap[E]) => any, options?: boolean | AddEventListenerOptions): Fn;\n/**\n * Register using addEventListener on mounted, and removeEventListener automatically on unmounted.\n *\n * Overload 3: Explicitly Document target\n *\n * @see https://vueuse.org/useEventListener\n * @param target\n * @param event\n * @param listener\n * @param options\n */\ndeclare function useEventListener<E extends keyof DocumentEventMap>(target: Document, event: E, listener: (this: Document, ev: DocumentEventMap[E]) => any, options?: boolean | AddEventListenerOptions): Fn;\n/**\n * Register using addEventListener on mounted, and removeEventListener automatically on unmounted.\n *\n * Overload 4: Custom event target with event type infer\n *\n * @see https://vueuse.org/useEventListener\n * @param target\n * @param event\n * @param listener\n * @param options\n */\ndeclare function useEventListener<Names extends string, EventType = Event>(target: InferEventTarget<Names>, event: Names, listener: GeneralEventListener<EventType>, options?: boolean | AddEventListenerOptions): Fn;\n/**\n * Register using addEventListener on mounted, and removeEventListener automatically on unmounted.\n *\n * Overload 5: Custom event target fallback\n *\n * @see https://vueuse.org/useEventListener\n * @param target\n * @param event\n * @param listener\n * @param options\n */\ndeclare function useEventListener<EventType = Event>(target: MaybeComputedRef<EventTarget | null | undefined>, event: string, listener: GeneralEventListener<EventType>, options?: boolean | AddEventListenerOptions): Fn;\n\ndeclare type UseEventSourceOptions = EventSourceInit;\n/**\n * Reactive wrapper for EventSource.\n *\n * @see https://vueuse.org/useEventSource\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventSource/EventSource EventSource\n * @param url\n * @param events\n * @param options\n */\ndeclare function useEventSource(url: string, events?: Array<string>, options?: UseEventSourceOptions): {\n    eventSource: Ref<EventSource | null>;\n    event: Ref<string | null>;\n    data: Ref<string | null>;\n    status: Ref<\"OPEN\" | \"CONNECTING\" | \"CLOSED\">;\n    error: Ref<Event | null>;\n    close: () => void;\n};\ndeclare type UseEventSourceReturn = ReturnType<typeof useEventSource>;\n\ninterface EyeDropperOpenOptions {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal\n     */\n    signal?: AbortSignal;\n}\ninterface EyeDropper {\n    new (): EyeDropper;\n    open: (options?: EyeDropperOpenOptions) => Promise<{\n        sRGBHex: string;\n    }>;\n    [Symbol.toStringTag]: 'EyeDropper';\n}\ninterface UseEyeDropperOptions {\n    /**\n     * Initial sRGBHex.\n     *\n     * @default ''\n     */\n    initialValue?: string;\n}\n/**\n * Reactive [EyeDropper API](https://developer.mozilla.org/en-US/docs/Web/API/EyeDropper_API)\n *\n * @see https://vueuse.org/useEyeDropper\n * @param initialValue string\n */\ndeclare function useEyeDropper(options?: UseEyeDropperOptions): {\n    isSupported: vue_demi.Ref<boolean>;\n    sRGBHex: vue_demi.Ref<string>;\n    open: (openOptions?: EyeDropperOpenOptions) => Promise<{\n        sRGBHex: string;\n    } | undefined>;\n};\ndeclare type UseEyeDropperReturn = ReturnType<typeof useEyeDropper>;\n\ninterface UseFaviconOptions extends ConfigurableDocument {\n    baseUrl?: string;\n    rel?: string;\n}\n/**\n * Reactive favicon.\n *\n * @see https://vueuse.org/useFavicon\n * @param newIcon\n * @param options\n */\ndeclare function useFavicon(newIcon?: MaybeComputedRef<string | null | undefined>, options?: UseFaviconOptions): vue_demi.ComputedRef<string | null | undefined>;\ndeclare type UseFaviconReturn = ReturnType<typeof useFavicon>;\n\ninterface UseFetchReturn<T> {\n    /**\n     * Indicates if the fetch request has finished\n     */\n    isFinished: Ref<boolean>;\n    /**\n     * The statusCode of the HTTP fetch response\n     */\n    statusCode: Ref<number | null>;\n    /**\n     * The raw response of the fetch response\n     */\n    response: Ref<Response | null>;\n    /**\n     * Any fetch errors that may have occurred\n     */\n    error: Ref<any>;\n    /**\n     * The fetch response body, may either be JSON or text\n     */\n    data: Ref<T | null>;\n    /**\n     * Indicates if the request is currently being fetched.\n     */\n    isFetching: Ref<boolean>;\n    /**\n     * Indicates if the fetch request is able to be aborted\n     */\n    canAbort: ComputedRef<boolean>;\n    /**\n     * Indicates if the fetch request was aborted\n     */\n    aborted: Ref<boolean>;\n    /**\n     * Abort the fetch request\n     */\n    abort: Fn;\n    /**\n     * Manually call the fetch\n     * (default not throwing error)\n     */\n    execute: (throwOnFailed?: boolean) => Promise<any>;\n    /**\n     * Fires after the fetch request has finished\n     */\n    onFetchResponse: EventHookOn<Response>;\n    /**\n     * Fires after a fetch request error\n     */\n    onFetchError: EventHookOn;\n    /**\n     * Fires after a fetch has completed\n     */\n    onFetchFinally: EventHookOn;\n    get(): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    post(payload?: MaybeComputedRef<unknown>, type?: string): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    put(payload?: MaybeComputedRef<unknown>, type?: string): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    delete(payload?: MaybeComputedRef<unknown>, type?: string): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    patch(payload?: MaybeComputedRef<unknown>, type?: string): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    head(payload?: MaybeComputedRef<unknown>, type?: string): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    options(payload?: MaybeComputedRef<unknown>, type?: string): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n    json<JSON = any>(): UseFetchReturn<JSON> & PromiseLike<UseFetchReturn<JSON>>;\n    text(): UseFetchReturn<string> & PromiseLike<UseFetchReturn<string>>;\n    blob(): UseFetchReturn<Blob> & PromiseLike<UseFetchReturn<Blob>>;\n    arrayBuffer(): UseFetchReturn<ArrayBuffer> & PromiseLike<UseFetchReturn<ArrayBuffer>>;\n    formData(): UseFetchReturn<FormData> & PromiseLike<UseFetchReturn<FormData>>;\n}\ninterface BeforeFetchContext {\n    /**\n     * The computed url of the current request\n     */\n    url: string;\n    /**\n     * The request options of the current request\n     */\n    options: RequestInit;\n    /**\n     * Cancels the current request\n     */\n    cancel: Fn;\n}\ninterface AfterFetchContext<T = any> {\n    response: Response;\n    data: T | null;\n}\ninterface OnFetchErrorContext<T = any, E = any> {\n    error: E;\n    data: T | null;\n}\ninterface UseFetchOptions {\n    /**\n     * Fetch function\n     */\n    fetch?: typeof window.fetch;\n    /**\n     * Will automatically run fetch when `useFetch` is used\n     *\n     * @default true\n     */\n    immediate?: boolean;\n    /**\n     * Will automatically refetch when:\n     * - the URL is changed if the URL is a ref\n     * - the payload is changed if the payload is a ref\n     *\n     * @default false\n     */\n    refetch?: MaybeComputedRef<boolean>;\n    /**\n     * Initial data before the request finished\n     *\n     * @default null\n     */\n    initialData?: any;\n    /**\n     * Timeout for abort request after number of millisecond\n     * `0` means use browser default\n     *\n     * @default 0\n     */\n    timeout?: number;\n    /**\n     * Will run immediately before the fetch request is dispatched\n     */\n    beforeFetch?: (ctx: BeforeFetchContext) => Promise<Partial<BeforeFetchContext> | void> | Partial<BeforeFetchContext> | void;\n    /**\n     * Will run immediately after the fetch request is returned.\n     * Runs after any 2xx response\n     */\n    afterFetch?: (ctx: AfterFetchContext) => Promise<Partial<AfterFetchContext>> | Partial<AfterFetchContext>;\n    /**\n     * Will run immediately after the fetch request is returned.\n     * Runs after any 4xx and 5xx response\n     */\n    onFetchError?: (ctx: {\n        data: any;\n        response: Response | null;\n        error: any;\n    }) => Promise<Partial<OnFetchErrorContext>> | Partial<OnFetchErrorContext>;\n}\ninterface CreateFetchOptions {\n    /**\n     * The base URL that will be prefixed to all urls\n     */\n    baseUrl?: MaybeComputedRef<string>;\n    /**\n     * Default Options for the useFetch function\n     */\n    options?: UseFetchOptions;\n    /**\n     * Options for the fetch request\n     */\n    fetchOptions?: RequestInit;\n}\ndeclare function createFetch(config?: CreateFetchOptions): typeof useFetch;\ndeclare function useFetch<T>(url: MaybeComputedRef<string>): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\ndeclare function useFetch<T>(url: MaybeComputedRef<string>, useFetchOptions: UseFetchOptions): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\ndeclare function useFetch<T>(url: MaybeComputedRef<string>, options: RequestInit, useFetchOptions?: UseFetchOptions): UseFetchReturn<T> & PromiseLike<UseFetchReturn<T>>;\n\ninterface UseFileDialogOptions extends ConfigurableDocument {\n    /**\n     * @default true\n     */\n    multiple?: boolean;\n    /**\n     * @default '*'\n     */\n    accept?: string;\n    /**\n     * Select the input source for the capture file.\n     * @see [HTMLInputElement Capture](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/capture)\n     */\n    capture?: string;\n}\ninterface UseFileDialogReturn {\n    files: Ref<FileList | null>;\n    open: (localOptions?: Partial<UseFileDialogOptions>) => void;\n    reset: () => void;\n}\n/**\n * Open file dialog with ease.\n *\n * @see https://vueuse.org/useFileDialog\n * @param options\n */\ndeclare function useFileDialog(options?: UseFileDialogOptions): UseFileDialogReturn;\n\n/**\n * window.showOpenFilePicker parameters\n * @see https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker#parameters\n */\ninterface FileSystemAccessShowOpenFileOptions {\n    multiple?: boolean;\n    types?: Array<{\n        description?: string;\n        accept: Record<string, string[]>;\n    }>;\n    excludeAcceptAllOption?: boolean;\n}\n/**\n * window.showSaveFilePicker parameters\n * @see https://developer.mozilla.org/en-US/docs/Web/API/window/showSaveFilePicker#parameters\n */\ninterface FileSystemAccessShowSaveFileOptions {\n    suggestedName?: string;\n    types?: Array<{\n        description?: string;\n        accept: Record<string, string[]>;\n    }>;\n    excludeAcceptAllOption?: boolean;\n}\n/**\n * FileHandle\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\n */\ninterface FileSystemFileHandle {\n    getFile: () => Promise<File>;\n    createWritable: () => FileSystemWritableFileStream;\n}\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream\n */\ninterface FileSystemWritableFileStream extends WritableStream {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/write\n     */\n    write: FileSystemWritableFileStreamWrite;\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/seek\n     */\n    seek: (position: number) => Promise<void>;\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/truncate\n     */\n    truncate: (size: number) => Promise<void>;\n}\n/**\n * FileStream.write\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/write\n */\ninterface FileSystemWritableFileStreamWrite {\n    (data: string | BufferSource | Blob): Promise<void>;\n    (options: {\n        type: 'write';\n        position: number;\n        data: string | BufferSource | Blob;\n    }): Promise<void>;\n    (options: {\n        type: 'seek';\n        position: number;\n    }): Promise<void>;\n    (options: {\n        type: 'truncate';\n        size: number;\n    }): Promise<void>;\n}\n/**\n * FileStream.write\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FileSystemWritableFileStream/write\n */\ndeclare type FileSystemAccessWindow = Window & {\n    showSaveFilePicker: (options: FileSystemAccessShowSaveFileOptions) => Promise<FileSystemFileHandle>;\n    showOpenFilePicker: (options: FileSystemAccessShowOpenFileOptions) => Promise<FileSystemFileHandle[]>;\n};\ndeclare type UseFileSystemAccessCommonOptions = Pick<FileSystemAccessShowOpenFileOptions, 'types' | 'excludeAcceptAllOption'>;\ndeclare type UseFileSystemAccessShowSaveFileOptions = Pick<FileSystemAccessShowSaveFileOptions, 'suggestedName'>;\ndeclare type UseFileSystemAccessOptions = ConfigurableWindow & UseFileSystemAccessCommonOptions & {\n    /**\n     * file data type\n     */\n    dataType?: MaybeComputedRef<'Text' | 'ArrayBuffer' | 'Blob'>;\n};\n/**\n * Create and read and write local files.\n * @see https://vueuse.org/useFileSystemAccess\n * @param options\n */\ndeclare function useFileSystemAccess(options: UseFileSystemAccessOptions & {\n    dataType: 'Text';\n}): UseFileSystemAccessReturn<string>;\ndeclare function useFileSystemAccess(options: UseFileSystemAccessOptions & {\n    dataType: 'ArrayBuffer';\n}): UseFileSystemAccessReturn<ArrayBuffer>;\ndeclare function useFileSystemAccess(options: UseFileSystemAccessOptions & {\n    dataType: 'Blob';\n}): UseFileSystemAccessReturn<Blob>;\ndeclare function useFileSystemAccess(options: UseFileSystemAccessOptions): UseFileSystemAccessReturn<string | ArrayBuffer | Blob>;\ninterface UseFileSystemAccessReturn<T = string> {\n    isSupported: Ref<boolean>;\n    data: Ref<T | undefined>;\n    file: Ref<File | undefined>;\n    fileName: Ref<string>;\n    fileMIME: Ref<string>;\n    fileSize: Ref<number>;\n    fileLastModified: Ref<number>;\n    open: (_options?: UseFileSystemAccessCommonOptions) => Awaitable<void>;\n    create: (_options?: UseFileSystemAccessShowSaveFileOptions) => Awaitable<void>;\n    save: (_options?: UseFileSystemAccessShowSaveFileOptions) => Awaitable<void>;\n    saveAs: (_options?: UseFileSystemAccessShowSaveFileOptions) => Awaitable<void>;\n    updateData: () => Awaitable<void>;\n}\n\ninterface UseFocusOptions extends ConfigurableWindow {\n    /**\n     * Initial value. If set true, then focus will be set on the target\n     *\n     * @default false\n     */\n    initialValue?: boolean;\n}\ninterface UseFocusReturn {\n    /**\n     * If read as true, then the element has focus. If read as false, then the element does not have focus\n     * If set to true, then the element will be focused. If set to false, the element will be blurred.\n     */\n    focused: Ref<boolean>;\n}\n/**\n * Track or set the focus state of a DOM element.\n *\n * @see https://vueuse.org/useFocus\n * @param target The target element for the focus and blur events.\n * @param options\n */\ndeclare function useFocus(target: MaybeElementRef, options?: UseFocusOptions): UseFocusReturn;\n\ninterface UseFocusWithinReturn {\n    /**\n     * True if the element or any of its descendants are focused\n     */\n    focused: Ref<boolean>;\n}\n/**\n * Track if focus is contained within the target element\n *\n * @see https://vueuse.org/useFocusWithin\n * @param target The target element to track\n * @param options Focus within options\n */\ndeclare function useFocusWithin(target: MaybeElementRef, options?: ConfigurableWindow): UseFocusWithinReturn;\n\ninterface UseFpsOptions {\n    /**\n     * Calculate the FPS on every x frames.\n     * @default 10\n     */\n    every?: number;\n}\ndeclare function useFps(options?: UseFpsOptions): Ref<number>;\n\ninterface UseFullscreenOptions extends ConfigurableDocument {\n    /**\n     * Automatically exit fullscreen when component is unmounted\n     *\n     * @default false\n     */\n    autoExit?: boolean;\n}\n/**\n * Reactive Fullscreen API.\n *\n * @see https://vueuse.org/useFullscreen\n * @param target\n * @param options\n */\ndeclare function useFullscreen(target?: MaybeElementRef, options?: UseFullscreenOptions): {\n    isSupported: vue_demi.Ref<boolean>;\n    isFullscreen: vue_demi.Ref<boolean>;\n    enter: () => Promise<void>;\n    exit: () => Promise<void>;\n    toggle: () => Promise<void>;\n};\ndeclare type UseFullscreenReturn = ReturnType<typeof useFullscreen>;\n\ninterface UseGamepadOptions extends ConfigurableWindow, ConfigurableNavigator {\n}\n/**\n * Maps a standard standard gamepad to an Xbox 360 Controller.\n */\ndeclare function mapGamepadToXbox360Controller(gamepad: Ref<Gamepad | undefined>): vue_demi.ComputedRef<{\n    buttons: {\n        a: GamepadButton;\n        b: GamepadButton;\n        x: GamepadButton;\n        y: GamepadButton;\n    };\n    bumper: {\n        left: GamepadButton;\n        right: GamepadButton;\n    };\n    triggers: {\n        left: GamepadButton;\n        right: GamepadButton;\n    };\n    stick: {\n        left: {\n            horizontal: number;\n            vertical: number;\n            button: GamepadButton;\n        };\n        right: {\n            horizontal: number;\n            vertical: number;\n            button: GamepadButton;\n        };\n    };\n    dpad: {\n        up: GamepadButton;\n        down: GamepadButton;\n        left: GamepadButton;\n        right: GamepadButton;\n    };\n    back: GamepadButton;\n    start: GamepadButton;\n} | null>;\ndeclare function useGamepad(options?: UseGamepadOptions): {\n    isSupported: Ref<boolean>;\n    onConnected: _vueuse_shared.EventHookOn<number>;\n    onDisconnected: _vueuse_shared.EventHookOn<number>;\n    gamepads: Ref<{\n        readonly axes: readonly number[];\n        readonly buttons: readonly {\n            readonly pressed: boolean;\n            readonly touched: boolean;\n            readonly value: number;\n        }[];\n        readonly connected: boolean;\n        readonly hapticActuators: readonly {\n            readonly type: \"vibration\";\n        }[];\n        readonly id: string;\n        readonly index: number;\n        readonly mapping: GamepadMappingType;\n        readonly timestamp: number;\n    }[]>;\n    pause: _vueuse_shared.Fn;\n    resume: _vueuse_shared.Fn;\n    isActive: Ref<boolean>;\n};\ndeclare type UseGamepadReturn = ReturnType<typeof useGamepad>;\n\ninterface UseGeolocationOptions extends Partial<PositionOptions>, ConfigurableNavigator {\n}\n/**\n * Reactive Geolocation API.\n *\n * @see https://vueuse.org/useGeolocation\n * @param options\n */\ndeclare function useGeolocation(options?: UseGeolocationOptions): {\n    isSupported: Ref<boolean>;\n    coords: Ref<GeolocationCoordinates>;\n    locatedAt: Ref<number | null>;\n    error: Ref<{\n        readonly code: number;\n        readonly message: string;\n        readonly PERMISSION_DENIED: number;\n        readonly POSITION_UNAVAILABLE: number;\n        readonly TIMEOUT: number;\n    } | null>;\n};\ndeclare type UseGeolocationReturn = ReturnType<typeof useGeolocation>;\n\ninterface UseIdleOptions extends ConfigurableWindow, ConfigurableEventFilter {\n    /**\n     * Event names that listen to for detected user activity\n     *\n     * @default ['mousemove', 'mousedown', 'resize', 'keydown', 'touchstart', 'wheel']\n     */\n    events?: WindowEventName[];\n    /**\n     * Listen for document visibility change\n     *\n     * @default true\n     */\n    listenForVisibilityChange?: boolean;\n    /**\n     * Initial state of the ref idle\n     *\n     * @default false\n     */\n    initialState?: boolean;\n}\ninterface UseIdleReturn {\n    idle: Ref<boolean>;\n    lastActive: Ref<number>;\n}\n/**\n * Tracks whether the user is being inactive.\n *\n * @see https://vueuse.org/useIdle\n * @param timeout default to 1 minute\n * @param options IdleOptions\n */\ndeclare function useIdle(timeout?: number, options?: UseIdleOptions): UseIdleReturn;\n\ninterface UseImageOptions {\n    /** Address of the resource */\n    src: string;\n    /** Images to use in different situations, e.g., high-resolution displays, small monitors, etc. */\n    srcset?: string;\n    /** Image sizes for different page layouts */\n    sizes?: string;\n}\n/**\n * Reactive load an image in the browser, you can wait the result to display it or show a fallback.\n *\n * @see https://vueuse.org/useImage\n * @param options Image attributes, as used in the <img> tag\n * @param asyncStateOptions\n */\ndeclare const useImage: <Shallow extends true>(options: MaybeComputedRef<UseImageOptions>, asyncStateOptions?: UseAsyncStateOptions<Shallow>) => UseAsyncStateReturn<HTMLImageElement | undefined, true>;\ndeclare type UseImageReturn = ReturnType<typeof useImage>;\n\ninterface UseScrollOptions {\n    /**\n     * Throttle time for scroll event, its disabled by default.\n     *\n     * @default 0\n     */\n    throttle?: number;\n    /**\n     * The check time when scrolling ends.\n     * This configuration will be setting to (throttle + idle) when the `throttle` is configured.\n     *\n     * @default 200\n     */\n    idle?: number;\n    /**\n     * Offset arrived states by x pixels\n     *\n     */\n    offset?: {\n        left?: number;\n        right?: number;\n        top?: number;\n        bottom?: number;\n    };\n    /**\n     * Trigger it when scrolling.\n     *\n     */\n    onScroll?: (e: Event) => void;\n    /**\n     * Trigger it when scrolling ends.\n     *\n     */\n    onStop?: (e: Event) => void;\n    /**\n     * Listener options for scroll event.\n     *\n     * @default {capture: false, passive: true}\n     */\n    eventListenerOptions?: boolean | AddEventListenerOptions;\n}\n/**\n * Reactive scroll.\n *\n * @see https://vueuse.org/useScroll\n * @param element\n * @param options\n */\ndeclare function useScroll(element: MaybeComputedRef<HTMLElement | SVGElement | Window | Document | null | undefined>, options?: UseScrollOptions): {\n    x: vue_demi.Ref<number>;\n    y: vue_demi.Ref<number>;\n    isScrolling: vue_demi.Ref<boolean>;\n    arrivedState: {\n        left: boolean;\n        right: boolean;\n        top: boolean;\n        bottom: boolean;\n    };\n    directions: {\n        left: boolean;\n        right: boolean;\n        top: boolean;\n        bottom: boolean;\n    };\n};\ndeclare type UseScrollReturn = ReturnType<typeof useScroll>;\n\ninterface UseInfiniteScrollOptions extends UseScrollOptions {\n    /**\n     * The minimum distance between the bottom of the element and the bottom of the viewport\n     *\n     * @default 0\n     */\n    distance?: number;\n    /**\n     * The direction in which to listen the scroll.\n     *\n     * @default 'bottom'\n     */\n    direction?: 'top' | 'bottom' | 'left' | 'right';\n    /**\n     * Whether to preserve the current scroll position when loading more items.\n     *\n     * @default false\n     */\n    preserveScrollPosition?: boolean;\n}\n/**\n * Reactive infinite scroll.\n *\n * @see https://vueuse.org/useInfiniteScroll\n */\ndeclare function useInfiniteScroll(element: MaybeComputedRef<HTMLElement | SVGElement | Window | Document | null | undefined>, onLoadMore: (state: UnwrapNestedRefs<ReturnType<typeof useScroll>>) => void | Promise<void>, options?: UseInfiniteScrollOptions): void;\n\ninterface UseIntersectionObserverOptions extends ConfigurableWindow {\n    /**\n     * The Element or Document whose bounds are used as the bounding box when testing for intersection.\n     */\n    root?: MaybeElementRef;\n    /**\n     * A string which specifies a set of offsets to add to the root's bounding_box when calculating intersections.\n     */\n    rootMargin?: string;\n    /**\n     * Either a single number or an array of numbers between 0.0 and 1.\n     */\n    threshold?: number | number[];\n}\n/**\n * Detects that a target element's visibility.\n *\n * @see https://vueuse.org/useIntersectionObserver\n * @param target\n * @param callback\n * @param options\n */\ndeclare function useIntersectionObserver(target: MaybeElementRef, callback: IntersectionObserverCallback, options?: UseIntersectionObserverOptions): {\n    isSupported: vue_demi.Ref<boolean>;\n    stop: () => void;\n};\ndeclare type UseIntersectionObserverReturn = ReturnType<typeof useIntersectionObserver>;\n\ndeclare type KeyModifier = 'Alt' | 'AltGraph' | 'CapsLock' | 'Control' | 'Fn' | 'FnLock' | 'Meta' | 'NumLock' | 'ScrollLock' | 'Shift' | 'Symbol' | 'SymbolLock';\ninterface UseModifierOptions<Initial> extends ConfigurableDocument {\n    /**\n     * Event names that will prompt update to modifier states\n     *\n     * @default ['mousedown', 'mouseup', 'keydown', 'keyup']\n     */\n    events?: WindowEventName[];\n    /**\n     * Initial value of the returned ref\n     *\n     * @default null\n     */\n    initial?: Initial;\n}\ndeclare type UseKeyModifierReturn<Initial> = Ref<Initial extends boolean ? boolean : boolean | null>;\ndeclare function useKeyModifier<Initial extends boolean | null>(modifier: KeyModifier, options?: UseModifierOptions<Initial>): UseKeyModifierReturn<Initial>;\n\ndeclare function useLocalStorage(key: string, initialValue: MaybeComputedRef<string>, options?: UseStorageOptions<string>): RemovableRef<string>;\ndeclare function useLocalStorage(key: string, initialValue: MaybeComputedRef<boolean>, options?: UseStorageOptions<boolean>): RemovableRef<boolean>;\ndeclare function useLocalStorage(key: string, initialValue: MaybeComputedRef<number>, options?: UseStorageOptions<number>): RemovableRef<number>;\ndeclare function useLocalStorage<T>(key: string, initialValue: MaybeComputedRef<T>, options?: UseStorageOptions<T>): RemovableRef<T>;\ndeclare function useLocalStorage<T = unknown>(key: string, initialValue: MaybeComputedRef<null>, options?: UseStorageOptions<T>): RemovableRef<T>;\n\ndeclare const DefaultMagicKeysAliasMap: Readonly<Record<string, string>>;\n\ninterface UseMagicKeysOptions<Reactive extends Boolean> {\n    /**\n     * Returns a reactive object instead of an object of refs\n     *\n     * @default false\n     */\n    reactive?: Reactive;\n    /**\n     * Target for listening events\n     *\n     * @default window\n     */\n    target?: MaybeComputedRef<EventTarget>;\n    /**\n     * Alias map for keys, all the keys should be lowercase\n     * { target: keycode }\n     *\n     * @example { ctrl: \"control\" }\n     * @default <predefined-map>\n     */\n    aliasMap?: Record<string, string>;\n    /**\n     * Register passive listener\n     *\n     * @default true\n     */\n    passive?: boolean;\n    /**\n     * Custom event handler for keydown/keyup event.\n     * Useful when you want to apply custom logic.\n     *\n     * When using `e.preventDefault()`, you will need to pass `passive: false` to useMagicKeys().\n     */\n    onEventFired?: (e: KeyboardEvent) => void | boolean;\n}\ninterface MagicKeysInternal {\n    /**\n     * A Set of currently pressed keys,\n     * Stores raw keyCodes.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n     */\n    current: Set<string>;\n}\ndeclare type UseMagicKeysReturn<Reactive extends Boolean> = Readonly<Omit<Reactive extends true ? Record<string, boolean> : Record<string, ComputedRef<boolean>>, keyof MagicKeysInternal> & MagicKeysInternal>;\n/**\n * Reactive keys pressed state, with magical keys combination support.\n *\n * @see https://vueuse.org/useMagicKeys\n */\ndeclare function useMagicKeys(options?: UseMagicKeysOptions<false>): UseMagicKeysReturn<false>;\ndeclare function useMagicKeys(options: UseMagicKeysOptions<true>): UseMagicKeysReturn<true>;\n\n/**\n * Many of the jsdoc definitions here are modified version of the\n * documentation from MDN(https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement)\n */\ninterface UseMediaSource {\n    /**\n     * The source url for the media\n     */\n    src: string;\n    /**\n     * The media codec type\n     */\n    type?: string;\n}\ninterface UseMediaTextTrackSource {\n    /**\n     * Indicates that the track should be enabled unless the user's preferences indicate\n     * that another track is more appropriate\n     */\n    default?: boolean;\n    /**\n     * How the text track is meant to be used. If omitted the default kind is subtitles.\n     */\n    kind: TextTrackKind;\n    /**\n     * A user-readable title of the text track which is used by the browser\n     * when listing available text tracks.\n     */\n    label: string;\n    /**\n     * Address of the track (.vtt file). Must be a valid URL. This attribute\n     * must be specified and its URL value must have the same origin as the document\n     */\n    src: string;\n    /**\n     * Language of the track text data. It must be a valid BCP 47 language tag.\n     * If the kind attribute is set to subtitles, then srclang must be defined.\n     */\n    srcLang: string;\n}\ninterface UseMediaControlsOptions extends ConfigurableDocument {\n    /**\n     * The source for the media, may either be a string, a `UseMediaSource` object, or a list\n     * of `UseMediaSource` objects.\n     */\n    src?: MaybeComputedRef<string | UseMediaSource | UseMediaSource[]>;\n    /**\n     * A list of text tracks for the media\n     */\n    tracks?: MaybeComputedRef<UseMediaTextTrackSource[]>;\n}\ninterface UseMediaTextTrack {\n    /**\n     * The index of the text track\n     */\n    id: number;\n    /**\n     * The text track label\n     */\n    label: string;\n    /**\n     * Language of the track text data. It must be a valid BCP 47 language tag.\n     * If the kind attribute is set to subtitles, then srclang must be defined.\n     */\n    language: string;\n    /**\n     * Specifies the display mode of the text track, either `disabled`,\n     * `hidden`, or `showing`\n     */\n    mode: TextTrackMode;\n    /**\n     * How the text track is meant to be used. If omitted the default kind is subtitles.\n     */\n    kind: TextTrackKind;\n    /**\n     * Indicates the track's in-band metadata track dispatch type.\n     */\n    inBandMetadataTrackDispatchType: string;\n    /**\n     * A list of text track cues\n     */\n    cues: TextTrackCueList | null;\n    /**\n     * A list of active text track cues\n     */\n    activeCues: TextTrackCueList | null;\n}\ndeclare function useMediaControls(target: MaybeRef<HTMLMediaElement | null | undefined>, options?: UseMediaControlsOptions): {\n    currentTime: vue_demi.Ref<number>;\n    duration: vue_demi.Ref<number>;\n    waiting: vue_demi.Ref<boolean>;\n    seeking: vue_demi.Ref<boolean>;\n    ended: vue_demi.Ref<boolean>;\n    stalled: vue_demi.Ref<boolean>;\n    buffered: vue_demi.Ref<[number, number][]>;\n    playing: vue_demi.Ref<boolean>;\n    rate: vue_demi.Ref<number>;\n    volume: vue_demi.Ref<number>;\n    muted: vue_demi.Ref<boolean>;\n    tracks: vue_demi.Ref<{\n        id: number;\n        label: string;\n        language: string;\n        mode: TextTrackMode;\n        kind: TextTrackKind;\n        inBandMetadataTrackDispatchType: string;\n        cues: {\n            [x: number]: {\n                endTime: number;\n                id: string;\n                onenter: ((this: TextTrackCue, ev: Event) => any) | null;\n                onexit: ((this: TextTrackCue, ev: Event) => any) | null;\n                pauseOnExit: boolean;\n                startTime: number;\n                readonly track: {\n                    readonly activeCues: any | null;\n                    readonly cues: any | null;\n                    readonly id: string;\n                    readonly inBandMetadataTrackDispatchType: string;\n                    readonly kind: TextTrackKind;\n                    readonly label: string;\n                    readonly language: string;\n                    mode: TextTrackMode;\n                    oncuechange: ((this: TextTrack, ev: Event) => any) | null;\n                    addCue: (cue: TextTrackCue) => void;\n                    removeCue: (cue: TextTrackCue) => void;\n                    addEventListener: {\n                        <K extends \"cuechange\">(type: K, listener: (this: TextTrack, ev: TextTrackEventMap[K]) => any, options?: boolean | AddEventListenerOptions | undefined): void;\n                        (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions | undefined): void;\n                    };\n                    removeEventListener: {\n                        <K_1 extends \"cuechange\">(type: K_1, listener: (this: TextTrack, ev: TextTrackEventMap[K_1]) => any, options?: boolean | EventListenerOptions | undefined): void;\n                        (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions | undefined): void;\n                    };\n                    dispatchEvent: (event: Event) => boolean;\n                } | null;\n                addEventListener: {\n                    <K_2 extends keyof TextTrackCueEventMap>(type: K_2, listener: (this: TextTrackCue, ev: TextTrackCueEventMap[K_2]) => any, options?: boolean | AddEventListenerOptions | undefined): void;\n                    (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions | undefined): void;\n                };\n                removeEventListener: {\n                    <K_3 extends keyof TextTrackCueEventMap>(type: K_3, listener: (this: TextTrackCue, ev: TextTrackCueEventMap[K_3]) => any, options?: boolean | EventListenerOptions | undefined): void;\n                    (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions | undefined): void;\n                };\n                dispatchEvent: (event: Event) => boolean;\n            };\n            readonly length: number;\n            getCueById: (id: string) => TextTrackCue | null;\n            [Symbol.iterator]: () => IterableIterator<TextTrackCue>;\n        } | null;\n        activeCues: {\n            [x: number]: {\n                endTime: number;\n                id: string;\n                onenter: ((this: TextTrackCue, ev: Event) => any) | null;\n                onexit: ((this: TextTrackCue, ev: Event) => any) | null;\n                pauseOnExit: boolean;\n                startTime: number;\n                readonly track: {\n                    readonly activeCues: any | null;\n                    readonly cues: any | null;\n                    readonly id: string;\n                    readonly inBandMetadataTrackDispatchType: string;\n                    readonly kind: TextTrackKind;\n                    readonly label: string;\n                    readonly language: string;\n                    mode: TextTrackMode;\n                    oncuechange: ((this: TextTrack, ev: Event) => any) | null;\n                    addCue: (cue: TextTrackCue) => void;\n                    removeCue: (cue: TextTrackCue) => void;\n                    addEventListener: {\n                        <K extends \"cuechange\">(type: K, listener: (this: TextTrack, ev: TextTrackEventMap[K]) => any, options?: boolean | AddEventListenerOptions | undefined): void;\n                        (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions | undefined): void;\n                    };\n                    removeEventListener: {\n                        <K_1 extends \"cuechange\">(type: K_1, listener: (this: TextTrack, ev: TextTrackEventMap[K_1]) => any, options?: boolean | EventListenerOptions | undefined): void;\n                        (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions | undefined): void;\n                    };\n                    dispatchEvent: (event: Event) => boolean;\n                } | null;\n                addEventListener: {\n                    <K_2 extends keyof TextTrackCueEventMap>(type: K_2, listener: (this: TextTrackCue, ev: TextTrackCueEventMap[K_2]) => any, options?: boolean | AddEventListenerOptions | undefined): void;\n                    (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions | undefined): void;\n                };\n                removeEventListener: {\n                    <K_3 extends keyof TextTrackCueEventMap>(type: K_3, listener: (this: TextTrackCue, ev: TextTrackCueEventMap[K_3]) => any, options?: boolean | EventListenerOptions | undefined): void;\n                    (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions | undefined): void;\n                };\n                dispatchEvent: (event: Event) => boolean;\n            };\n            readonly length: number;\n            getCueById: (id: string) => TextTrackCue | null;\n            [Symbol.iterator]: () => IterableIterator<TextTrackCue>;\n        } | null;\n    }[]>;\n    selectedTrack: vue_demi.Ref<number>;\n    enableTrack: (track: number | UseMediaTextTrack, disableTracks?: boolean) => void;\n    disableTrack: (track?: number | UseMediaTextTrack) => void;\n    supportsPictureInPicture: boolean | undefined;\n    togglePictureInPicture: () => Promise<unknown>;\n    isPictureInPicture: vue_demi.Ref<boolean>;\n    onSourceError: _vueuse_shared.EventHookOn<Event>;\n};\ndeclare type UseMediaControlsReturn = ReturnType<typeof useMediaControls>;\n\n/**\n * Reactive Media Query.\n *\n * @see https://vueuse.org/useMediaQuery\n * @param query\n * @param options\n */\ndeclare function useMediaQuery(query: string, options?: ConfigurableWindow): vue_demi.Ref<boolean>;\n\ndeclare type CacheKey = any;\n/**\n * Custom memoize cache handler\n */\ninterface UseMemoizeCache<Key, Value> {\n    /**\n     * Get value for key\n     */\n    get(key: Key): Value | undefined;\n    /**\n     * Set value for key\n     */\n    set(key: Key, value: Value): void;\n    /**\n     * Return flag if key exists\n     */\n    has(key: Key): boolean;\n    /**\n     * Delete value for key\n     */\n    delete(key: Key): void;\n    /**\n     * Clear cache\n     */\n    clear(): void;\n}\n/**\n * Memoized function\n */\ninterface UseMemoizeReturn<Result, Args extends unknown[]> {\n    /**\n     * Get result from cache or call memoized function\n     */\n    (...args: Args): Result;\n    /**\n     * Call memoized function and update cache\n     */\n    load(...args: Args): Result;\n    /**\n     * Delete cache of given arguments\n     */\n    delete(...args: Args): void;\n    /**\n     * Clear cache\n     */\n    clear(): void;\n    /**\n     * Generate cache key for given arguments\n     */\n    generateKey(...args: Args): CacheKey;\n    /**\n     * Cache container\n     */\n    cache: UseMemoizeCache<CacheKey, Result>;\n}\ninterface UseMemoizeOptions<Result, Args extends unknown[]> {\n    getKey?: (...args: Args) => string;\n    cache?: UseMemoizeCache<CacheKey, Result>;\n}\n/**\n * Reactive function result cache based on arguments\n */\ndeclare function useMemoize<Result, Args extends unknown[]>(resolver: (...args: Args) => Result, options?: UseMemoizeOptions<Result, Args>): UseMemoizeReturn<Result, Args>;\n\n/**\n * Performance.memory\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Performance/memory\n */\ninterface MemoryInfo {\n    /**\n     * The maximum size of the heap, in bytes, that is available to the context.\n     */\n    readonly jsHeapSizeLimit: number;\n    /**\n     *  The total allocated heap size, in bytes.\n     */\n    readonly totalJSHeapSize: number;\n    /**\n     * The currently active segment of JS heap, in bytes.\n     */\n    readonly usedJSHeapSize: number;\n    [Symbol.toStringTag]: 'MemoryInfo';\n}\ninterface UseMemoryOptions extends UseIntervalFnOptions {\n    interval?: number;\n}\n/**\n * Reactive Memory Info.\n *\n * @see https://vueuse.org/useMemory\n * @param options\n */\ndeclare function useMemory(options?: UseMemoryOptions): {\n    isSupported: vue_demi.Ref<boolean>;\n    memory: vue_demi.Ref<MemoryInfo | undefined>;\n};\ndeclare type UseMemoryReturn = ReturnType<typeof useMemory>;\n\n/**\n * Mounted state in ref.\n *\n * @see https://vueuse.org/useMounted\n * @param options\n */\ndeclare function useMounted(): vue_demi.Ref<boolean>;\n\ninterface UseMouseOptions extends ConfigurableWindow, ConfigurableEventFilter {\n    /**\n     * Mouse position based by page or client\n     *\n     * @default 'page'\n     */\n    type?: 'page' | 'client';\n    /**\n     * Listen to `touchmove` events\n     *\n     * @default true\n     */\n    touch?: boolean;\n    /**\n     * Reset to initial value when `touchend` event fired\n     *\n     * @default false\n     */\n    resetOnTouchEnds?: boolean;\n    /**\n     * Initial values\n     */\n    initialValue?: Position;\n}\ndeclare type MouseSourceType = 'mouse' | 'touch' | null;\n/**\n * Reactive mouse position.\n *\n * @see https://vueuse.org/useMouse\n * @param options\n */\ndeclare function useMouse(options?: UseMouseOptions): {\n    x: vue_demi.Ref<number>;\n    y: vue_demi.Ref<number>;\n    sourceType: vue_demi.Ref<MouseSourceType>;\n};\ndeclare type UseMouseReturn = ReturnType<typeof useMouse>;\n\ninterface MouseInElementOptions extends UseMouseOptions {\n    handleOutside?: boolean;\n}\n/**\n * Reactive mouse position related to an element.\n *\n * @see https://vueuse.org/useMouseInElement\n * @param target\n * @param options\n */\ndeclare function useMouseInElement(target?: MaybeElementRef, options?: MouseInElementOptions): {\n    x: vue_demi.Ref<number>;\n    y: vue_demi.Ref<number>;\n    sourceType: vue_demi.Ref<MouseSourceType>;\n    elementX: vue_demi.Ref<number>;\n    elementY: vue_demi.Ref<number>;\n    elementPositionX: vue_demi.Ref<number>;\n    elementPositionY: vue_demi.Ref<number>;\n    elementHeight: vue_demi.Ref<number>;\n    elementWidth: vue_demi.Ref<number>;\n    isOutside: vue_demi.Ref<boolean>;\n    stop: () => void;\n};\ndeclare type UseMouseInElementReturn = ReturnType<typeof useMouseInElement>;\n\ninterface MousePressedOptions extends ConfigurableWindow {\n    /**\n     * Listen to `touchstart` `touchend` events\n     *\n     * @default true\n     */\n    touch?: boolean;\n    /**\n     * Listen to `dragstart` `drop` and `dragend` events\n     *\n     * @default true\n     */\n    drag?: boolean;\n    /**\n     * Initial values\n     *\n     * @default false\n     */\n    initialValue?: boolean;\n    /**\n     * Element target to be capture the click\n     */\n    target?: MaybeElementRef;\n}\n/**\n * Reactive mouse position.\n *\n * @see https://vueuse.org/useMousePressed\n * @param options\n */\ndeclare function useMousePressed(options?: MousePressedOptions): {\n    pressed: vue_demi.Ref<boolean>;\n    sourceType: vue_demi.Ref<MouseSourceType>;\n};\ndeclare type UseMousePressedReturn = ReturnType<typeof useMousePressed>;\n\ninterface UseMutationObserverOptions extends MutationObserverInit, ConfigurableWindow {\n}\n/**\n * Watch for changes being made to the DOM tree.\n *\n * @see https://vueuse.org/useMutationObserver\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver MutationObserver MDN\n * @param target\n * @param callback\n * @param options\n */\ndeclare function useMutationObserver(target: MaybeElementRef, callback: MutationCallback, options?: UseMutationObserverOptions): {\n    isSupported: vue_demi.Ref<boolean>;\n    stop: () => void;\n};\ndeclare type UseMutationObserverReturn = ReturnType<typeof useMutationObserver>;\n\ninterface NavigatorLanguageState {\n    isSupported: Ref<boolean>;\n    /**\n     *\n     * ISO 639-1 standard Language Code\n     *\n     * @info The detected user agent language preference as a language tag\n     * (which is sometimes referred to as a \"locale identifier\").\n     * This consists of a 2-3 letter base language tag that indicates a\n     * language, optionally followed by additional subtags separated by\n     * '-'. The most common extra information is the country or region\n     * variant (like 'en-US' or 'fr-CA').\n     *\n     *\n     * @see https://www.iso.org/iso-639-language-codes.html\n     * @see https://www.loc.gov/standards/iso639-2/php/code_list.php\n     *\n     */\n    language: Ref<string | undefined>;\n}\n/**\n *\n * Reactive useNavigatorLanguage\n *\n * Detects the currently selected user language and returns a reactive language\n * @see https://vueuse.org/useNavigatorLanguage\n *\n */\ndeclare const useNavigatorLanguage: (options?: ConfigurableWindow) => Readonly<NavigatorLanguageState>;\ndeclare type UseNavigatorLanguageReturn = ReturnType<typeof useNavigatorLanguage>;\n\ndeclare type NetworkType = 'bluetooth' | 'cellular' | 'ethernet' | 'none' | 'wifi' | 'wimax' | 'other' | 'unknown';\ndeclare type NetworkEffectiveType = 'slow-2g' | '2g' | '3g' | '4g' | undefined;\ninterface NetworkState {\n    isSupported: Ref<boolean>;\n    /**\n     * If the user is currently connected.\n     */\n    isOnline: Ref<boolean>;\n    /**\n     * The time since the user was last connected.\n     */\n    offlineAt: Ref<number | undefined>;\n    /**\n     * At this time, if the user is offline and reconnects\n     */\n    onlineAt: Ref<number | undefined>;\n    /**\n     * The download speed in Mbps.\n     */\n    downlink: Ref<number | undefined>;\n    /**\n     * The max reachable download speed in Mbps.\n     */\n    downlinkMax: Ref<number | undefined>;\n    /**\n     * The detected effective speed type.\n     */\n    effectiveType: Ref<NetworkEffectiveType | undefined>;\n    /**\n     * The estimated effective round-trip time of the current connection.\n     */\n    rtt: Ref<number | undefined>;\n    /**\n     * If the user activated data saver mode.\n     */\n    saveData: Ref<boolean | undefined>;\n    /**\n     * The detected connection/network type.\n     */\n    type: Ref<NetworkType>;\n}\n/**\n * Reactive Network status.\n *\n * @see https://vueuse.org/useNetwork\n * @param options\n */\ndeclare function useNetwork(options?: ConfigurableWindow): Readonly<NetworkState>;\ndeclare type UseNetworkReturn = ReturnType<typeof useNetwork>;\n\ninterface UseNowOptions<Controls extends boolean> {\n    /**\n     * Expose more controls\n     *\n     * @default false\n     */\n    controls?: Controls;\n    /**\n     * Update interval, or use requestAnimationFrame\n     *\n     * @default requestAnimationFrame\n     */\n    interval?: 'requestAnimationFrame' | number;\n}\n/**\n * Reactive current Date instance.\n *\n * @see https://vueuse.org/useNow\n * @param options\n */\ndeclare function useNow(options?: UseNowOptions<false>): Ref<Date>;\ndeclare function useNow(options: UseNowOptions<true>): {\n    now: Ref<Date>;\n} & Pausable;\ndeclare type UseNowReturn = ReturnType<typeof useNow>;\n\n/**\n * Reactive URL representing an object.\n *\n * @see https://vueuse.org/useObjectUrl\n * @param object\n */\ndeclare function useObjectUrl(object: MaybeRef<Blob | MediaSource | undefined>): Readonly<vue_demi.Ref<string | undefined>>;\n\ninterface UseOffsetPaginationOptions {\n    /**\n     * Total number of items.\n     */\n    total?: MaybeRef<number>;\n    /**\n     * The number of items to display per page.\n     * @default 10\n     */\n    pageSize?: MaybeRef<number>;\n    /**\n     * The current page number.\n     * @default 1\n     */\n    page?: MaybeRef<number>;\n    /**\n     * Callback when the `page` change.\n     */\n    onPageChange?: (returnValue: UnwrapNestedRefs<UseOffsetPaginationReturn>) => unknown;\n    /**\n     * Callback when the `pageSize` change.\n     */\n    onPageSizeChange?: (returnValue: UnwrapNestedRefs<UseOffsetPaginationReturn>) => unknown;\n    /**\n     * Callback when the `pageCount` change.\n     */\n    onPageCountChange?: (returnValue: UnwrapNestedRefs<UseOffsetPaginationReturn>) => unknown;\n}\ninterface UseOffsetPaginationReturn {\n    currentPage: Ref<number>;\n    currentPageSize: Ref<number>;\n    pageCount: ComputedRef<number>;\n    isFirstPage: ComputedRef<boolean>;\n    isLastPage: ComputedRef<boolean>;\n    prev: () => void;\n    next: () => void;\n}\ndeclare type UseOffsetPaginationInfinityPageReturn = Omit<UseOffsetPaginationReturn, 'isLastPage'>;\ndeclare function useOffsetPagination(options: Omit<UseOffsetPaginationOptions, 'total'>): UseOffsetPaginationInfinityPageReturn;\ndeclare function useOffsetPagination(options: UseOffsetPaginationOptions): UseOffsetPaginationReturn;\n\n/**\n * Reactive online state.\n *\n * @see https://vueuse.org/useOnline\n * @param options\n */\ndeclare function useOnline(options?: ConfigurableWindow): vue.Ref<boolean>;\n\n/**\n * Reactive state to show whether mouse leaves the page.\n *\n * @see https://vueuse.org/usePageLeave\n * @param options\n */\ndeclare function usePageLeave(options?: ConfigurableWindow): vue_demi.Ref<boolean>;\n\ninterface UseParallaxOptions extends ConfigurableWindow {\n    deviceOrientationTiltAdjust?: (i: number) => number;\n    deviceOrientationRollAdjust?: (i: number) => number;\n    mouseTiltAdjust?: (i: number) => number;\n    mouseRollAdjust?: (i: number) => number;\n}\ninterface UseParallaxReturn {\n    /**\n     * Roll value. Scaled to `-0.5 ~ 0.5`\n     */\n    roll: ComputedRef<number>;\n    /**\n     * Tilt value. Scaled to `-0.5 ~ 0.5`\n     */\n    tilt: ComputedRef<number>;\n    /**\n     * Sensor source, can be `mouse` or `deviceOrientation`\n     */\n    source: ComputedRef<'deviceOrientation' | 'mouse'>;\n}\n/**\n * Create parallax effect easily. It uses `useDeviceOrientation` and fallback to `useMouse`\n * if orientation is not supported.\n *\n * @param target\n * @param options\n */\ndeclare function useParallax(target: MaybeElementRef, options?: UseParallaxOptions): UseParallaxReturn;\n\ndeclare type DescriptorNamePolyfill = 'accelerometer' | 'accessibility-events' | 'ambient-light-sensor' | 'background-sync' | 'camera' | 'clipboard-read' | 'clipboard-write' | 'gyroscope' | 'magnetometer' | 'microphone' | 'notifications' | 'payment-handler' | 'persistent-storage' | 'push' | 'speaker';\ndeclare type GeneralPermissionDescriptor = PermissionDescriptor | {\n    name: DescriptorNamePolyfill;\n};\ninterface UsePermissionOptions<Controls extends boolean> extends ConfigurableNavigator {\n    /**\n     * Expose more controls\n     *\n     * @default false\n     */\n    controls?: Controls;\n}\ndeclare type UsePermissionReturn = Readonly<Ref<PermissionState | undefined>>;\ninterface UsePermissionReturnWithControls {\n    state: UsePermissionReturn;\n    isSupported: Ref<boolean>;\n    query: () => Promise<PermissionStatus | undefined>;\n}\n/**\n * Reactive Permissions API.\n *\n * @see https://vueuse.org/usePermission\n */\ndeclare function usePermission(permissionDesc: GeneralPermissionDescriptor | GeneralPermissionDescriptor['name'], options?: UsePermissionOptions<false>): UsePermissionReturn;\ndeclare function usePermission(permissionDesc: GeneralPermissionDescriptor | GeneralPermissionDescriptor['name'], options: UsePermissionOptions<true>): UsePermissionReturnWithControls;\n\ninterface UsePointerState extends Position {\n    pressure: number;\n    pointerId: number;\n    tiltX: number;\n    tiltY: number;\n    width: number;\n    height: number;\n    twist: number;\n    pointerType: PointerType | null;\n}\ninterface UsePointerOptions extends ConfigurableWindow {\n    /**\n     * Pointer types that listen to.\n     *\n     * @default ['mouse', 'touch', 'pen']\n     */\n    pointerTypes?: PointerType[];\n    /**\n     * Initial values\n     */\n    initialValue?: MaybeRef<Partial<UsePointerState>>;\n    /**\n     * @default window\n     */\n    target?: MaybeRef<EventTarget | null | undefined> | Document | Window;\n}\n/**\n * Reactive pointer state.\n *\n * @see https://vueuse.org/usePointer\n * @param options\n */\ndeclare function usePointer(options?: UsePointerOptions): {\n    isInside: Ref<boolean>;\n    pressure: Ref<number>;\n    pointerId: Ref<number>;\n    tiltX: Ref<number>;\n    tiltY: Ref<number>;\n    width: Ref<number>;\n    height: Ref<number>;\n    twist: Ref<number>;\n    pointerType: Ref<PointerType | null>;\n    x: Ref<number>;\n    y: Ref<number>;\n};\ndeclare type UsePointerReturn = ReturnType<typeof usePointer>;\n\ndeclare enum SwipeDirection {\n    UP = \"UP\",\n    RIGHT = \"RIGHT\",\n    DOWN = \"DOWN\",\n    LEFT = \"LEFT\",\n    NONE = \"NONE\"\n}\ninterface UseSwipeOptions extends ConfigurableWindow {\n    /**\n     * Register events as passive\n     *\n     * @default true\n     */\n    passive?: boolean;\n    /**\n     * @default 50\n     */\n    threshold?: number;\n    /**\n     * Callback on swipe start\n     */\n    onSwipeStart?: (e: TouchEvent) => void;\n    /**\n     * Callback on swipe moves\n     */\n    onSwipe?: (e: TouchEvent) => void;\n    /**\n     * Callback on swipe ends\n     */\n    onSwipeEnd?: (e: TouchEvent, direction: SwipeDirection) => void;\n}\ninterface UseSwipeReturn {\n    isPassiveEventSupported: boolean;\n    isSwiping: Ref<boolean>;\n    direction: ComputedRef<SwipeDirection | null>;\n    coordsStart: Readonly<Position>;\n    coordsEnd: Readonly<Position>;\n    lengthX: ComputedRef<number>;\n    lengthY: ComputedRef<number>;\n    stop: () => void;\n}\n/**\n * Reactive swipe detection.\n *\n * @see https://vueuse.org/useSwipe\n * @param target\n * @param options\n */\ndeclare function useSwipe(target: MaybeComputedRef<EventTarget | null | undefined>, options?: UseSwipeOptions): UseSwipeReturn;\n\ninterface UsePointerSwipeOptions {\n    /**\n     * @default 50\n     */\n    threshold?: number;\n    /**\n     * Callback on swipe start\n     */\n    onSwipeStart?: (e: PointerEvent) => void;\n    /**\n     * Callback on swipe move\n     */\n    onSwipe?: (e: PointerEvent) => void;\n    /**\n     * Callback on swipe end\n     */\n    onSwipeEnd?: (e: PointerEvent, direction: SwipeDirection) => void;\n    /**\n     * Pointer types that listen to.\n     *\n     * @default ['mouse', 'touch', 'pen']\n     */\n    pointerTypes?: PointerType[];\n}\ninterface UsePointerSwipeReturn {\n    readonly isSwiping: Ref<boolean>;\n    direction: Readonly<Ref<SwipeDirection | null>>;\n    readonly posStart: Position;\n    readonly posEnd: Position;\n    distanceX: Readonly<Ref<number>>;\n    distanceY: Readonly<Ref<number>>;\n    stop: () => void;\n}\n/**\n * Reactive swipe detection based on PointerEvents.\n *\n * @see https://vueuse.org/usePointerSwipe\n * @param target\n * @param options\n */\ndeclare function usePointerSwipe(target: MaybeComputedRef<HTMLElement | null | undefined>, options?: UsePointerSwipeOptions): UsePointerSwipeReturn;\n\ndeclare type ColorSchemeType = 'dark' | 'light' | 'no-preference';\n/**\n * Reactive prefers-color-scheme media query.\n *\n * @see https://vueuse.org/usePreferredColorScheme\n * @param [options]\n */\ndeclare function usePreferredColorScheme(options?: ConfigurableWindow): vue_demi.ComputedRef<ColorSchemeType>;\n\n/**\n * Reactive dark theme preference.\n *\n * @see https://vueuse.org/usePreferredDark\n * @param [options]\n */\ndeclare function usePreferredDark(options?: ConfigurableWindow): vue.Ref<boolean>;\n\n/**\n * Reactive Navigator Languages.\n *\n * @see https://vueuse.org/usePreferredLanguages\n * @param options\n */\ndeclare function usePreferredLanguages(options?: ConfigurableWindow): Ref<readonly string[]>;\n\ninterface UseRafFnOptions extends ConfigurableWindow {\n    /**\n     * Start the requestAnimationFrame loop immediately on creation\n     *\n     * @default true\n     */\n    immediate?: boolean;\n}\n/**\n * Call function on every `requestAnimationFrame`. With controls of pausing and resuming.\n *\n * @see https://vueuse.org/useRafFn\n * @param fn\n * @param options\n */\ndeclare function useRafFn(fn: Fn, options?: UseRafFnOptions): Pausable;\n\n/**\n * Reactive screen orientation\n *\n * @see https://vueuse.org/useScreenOrientation\n */\ndeclare const useScreenOrientation: (options?: ConfigurableWindow) => {\n    isSupported: vue_demi.Ref<boolean>;\n    orientation: vue_demi.Ref<OrientationType | undefined>;\n    angle: vue_demi.Ref<number>;\n    lockOrientation: (type: OrientationLockType) => Promise<void>;\n    unlockOrientation: () => void;\n};\ndeclare type UseScreenOrientationReturn = ReturnType<typeof useScreenOrientation>;\n\n/**\n * Reactive `env(safe-area-inset-*)`\n *\n * @see https://vueuse.org/useScreenSafeArea\n */\ndeclare function useScreenSafeArea(): {\n    top: vue_demi.Ref<string>;\n    right: vue_demi.Ref<string>;\n    bottom: vue_demi.Ref<string>;\n    left: vue_demi.Ref<string>;\n    update: () => void;\n};\n\ninterface UseScriptTagOptions extends ConfigurableDocument {\n    /**\n     * Load the script immediately\n     *\n     * @default true\n     */\n    immediate?: boolean;\n    /**\n     * Add `async` attribute to the script tag\n     *\n     * @default true\n     */\n    async?: boolean;\n    /**\n     * Script type\n     *\n     * @default 'text/javascript'\n     */\n    type?: string;\n    /**\n     * Manual controls the timing of loading and unloading\n     *\n     * @default false\n     */\n    manual?: boolean;\n    crossOrigin?: 'anonymous' | 'use-credentials';\n    referrerPolicy?: 'no-referrer' | 'no-referrer-when-downgrade' | 'origin' | 'origin-when-cross-origin' | 'same-origin' | 'strict-origin' | 'strict-origin-when-cross-origin' | 'unsafe-url';\n    noModule?: boolean;\n    defer?: boolean;\n    /**\n     * Add custom attribute to the script tag\n     *\n     */\n    attrs?: Record<string, string>;\n}\n/**\n * Async script tag loading.\n *\n * @see https://vueuse.org/useScriptTag\n * @param src\n * @param onLoaded\n * @param options\n */\ndeclare function useScriptTag(src: MaybeComputedRef<string>, onLoaded?: (el: HTMLScriptElement) => void, options?: UseScriptTagOptions): {\n    scriptTag: vue_demi.Ref<HTMLScriptElement | null>;\n    load: (waitForScriptLoad?: boolean) => Promise<HTMLScriptElement | boolean>;\n    unload: () => void;\n};\ndeclare type UseScriptTagReturn = ReturnType<typeof useScriptTag>;\n\n/**\n * Lock scrolling of the element.\n *\n * @see https://vueuse.org/useScrollLock\n * @param element\n */\ndeclare function useScrollLock(element: MaybeComputedRef<HTMLElement | SVGElement | Window | Document | null | undefined>, initialState?: boolean): vue_demi.WritableComputedRef<boolean>;\n\ndeclare function useSessionStorage(key: string, initialValue: MaybeComputedRef<string>, options?: UseStorageOptions<string>): RemovableRef<string>;\ndeclare function useSessionStorage(key: string, initialValue: MaybeComputedRef<boolean>, options?: UseStorageOptions<boolean>): RemovableRef<boolean>;\ndeclare function useSessionStorage(key: string, initialValue: MaybeComputedRef<number>, options?: UseStorageOptions<number>): RemovableRef<number>;\ndeclare function useSessionStorage<T>(key: string, initialValue: MaybeComputedRef<T>, options?: UseStorageOptions<T>): RemovableRef<T>;\ndeclare function useSessionStorage<T = unknown>(key: string, initialValue: MaybeComputedRef<null>, options?: UseStorageOptions<T>): RemovableRef<T>;\n\ninterface UseShareOptions {\n    title?: string;\n    files?: File[];\n    text?: string;\n    url?: string;\n}\n/**\n * Reactive Web Share API.\n *\n * @see https://vueuse.org/useShare\n * @param shareOptions\n * @param options\n */\ndeclare function useShare(shareOptions?: MaybeComputedRef<UseShareOptions>, options?: ConfigurableNavigator): {\n    isSupported: vue.Ref<boolean>;\n    share: (overrideOptions?: MaybeComputedRef<UseShareOptions>) => Promise<void>;\n};\ndeclare type UseShareReturn = ReturnType<typeof useShare>;\n\ndeclare type SpeechRecognitionErrorCode = 'aborted' | 'audio-capture' | 'bad-grammar' | 'language-not-supported' | 'network' | 'no-speech' | 'not-allowed' | 'service-not-allowed';\ninterface SpeechGrammar {\n    src: string;\n    weight: number;\n}\ninterface SpeechGrammarList {\n    readonly length: number;\n    addFromString(string: string, weight?: number): void;\n    addFromURI(src: string, weight?: number): void;\n    item(index: number): SpeechGrammar;\n    [index: number]: SpeechGrammar;\n}\ninterface SpeechRecognitionErrorEvent extends Event {\n    readonly error: SpeechRecognitionErrorCode;\n    readonly message: string;\n}\ninterface SpeechRecognitionEvent extends Event {\n    readonly resultIndex: number;\n    readonly results: SpeechRecognitionResultList;\n}\ninterface SpeechRecognitionEventMap {\n    'audioend': Event;\n    'audiostart': Event;\n    'end': Event;\n    'error': SpeechRecognitionErrorEvent;\n    'nomatch': SpeechRecognitionEvent;\n    'result': SpeechRecognitionEvent;\n    'soundend': Event;\n    'soundstart': Event;\n    'speechend': Event;\n    'speechstart': Event;\n    'start': Event;\n}\ninterface SpeechRecognition extends EventTarget {\n    continuous: boolean;\n    grammars: SpeechGrammarList;\n    interimResults: boolean;\n    lang: string;\n    maxAlternatives: number;\n    onaudioend: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onaudiostart: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onend: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onerror: ((this: SpeechRecognition, ev: SpeechRecognitionErrorEvent) => any) | null;\n    onnomatch: ((this: SpeechRecognition, ev: SpeechRecognitionEvent) => any) | null;\n    onresult: ((this: SpeechRecognition, ev: SpeechRecognitionEvent) => any) | null;\n    onsoundend: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onsoundstart: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onspeechend: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onspeechstart: ((this: SpeechRecognition, ev: Event) => any) | null;\n    onstart: ((this: SpeechRecognition, ev: Event) => any) | null;\n    abort(): void;\n    start(): void;\n    stop(): void;\n    addEventListener<K extends keyof SpeechRecognitionEventMap>(type: K, listener: (this: SpeechRecognition, ev: SpeechRecognitionEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void;\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\n    removeEventListener<K extends keyof SpeechRecognitionEventMap>(type: K, listener: (this: SpeechRecognition, ev: SpeechRecognitionEventMap[K]) => any, options?: boolean | EventListenerOptions): void;\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;\n}\n\ninterface UseSpeechRecognitionOptions extends ConfigurableWindow {\n    /**\n     * Controls whether continuous results are returned for each recognition, or only a single result.\n     *\n     * @default true\n     */\n    continuous?: boolean;\n    /**\n     * Controls whether interim results should be returned (true) or not (false.) Interim results are results that are not yet final\n     *\n     * @default true\n     */\n    interimResults?: boolean;\n    /**\n     * Langauge for SpeechRecognition\n     *\n     * @default 'en-US'\n     */\n    lang?: MaybeComputedRef<string>;\n}\n/**\n * Reactive SpeechRecognition.\n *\n * @see https://vueuse.org/useSpeechRecognition\n * @see https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition SpeechRecognition\n * @param options\n */\ndeclare function useSpeechRecognition(options?: UseSpeechRecognitionOptions): {\n    isSupported: Ref<boolean>;\n    isListening: Ref<boolean>;\n    isFinal: Ref<boolean>;\n    recognition: SpeechRecognition | undefined;\n    result: Ref<string>;\n    error: Ref<SpeechRecognitionErrorEvent | undefined>;\n    toggle: (value?: boolean) => void;\n    start: () => void;\n    stop: () => void;\n};\ndeclare type UseSpeechRecognitionReturn = ReturnType<typeof useSpeechRecognition>;\n\ndeclare type UseSpeechSynthesisStatus = 'init' | 'play' | 'pause' | 'end';\ninterface UseSpeechSynthesisOptions extends ConfigurableWindow {\n    /**\n     * Language for SpeechSynthesis\n     *\n     * @default 'en-US'\n     */\n    lang?: MaybeComputedRef<string>;\n    /**\n     * Gets and sets the pitch at which the utterance will be spoken at.\n     *\n     * @default 1\n     */\n    pitch?: SpeechSynthesisUtterance['pitch'];\n    /**\n     * Gets and sets the speed at which the utterance will be spoken at.\n     *\n     * @default 1\n     */\n    rate?: SpeechSynthesisUtterance['rate'];\n    /**\n     * Gets and sets the voice that will be used to speak the utterance.\n     */\n    voice?: MaybeRef<SpeechSynthesisVoice>;\n    /**\n     * Gets and sets the volume that the utterance will be spoken at.\n     *\n     * @default 1\n     */\n    volume?: SpeechSynthesisUtterance['volume'];\n}\n/**\n * Reactive SpeechSynthesis.\n *\n * @see https://vueuse.org/useSpeechSynthesis\n * @see https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis SpeechSynthesis\n * @param options\n */\ndeclare function useSpeechSynthesis(text: MaybeComputedRef<string>, options?: UseSpeechSynthesisOptions): {\n    isSupported: Ref<boolean>;\n    isPlaying: Ref<boolean>;\n    status: Ref<UseSpeechSynthesisStatus>;\n    utterance: vue_demi.ComputedRef<SpeechSynthesisUtterance>;\n    error: Ref<SpeechSynthesisErrorEvent | undefined>;\n    toggle: (value?: boolean) => void;\n    speak: () => void;\n};\ndeclare type UseSpeechSynthesisReturn = ReturnType<typeof useSpeechSynthesis>;\n\ninterface UseStepperReturn<StepName, Steps, Step> {\n    /** List of steps. */\n    steps: Readonly<Ref<Steps>>;\n    /** List of step names. */\n    stepNames: Readonly<Ref<StepName[]>>;\n    /** Index of the current step. */\n    index: Ref<number>;\n    /** Current step. */\n    current: ComputedRef<Step>;\n    /** Next step, or undefined if the current step is the last one. */\n    next: ComputedRef<StepName | undefined>;\n    /** Previous step, or undefined if the current step is the first one. */\n    previous: ComputedRef<StepName | undefined>;\n    /** Whether the current step is the first one. */\n    isFirst: ComputedRef<boolean>;\n    /** Whether the current step is the last one. */\n    isLast: ComputedRef<boolean>;\n    /** Get the step at the specified index. */\n    at: (index: number) => Step | undefined;\n    /** Get a step by the specified name. */\n    get: (step: StepName) => Step | undefined;\n    /** Go to the specified step. */\n    goTo: (step: StepName) => void;\n    /** Go to the next step. Does nothing if the current step is the last one. */\n    goToNext: () => void;\n    /** Go to the previous step. Does nothing if the current step is the previous one. */\n    goToPrevious: () => void;\n    /** Go back to the given step, only if the current step is after. */\n    goBackTo: (step: StepName) => void;\n    /** Checks whether the given step is the next step. */\n    isNext: (step: StepName) => boolean;\n    /** Checks whether the given step is the previous step. */\n    isPrevious: (step: StepName) => boolean;\n    /** Checks whether the given step is the current step. */\n    isCurrent: (step: StepName) => boolean;\n    /** Checks if the current step is before the given step. */\n    isBefore: (step: StepName) => boolean;\n    /** Checks if the current step is after the given step. */\n    isAfter: (step: StepName) => boolean;\n}\ndeclare function useStepper<T extends string | number>(steps: MaybeRef<T[]>, initialStep?: T): UseStepperReturn<T, T[], T>;\ndeclare function useStepper<T extends Record<string, any>>(steps: MaybeRef<T>, initialStep?: keyof T): UseStepperReturn<Exclude<keyof T, symbol>, T, T[keyof T]>;\n\ninterface UseStorageAsyncOptions<T> extends Omit<UseStorageOptions<T>, 'serializer'> {\n    /**\n     * Custom data serialization\n     */\n    serializer?: SerializerAsync<T>;\n}\ndeclare function useStorageAsync(key: string, initialValue: MaybeComputedRef<string>, storage?: StorageLikeAsync, options?: UseStorageAsyncOptions<string>): RemovableRef<string>;\ndeclare function useStorageAsync(key: string, initialValue: MaybeComputedRef<boolean>, storage?: StorageLikeAsync, options?: UseStorageAsyncOptions<boolean>): RemovableRef<boolean>;\ndeclare function useStorageAsync(key: string, initialValue: MaybeComputedRef<number>, storage?: StorageLikeAsync, options?: UseStorageAsyncOptions<number>): RemovableRef<number>;\ndeclare function useStorageAsync<T>(key: string, initialValue: MaybeComputedRef<T>, storage?: StorageLikeAsync, options?: UseStorageAsyncOptions<T>): RemovableRef<T>;\ndeclare function useStorageAsync<T = unknown>(key: string, initialValue: MaybeComputedRef<null>, storage?: StorageLikeAsync, options?: UseStorageAsyncOptions<T>): RemovableRef<T>;\n\ninterface UseStyleTagOptions extends ConfigurableDocument {\n    /**\n     * Media query for styles to apply\n     */\n    media?: string;\n    /**\n     * Load the style immediately\n     *\n     * @default true\n     */\n    immediate?: boolean;\n    /**\n     * Manual controls the timing of loading and unloading\n     *\n     * @default false\n     */\n    manual?: boolean;\n    /**\n     * DOM id of the style tag\n     *\n     * @default auto-incremented\n     */\n    id?: string;\n}\ninterface UseStyleTagReturn {\n    id: string;\n    css: Ref<string>;\n    load: () => void;\n    unload: () => void;\n    isLoaded: Readonly<Ref<boolean>>;\n}\n/**\n * Inject <style> element in head.\n *\n * Overload: Omitted id\n *\n * @see https://vueuse.org/useStyleTag\n * @param css\n * @param options\n */\ndeclare function useStyleTag(css: MaybeRef<string>, options?: UseStyleTagOptions): UseStyleTagReturn;\n\ndeclare function useSupported(callback: () => unknown, sync?: boolean): Ref<boolean>;\n\ndeclare type TemplateRefsList<T> = T[] & {\n    set(el: Object | null): void;\n};\ndeclare function useTemplateRefsList<T = Element>(): Readonly<Ref<Readonly<TemplateRefsList<T>>>>;\n\ndeclare type UseTextDirectionValue = 'ltr' | 'rtl' | 'auto';\ninterface UseTextDirectionOptions extends ConfigurableDocument {\n    /**\n     * CSS Selector for the target element applying to\n     *\n     * @default 'html'\n     */\n    selector?: string;\n    /**\n     * Observe `document.querySelector(selector)` changes using MutationObserve\n     *\n     * @default false\n     */\n    observe?: boolean;\n    /**\n     * Initial value\n     *\n     * @default 'ltr'\n     */\n    initialValue?: UseTextDirectionValue;\n}\n/**\n * Reactive dir of the element's text.\n *\n * @see https://vueuse.org/useTextDirection\n */\ndeclare function useTextDirection(options?: UseTextDirectionOptions): vue_demi.WritableComputedRef<UseTextDirectionValue>;\n\n/**\n * Reactively track user text selection based on [`Window.getSelection`](https://developer.mozilla.org/en-US/docs/Web/API/Window/getSelection).\n *\n * @see https://vueuse.org/useTextSelection\n */\ndeclare function useTextSelection(options?: ConfigurableWindow): {\n    text: vue_demi.ComputedRef<string>;\n    rects: vue_demi.ComputedRef<DOMRect[]>;\n    ranges: vue_demi.ComputedRef<Range[]>;\n    selection: vue_demi.Ref<{\n        readonly anchorNode: Node | null;\n        readonly anchorOffset: number;\n        readonly focusNode: Node | null;\n        readonly focusOffset: number;\n        readonly isCollapsed: boolean;\n        readonly rangeCount: number;\n        readonly type: string;\n        addRange: (range: Range) => void;\n        collapse: (node: Node | null, offset?: number | undefined) => void;\n        collapseToEnd: () => void;\n        collapseToStart: () => void;\n        containsNode: (node: Node, allowPartialContainment?: boolean | undefined) => boolean;\n        deleteFromDocument: () => void;\n        empty: () => void;\n        extend: (node: Node, offset?: number | undefined) => void;\n        getRangeAt: (index: number) => Range;\n        removeAllRanges: () => void;\n        removeRange: (range: Range) => void;\n        selectAllChildren: (node: Node) => void;\n        setBaseAndExtent: (anchorNode: Node, anchorOffset: number, focusNode: Node, focusOffset: number) => void;\n        setPosition: (node: Node | null, offset?: number | undefined) => void;\n        toString: () => string;\n    } | null>;\n};\ndeclare type UseTextSelectionReturn = ReturnType<typeof useTextSelection>;\n\ninterface UseTextareaAutosizeOptions {\n    /** Textarea element to autosize. */\n    element?: MaybeRef<HTMLTextAreaElement | undefined>;\n    /** Textarea content. */\n    input?: MaybeRef<string | undefined>;\n    /** Watch sources that should trigger a textarea resize. */\n    watch?: WatchSource | Array<WatchSource>;\n    /** Function called when the textarea size changes. */\n    onResize?: () => void;\n}\ndeclare function useTextareaAutosize(options?: UseTextareaAutosizeOptions): {\n    textarea: vue_demi.Ref<HTMLTextAreaElement>;\n    input: vue_demi.Ref<string>;\n    triggerResize: () => void;\n};\ndeclare type UseTextareaAutosizeReturn = ReturnType<typeof useTextareaAutosize>;\n\ndeclare type UseThrottledRefHistoryOptions<Raw, Serialized = Raw> = Omit<UseRefHistoryOptions<Raw, Serialized>, 'eventFilter'> & {\n    throttle?: MaybeRef<number>;\n    trailing?: boolean;\n};\ndeclare type UseThrottledRefHistoryReturn<Raw, Serialized = Raw> = UseRefHistoryReturn<Raw, Serialized>;\n/**\n * Shorthand for [useRefHistory](https://vueuse.org/useRefHistory) with throttled filter.\n *\n * @see https://vueuse.org/useThrottledRefHistory\n * @param source\n * @param options\n */\ndeclare function useThrottledRefHistory<Raw, Serialized = Raw>(source: Ref<Raw>, options?: UseThrottledRefHistoryOptions<Raw, Serialized>): UseThrottledRefHistoryReturn<Raw, Serialized>;\n\ndeclare type UseTimeAgoFormatter<T = number> = (value: T, isPast: boolean) => string;\ninterface UseTimeAgoMessages {\n    justNow: string;\n    past: string | UseTimeAgoFormatter<string>;\n    future: string | UseTimeAgoFormatter<string>;\n    year: string | UseTimeAgoFormatter<number>;\n    month: string | UseTimeAgoFormatter<number>;\n    day: string | UseTimeAgoFormatter<number>;\n    week: string | UseTimeAgoFormatter<number>;\n    hour: string | UseTimeAgoFormatter<number>;\n    minute: string | UseTimeAgoFormatter<number>;\n    second: string | UseTimeAgoFormatter<number>;\n}\ninterface UseTimeAgoOptions<Controls extends boolean> {\n    /**\n     * Expose more controls\n     *\n     * @default false\n     */\n    controls?: Controls;\n    /**\n     * Intervals to update, set 0 to disable auto update\n     *\n     * @default 30_000\n     */\n    updateInterval?: number;\n    /**\n     * Maximum unit (of diff in milliseconds) to display the full date instead of relative\n     *\n     * @default undefined\n     */\n    max?: 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year' | number;\n    /**\n     * Formatter for full date\n     */\n    fullDateFormatter?: (date: Date) => string;\n    /**\n     * Messages for formating the string\n     */\n    messages?: UseTimeAgoMessages;\n}\ndeclare type UseTimeAgoReturn<Controls extends boolean = false> = Controls extends true ? {\n    timeAgo: ComputedRef<string>;\n} & Pausable : ComputedRef<string>;\n/**\n * Reactive time ago formatter.\n *\n * @see https://vueuse.org/useTimeAgo\n * @param options\n */\ndeclare function useTimeAgo(time: MaybeComputedRef<Date | number | string>, options?: UseTimeAgoOptions<false>): UseTimeAgoReturn<false>;\ndeclare function useTimeAgo(time: MaybeComputedRef<Date | number | string>, options: UseTimeAgoOptions<true>): UseTimeAgoReturn<true>;\n\ndeclare function useTimeoutPoll(fn: () => Awaitable<void>, interval: MaybeComputedRef<number>, timeoutPollOptions?: UseTimeoutFnOptions): Pausable;\n\ninterface UseTimestampOptions<Controls extends boolean> {\n    /**\n     * Expose more controls\n     *\n     * @default false\n     */\n    controls?: Controls;\n    /**\n     * Offset value adding to the value\n     *\n     * @default 0\n     */\n    offset?: number;\n    /**\n     * Update the timestamp immediately\n     *\n     * @default true\n     */\n    immediate?: boolean;\n    /**\n     * Update interval, or use requestAnimationFrame\n     *\n     * @default requestAnimationFrame\n     */\n    interval?: 'requestAnimationFrame' | number;\n}\n/**\n * Reactive current timestamp.\n *\n * @see https://vueuse.org/useTimestamp\n * @param options\n */\ndeclare function useTimestamp(options?: UseTimestampOptions<false>): Ref<number>;\ndeclare function useTimestamp(options: UseTimestampOptions<true>): {\n    timestamp: Ref<number>;\n} & Pausable;\ndeclare type UseTimestampReturn = ReturnType<typeof useTimestamp>;\n\ninterface UseTitleOptions extends ConfigurableDocument {\n    /**\n     * Observe `document.title` changes using MutationObserve\n     *\n     * @default false\n     */\n    observe?: boolean;\n    /**\n     * The template string to parse the title (e.g., '%s | My Website')\n     *\n     * @default '%s'\n     */\n    titleTemplate?: MaybeRef<string> | ((title: string) => string);\n}\ndeclare function useTitle(newTitle?: MaybeRef<string | null | undefined>, options?: UseTitleOptions): Ref<string>;\ndeclare function useTitle(newTitle?: MaybeComputedRef<string | null | undefined>, options?: UseTitleOptions): ComputedRef<string>;\ndeclare type UseTitleReturn = ReturnType<typeof useTitle>;\n\n/**\n * Cubic bezier points\n */\ndeclare type CubicBezierPoints = [number, number, number, number];\n/**\n * Easing function\n */\ndeclare type EasingFunction = (n: number) => number;\n/**\n * Transition options\n */\ninterface UseTransitionOptions {\n    /**\n     * Milliseconds to wait before starting transition\n     */\n    delay?: MaybeRef<number>;\n    /**\n     * Disables the transition\n     */\n    disabled?: MaybeRef<boolean>;\n    /**\n     * Transition duration in milliseconds\n     */\n    duration?: MaybeRef<number>;\n    /**\n     * Callback to execute after transition finishes\n     */\n    onFinished?: () => void;\n    /**\n     * Callback to execute after transition starts\n     */\n    onStarted?: () => void;\n    /**\n     * Easing function or cubic bezier points for calculating transition values\n     */\n    transition?: MaybeRef<EasingFunction | CubicBezierPoints>;\n}\n/**\n * Common transitions\n *\n * @see https://easings.net\n */\ndeclare const TransitionPresets: Record<string, CubicBezierPoints | EasingFunction>;\ndeclare function useTransition(source: Ref<number>, options?: UseTransitionOptions): ComputedRef<number>;\ndeclare function useTransition<T extends MaybeRef<number>[]>(source: [...T], options?: UseTransitionOptions): ComputedRef<{\n    [K in keyof T]: number;\n}>;\ndeclare function useTransition<T extends Ref<number[]>>(source: T, options?: UseTransitionOptions): ComputedRef<number[]>;\n\ndeclare type UrlParams = Record<string, string[] | string>;\ninterface UseUrlSearchParamsOptions<T> extends ConfigurableWindow {\n    /**\n     * @default true\n     */\n    removeNullishValues?: boolean;\n    /**\n     * @default false\n     */\n    removeFalsyValues?: boolean;\n    /**\n     * @default {}\n     */\n    initialValue?: T;\n}\n/**\n * Reactive URLSearchParams\n *\n * @see https://vueuse.org/useUrlSearchParams\n * @param mode\n * @param options\n */\ndeclare function useUrlSearchParams<T extends Record<string, any> = UrlParams>(mode?: 'history' | 'hash' | 'hash-params', options?: UseUrlSearchParamsOptions<T>): T;\n\ninterface UseUserMediaOptions extends ConfigurableNavigator {\n    /**\n     * If the stream is enabled\n     * @default false\n     */\n    enabled?: MaybeRef<boolean>;\n    /**\n     * Recreate stream when the input devices id changed\n     *\n     * @default true\n     */\n    autoSwitch?: MaybeRef<boolean>;\n    /**\n     * The device id of video input\n     *\n     * When passing with `undefined` the default device will be used.\n     * Pass `false` or \"none\" to disabled video input\n     *\n     * @default undefined\n     */\n    videoDeviceId?: MaybeRef<string | undefined | false | 'none'>;\n    /**\n     * The device id of audi input\n     *\n     * When passing with `undefined` the default device will be used.\n     * Pass `false` or \"none\" to disabled audi input\n     *\n     * @default undefined\n     */\n    audioDeviceId?: MaybeRef<string | undefined | false | 'none'>;\n}\n/**\n * Reactive `mediaDevices.getUserMedia` streaming\n *\n * @see https://vueuse.org/useUserMedia\n * @param options\n */\ndeclare function useUserMedia(options?: UseUserMediaOptions): {\n    isSupported: Ref<boolean>;\n    stream: Ref<MediaStream | undefined>;\n    start: () => Promise<MediaStream | undefined>;\n    stop: () => void;\n    restart: () => Promise<MediaStream | undefined>;\n    videoDeviceId: Ref<string | false | undefined>;\n    audioDeviceId: Ref<string | false | undefined>;\n    enabled: Ref<boolean>;\n    autoSwitch: Ref<boolean>;\n};\ndeclare type UseUserMediaReturn = ReturnType<typeof useUserMedia>;\n\ninterface UseVModelOptions<T> {\n    /**\n     * When passive is set to `true`, it will use `watch` to sync with props and ref.\n     * Instead of relying on the `v-model` or `.sync` to work.\n     *\n     * @default false\n     */\n    passive?: boolean;\n    /**\n     * When eventName is set, it's value will be used to overwrite the emit event name.\n     *\n     * @default undefined\n     */\n    eventName?: string;\n    /**\n     * Attempting to check for changes of properties in a deeply nested object or array.\n     * Apply only when `passive` option is set to `true`\n     *\n     * @default false\n     */\n    deep?: boolean;\n    /**\n     * Defining default value for return ref when no value is passed.\n     *\n     * @default undefined\n     */\n    defaultValue?: T;\n}\n/**\n * Shorthand for v-model binding, props + emit -> ref\n *\n * @see https://vueuse.org/useVModel\n * @param props\n * @param key (default 'value' in Vue 2 and 'modelValue' in Vue 3)\n * @param emit\n */\ndeclare function useVModel<P extends object, K extends keyof P, Name extends string>(props: P, key?: K, emit?: (name: Name, ...args: any[]) => void, options?: UseVModelOptions<P[K]>): vue_demi.Ref<UnwrapRef<P[K]>> | vue_demi.WritableComputedRef<P[K]>;\n\n/**\n * Shorthand for props v-model binding. Think like `toRefs(props)` but changes will also emit out.\n *\n * @see https://vueuse.org/useVModels\n * @param props\n * @param emit\n */\ndeclare function useVModels<P extends object, Name extends string>(props: P, emit?: (name: Name, ...args: any[]) => void, options?: UseVModelOptions<any>): ToRefs<P>;\n\ninterface UseVibrateOptions extends ConfigurableNavigator {\n    /**\n     *\n     * Vibration Pattern\n     *\n     * An array of values describes alternating periods in which the\n     * device is vibrating and not vibrating. Each value in the array\n     * is converted to an integer, then interpreted alternately as\n     * the number of milliseconds the device should vibrate and the\n     * number of milliseconds it should not be vibrating\n     *\n     * @default []\n     *\n     */\n    pattern?: MaybeComputedRef<number[] | number>;\n    /**\n     * Interval to run a persistent vibration, in ms\n     *\n     * Pass `0` to disable\n     *\n     * @default 0\n     *\n     */\n    interval?: number;\n}\n/**\n * Reactive vibrate\n *\n * @see https://vueuse.org/useVibrate\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Vibration_API\n * @param options\n */\ndeclare function useVibrate(options?: UseVibrateOptions): {\n    isSupported: vue.Ref<boolean>;\n    pattern: (() => number) | _vueuse_shared.MaybeRef<number> | (() => number[]) | _vueuse_shared.MaybeRef<number[]>;\n    intervalControls: Pausable | undefined;\n    vibrate: (pattern?: number | number[]) => void;\n    stop: () => void;\n};\ndeclare type UseVibrateReturn = ReturnType<typeof useVibrate>;\n\ninterface UseVirtualListOptions {\n    /**\n     * item height, accept a pixel value or a function that returns the height\n     *\n     * @default 0\n     */\n    itemHeight: number | ((index: number) => number);\n    /**\n     * the extra buffer items outside of the view area\n     *\n     * @default 5\n     */\n    overscan?: number;\n}\ninterface UseVirtualListItem<T> {\n    data: T;\n    index: number;\n}\ninterface UseVirtualListReturn<T> {\n    list: Ref<UseVirtualListItem<T>[]>;\n    scrollTo: (index: number) => void;\n    containerProps: {\n        ref: Ref<HTMLElement | null>;\n        onScroll: () => void;\n        style: Partial<CSSStyleDeclaration>;\n    };\n    wrapperProps: ComputedRef<{\n        style: {\n            width: string;\n            height: string;\n            marginTop: string;\n        };\n    }>;\n}\ndeclare function useVirtualList<T = any>(list: MaybeRef<T[]>, options: UseVirtualListOptions): UseVirtualListReturn<T>;\n\ndeclare type WakeLockType = 'screen';\ninterface WakeLockSentinel extends EventTarget {\n    type: WakeLockType;\n    released: boolean;\n    release: () => Promise<void>;\n}\ndeclare type UseWakeLockOptions = ConfigurableNavigator & ConfigurableDocument;\n/**\n * Reactive Screen Wake Lock API.\n *\n * @see https://vueuse.org/useWakeLock\n * @param options\n */\ndeclare const useWakeLock: (options?: UseWakeLockOptions) => {\n    isSupported: vue_demi.Ref<boolean>;\n    isActive: vue_demi.Ref<boolean>;\n    request: (type: WakeLockType) => Promise<void>;\n    release: () => Promise<void>;\n};\ndeclare type UseWakeLockReturn = ReturnType<typeof useWakeLock>;\n\ninterface WebNotificationOptions {\n    /**\n     * The title read-only property of the Notification interface indicates\n     * the title of the notification\n     *\n     * @default ''\n     */\n    title?: string;\n    /**\n     * The body string of the notification as specified in the constructor's\n     * options parameter.\n     *\n     * @default ''\n     */\n    body?: string;\n    /**\n     * The text direction of the notification as specified in the constructor's\n     * options parameter.\n     *\n     * @default ''\n     */\n    dir?: 'auto' | 'ltr' | 'rtl';\n    /**\n     * The language code of the notification as specified in the constructor's\n     * options parameter.\n     *\n     * @default DOMString\n     */\n    lang?: string;\n    /**\n     * The ID of the notification(if any) as specified in the constructor's options\n     * parameter.\n     *\n     * @default ''\n     */\n    tag?: string;\n    /**\n     * The URL of the image used as an icon of the notification as specified\n     * in the constructor's options parameter.\n     *\n     * @default ''\n     */\n    icon?: string;\n    /**\n     * Specifies whether the user should be notified after a new notification\n     * replaces an old one.\n     *\n     * @default false\n     */\n    renotify?: boolean;\n    /**\n     * A boolean value indicating that a notification should remain active until the\n     * user clicks or dismisses it, rather than closing automatically.\n     *\n     * @default false\n     */\n    requireInteraction?: boolean;\n    /**\n     * The silent read-only property of the Notification interface specifies\n     * whether the notification should be silent, i.e., no sounds or vibrations\n     * should be issued, regardless of the device settings.\n     *\n     * @default false\n     */\n    silent?: boolean;\n    /**\n     * Specifies a vibration pattern for devices with vibration hardware to emit.\n     * A vibration pattern, as specified in the Vibration API spec\n     *\n     * @see https://w3c.github.io/vibration/\n     */\n    vibrate?: number[];\n}\ninterface UseWebNotificationOptions extends WebNotificationOptions, ConfigurableWindow {\n}\n/**\n * Reactive useWebNotification\n *\n * @see https://vueuse.org/useWebNotification\n * @see https://developer.mozilla.org/en-US/docs/Web/API/notification\n * @param title\n * @param defaultOptions of type WebNotificationOptions\n * @param methods of type WebNotificationMethods\n */\ndeclare const useWebNotification: (defaultOptions?: UseWebNotificationOptions) => {\n    isSupported: Ref<boolean>;\n    notification: Ref<Notification | null>;\n    show: (overrides?: WebNotificationOptions) => Promise<Notification | undefined>;\n    close: () => void;\n    onClick: EventHook<any>;\n    onShow: EventHook<any>;\n    onError: EventHook<any>;\n    onClose: EventHook<any>;\n};\ndeclare type UseWebNotificationReturn = ReturnType<typeof useWebNotification>;\n\ndeclare type WebSocketStatus = 'OPEN' | 'CONNECTING' | 'CLOSED';\ninterface UseWebSocketOptions {\n    onConnected?: (ws: WebSocket) => void;\n    onDisconnected?: (ws: WebSocket, event: CloseEvent) => void;\n    onError?: (ws: WebSocket, event: Event) => void;\n    onMessage?: (ws: WebSocket, event: MessageEvent) => void;\n    /**\n     * Send heartbeat for every x milliseconds passed\n     *\n     * @default false\n     */\n    heartbeat?: boolean | {\n        /**\n         * Message for the heartbeat\n         *\n         * @default 'ping'\n         */\n        message?: string;\n        /**\n         * Interval, in milliseconds\n         *\n         * @default 1000\n         */\n        interval?: number;\n    };\n    /**\n     * Enabled auto reconnect\n     *\n     * @default false\n     */\n    autoReconnect?: boolean | {\n        /**\n         * Maximum retry times.\n         *\n         * Or you can pass a predicate function (which returns true if you want to retry).\n         *\n         * @default -1\n         */\n        retries?: number | (() => boolean);\n        /**\n         * Delay for reconnect, in milliseconds\n         *\n         * @default 1000\n         */\n        delay?: number;\n        /**\n         * On maximum retry times reached.\n         */\n        onFailed?: Fn;\n    };\n    /**\n     * Automatically open a connection\n     *\n     * @default true\n     */\n    immediate?: boolean;\n    /**\n     * Automatically close a connection\n     *\n     * @default true\n     */\n    autoClose?: boolean;\n    /**\n     * List of one or more sub-protocol strings\n     *\n     * @default []\n     */\n    protocols?: string[];\n}\ninterface UseWebSocketReturn<T> {\n    /**\n     * Reference to the latest data received via the websocket,\n     * can be watched to respond to incoming messages\n     */\n    data: Ref<T | null>;\n    /**\n     * The current websocket status, can be only one of:\n     * 'OPEN', 'CONNECTING', 'CLOSED'\n     */\n    status: Ref<WebSocketStatus>;\n    /**\n     * Closes the websocket connection gracefully.\n     */\n    close: WebSocket['close'];\n    /**\n     * Reopen the websocket connection.\n     * If there the current one is active, will close it before opening a new one.\n     */\n    open: Fn;\n    /**\n     * Sends data through the websocket connection.\n     *\n     * @param data\n     * @param useBuffer when the socket is not yet open, store the data into the buffer and sent them one connected. Default to true.\n     */\n    send: (data: string | ArrayBuffer | Blob, useBuffer?: boolean) => boolean;\n    /**\n     * Reference to the WebSocket instance.\n     */\n    ws: Ref<WebSocket | undefined>;\n}\n/**\n * Reactive WebSocket client.\n *\n * @see https://vueuse.org/useWebSocket\n * @param url\n */\ndeclare function useWebSocket<Data = any>(url: string, options?: UseWebSocketOptions): UseWebSocketReturn<Data>;\n\ninterface UseWebWorkerReturn<Data = any> {\n    data: Ref<Data>;\n    post: typeof Worker.prototype['postMessage'];\n    terminate: () => void;\n    worker: Ref<Worker | undefined>;\n}\n/**\n * Simple Web Workers registration and communication.\n *\n * @see https://vueuse.org/useWebWorker\n * @param url\n * @param workerOptions\n * @param options\n */\ndeclare function useWebWorker<Data = any>(url: string, workerOptions?: WorkerOptions, options?: ConfigurableWindow): UseWebWorkerReturn<Data>;\n\ndeclare type WebWorkerStatus = 'PENDING' | 'SUCCESS' | 'RUNNING' | 'ERROR' | 'TIMEOUT_EXPIRED';\ninterface UseWebWorkerOptions extends ConfigurableWindow {\n    /**\n     * Number of milliseconds before killing the worker\n     *\n     * @default undefined\n     */\n    timeout?: number;\n    /**\n     * An array that contains the external dependencies needed to run the worker\n     */\n    dependencies?: string[];\n}\n/**\n * Run expensive function without blocking the UI, using a simple syntax that makes use of Promise.\n *\n * @see https://vueuse.org/useWebWorkerFn\n * @param fn\n * @param options\n */\ndeclare const useWebWorkerFn: <T extends (...fnArgs: any[]) => any>(fn: T, options?: UseWebWorkerOptions) => {\n    workerFn: (...fnArgs: Parameters<T>) => Promise<ReturnType<T>>;\n    workerStatus: vue_demi.Ref<WebWorkerStatus>;\n    workerTerminate: (status?: WebWorkerStatus) => void;\n};\ndeclare type UseWebWorkerFnReturn = ReturnType<typeof useWebWorkerFn>;\n\n/**\n * Reactively track window focus with `window.onfocus` and `window.onblur`.\n *\n * @see https://vueuse.org/useWindowFocus\n * @param options\n */\ndeclare function useWindowFocus({ window }?: ConfigurableWindow): Ref<boolean>;\n\n/**\n * Reactive window scroll.\n *\n * @see https://vueuse.org/useWindowScroll\n * @param options\n */\ndeclare function useWindowScroll({ window }?: ConfigurableWindow): {\n    x: vue_demi.Ref<number>;\n    y: vue_demi.Ref<number>;\n};\ndeclare type UseWindowScrollReturn = ReturnType<typeof useWindowScroll>;\n\ninterface UseWindowSizeOptions extends ConfigurableWindow {\n    initialWidth?: number;\n    initialHeight?: number;\n    /**\n     * Listen to window `orientationchange` event\n     *\n     * @default true\n     */\n    listenOrientation?: boolean;\n}\n/**\n * Reactive window size.\n *\n * @see https://vueuse.org/useWindowSize\n * @param options\n */\ndeclare function useWindowSize(options?: UseWindowSizeOptions): {\n    width: vue_demi.Ref<number>;\n    height: vue_demi.Ref<number>;\n};\ndeclare type UseWindowSizeReturn = ReturnType<typeof useWindowSize>;\n\nexport { AfterFetchContext, AsyncComputedOnCancel, AsyncComputedOptions, BasicColorSchema, BatteryManager, BeforeFetchContext, Breakpoints, BrowserLocationState, CloneFn, ColorSchemeType, ComputedInjectGetter, ComputedInjectGetterWithDefault, ComputedInjectSetter, ConfigurableDocument, ConfigurableLocation, ConfigurableNavigator, ConfigurableWindow, CreateFetchOptions, DefaultMagicKeysAliasMap, DeviceMotionOptions, DocumentEventName, ElementSize, EventBusEvents, EventBusIdentifier, EventBusKey, EventBusListener, EyeDropper, EyeDropperOpenOptions, FileSystemAccessShowOpenFileOptions, FileSystemAccessShowSaveFileOptions, FileSystemAccessWindow, FileSystemFileHandle, GeneralEventListener, GeneralPermissionDescriptor, KeyFilter, KeyModifier, KeyPredicate, KeyStrokeEventName, MagicKeysInternal, MaybeComputedElementRef, MaybeElement, MaybeElementRef, MemoryInfo, MouseInElementOptions, MousePressedOptions, MouseSourceType, NavigatorLanguageState, NetworkEffectiveType, NetworkState, NetworkType, OnClickOutsideOptions, OnFetchErrorContext, OnKeyStrokeOptions, OnLongPressModifiers, OnLongPressOptions, PointerType, Position, RenderableComponent, ResizeObserverCallback, ResizeObserverEntry, ResizeObserverSize, SSRHandlersMap, Serializer, SerializerAsync, StorageLike, StorageLikeAsync, StorageSerializers, SwipeDirection, TemplateRefsList, ToDataURLOptions, TransitionPresets, UnRefElementReturn, UnrefFn, UrlParams, UseAsyncQueueOptions, UseAsyncQueueResult, UseAsyncQueueReturn, UseAsyncQueueTask, UseAsyncStateOptions, UseAsyncStateReturn, UseBase64ObjectOptions, UseBase64Return, UseBatteryReturn, UseBluetoothOptions, UseBluetoothRequestDeviceOptions, UseBluetoothReturn, UseBreakpointsReturn, UseBroadcastChannelOptions, UseBroadcastChannelReturn, UseBrowserLocationReturn, UseClipboardOptions, UseClipboardReturn, UseColorModeOptions, UseConfirmDialogReturn, UseConfirmDialogRevealResult, UseCssVarOptions, UseCycleListOptions, UseCycleListReturn, UseDarkOptions, UseDeviceMotionReturn, UseDeviceOrientationReturn, UseDevicePixelRatioReturn, UseDevicesListOptions, UseDevicesListReturn, UseDisplayMediaOptions, UseDisplayMediaReturn, UseDraggableOptions, UseDraggableReturn, UseDropZoneReturn, UseElementBoundingOptions, UseElementBoundingReturn, UseElementByPointOptions, UseElementByPointReturn, UseElementSizeReturn, UseElementVisibilityOptions, UseEventBusReturn, UseEventSourceOptions, UseEventSourceReturn, UseEyeDropperOptions, UseEyeDropperReturn, UseFaviconOptions, UseFaviconReturn, UseFetchOptions, UseFetchReturn, UseFileDialogOptions, UseFileDialogReturn, UseFileSystemAccessCommonOptions, UseFileSystemAccessOptions, UseFileSystemAccessReturn, UseFileSystemAccessShowSaveFileOptions, UseFocusOptions, UseFocusReturn, UseFocusWithinReturn, UseFpsOptions, UseFullscreenOptions, UseFullscreenReturn, UseGamepadOptions, UseGamepadReturn, UseGeolocationOptions, UseGeolocationReturn, UseIdleOptions, UseIdleReturn, UseImageOptions, UseImageReturn, UseInfiniteScrollOptions, UseIntersectionObserverOptions, UseIntersectionObserverReturn, UseKeyModifierReturn, UseMagicKeysOptions, UseMagicKeysReturn, UseManualRefHistoryOptions, UseManualRefHistoryReturn, UseMediaControlsReturn, UseMediaSource, UseMediaTextTrack, UseMediaTextTrackSource, UseMemoizeCache, UseMemoizeOptions, UseMemoizeReturn, UseMemoryOptions, UseMemoryReturn, UseModifierOptions, UseMouseInElementReturn, UseMouseOptions, UseMousePressedReturn, UseMouseReturn, UseMutationObserverOptions, UseMutationObserverReturn, UseNavigatorLanguageReturn, UseNetworkReturn, UseNowOptions, UseNowReturn, UseOffsetPaginationInfinityPageReturn, UseOffsetPaginationOptions, UseOffsetPaginationReturn, UseParallaxOptions, UseParallaxReturn, UsePermissionOptions, UsePermissionReturn, UsePermissionReturnWithControls, UsePointerOptions, UsePointerReturn, UsePointerState, UsePointerSwipeOptions, UsePointerSwipeReturn, UseRafFnOptions, UseRefHistoryOptions, UseRefHistoryRecord, UseRefHistoryReturn, UseResizeObserverOptions, UseResizeObserverReturn, UseScreenOrientationReturn, UseScriptTagOptions, UseScriptTagReturn, UseScrollOptions, UseScrollReturn, UseShareOptions, UseShareReturn, UseSpeechRecognitionOptions, UseSpeechRecognitionReturn, UseSpeechSynthesisOptions, UseSpeechSynthesisReturn, UseSpeechSynthesisStatus, UseStepperReturn, UseStorageAsyncOptions, UseStorageOptions, UseStyleTagOptions, UseStyleTagReturn, UseSwipeOptions, UseSwipeReturn, UseTextDirectionOptions, UseTextDirectionValue, UseTextSelectionReturn, UseTextareaAutosizeOptions, UseTextareaAutosizeReturn, UseThrottledRefHistoryOptions, UseThrottledRefHistoryReturn, UseTimeAgoFormatter, UseTimeAgoMessages, UseTimeAgoOptions, UseTimeAgoReturn, UseTimestampOptions, UseTimestampReturn, UseTitleOptions, UseTitleReturn, UseTransitionOptions, UseUrlSearchParamsOptions, UseUserMediaOptions, UseUserMediaReturn, UseVModelOptions, UseVibrateOptions, UseVibrateReturn, UseVirtualListItem, UseVirtualListOptions, UseVirtualListReturn, UseWakeLockOptions, UseWakeLockReturn, UseWebNotificationOptions, UseWebNotificationReturn, UseWebSocketOptions, UseWebSocketReturn, UseWebWorkerFnReturn, UseWebWorkerOptions, UseWebWorkerReturn, UseWindowScrollReturn, UseWindowSizeOptions, UseWindowSizeReturn, VueInstance, WakeLockSentinel, WebNotificationOptions, WebSocketStatus, WebWorkerStatus, WindowEventName, WritableComputedInjectOptions, WritableComputedInjectOptionsWithDefault, computedAsync as asyncComputed, breakpointsAntDesign, breakpointsBootstrapV5, breakpointsQuasar, breakpointsSematic, breakpointsTailwind, breakpointsVuetify, computedAsync, computedInject, createFetch, createUnrefFn, defaultDocument, defaultLocation, defaultNavigator, defaultWindow, getSSRHandler, mapGamepadToXbox360Controller, onClickOutside, onKeyDown, onKeyPressed, onKeyStroke, onKeyUp, onLongPress, onStartTyping, setSSRHandler, templateRef, unrefElement, useActiveElement, useAsyncQueue, useAsyncState, useBase64, useBattery, useBluetooth, useBreakpoints, useBroadcastChannel, useBrowserLocation, useCached, useClipboard, useColorMode, useConfirmDialog, useCssVar, useCurrentElement, useCycleList, useDark, useDebouncedRefHistory, useDeviceMotion, useDeviceOrientation, useDevicePixelRatio, useDevicesList, useDisplayMedia, useDocumentVisibility, useDraggable, useDropZone, useElementBounding, useElementByPoint, useElementHover, useElementSize, useElementVisibility, useEventBus, useEventListener, useEventSource, useEyeDropper, useFavicon, useFetch, useFileDialog, useFileSystemAccess, useFocus, useFocusWithin, useFps, useFullscreen, useGamepad, useGeolocation, useIdle, useImage, useInfiniteScroll, useIntersectionObserver, useKeyModifier, useLocalStorage, useMagicKeys, useManualRefHistory, useMediaControls, useMediaQuery, useMemoize, useMemory, useMounted, useMouse, useMouseInElement, useMousePressed, useMutationObserver, useNavigatorLanguage, useNetwork, useNow, useObjectUrl, useOffsetPagination, useOnline, usePageLeave, useParallax, usePermission, usePointer, usePointerSwipe, usePreferredColorScheme, usePreferredDark, usePreferredLanguages, useRafFn, useRefHistory, useResizeObserver, useScreenOrientation, useScreenSafeArea, useScriptTag, useScroll, useScrollLock, useSessionStorage, useShare, useSpeechRecognition, useSpeechSynthesis, useStepper, useStorage, useStorageAsync, useStyleTag, useSupported, useSwipe, useTemplateRefsList, useTextDirection, useTextSelection, useTextareaAutosize, useThrottledRefHistory, useTimeAgo, useTimeoutPoll, useTimestamp, useTitle, useTransition, useUrlSearchParams, useUserMedia, useVModel, useVModels, useVibrate, useVirtualList, useWakeLock, useWebNotification, useWebSocket, useWebWorker, useWebWorkerFn, useWindowFocus, useWindowScroll, useWindowSize };\n }\n  ","ts:vueuse"),hte.typescript.javascriptDefaults.addExtraLib("\n    declare module 'vue' { import { camelize } from '@vue/shared';\r\nimport { capitalize } from '@vue/shared';\r\nimport { ComponentPropsOptions as ComponentPropsOptions_2 } from '@vue/runtime-core';\r\nimport { computed as computed_2 } from '@vue/reactivity';\r\nimport { ComputedGetter } from '@vue/reactivity';\r\nimport { ComputedRef } from '@vue/reactivity';\r\nimport { ComputedSetter } from '@vue/reactivity';\r\nimport { customRef } from '@vue/reactivity';\r\nimport { CustomRefFactory } from '@vue/reactivity';\r\nimport { DebuggerEvent } from '@vue/reactivity';\r\nimport { DebuggerEventExtraInfo } from '@vue/reactivity';\r\nimport { DebuggerOptions } from '@vue/reactivity';\r\nimport { DeepReadonly } from '@vue/reactivity';\r\nimport { effect } from '@vue/reactivity';\r\nimport { EffectScheduler } from '@vue/reactivity';\r\nimport { EffectScope } from '@vue/reactivity';\r\nimport { effectScope } from '@vue/reactivity';\r\nimport { getCurrentScope } from '@vue/reactivity';\r\nimport { IfAny } from '@vue/shared';\r\nimport { isProxy } from '@vue/reactivity';\r\nimport { isReactive } from '@vue/reactivity';\r\nimport { isReadonly } from '@vue/reactivity';\r\nimport { isRef } from '@vue/reactivity';\r\nimport { isShallow } from '@vue/reactivity';\r\nimport { LooseRequired } from '@vue/shared';\r\nimport { markRaw } from '@vue/reactivity';\r\nimport { normalizeClass } from '@vue/shared';\r\nimport { normalizeProps } from '@vue/shared';\r\nimport { normalizeStyle } from '@vue/shared';\r\nimport { onScopeDispose } from '@vue/reactivity';\r\nimport { proxyRefs } from '@vue/reactivity';\r\nimport { reactive } from '@vue/reactivity';\r\nimport { ReactiveEffect } from '@vue/reactivity';\r\nimport { ReactiveEffectOptions } from '@vue/reactivity';\r\nimport { ReactiveEffectRunner } from '@vue/reactivity';\r\nimport { ReactiveFlags } from '@vue/reactivity';\r\nimport { readonly } from '@vue/reactivity';\r\nimport { Ref } from '@vue/reactivity';\r\nimport { ref } from '@vue/reactivity';\r\nimport { ShallowReactive } from '@vue/reactivity';\r\nimport { shallowReactive } from '@vue/reactivity';\r\nimport { shallowReadonly } from '@vue/reactivity';\r\nimport { ShallowRef } from '@vue/reactivity';\r\nimport { shallowRef } from '@vue/reactivity';\r\nimport { ShallowUnwrapRef } from '@vue/reactivity';\r\nimport { ShapeFlags } from '@vue/shared';\r\nimport { SlotFlags } from '@vue/shared';\r\nimport { stop as stop_2 } from '@vue/reactivity';\r\nimport { toDisplayString } from '@vue/shared';\r\nimport { toHandlerKey } from '@vue/shared';\r\nimport { toRaw } from '@vue/reactivity';\r\nimport { ToRef } from '@vue/reactivity';\r\nimport { toRef } from '@vue/reactivity';\r\nimport { ToRefs } from '@vue/reactivity';\r\nimport { toRefs } from '@vue/reactivity';\r\nimport { TrackOpTypes } from '@vue/reactivity';\r\nimport { TriggerOpTypes } from '@vue/reactivity';\r\nimport { triggerRef } from '@vue/reactivity';\r\nimport { UnionToIntersection } from '@vue/shared';\r\nimport { unref } from '@vue/reactivity';\r\nimport { UnwrapNestedRefs } from '@vue/reactivity';\r\nimport { UnwrapRef } from '@vue/reactivity';\r\nimport { WritableComputedOptions } from '@vue/reactivity';\r\nimport { WritableComputedRef } from '@vue/reactivity';\r\n\r\n/**\r\n * Default allowed non-declared props on component in TSX\r\n */\r\nexport declare interface AllowedComponentProps {\r\n    class?: unknown;\r\n    style?: unknown;\r\n}\r\n\r\nexport declare interface App<HostElement = any> {\r\n    version: string;\r\n    config: AppConfig;\r\n    use(plugin: Plugin_2, ...options: any[]): this;\r\n    mixin(mixin: ComponentOptions): this;\r\n    component(name: string): Component | undefined;\r\n    component(name: string, component: Component): this;\r\n    directive(name: string): Directive | undefined;\r\n    directive(name: string, directive: Directive): this;\r\n    mount(rootContainer: HostElement | string, isHydrate?: boolean, isSVG?: boolean): ComponentPublicInstance;\r\n    unmount(): void;\r\n    provide<T>(key: InjectionKey<T> | string, value: T): this;\r\n    _uid: number;\r\n    _component: ConcreteComponent;\r\n    _props: Data | null;\r\n    _container: HostElement | null;\r\n    _context: AppContext;\r\n    _instance: ComponentInternalInstance | null;\r\n    /**\r\n     * v2 compat only\r\n     */\r\n    filter?(name: string): Function | undefined;\r\n    filter?(name: string, filter: Function): this;\r\n    /* Excluded from this release type: _createRoot */\r\n}\r\n\r\nexport declare interface AppConfig {\r\n    readonly isNativeTag?: (tag: string) => boolean;\r\n    performance: boolean;\r\n    optionMergeStrategies: Record<string, OptionMergeFunction>;\r\n    globalProperties: Record<string, any>;\r\n    errorHandler?: (err: unknown, instance: ComponentPublicInstance | null, info: string) => void;\r\n    warnHandler?: (msg: string, instance: ComponentPublicInstance | null, trace: string) => void;\r\n    /**\r\n     * Options to pass to `@vue/compiler-dom`.\r\n     * Only supported in runtime compiler build.\r\n     */\r\n    compilerOptions: RuntimeCompilerOptions;\r\n    /**\r\n     * @deprecated use config.compilerOptions.isCustomElement\r\n     */\r\n    isCustomElement?: (tag: string) => boolean;\r\n    /**\r\n     * Temporary config for opt-in to unwrap injected refs.\r\n     * TODO deprecate in 3.3\r\n     */\r\n    unwrapInjectedRef?: boolean;\r\n}\r\n\r\nexport declare interface AppContext {\r\n    app: App;\r\n    config: AppConfig;\r\n    mixins: ComponentOptions[];\r\n    components: Record<string, Component>;\r\n    directives: Record<string, Directive>;\r\n    provides: Record<string | symbol, any>;\r\n    /* Excluded from this release type: optionsCache */\r\n    /* Excluded from this release type: propsCache */\r\n    /* Excluded from this release type: emitsCache */\r\n    /* Excluded from this release type: reload */\r\n    /* Excluded from this release type: filters */\r\n}\r\n\r\ndeclare interface AppRecord {\r\n    id: number;\r\n    app: App;\r\n    version: string;\r\n    types: Record<string, string | Symbol>;\r\n}\r\n\r\nexport declare type AsyncComponentLoader<T = any> = () => Promise<AsyncComponentResolveResult<T>>;\r\n\r\nexport declare interface AsyncComponentOptions<T = any> {\r\n    loader: AsyncComponentLoader<T>;\r\n    loadingComponent?: Component;\r\n    errorComponent?: Component;\r\n    delay?: number;\r\n    timeout?: number;\r\n    suspensible?: boolean;\r\n    onError?: (error: Error, retry: () => void, fail: () => void, attempts: number) => any;\r\n}\r\n\r\ndeclare type AsyncComponentResolveResult<T = Component> = T | {\r\n    default: T;\r\n};\r\n\r\nexport declare const BaseTransition: new () => {\r\n    $props: BaseTransitionProps<any>;\r\n};\r\n\r\nexport declare interface BaseTransitionProps<HostElement = RendererElement> {\r\n    mode?: 'in-out' | 'out-in' | 'default';\r\n    appear?: boolean;\r\n    persisted?: boolean;\r\n    onBeforeEnter?: Hook<(el: HostElement) => void>;\r\n    onEnter?: Hook<(el: HostElement, done: () => void) => void>;\r\n    onAfterEnter?: Hook<(el: HostElement) => void>;\r\n    onEnterCancelled?: Hook<(el: HostElement) => void>;\r\n    onBeforeLeave?: Hook<(el: HostElement) => void>;\r\n    onLeave?: Hook<(el: HostElement, done: () => void) => void>;\r\n    onAfterLeave?: Hook<(el: HostElement) => void>;\r\n    onLeaveCancelled?: Hook<(el: HostElement) => void>;\r\n    onBeforeAppear?: Hook<(el: HostElement) => void>;\r\n    onAppear?: Hook<(el: HostElement, done: () => void) => void>;\r\n    onAfterAppear?: Hook<(el: HostElement) => void>;\r\n    onAppearCancelled?: Hook<(el: HostElement) => void>;\r\n}\r\n\r\ndeclare const enum BooleanFlags {\r\n    shouldCast = 0,\r\n    shouldCastTrue = 1\r\n}\r\n\r\nexport declare function callWithAsyncErrorHandling(fn: Function | Function[], instance: ComponentInternalInstance | null, type: ErrorTypes, args?: unknown[]): any[];\r\n\r\nexport declare function callWithErrorHandling(fn: Function, instance: ComponentInternalInstance | null, type: ErrorTypes, args?: unknown[]): any;\r\n\r\nexport { camelize }\r\n\r\nexport { capitalize }\r\n\r\n/**\r\n * Use this for features with the same syntax but with mutually exclusive\r\n * behavior in 2 vs 3. Only warn if compat is enabled.\r\n * e.g. render function\r\n */\r\ndeclare function checkCompatEnabled(key: DeprecationTypes, instance: ComponentInternalInstance | null, ...args: any[]): boolean;\r\n\r\ndeclare interface ClassComponent {\r\n    new (...args: any[]): ComponentPublicInstance<any, any, any, any, any>;\r\n    __vccOpts: ComponentOptions;\r\n}\r\n\r\nexport declare function cloneVNode<T, U>(vnode: VNode<T, U>, extraProps?: (Data & VNodeProps) | null, mergeRef?: boolean): VNode<T, U>;\r\n\r\ndeclare const Comment_2: unique symbol;\r\nexport { Comment_2 as Comment }\r\n\r\ndeclare type CompatConfig = Partial<Record<DeprecationTypes, boolean | 'suppress-warning'>> & {\r\n    MODE?: 2 | 3 | ((comp: Component | null) => 2 | 3);\r\n};\r\n\r\n/* Excluded from this release type: compatUtils */\r\n\r\n/**\r\n * @deprecated the default `Vue` export has been removed in Vue 3. The type for\r\n * the default export is provided only for migration purposes. Please use\r\n * named imports instead - e.g. `import { createApp } from 'vue'`.\r\n */\r\nexport declare type CompatVue = Pick<App, 'version' | 'component' | 'directive'> & {\r\n    configureCompat: typeof configureCompat;\r\n    new (options?: ComponentOptions): LegacyPublicInstance;\r\n    version: string;\r\n    config: AppConfig & LegacyConfig;\r\n    nextTick: typeof nextTick;\r\n    use(plugin: Plugin_2, ...options: any[]): CompatVue;\r\n    mixin(mixin: ComponentOptions): CompatVue;\r\n    component(name: string): Component | undefined;\r\n    component(name: string, component: Component): CompatVue;\r\n    directive(name: string): Directive | undefined;\r\n    directive(name: string, directive: Directive): CompatVue;\r\n    compile(template: string): RenderFunction;\r\n    /**\r\n     * @deprecated Vue 3 no longer supports extending constructors.\r\n     */\r\n    extend: (options?: ComponentOptions) => CompatVue;\r\n    /**\r\n     * @deprecated Vue 3 no longer needs set() for adding new properties.\r\n     */\r\n    set(target: any, key: string | number | symbol, value: any): void;\r\n    /**\r\n     * @deprecated Vue 3 no longer needs delete() for property deletions.\r\n     */\r\n    delete(target: any, key: string | number | symbol): void;\r\n    /**\r\n     * @deprecated use `reactive` instead.\r\n     */\r\n    observable: typeof reactive;\r\n    /**\r\n     * @deprecated filters have been removed from Vue 3.\r\n     */\r\n    filter(name: string, arg?: any): null;\r\n    /* Excluded from this release type: cid */\r\n    /* Excluded from this release type: options */\r\n    /* Excluded from this release type: util */\r\n    /* Excluded from this release type: super */\r\n};\r\n\r\ndeclare interface CompiledSlotDescriptor {\r\n    name: string;\r\n    fn: Slot;\r\n}\r\n\r\n/**\r\n * A type used in public APIs where a component type is expected.\r\n * The constructor type is an artificial type returned by defineComponent().\r\n */\r\nexport declare type Component<Props = any, RawBindings = any, D = any, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions> = ConcreteComponent<Props, RawBindings, D, C, M> | ComponentPublicInstanceConstructor<Props>;\r\n\r\n/**\r\n * Interface for declaring custom options.\r\n *\r\n * @example\r\n * ```ts\r\n * declare module '@vue/runtime-core' {\r\n *   interface ComponentCustomOptions {\r\n *     beforeRouteUpdate?(\r\n *       to: Route,\r\n *       from: Route,\r\n *       next: () => void\r\n *     ): void\r\n *   }\r\n * }\r\n * ```\r\n */\r\nexport declare interface ComponentCustomOptions {\r\n}\r\n\r\n/**\r\n * Custom properties added to component instances in any way and can be accessed through `this`\r\n *\r\n * @example\r\n * Here is an example of adding a property `$router` to every component instance:\r\n * ```ts\r\n * import { createApp } from 'vue'\r\n * import { Router, createRouter } from 'vue-router'\r\n *\r\n * declare module '@vue/runtime-core' {\r\n *   interface ComponentCustomProperties {\r\n *     $router: Router\r\n *   }\r\n * }\r\n *\r\n * // effectively adding the router to every component instance\r\n * const app = createApp({})\r\n * const router = createRouter()\r\n * app.config.globalProperties.$router = router\r\n *\r\n * const vm = app.mount('#app')\r\n * // we can access the router from the instance\r\n * vm.$router.push('/')\r\n * ```\r\n */\r\nexport declare interface ComponentCustomProperties {\r\n}\r\n\r\n/**\r\n * For extending allowed non-declared props on components in TSX\r\n */\r\nexport declare interface ComponentCustomProps {\r\n}\r\n\r\ndeclare type ComponentInjectOptions = string[] | ObjectInjectOptions;\r\n\r\n/**\r\n * We expose a subset of properties on the internal instance as they are\r\n * useful for advanced external libraries and tools.\r\n */\r\nexport declare interface ComponentInternalInstance {\r\n    uid: number;\r\n    type: ConcreteComponent;\r\n    parent: ComponentInternalInstance | null;\r\n    root: ComponentInternalInstance;\r\n    appContext: AppContext;\r\n    /**\r\n     * Vnode representing this component in its parent's vdom tree\r\n     */\r\n    vnode: VNode;\r\n    /* Excluded from this release type: next */\r\n    /**\r\n     * Root vnode of this component's own vdom tree\r\n     */\r\n    subTree: VNode;\r\n    /**\r\n     * Render effect instance\r\n     */\r\n    effect: ReactiveEffect;\r\n    /**\r\n     * Bound effect runner to be passed to schedulers\r\n     */\r\n    update: SchedulerJob;\r\n    /* Excluded from this release type: render */\r\n    /* Excluded from this release type: ssrRender */\r\n    /* Excluded from this release type: provides */\r\n    /* Excluded from this release type: scope */\r\n    /* Excluded from this release type: accessCache */\r\n    /* Excluded from this release type: renderCache */\r\n    /* Excluded from this release type: components */\r\n    /* Excluded from this release type: directives */\r\n    /* Excluded from this release type: filters */\r\n    /* Excluded from this release type: propsOptions */\r\n    /* Excluded from this release type: emitsOptions */\r\n    /* Excluded from this release type: inheritAttrs */\r\n    /**\r\n     * is custom element?\r\n     */\r\n    isCE?: boolean;\r\n    /**\r\n     * custom element specific HMR method\r\n     */\r\n    ceReload?: (newStyles?: string[]) => void;\r\n    proxy: ComponentPublicInstance | null;\r\n    exposed: Record<string, any> | null;\r\n    exposeProxy: Record<string, any> | null;\r\n    /* Excluded from this release type: withProxy */\r\n    /* Excluded from this release type: ctx */\r\n    data: Data;\r\n    props: Data;\r\n    attrs: Data;\r\n    slots: InternalSlots;\r\n    refs: Data;\r\n    emit: EmitFn;\r\n    /* Excluded from this release type: emitted */\r\n    /* Excluded from this release type: propsDefaults */\r\n    /* Excluded from this release type: setupState */\r\n    /* Excluded from this release type: devtoolsRawSetupState */\r\n    /* Excluded from this release type: setupContext */\r\n    /* Excluded from this release type: suspense */\r\n    /* Excluded from this release type: suspenseId */\r\n    /* Excluded from this release type: asyncDep */\r\n    /* Excluded from this release type: asyncResolved */\r\n    isMounted: boolean;\r\n    isUnmounted: boolean;\r\n    isDeactivated: boolean;\r\n    /* Excluded from this release type: bc */\r\n    /* Excluded from this release type: c */\r\n    /* Excluded from this release type: bm */\r\n    /* Excluded from this release type: m */\r\n    /* Excluded from this release type: bu */\r\n    /* Excluded from this release type: u */\r\n    /* Excluded from this release type: bum */\r\n    /* Excluded from this release type: um */\r\n    /* Excluded from this release type: rtc */\r\n    /* Excluded from this release type: rtg */\r\n    /* Excluded from this release type: a */\r\n    /* Excluded from this release type: da */\r\n    /* Excluded from this release type: ec */\r\n    /* Excluded from this release type: sp */\r\n    /**\r\n     * For caching bound $forceUpdate on public proxy access\r\n     */\r\n    f?: () => void;\r\n    /**\r\n     * For caching bound $nextTick on public proxy access\r\n     */\r\n    n?: () => Promise<void>;\r\n}\r\n\r\ndeclare interface ComponentInternalOptions {\r\n    /* Excluded from this release type: __scopeId */\r\n    /* Excluded from this release type: __cssModules */\r\n    /* Excluded from this release type: __hmrId */\r\n    /**\r\n     * Compat build only, for bailing out of certain compatibility behavior\r\n     */\r\n    __isBuiltIn?: boolean;\r\n    /**\r\n     * This one should be exposed so that devtools can make use of it\r\n     */\r\n    __file?: string;\r\n    /**\r\n     * name inferred from filename\r\n     */\r\n    __name?: string;\r\n}\r\n\r\nexport declare type ComponentObjectPropsOptions<P = Data> = {\r\n    [K in keyof P]: Prop<P[K]> | null;\r\n};\r\n\r\nexport declare type ComponentOptions<Props = {}, RawBindings = any, D = any, C extends ComputedOptions = any, M extends MethodOptions = any, Mixin extends ComponentOptionsMixin = any, Extends extends ComponentOptionsMixin = any, E extends EmitsOptions = any> = ComponentOptionsBase<Props, RawBindings, D, C, M, Mixin, Extends, E> & ThisType<CreateComponentPublicInstance<{}, RawBindings, D, C, M, Mixin, Extends, E, Readonly<Props>>>;\r\n\r\nexport declare interface ComponentOptionsBase<Props, RawBindings, D, C extends ComputedOptions, M extends MethodOptions, Mixin extends ComponentOptionsMixin, Extends extends ComponentOptionsMixin, E extends EmitsOptions, EE extends string = string, Defaults = {}> extends LegacyOptions<Props, D, C, M, Mixin, Extends>, ComponentInternalOptions, ComponentCustomOptions {\r\n    setup?: (this: void, props: Readonly<LooseRequired<Props & UnionToIntersection<ExtractOptionProp<Mixin>> & UnionToIntersection<ExtractOptionProp<Extends>>>>, ctx: SetupContext<E>) => Promise<RawBindings> | RawBindings | RenderFunction | void;\r\n    name?: string;\r\n    template?: string | object;\r\n    render?: Function;\r\n    components?: Record<string, Component>;\r\n    directives?: Record<string, Directive>;\r\n    inheritAttrs?: boolean;\r\n    emits?: (E | EE[]) & ThisType<void>;\r\n    expose?: string[];\r\n    serverPrefetch?(): Promise<any>;\r\n    compilerOptions?: RuntimeCompilerOptions;\r\n    /* Excluded from this release type: ssrRender */\r\n    /* Excluded from this release type: __ssrInlineRender */\r\n    /* Excluded from this release type: __asyncLoader */\r\n    /* Excluded from this release type: __asyncResolved */\r\n    call?: (this: unknown, ...args: unknown[]) => never;\r\n    __isFragment?: never;\r\n    __isTeleport?: never;\r\n    __isSuspense?: never;\r\n    __defaults?: Defaults;\r\n}\r\n\r\nexport declare type ComponentOptionsMixin = ComponentOptionsBase<any, any, any, any, any, any, any, any, any, any>;\r\n\r\nexport declare type ComponentOptionsWithArrayProps<PropNames extends string = string, RawBindings = {}, D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = EmitsOptions, EE extends string = string, Props = Readonly<{\r\n    [key in PropNames]?: any;\r\n}> & EmitsToProps<E>> = ComponentOptionsBase<Props, RawBindings, D, C, M, Mixin, Extends, E, EE, {}> & {\r\n    props: PropNames[];\r\n} & ThisType<CreateComponentPublicInstance<Props, RawBindings, D, C, M, Mixin, Extends, E>>;\r\n\r\nexport declare type ComponentOptionsWithObjectProps<PropsOptions = ComponentObjectPropsOptions, RawBindings = {}, D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = EmitsOptions, EE extends string = string, Props = Readonly<ExtractPropTypes<PropsOptions>> & EmitsToProps<E>, Defaults = ExtractDefaultPropTypes<PropsOptions>> = ComponentOptionsBase<Props, RawBindings, D, C, M, Mixin, Extends, E, EE, Defaults> & {\r\n    props: PropsOptions & ThisType<void>;\r\n} & ThisType<CreateComponentPublicInstance<Props, RawBindings, D, C, M, Mixin, Extends, E, Props, Defaults, false>>;\r\n\r\nexport declare type ComponentOptionsWithoutProps<Props = {}, RawBindings = {}, D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = EmitsOptions, EE extends string = string, PE = Props & EmitsToProps<E>> = ComponentOptionsBase<PE, RawBindings, D, C, M, Mixin, Extends, E, EE, {}> & {\r\n    props?: undefined;\r\n} & ThisType<CreateComponentPublicInstance<PE, RawBindings, D, C, M, Mixin, Extends, E>>;\r\n\r\nexport declare type ComponentPropsOptions<P = Data> = ComponentObjectPropsOptions<P> | string[];\r\n\r\nexport declare type ComponentProvideOptions = ObjectProvideOptions | Function;\r\n\r\nexport declare type ComponentPublicInstance<P = {}, // props type extracted from props option\r\nB = {}, // raw bindings returned from setup()\r\nD = {}, // return from data()\r\nC extends ComputedOptions = {}, M extends MethodOptions = {}, E extends EmitsOptions = {}, PublicProps = P, Defaults = {}, MakeDefaultsOptional extends boolean = false, Options = ComponentOptionsBase<any, any, any, any, any, any, any, any, any>> = {\r\n    $: ComponentInternalInstance;\r\n    $data: D;\r\n    $props: MakeDefaultsOptional extends true ? Partial<Defaults> & Omit<P & PublicProps, keyof Defaults> : P & PublicProps;\r\n    $attrs: Data;\r\n    $refs: Data;\r\n    $slots: Slots;\r\n    $root: ComponentPublicInstance | null;\r\n    $parent: ComponentPublicInstance | null;\r\n    $emit: EmitFn<E>;\r\n    $el: any;\r\n    $options: Options & MergedComponentOptionsOverride;\r\n    $forceUpdate: () => void;\r\n    $nextTick: typeof nextTick;\r\n    $watch(source: string | Function, cb: Function, options?: WatchOptions): WatchStopHandle;\r\n} & P & ShallowUnwrapRef<B> & UnwrapNestedRefs<D> & ExtractComputedReturns<C> & M & ComponentCustomProperties;\r\n\r\ndeclare type ComponentPublicInstanceConstructor<T extends ComponentPublicInstance<Props, RawBindings, D, C, M> = ComponentPublicInstance<any>, Props = any, RawBindings = any, D = any, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions> = {\r\n    __isFragment?: never;\r\n    __isTeleport?: never;\r\n    __isSuspense?: never;\r\n    new (...args: any[]): T;\r\n};\r\n\r\ndeclare type ComponentWatchOptionItem = WatchOptionItem | WatchOptionItem[];\r\n\r\ndeclare type ComponentWatchOptions = Record<string, ComponentWatchOptionItem>;\r\n\r\nexport declare const computed: typeof computed_2;\r\n\r\nexport { ComputedGetter }\r\n\r\nexport declare type ComputedOptions = Record<string, ComputedGetter<any> | WritableComputedOptions<any>>;\r\n\r\nexport { ComputedRef }\r\n\r\nexport { ComputedSetter }\r\n\r\n/**\r\n * Concrete component type matches its actual value: it's either an options\r\n * object, or a function. Use this where the code expects to work with actual\r\n * values, e.g. checking if its a function or not. This is mostly for internal\r\n * implementation code.\r\n */\r\nexport declare type ConcreteComponent<Props = {}, RawBindings = any, D = any, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions> = ComponentOptions<Props, RawBindings, D, C, M> | FunctionalComponent<Props, any>;\r\n\r\ndeclare function configureCompat(config: CompatConfig): void;\r\n\r\ndeclare interface Constructor<P = any> {\r\n    __isFragment?: never;\r\n    __isTeleport?: never;\r\n    __isSuspense?: never;\r\n    new (...args: any[]): {\r\n        $props: P;\r\n    };\r\n}\r\n\r\nexport declare type CreateAppFunction<HostElement> = (rootComponent: Component, rootProps?: Data | null) => App<HostElement>;\r\n\r\n/**\r\n * Create a block root vnode. Takes the same exact arguments as `createVNode`.\r\n * A block root keeps track of dynamic nodes within the block in the\r\n * `dynamicChildren` array.\r\n *\r\n * @private\r\n */\r\nexport declare function createBlock(type: VNodeTypes | ClassComponent, props?: Record<string, any> | null, children?: any, patchFlag?: number, dynamicProps?: string[]): VNode;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function createCommentVNode(text?: string, asBlock?: boolean): VNode;\r\n\r\ndeclare function createCompatVue(createApp: CreateAppFunction<Element>, createSingletonApp: CreateAppFunction<Element>): CompatVue;\r\n\r\ndeclare function createComponentInstance(vnode: VNode, parent: ComponentInternalInstance | null, suspense: SuspenseBoundary | null): ComponentInternalInstance;\r\n\r\nexport declare type CreateComponentPublicInstance<P = {}, B = {}, D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = {}, PublicProps = P, Defaults = {}, MakeDefaultsOptional extends boolean = false, PublicMixin = IntersectionMixin<Mixin> & IntersectionMixin<Extends>, PublicP = UnwrapMixinsType<PublicMixin, 'P'> & EnsureNonVoid<P>, PublicB = UnwrapMixinsType<PublicMixin, 'B'> & EnsureNonVoid<B>, PublicD = UnwrapMixinsType<PublicMixin, 'D'> & EnsureNonVoid<D>, PublicC extends ComputedOptions = UnwrapMixinsType<PublicMixin, 'C'> & EnsureNonVoid<C>, PublicM extends MethodOptions = UnwrapMixinsType<PublicMixin, 'M'> & EnsureNonVoid<M>, PublicDefaults = UnwrapMixinsType<PublicMixin, 'Defaults'> & EnsureNonVoid<Defaults>> = ComponentPublicInstance<PublicP, PublicB, PublicD, PublicC, PublicM, E, PublicProps, PublicDefaults, MakeDefaultsOptional, ComponentOptionsBase<P, B, D, C, M, Mixin, Extends, E, string, Defaults>>;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function createElementBlock(type: string | typeof Fragment, props?: Record<string, any> | null, children?: any, patchFlag?: number, dynamicProps?: string[], shapeFlag?: number): VNode<RendererNode, RendererElement, {\r\n    [key: string]: any;\r\n}>;\r\n\r\nexport declare function createElementVNode(type: VNodeTypes | ClassComponent | typeof NULL_DYNAMIC_COMPONENT, props?: (Data & VNodeProps) | null, children?: unknown, patchFlag?: number, dynamicProps?: string[] | null, shapeFlag?: number | ShapeFlags, isBlockNode?: boolean, needFullChildrenNormalization?: boolean): VNode<RendererNode, RendererElement, {\r\n    [key: string]: any;\r\n}>;\r\n\r\nexport declare function createHydrationRenderer(options: RendererOptions<Node, Element>): HydrationRenderer;\r\n\r\n/* Excluded from this release type: createPropsRestProxy */\r\n\r\ndeclare function createRecord(id: string, initialDef: HMRComponent): boolean;\r\n\r\n/**\r\n * The createRenderer function accepts two generic arguments:\r\n * HostNode and HostElement, corresponding to Node and Element types in the\r\n * host environment. For example, for runtime-dom, HostNode would be the DOM\r\n * `Node` interface and HostElement would be the DOM `Element` interface.\r\n *\r\n * Custom renderers can pass in the platform specific types like this:\r\n *\r\n * ``` js\r\n * const { render, createApp } = createRenderer<Node, Element>({\r\n *   patchProp,\r\n *   ...nodeOps\r\n * })\r\n * ```\r\n */\r\nexport declare function createRenderer<HostNode = RendererNode, HostElement = RendererElement>(options: RendererOptions<HostNode, HostElement>): Renderer<HostElement>;\r\n\r\n/**\r\n * Compiler runtime helper for creating dynamic slots object\r\n * @private\r\n */\r\nexport declare function createSlots(slots: Record<string, Slot>, dynamicSlots: (CompiledSlotDescriptor | CompiledSlotDescriptor[] | undefined)[]): Record<string, Slot>;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function createStaticVNode(content: string, numberOfNodes: number): VNode;\r\n\r\ndeclare function createSuspenseBoundary(vnode: VNode, parent: SuspenseBoundary | null, parentComponent: ComponentInternalInstance | null, container: RendererElement, hiddenContainer: RendererElement, anchor: RendererNode | null, isSVG: boolean, slotScopeIds: string[] | null, optimized: boolean, rendererInternals: RendererInternals, isHydrating?: boolean): SuspenseBoundary;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function createTextVNode(text?: string, flag?: number): VNode;\r\n\r\nexport declare const createVNode: typeof _createVNode;\r\n\r\ndeclare function _createVNode(type: VNodeTypes | ClassComponent | typeof NULL_DYNAMIC_COMPONENT, props?: (Data & VNodeProps) | null, children?: unknown, patchFlag?: number, dynamicProps?: string[] | null, isBlockNode?: boolean): VNode;\r\n\r\nexport { customRef }\r\n\r\nexport { CustomRefFactory }\r\n\r\ndeclare type Data = Record<string, unknown>;\r\n\r\nexport { DebuggerEvent }\r\n\r\nexport { DebuggerEventExtraInfo }\r\n\r\ndeclare type DebuggerHook = (e: DebuggerEvent) => void;\r\n\r\nexport { DebuggerOptions }\r\n\r\nexport { DeepReadonly }\r\n\r\ndeclare type DefaultFactory<T> = (props: Data) => T | null | undefined;\r\n\r\ndeclare type DefaultKeys<T> = {\r\n    [K in keyof T]: T[K] extends {\r\n        default: any;\r\n    } | BooleanConstructor | {\r\n        type: BooleanConstructor;\r\n    } ? T[K] extends {\r\n        type: BooleanConstructor;\r\n        required: true;\r\n    } ? never : K : never;\r\n}[keyof T];\r\n\r\nexport declare function defineAsyncComponent<T extends Component = {\r\n    new (): ComponentPublicInstance;\r\n}>(source: AsyncComponentLoader<T> | AsyncComponentOptions<T>): T;\r\n\r\nexport declare type DefineComponent<PropsOrPropOptions = {}, RawBindings = {}, D = {}, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = {}, EE extends string = string, PP = PublicProps, Props = Readonly<PropsOrPropOptions extends ComponentPropsOptions ? ExtractPropTypes<PropsOrPropOptions> : PropsOrPropOptions> & ({} extends E ? {} : EmitsToProps<E>), Defaults = ExtractDefaultPropTypes<PropsOrPropOptions>> = ComponentPublicInstanceConstructor<CreateComponentPublicInstance<Props, RawBindings, D, C, M, Mixin, Extends, E, PP & Props, Defaults, true> & Props> & ComponentOptionsBase<Props, RawBindings, D, C, M, Mixin, Extends, E, EE, Defaults> & PP;\r\n\r\nexport declare function defineComponent<Props, RawBindings = object>(setup: (props: Readonly<Props>, ctx: SetupContext) => RawBindings | RenderFunction): DefineComponent<Props, RawBindings>;\r\n\r\nexport declare function defineComponent<Props = {}, RawBindings = {}, D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = EmitsOptions, EE extends string = string>(options: ComponentOptionsWithoutProps<Props, RawBindings, D, C, M, Mixin, Extends, E, EE>): DefineComponent<Props, RawBindings, D, C, M, Mixin, Extends, E, EE>;\r\n\r\nexport declare function defineComponent<PropNames extends string, RawBindings, D, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = Record<string, any>, EE extends string = string>(options: ComponentOptionsWithArrayProps<PropNames, RawBindings, D, C, M, Mixin, Extends, E, EE>): DefineComponent<Readonly<{\r\n    [key in PropNames]?: any;\r\n}>, RawBindings, D, C, M, Mixin, Extends, E, EE>;\r\n\r\nexport declare function defineComponent<PropsOptions extends Readonly<ComponentPropsOptions>, RawBindings, D, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = ComponentOptionsMixin, E extends EmitsOptions = Record<string, any>, EE extends string = string>(options: ComponentOptionsWithObjectProps<PropsOptions, RawBindings, D, C, M, Mixin, Extends, E, EE>): DefineComponent<PropsOptions, RawBindings, D, C, M, Mixin, Extends, E, EE>;\r\n\r\n/**\r\n * Vue `<script setup>` compiler macro for declaring a component's emitted\r\n * events. The expected argument is the same as the component `emits` option.\r\n *\r\n * Example runtime declaration:\r\n * ```js\r\n * const emit = defineEmits(['change', 'update'])\r\n * ```\r\n *\r\n * Example type-based declaration:\r\n * ```ts\r\n * const emit = defineEmits<{\r\n *   (event: 'change'): void\r\n *   (event: 'update', id: number): void\r\n * }>()\r\n *\r\n * emit('change')\r\n * emit('update', 1)\r\n * ```\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the\r\n * output and should **not** be actually called at runtime.\r\n */\r\nexport declare function defineEmits<EE extends string = string>(emitOptions: EE[]): EmitFn<EE[]>;\r\n\r\nexport declare function defineEmits<E extends EmitsOptions = EmitsOptions>(emitOptions: E): EmitFn<E>;\r\n\r\nexport declare function defineEmits<TypeEmit>(): TypeEmit;\r\n\r\n/**\r\n * Vue `<script setup>` compiler macro for declaring a component's exposed\r\n * instance properties when it is accessed by a parent component via template\r\n * refs.\r\n *\r\n * `<script setup>` components are closed by default - i.e. variables inside\r\n * the `<script setup>` scope is not exposed to parent unless explicitly exposed\r\n * via `defineExpose`.\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the\r\n * output and should **not** be actually called at runtime.\r\n */\r\nexport declare function defineExpose<Exposed extends Record<string, any> = Record<string, any>>(exposed?: Exposed): void;\r\n\r\n/**\r\n * Vue `<script setup>` compiler macro for declaring component props. The\r\n * expected argument is the same as the component `props` option.\r\n *\r\n * Example runtime declaration:\r\n * ```js\r\n * // using Array syntax\r\n * const props = defineProps(['foo', 'bar'])\r\n * // using Object syntax\r\n * const props = defineProps({\r\n *   foo: String,\r\n *   bar: {\r\n *     type: Number,\r\n *     required: true\r\n *   }\r\n * })\r\n * ```\r\n *\r\n * Equivalent type-based declaration:\r\n * ```ts\r\n * // will be compiled into equivalent runtime declarations\r\n * const props = defineProps<{\r\n *   foo?: string\r\n *   bar: number\r\n * }>()\r\n * ```\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the\r\n * output and should **not** be actually called at runtime.\r\n */\r\nexport declare function defineProps<PropNames extends string = string>(props: PropNames[]): Readonly<{\r\n    [key in PropNames]?: any;\r\n}>;\r\n\r\nexport declare function defineProps<PP extends ComponentObjectPropsOptions = ComponentObjectPropsOptions>(props: PP): Readonly<ExtractPropTypes<PP>>;\r\n\r\nexport declare function defineProps<TypeProps>(): Readonly<TypeProps>;\r\n\r\nexport declare const enum DeprecationTypes {\r\n    GLOBAL_MOUNT = \"GLOBAL_MOUNT\",\r\n    GLOBAL_MOUNT_CONTAINER = \"GLOBAL_MOUNT_CONTAINER\",\r\n    GLOBAL_EXTEND = \"GLOBAL_EXTEND\",\r\n    GLOBAL_PROTOTYPE = \"GLOBAL_PROTOTYPE\",\r\n    GLOBAL_SET = \"GLOBAL_SET\",\r\n    GLOBAL_DELETE = \"GLOBAL_DELETE\",\r\n    GLOBAL_OBSERVABLE = \"GLOBAL_OBSERVABLE\",\r\n    GLOBAL_PRIVATE_UTIL = \"GLOBAL_PRIVATE_UTIL\",\r\n    CONFIG_SILENT = \"CONFIG_SILENT\",\r\n    CONFIG_DEVTOOLS = \"CONFIG_DEVTOOLS\",\r\n    CONFIG_KEY_CODES = \"CONFIG_KEY_CODES\",\r\n    CONFIG_PRODUCTION_TIP = \"CONFIG_PRODUCTION_TIP\",\r\n    CONFIG_IGNORED_ELEMENTS = \"CONFIG_IGNORED_ELEMENTS\",\r\n    CONFIG_WHITESPACE = \"CONFIG_WHITESPACE\",\r\n    CONFIG_OPTION_MERGE_STRATS = \"CONFIG_OPTION_MERGE_STRATS\",\r\n    INSTANCE_SET = \"INSTANCE_SET\",\r\n    INSTANCE_DELETE = \"INSTANCE_DELETE\",\r\n    INSTANCE_DESTROY = \"INSTANCE_DESTROY\",\r\n    INSTANCE_EVENT_EMITTER = \"INSTANCE_EVENT_EMITTER\",\r\n    INSTANCE_EVENT_HOOKS = \"INSTANCE_EVENT_HOOKS\",\r\n    INSTANCE_CHILDREN = \"INSTANCE_CHILDREN\",\r\n    INSTANCE_LISTENERS = \"INSTANCE_LISTENERS\",\r\n    INSTANCE_SCOPED_SLOTS = \"INSTANCE_SCOPED_SLOTS\",\r\n    INSTANCE_ATTRS_CLASS_STYLE = \"INSTANCE_ATTRS_CLASS_STYLE\",\r\n    OPTIONS_DATA_FN = \"OPTIONS_DATA_FN\",\r\n    OPTIONS_DATA_MERGE = \"OPTIONS_DATA_MERGE\",\r\n    OPTIONS_BEFORE_DESTROY = \"OPTIONS_BEFORE_DESTROY\",\r\n    OPTIONS_DESTROYED = \"OPTIONS_DESTROYED\",\r\n    WATCH_ARRAY = \"WATCH_ARRAY\",\r\n    PROPS_DEFAULT_THIS = \"PROPS_DEFAULT_THIS\",\r\n    V_ON_KEYCODE_MODIFIER = \"V_ON_KEYCODE_MODIFIER\",\r\n    CUSTOM_DIR = \"CUSTOM_DIR\",\r\n    ATTR_FALSE_VALUE = \"ATTR_FALSE_VALUE\",\r\n    ATTR_ENUMERATED_COERCION = \"ATTR_ENUMERATED_COERCION\",\r\n    TRANSITION_CLASSES = \"TRANSITION_CLASSES\",\r\n    TRANSITION_GROUP_ROOT = \"TRANSITION_GROUP_ROOT\",\r\n    COMPONENT_ASYNC = \"COMPONENT_ASYNC\",\r\n    COMPONENT_FUNCTIONAL = \"COMPONENT_FUNCTIONAL\",\r\n    COMPONENT_V_MODEL = \"COMPONENT_V_MODEL\",\r\n    RENDER_FUNCTION = \"RENDER_FUNCTION\",\r\n    FILTERS = \"FILTERS\",\r\n    PRIVATE_APIS = \"PRIVATE_APIS\"\r\n}\r\n\r\nexport declare let devtools: DevtoolsHook;\r\n\r\ndeclare interface DevtoolsHook {\r\n    enabled?: boolean;\r\n    emit: (event: string, ...payload: any[]) => void;\r\n    on: (event: string, handler: Function) => void;\r\n    once: (event: string, handler: Function) => void;\r\n    off: (event: string, handler: Function) => void;\r\n    appRecords: AppRecord[];\r\n}\r\n\r\nexport declare type Directive<T = any, V = any> = ObjectDirective<T, V> | FunctionDirective<T, V>;\r\n\r\nexport declare type DirectiveArguments = Array<[Directive] | [Directive, any] | [Directive, any, string] | [Directive, any, string, DirectiveModifiers]>;\r\n\r\nexport declare interface DirectiveBinding<V = any> {\r\n    instance: ComponentPublicInstance | null;\r\n    value: V;\r\n    oldValue: V | null;\r\n    arg?: string;\r\n    modifiers: DirectiveModifiers;\r\n    dir: ObjectDirective<any, V>;\r\n}\r\n\r\nexport declare type DirectiveHook<T = any, Prev = VNode<any, T> | null, V = any> = (el: T, binding: DirectiveBinding<V>, vnode: VNode<any, T>, prevVNode: Prev) => void;\r\n\r\ndeclare type DirectiveModifiers = Record<string, boolean>;\r\n\r\nexport { effect }\r\n\r\nexport { EffectScheduler }\r\n\r\nexport { EffectScope }\r\n\r\nexport { effectScope }\r\n\r\ndeclare type EmitFn<Options = ObjectEmitsOptions, Event extends keyof Options = keyof Options> = Options extends Array<infer V> ? (event: V, ...args: any[]) => void : {} extends Options ? (event: string, ...args: any[]) => void : UnionToIntersection<{\r\n    [key in Event]: Options[key] extends (...args: infer Args) => any ? (event: key, ...args: Args) => void : (event: key, ...args: any[]) => void;\r\n}[Event]>;\r\n\r\nexport declare type EmitsOptions = ObjectEmitsOptions | string[];\r\n\r\ndeclare type EmitsToProps<T extends EmitsOptions> = T extends string[] ? {\r\n    [K in string & `on${Capitalize<T[number]>}`]?: (...args: any[]) => any;\r\n} : T extends ObjectEmitsOptions ? {\r\n    [K in string & `on${Capitalize<string & keyof T>}`]?: K extends `on${infer C}` ? T[Uncapitalize<C>] extends null ? (...args: any[]) => any : (...args: T[Uncapitalize<C>] extends (...args: infer P) => any ? P : never) => any : never;\r\n} : {};\r\n\r\ndeclare type EnsureNonVoid<T> = T extends void ? {} : T;\r\n\r\ndeclare type ErrorCapturedHook<TError = unknown> = (err: TError, instance: ComponentPublicInstance | null, info: string) => boolean | void;\r\n\r\nexport declare const enum ErrorCodes {\r\n    SETUP_FUNCTION = 0,\r\n    RENDER_FUNCTION = 1,\r\n    WATCH_GETTER = 2,\r\n    WATCH_CALLBACK = 3,\r\n    WATCH_CLEANUP = 4,\r\n    NATIVE_EVENT_HANDLER = 5,\r\n    COMPONENT_EVENT_HANDLER = 6,\r\n    VNODE_HOOK = 7,\r\n    DIRECTIVE_HOOK = 8,\r\n    TRANSITION_HOOK = 9,\r\n    APP_ERROR_HANDLER = 10,\r\n    APP_WARN_HANDLER = 11,\r\n    FUNCTION_REF = 12,\r\n    ASYNC_COMPONENT_LOADER = 13,\r\n    SCHEDULER = 14\r\n}\r\n\r\ndeclare type ErrorTypes = LifecycleHooks | ErrorCodes;\r\n\r\ndeclare type ExtractComputedReturns<T extends any> = {\r\n    [key in keyof T]: T[key] extends {\r\n        get: (...args: any[]) => infer TReturn;\r\n    } ? TReturn : T[key] extends (...args: any[]) => infer TReturn ? TReturn : never;\r\n};\r\n\r\nexport declare type ExtractDefaultPropTypes<O> = O extends object ? {\r\n    [K in keyof Pick<O, DefaultKeys<O>>]: InferPropType<O[K]>;\r\n} : {};\r\n\r\ndeclare type ExtractMixin<T> = {\r\n    Mixin: MixinToOptionTypes<T>;\r\n}[T extends ComponentOptionsMixin ? 'Mixin' : never];\r\n\r\ndeclare type ExtractOptionProp<T> = T extends ComponentOptionsBase<infer P, // Props\r\nany, // RawBindings\r\nany, // D\r\nany, // C\r\nany, // M\r\nany, // Mixin\r\nany, // Extends\r\nany> ? unknown extends P ? {} : P : {};\r\n\r\nexport declare type ExtractPropTypes<O> = {\r\n    [K in keyof Pick<O, RequiredKeys<O>>]: InferPropType<O[K]>;\r\n} & {\r\n    [K in keyof Pick<O, OptionalKeys<O>>]?: InferPropType<O[K]>;\r\n};\r\n\r\nexport declare const Fragment: {\r\n    new (): {\r\n        $props: VNodeProps;\r\n    };\r\n    __isFragment: true;\r\n};\r\n\r\nexport declare interface FunctionalComponent<P = {}, E extends EmitsOptions = {}> extends ComponentInternalOptions {\r\n    (props: P, ctx: Omit<SetupContext<E>, 'expose'>): any;\r\n    props?: ComponentPropsOptions<P>;\r\n    emits?: E | (keyof E)[];\r\n    inheritAttrs?: boolean;\r\n    displayName?: string;\r\n    compatConfig?: CompatConfig;\r\n}\r\n\r\nexport declare type FunctionDirective<T = any, V = any> = DirectiveHook<T, any, V>;\r\n\r\nexport declare const getCurrentInstance: () => ComponentInternalInstance | null;\r\n\r\nexport { getCurrentScope }\r\n\r\nexport declare function getTransitionRawChildren(children: VNode[], keepComment?: boolean, parentKey?: VNode['key']): VNode[];\r\n\r\nexport declare function guardReactiveProps(props: (Data & VNodeProps) | null): (Data & VNodeProps) | null;\r\n\r\nexport declare function h(type: string, children?: RawChildren): VNode;\r\n\r\nexport declare function h(type: string, props?: RawProps | null, children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function h(type: typeof Text_2 | typeof Comment_2, children?: string | number | boolean): VNode;\r\n\r\nexport declare function h(type: typeof Text_2 | typeof Comment_2, props?: null, children?: string | number | boolean): VNode;\r\n\r\nexport declare function h(type: typeof Fragment, children?: VNodeArrayChildren): VNode;\r\n\r\nexport declare function h(type: typeof Fragment, props?: RawProps | null, children?: VNodeArrayChildren): VNode;\r\n\r\nexport declare function h(type: typeof Teleport, props: RawProps & TeleportProps, children: RawChildren): VNode;\r\n\r\nexport declare function h(type: typeof Suspense, children?: RawChildren): VNode;\r\n\r\nexport declare function h(type: typeof Suspense, props?: (RawProps & SuspenseProps) | null, children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function h<P, E extends EmitsOptions = {}>(type: FunctionalComponent<P, E>, props?: (RawProps & P) | ({} extends P ? null : never), children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function h(type: Component, children?: RawChildren): VNode;\r\n\r\nexport declare function h<P>(type: ConcreteComponent | string, children?: RawChildren): VNode;\r\n\r\nexport declare function h<P>(type: ConcreteComponent<P> | string, props?: (RawProps & P) | ({} extends P ? null : never), children?: RawChildren): VNode;\r\n\r\nexport declare function h(type: Component, props: null, children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function h<P>(type: ComponentOptions<P>, props?: (RawProps & P) | ({} extends P ? null : never), children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function h(type: Constructor, children?: RawChildren): VNode;\r\n\r\nexport declare function h<P>(type: Constructor<P>, props?: (RawProps & P) | ({} extends P ? null : never), children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function h(type: DefineComponent, children?: RawChildren): VNode;\r\n\r\nexport declare function h<P>(type: DefineComponent<P>, props?: (RawProps & P) | ({} extends P ? null : never), children?: RawChildren | RawSlots): VNode;\r\n\r\nexport declare function handleError(err: unknown, instance: ComponentInternalInstance | null, type: ErrorTypes, throwInDev?: boolean): void;\r\n\r\ndeclare type HMRComponent = ComponentOptions | ClassComponent;\r\n\r\nexport declare interface HMRRuntime {\r\n    createRecord: typeof createRecord;\r\n    rerender: typeof rerender;\r\n    reload: typeof reload;\r\n}\r\n\r\ndeclare type Hook<T = () => void> = T | T[];\r\n\r\ndeclare function hydrateSuspense(node: Node, vnode: VNode, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, slotScopeIds: string[] | null, optimized: boolean, rendererInternals: RendererInternals, hydrateNode: (node: Node, vnode: VNode, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, slotScopeIds: string[] | null, optimized: boolean) => Node | null): Node | null;\r\n\r\ndeclare function hydrateTeleport(node: Node, vnode: TeleportVNode, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, slotScopeIds: string[] | null, optimized: boolean, { o: { nextSibling, parentNode, querySelector } }: RendererInternals<Node, Element>, hydrateChildren: (node: Node | null, vnode: VNode, container: Element, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, slotScopeIds: string[] | null, optimized: boolean) => Node | null): Node | null;\r\n\r\nexport declare interface HydrationRenderer extends Renderer<Element | ShadowRoot> {\r\n    hydrate: RootHydrateFunction;\r\n}\r\n\r\ndeclare type InferDefault<P, T> = T extends null | number | string | boolean | symbol | Function ? T | ((props: P) => T) : (props: P) => T;\r\n\r\ndeclare type InferDefaults<T> = {\r\n    [K in keyof T]?: InferDefault<T, NotUndefined<T[K]>>;\r\n};\r\n\r\ndeclare type InferPropType<T> = [T] extends [null] ? any : [T] extends [{\r\n    type: null | true;\r\n}] ? any : [T] extends [ObjectConstructor | {\r\n    type: ObjectConstructor;\r\n}] ? Record<string, any> : [T] extends [BooleanConstructor | {\r\n    type: BooleanConstructor;\r\n}] ? boolean : [T] extends [DateConstructor | {\r\n    type: DateConstructor;\r\n}] ? Date : [T] extends [(infer U)[] | {\r\n    type: (infer U)[];\r\n}] ? U extends DateConstructor ? Date | InferPropType<U> : InferPropType<U> : [T] extends [Prop<infer V, infer D>] ? unknown extends V ? IfAny<V, V, D> : V : T;\r\n\r\nexport declare function initCustomFormatter(): void;\r\n\r\nexport declare function inject<T>(key: InjectionKey<T> | string): T | undefined;\r\n\r\nexport declare function inject<T>(key: InjectionKey<T> | string, defaultValue: T, treatDefaultAsFactory?: false): T;\r\n\r\nexport declare function inject<T>(key: InjectionKey<T> | string, defaultValue: T | (() => T), treatDefaultAsFactory: true): T;\r\n\r\nexport declare interface InjectionKey<T> extends Symbol {\r\n}\r\n\r\n/* Excluded from this release type: InternalRenderFunction */\r\n\r\ndeclare type InternalSlots = {\r\n    [name: string]: Slot | undefined;\r\n};\r\n\r\ndeclare type IntersectionMixin<T> = IsDefaultMixinComponent<T> extends true ? OptionTypesType<{}, {}, {}, {}, {}> : UnionToIntersection<ExtractMixin<T>>;\r\n\r\ndeclare function isCompatEnabled(key: DeprecationTypes, instance: ComponentInternalInstance | null, enableForBuiltIn?: boolean): boolean;\r\n\r\ndeclare type IsDefaultMixinComponent<T> = T extends ComponentOptionsMixin ? ComponentOptionsMixin extends T ? true : false : false;\r\n\r\nexport declare function isMemoSame(cached: VNode, memo: any[]): boolean;\r\n\r\nexport { isProxy }\r\n\r\nexport { isReactive }\r\n\r\nexport { isReadonly }\r\n\r\nexport { isRef }\r\n\r\nexport declare const isRuntimeOnly: () => boolean;\r\n\r\nexport { isShallow }\r\n\r\nexport declare function isVNode(value: any): value is VNode;\r\n\r\nexport declare const KeepAlive: {\r\n    new (): {\r\n        $props: VNodeProps & KeepAliveProps;\r\n    };\r\n    __isKeepAlive: true;\r\n};\r\n\r\nexport declare interface KeepAliveProps {\r\n    include?: MatchPattern;\r\n    exclude?: MatchPattern;\r\n    max?: number | string;\r\n}\r\n\r\nexport declare type LegacyConfig = {\r\n    /**\r\n     * @deprecated `config.silent` option has been removed\r\n     */\r\n    silent?: boolean;\r\n    /**\r\n     * @deprecated use false compile-time feature flag instead\r\n     * https://github.com/vuejs/core/tree/main/packages/vue#bundler-build-feature-flags\r\n     */\r\n    devtools?: boolean;\r\n    /**\r\n     * @deprecated use `config.isCustomElement` instead\r\n     * https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-ignoredelements-is-now-config-iscustomelement\r\n     */\r\n    ignoredElements?: (string | RegExp)[];\r\n    /**\r\n     * @deprecated\r\n     * https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html\r\n     */\r\n    keyCodes?: Record<string, number | number[]>;\r\n    /**\r\n     * @deprecated\r\n     * https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-productiontip-removed\r\n     */\r\n    productionTip?: boolean;\r\n};\r\n\r\ndeclare interface LegacyOptions<Props, D, C extends ComputedOptions, M extends MethodOptions, Mixin extends ComponentOptionsMixin, Extends extends ComponentOptionsMixin> {\r\n    compatConfig?: CompatConfig;\r\n    [key: string]: any;\r\n    data?: (this: CreateComponentPublicInstance<Props, {}, {}, {}, MethodOptions, Mixin, Extends>, vm: CreateComponentPublicInstance<Props, {}, {}, {}, MethodOptions, Mixin, Extends>) => D;\r\n    computed?: C;\r\n    methods?: M;\r\n    watch?: ComponentWatchOptions;\r\n    provide?: ComponentProvideOptions;\r\n    inject?: ComponentInjectOptions;\r\n    filters?: Record<string, Function>;\r\n    mixins?: Mixin[];\r\n    extends?: Extends;\r\n    beforeCreate?(): void;\r\n    created?(): void;\r\n    beforeMount?(): void;\r\n    mounted?(): void;\r\n    beforeUpdate?(): void;\r\n    updated?(): void;\r\n    activated?(): void;\r\n    deactivated?(): void;\r\n    /** @deprecated use `beforeUnmount` instead */\r\n    beforeDestroy?(): void;\r\n    beforeUnmount?(): void;\r\n    /** @deprecated use `unmounted` instead */\r\n    destroyed?(): void;\r\n    unmounted?(): void;\r\n    renderTracked?: DebuggerHook;\r\n    renderTriggered?: DebuggerHook;\r\n    errorCaptured?: ErrorCapturedHook;\r\n    /**\r\n     * runtime compile only\r\n     * @deprecated use `compilerOptions.delimiters` instead.\r\n     */\r\n    delimiters?: [string, string];\r\n    /**\r\n     * #3468\r\n     *\r\n     * type-only, used to assist Mixin's type inference,\r\n     * typescript will try to simplify the inferred `Mixin` type,\r\n     * with the `__differentiator`, typescript won't be able to combine different mixins,\r\n     * because the `__differentiator` will be different\r\n     */\r\n    __differentiator?: keyof D | keyof C | keyof M;\r\n}\r\n\r\ndeclare type LegacyPublicInstance = ComponentPublicInstance & LegacyPublicProperties;\r\n\r\ndeclare interface LegacyPublicProperties {\r\n    $set(target: object, key: string, value: any): void;\r\n    $delete(target: object, key: string): void;\r\n    $mount(el?: string | Element): this;\r\n    $destroy(): void;\r\n    $scopedSlots: Slots;\r\n    $on(event: string | string[], fn: Function): this;\r\n    $once(event: string, fn: Function): this;\r\n    $off(event?: string | string[], fn?: Function): this;\r\n    $children: LegacyPublicProperties[];\r\n    $listeners: Record<string, Function | Function[]>;\r\n}\r\n\r\ndeclare type LifecycleHook<TFn = Function> = TFn[] | null;\r\n\r\ndeclare const enum LifecycleHooks {\r\n    BEFORE_CREATE = \"bc\",\r\n    CREATED = \"c\",\r\n    BEFORE_MOUNT = \"bm\",\r\n    MOUNTED = \"m\",\r\n    BEFORE_UPDATE = \"bu\",\r\n    UPDATED = \"u\",\r\n    BEFORE_UNMOUNT = \"bum\",\r\n    UNMOUNTED = \"um\",\r\n    DEACTIVATED = \"da\",\r\n    ACTIVATED = \"a\",\r\n    RENDER_TRIGGERED = \"rtg\",\r\n    RENDER_TRACKED = \"rtc\",\r\n    ERROR_CAPTURED = \"ec\",\r\n    SERVER_PREFETCH = \"sp\"\r\n}\r\n\r\ndeclare type MapSources<T, Immediate> = {\r\n    [K in keyof T]: T[K] extends WatchSource<infer V> ? Immediate extends true ? V | undefined : V : T[K] extends object ? Immediate extends true ? T[K] | undefined : T[K] : never;\r\n};\r\n\r\nexport { markRaw }\r\n\r\ndeclare type MatchPattern = string | RegExp | (string | RegExp)[];\r\n\r\ndeclare type MergedComponentOptions = ComponentOptions & MergedComponentOptionsOverride;\r\n\r\ndeclare type MergedComponentOptionsOverride = {\r\n    beforeCreate?: MergedHook;\r\n    created?: MergedHook;\r\n    beforeMount?: MergedHook;\r\n    mounted?: MergedHook;\r\n    beforeUpdate?: MergedHook;\r\n    updated?: MergedHook;\r\n    activated?: MergedHook;\r\n    deactivated?: MergedHook;\r\n    /** @deprecated use `beforeUnmount` instead */\r\n    beforeDestroy?: MergedHook;\r\n    beforeUnmount?: MergedHook;\r\n    /** @deprecated use `unmounted` instead */\r\n    destroyed?: MergedHook;\r\n    unmounted?: MergedHook;\r\n    renderTracked?: MergedHook<DebuggerHook>;\r\n    renderTriggered?: MergedHook<DebuggerHook>;\r\n    errorCaptured?: MergedHook<ErrorCapturedHook>;\r\n};\r\n\r\n/* Excluded from this release type: mergeDefaults */\r\n\r\ndeclare type MergedHook<T = () => void> = T | T[];\r\n\r\nexport declare function mergeProps(...args: (Data & VNodeProps)[]): Data;\r\n\r\nexport declare interface MethodOptions {\r\n    [key: string]: Function;\r\n}\r\n\r\ndeclare type MixinToOptionTypes<T> = T extends ComponentOptionsBase<infer P, infer B, infer D, infer C, infer M, infer Mixin, infer Extends, any, any, infer Defaults> ? OptionTypesType<P & {}, B & {}, D & {}, C & {}, M & {}, Defaults & {}> & IntersectionMixin<Mixin> & IntersectionMixin<Extends> : never;\r\n\r\ndeclare type MountChildrenFn = (children: VNodeArrayChildren, container: RendererElement, anchor: RendererNode | null, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, slotScopeIds: string[] | null, optimized: boolean, start?: number) => void;\r\n\r\ndeclare type MountComponentFn = (initialVNode: VNode, container: RendererElement, anchor: RendererNode | null, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, optimized: boolean) => void;\r\n\r\ndeclare type MoveFn = (vnode: VNode, container: RendererElement, anchor: RendererNode | null, type: MoveType, parentSuspense?: SuspenseBoundary | null) => void;\r\n\r\ndeclare function moveTeleport(vnode: VNode, container: RendererElement, parentAnchor: RendererNode | null, { o: { insert }, m: move }: RendererInternals, moveType?: TeleportMoveTypes): void;\r\n\r\ndeclare const enum MoveType {\r\n    ENTER = 0,\r\n    LEAVE = 1,\r\n    REORDER = 2\r\n}\r\n\r\ndeclare type MultiWatchSources = (WatchSource<unknown> | object)[];\r\n\r\ndeclare type NextFn = (vnode: VNode) => RendererNode | null;\r\n\r\nexport declare function nextTick<T = void>(this: T, fn?: (this: T) => void): Promise<void>;\r\n\r\nexport { normalizeClass }\r\n\r\ndeclare type NormalizedProp = null | (PropOptions & {\r\n    [BooleanFlags.shouldCast]?: boolean;\r\n    [BooleanFlags.shouldCastTrue]?: boolean;\r\n});\r\n\r\ndeclare type NormalizedProps = Record<string, NormalizedProp>;\r\n\r\ndeclare type NormalizedPropsOptions = [NormalizedProps, string[]] | [];\r\n\r\nexport { normalizeProps }\r\n\r\nexport { normalizeStyle }\r\n\r\ndeclare function normalizeSuspenseChildren(vnode: VNode): void;\r\n\r\ndeclare function normalizeVNode(child: VNodeChild): VNode;\r\n\r\ndeclare type NotUndefined<T> = T extends undefined ? never : T;\r\n\r\ndeclare const NULL_DYNAMIC_COMPONENT: unique symbol;\r\n\r\nexport declare interface ObjectDirective<T = any, V = any> {\r\n    created?: DirectiveHook<T, null, V>;\r\n    beforeMount?: DirectiveHook<T, null, V>;\r\n    mounted?: DirectiveHook<T, null, V>;\r\n    beforeUpdate?: DirectiveHook<T, VNode<any, T>, V>;\r\n    updated?: DirectiveHook<T, VNode<any, T>, V>;\r\n    beforeUnmount?: DirectiveHook<T, null, V>;\r\n    unmounted?: DirectiveHook<T, null, V>;\r\n    getSSRProps?: SSRDirectiveHook;\r\n    deep?: boolean;\r\n}\r\n\r\nexport declare type ObjectEmitsOptions = Record<string, ((...args: any[]) => any) | null>;\r\n\r\ndeclare type ObjectInjectOptions = Record<string | symbol, string | symbol | {\r\n    from?: string | symbol;\r\n    default?: unknown;\r\n}>;\r\n\r\ndeclare type ObjectProvideOptions = Record<string | symbol, unknown>;\r\n\r\ndeclare type ObjectWatchOptionItem = {\r\n    handler: WatchCallback | string;\r\n} & WatchOptions;\r\n\r\nexport declare function onActivated(hook: Function, target?: ComponentInternalInstance | null): void;\r\n\r\nexport declare const onBeforeMount: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport declare const onBeforeUnmount: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport declare const onBeforeUpdate: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\ndeclare type OnCleanup = (cleanupFn: () => void) => void;\r\n\r\nexport declare function onDeactivated(hook: Function, target?: ComponentInternalInstance | null): void;\r\n\r\nexport declare function onErrorCaptured<TError = Error>(hook: ErrorCapturedHook<TError>, target?: ComponentInternalInstance | null): void;\r\n\r\nexport declare const onMounted: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport declare const onRenderTracked: (hook: DebuggerHook, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport declare const onRenderTriggered: (hook: DebuggerHook, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport { onScopeDispose }\r\n\r\nexport declare const onServerPrefetch: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport declare const onUnmounted: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\nexport declare const onUpdated: (hook: () => any, target?: ComponentInternalInstance | null) => false | Function | undefined;\r\n\r\n/**\r\n * Open a block.\r\n * This must be called before `createBlock`. It cannot be part of `createBlock`\r\n * because the children of the block are evaluated before `createBlock` itself\r\n * is called. The generated code typically looks like this:\r\n *\r\n * ```js\r\n * function render() {\r\n *   return (openBlock(),createBlock('div', null, [...]))\r\n * }\r\n * ```\r\n * disableTracking is true when creating a v-for fragment block, since a v-for\r\n * fragment always diffs its children.\r\n *\r\n * @private\r\n */\r\nexport declare function openBlock(disableTracking?: boolean): void;\r\n\r\ndeclare type OptionalKeys<T> = Exclude<keyof T, RequiredKeys<T>>;\r\n\r\nexport declare type OptionMergeFunction = (to: unknown, from: unknown) => any;\r\n\r\ndeclare type OptionTypesKeys = 'P' | 'B' | 'D' | 'C' | 'M' | 'Defaults';\r\n\r\ndeclare type OptionTypesType<P = {}, B = {}, D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Defaults = {}> = {\r\n    P: P;\r\n    B: B;\r\n    D: D;\r\n    C: C;\r\n    M: M;\r\n    Defaults: Defaults;\r\n};\r\n\r\ndeclare type PatchBlockChildrenFn = (oldChildren: VNode[], newChildren: VNode[], fallbackContainer: RendererElement, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, slotScopeIds: string[] | null) => void;\r\n\r\ndeclare type PatchChildrenFn = (n1: VNode | null, n2: VNode, container: RendererElement, anchor: RendererNode | null, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, slotScopeIds: string[] | null, optimized: boolean) => void;\r\n\r\ndeclare type PatchFn = (n1: VNode | null, // null means this is a mount\r\nn2: VNode, container: RendererElement, anchor?: RendererNode | null, parentComponent?: ComponentInternalInstance | null, parentSuspense?: SuspenseBoundary | null, isSVG?: boolean, slotScopeIds?: string[] | null, optimized?: boolean) => void;\r\n\r\ndeclare type Plugin_2 = (PluginInstallFunction & {\r\n    install?: PluginInstallFunction;\r\n}) | {\r\n    install: PluginInstallFunction;\r\n};\r\nexport { Plugin_2 as Plugin }\r\n\r\ndeclare type PluginInstallFunction = (app: App, ...options: any[]) => any;\r\n\r\n/**\r\n * Technically we no longer need this after 3.0.8 but we need to keep the same\r\n * API for backwards compat w/ code generated by compilers.\r\n * @private\r\n */\r\nexport declare function popScopeId(): void;\r\n\r\nexport declare type Prop<T, D = T> = PropOptions<T, D> | PropType<T>;\r\n\r\ndeclare type PropConstructor<T = any> = {\r\n    new (...args: any[]): T & {};\r\n} | {\r\n    (): T;\r\n} | PropMethod<T>;\r\n\r\ndeclare type PropMethod<T, TConstructor = any> = [T] extends [\r\n((...args: any) => any) | undefined\r\n] ? {\r\n    new (): TConstructor;\r\n    (): T;\r\n    readonly prototype: TConstructor;\r\n} : never;\r\n\r\ndeclare interface PropOptions<T = any, D = T> {\r\n    type?: PropType<T> | true | null;\r\n    required?: boolean;\r\n    default?: D | DefaultFactory<D> | null | undefined | object;\r\n    validator?(value: unknown): boolean;\r\n}\r\n\r\ndeclare type PropsWithDefaults<Base, Defaults> = Base & {\r\n    [K in keyof Defaults]: K extends keyof Base ? NotUndefined<Base[K]> : never;\r\n};\r\n\r\nexport declare type PropType<T> = PropConstructor<T> | PropConstructor<T>[];\r\n\r\nexport declare function provide<T>(key: InjectionKey<T> | string | number, value: T): void;\r\n\r\nexport { proxyRefs }\r\n\r\ndeclare type PublicProps = VNodeProps & AllowedComponentProps & ComponentCustomProps;\r\n\r\n/**\r\n * Set scope id when creating hoisted vnodes.\r\n * @private compiler helper\r\n */\r\nexport declare function pushScopeId(id: string | null): void;\r\n\r\nexport declare function queuePostFlushCb(cb: SchedulerJobs): void;\r\n\r\ndeclare type RawChildren = string | number | boolean | VNode | VNodeArrayChildren | (() => any);\r\n\r\ndeclare type RawProps = VNodeProps & {\r\n    __v_isVNode?: never;\r\n    [Symbol.iterator]?: never;\r\n} & Record<string, any>;\r\n\r\ndeclare type RawSlots = {\r\n    [name: string]: unknown;\r\n    $stable?: boolean;\r\n    /* Excluded from this release type: _ctx */\r\n    /* Excluded from this release type: _ */\r\n};\r\n\r\nexport { reactive }\r\n\r\nexport { ReactiveEffect }\r\n\r\nexport { ReactiveEffectOptions }\r\n\r\nexport { ReactiveEffectRunner }\r\n\r\nexport { ReactiveFlags }\r\n\r\nexport { readonly }\r\n\r\nexport { Ref }\r\n\r\nexport { ref }\r\n\r\n/**\r\n * For runtime-dom to register the compiler.\r\n * Note the exported method uses any to avoid d.ts relying on the compiler types.\r\n */\r\nexport declare function registerRuntimeCompiler(_compile: any): void;\r\n\r\ndeclare function reload(id: string, newComp: HMRComponent): void;\r\n\r\ndeclare type RemoveFn = (vnode: VNode) => void;\r\n\r\ndeclare function renderComponentRoot(instance: ComponentInternalInstance): VNode;\r\n\r\nexport declare interface Renderer<HostElement = RendererElement> {\r\n    render: RootRenderFunction<HostElement>;\r\n    createApp: CreateAppFunction<HostElement>;\r\n}\r\n\r\nexport declare interface RendererElement extends RendererNode {\r\n}\r\n\r\ndeclare interface RendererInternals<HostNode = RendererNode, HostElement = RendererElement> {\r\n    p: PatchFn;\r\n    um: UnmountFn;\r\n    r: RemoveFn;\r\n    m: MoveFn;\r\n    mt: MountComponentFn;\r\n    mc: MountChildrenFn;\r\n    pc: PatchChildrenFn;\r\n    pbc: PatchBlockChildrenFn;\r\n    n: NextFn;\r\n    o: RendererOptions<HostNode, HostElement>;\r\n}\r\n\r\nexport declare interface RendererNode {\r\n    [key: string]: any;\r\n}\r\n\r\nexport declare interface RendererOptions<HostNode = RendererNode, HostElement = RendererElement> {\r\n    patchProp(el: HostElement, key: string, prevValue: any, nextValue: any, isSVG?: boolean, prevChildren?: VNode<HostNode, HostElement>[], parentComponent?: ComponentInternalInstance | null, parentSuspense?: SuspenseBoundary | null, unmountChildren?: UnmountChildrenFn): void;\r\n    insert(el: HostNode, parent: HostElement, anchor?: HostNode | null): void;\r\n    remove(el: HostNode): void;\r\n    createElement(type: string, isSVG?: boolean, isCustomizedBuiltIn?: string, vnodeProps?: (VNodeProps & {\r\n        [key: string]: any;\r\n    }) | null): HostElement;\r\n    createText(text: string): HostNode;\r\n    createComment(text: string): HostNode;\r\n    setText(node: HostNode, text: string): void;\r\n    setElementText(node: HostElement, text: string): void;\r\n    parentNode(node: HostNode): HostElement | null;\r\n    nextSibling(node: HostNode): HostNode | null;\r\n    querySelector?(selector: string): HostElement | null;\r\n    setScopeId?(el: HostElement, id: string): void;\r\n    cloneNode?(node: HostNode): HostNode;\r\n    insertStaticContent?(content: string, parent: HostElement, anchor: HostNode | null, isSVG: boolean, start?: HostNode | null, end?: HostNode | null): [HostNode, HostNode];\r\n}\r\n\r\nexport declare type RenderFunction = () => VNodeChild;\r\n\r\n/**\r\n * v-for string\r\n * @private\r\n */\r\nexport declare function renderList(source: string, renderItem: (value: string, index: number) => VNodeChild): VNodeChild[];\r\n\r\n/**\r\n * v-for number\r\n */\r\nexport declare function renderList(source: number, renderItem: (value: number, index: number) => VNodeChild): VNodeChild[];\r\n\r\n/**\r\n * v-for array\r\n */\r\nexport declare function renderList<T>(source: T[], renderItem: (value: T, index: number) => VNodeChild): VNodeChild[];\r\n\r\n/**\r\n * v-for iterable\r\n */\r\nexport declare function renderList<T>(source: Iterable<T>, renderItem: (value: T, index: number) => VNodeChild): VNodeChild[];\r\n\r\n/**\r\n * v-for object\r\n */\r\nexport declare function renderList<T>(source: T, renderItem: <K extends keyof T>(value: T[K], key: K, index: number) => VNodeChild): VNodeChild[];\r\n\r\n/**\r\n * Compiler runtime helper for rendering `<slot/>`\r\n * @private\r\n */\r\nexport declare function renderSlot(slots: Slots, name: string, props?: Data, fallback?: () => VNodeArrayChildren, noSlotted?: boolean): VNode;\r\n\r\ndeclare type RequiredKeys<T> = {\r\n    [K in keyof T]: T[K] extends {\r\n        required: true;\r\n    } | {\r\n        default: any;\r\n    } | BooleanConstructor | {\r\n        type: BooleanConstructor;\r\n    } ? T[K] extends {\r\n        default: undefined | (() => undefined);\r\n    } ? never : K : never;\r\n}[keyof T];\r\n\r\ndeclare function rerender(id: string, newRender?: Function): void;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function resolveComponent(name: string, maybeSelfReference?: boolean): ConcreteComponent | string;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function resolveDirective(name: string): Directive | undefined;\r\n\r\n/**\r\n * @private\r\n */\r\nexport declare function resolveDynamicComponent(component: unknown): VNodeTypes;\r\n\r\n/* Excluded from this release type: resolveFilter */\r\n\r\n/* Excluded from this release type: resolveFilter_2 */\r\n\r\nexport declare function resolveTransitionHooks(vnode: VNode, props: BaseTransitionProps<any>, state: TransitionState, instance: ComponentInternalInstance): TransitionHooks;\r\n\r\nexport declare type RootHydrateFunction = (vnode: VNode<Node, Element>, container: (Element | ShadowRoot) & {\r\n    _vnode?: VNode;\r\n}) => void;\r\n\r\nexport declare type RootRenderFunction<HostElement = RendererElement> = (vnode: VNode | null, container: HostElement, isSVG?: boolean) => void;\r\n\r\n/**\r\n * Subset of compiler options that makes sense for the runtime.\r\n */\r\nexport declare interface RuntimeCompilerOptions {\r\n    isCustomElement?: (tag: string) => boolean;\r\n    whitespace?: 'preserve' | 'condense';\r\n    comments?: boolean;\r\n    delimiters?: [string, string];\r\n}\r\n\r\ndeclare interface SchedulerJob extends Function {\r\n    id?: number;\r\n    active?: boolean;\r\n    computed?: boolean;\r\n    /**\r\n     * Indicates whether the effect is allowed to recursively trigger itself\r\n     * when managed by the scheduler.\r\n     *\r\n     * By default, a job cannot trigger itself because some built-in method calls,\r\n     * e.g. Array.prototype.push actually performs reads as well (#1740) which\r\n     * can lead to confusing infinite loops.\r\n     * The allowed cases are component update functions and watch callbacks.\r\n     * Component update functions may update child component props, which in turn\r\n     * trigger flush: \"pre\" watch callbacks that mutates state that the parent\r\n     * relies on (#1801). Watch callbacks doesn't track its dependencies so if it\r\n     * triggers itself again, it's likely intentional and it is the user's\r\n     * responsibility to perform recursive state mutation that eventually\r\n     * stabilizes (#1727).\r\n     */\r\n    allowRecurse?: boolean;\r\n    /**\r\n     * Attached by renderer.ts when setting up a component's render effect\r\n     * Used to obtain component information when reporting max recursive updates.\r\n     * dev only.\r\n     */\r\n    ownerInstance?: ComponentInternalInstance;\r\n}\r\n\r\ndeclare type SchedulerJobs = SchedulerJob | SchedulerJob[];\r\n\r\n/**\r\n * Block tracking sometimes needs to be disabled, for example during the\r\n * creation of a tree that needs to be cached by v-once. The compiler generates\r\n * code like this:\r\n *\r\n * ``` js\r\n * _cache[1] || (\r\n *   setBlockTracking(-1),\r\n *   _cache[1] = createVNode(...),\r\n *   setBlockTracking(1),\r\n *   _cache[1]\r\n * )\r\n * ```\r\n *\r\n * @private\r\n */\r\nexport declare function setBlockTracking(value: number): void;\r\n\r\n/**\r\n * Note: rendering calls maybe nested. The function returns the parent rendering\r\n * instance if present, which should be restored after the render is done:\r\n *\r\n * ```js\r\n * const prev = setCurrentRenderingInstance(i)\r\n * // ...render\r\n * setCurrentRenderingInstance(prev)\r\n * ```\r\n */\r\ndeclare function setCurrentRenderingInstance(instance: ComponentInternalInstance | null): ComponentInternalInstance | null;\r\n\r\nexport declare function setDevtoolsHook(hook: DevtoolsHook, target: any): void;\r\n\r\nexport declare function setTransitionHooks(vnode: VNode, hooks: TransitionHooks): void;\r\n\r\ndeclare function setupComponent(instance: ComponentInternalInstance, isSSR?: boolean): Promise<void> | undefined;\r\n\r\nexport declare interface SetupContext<E = EmitsOptions> {\r\n    attrs: Data;\r\n    slots: Slots;\r\n    emit: EmitFn<E>;\r\n    expose: (exposed?: Record<string, any>) => void;\r\n}\r\n\r\ndeclare type SetupRenderEffectFn = (instance: ComponentInternalInstance, initialVNode: VNode, container: RendererElement, anchor: RendererNode | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, optimized: boolean) => void;\r\n\r\nexport { ShallowReactive }\r\n\r\nexport { shallowReactive }\r\n\r\nexport { shallowReadonly }\r\n\r\nexport { ShallowRef }\r\n\r\nexport { shallowRef }\r\n\r\nexport { ShallowUnwrapRef }\r\n\r\nexport declare type Slot = (...args: any[]) => VNode[];\r\n\r\nexport declare type Slots = Readonly<InternalSlots>;\r\n\r\n/**\r\n * Use this for features where legacy usage is still possible, but will likely\r\n * lead to runtime error if compat is disabled. (warn in all cases)\r\n */\r\ndeclare function softAssertCompatEnabled(key: DeprecationTypes, instance: ComponentInternalInstance | null, ...args: any[]): boolean;\r\n\r\nexport declare const ssrContextKey: unique symbol;\r\n\r\ndeclare type SSRDirectiveHook = (binding: DirectiveBinding, vnode: VNode) => Data | undefined;\r\n\r\n/* Excluded from this release type: ssrUtils */\r\n\r\nexport declare const Static: unique symbol;\r\n\r\nexport { stop_2 as stop }\r\n\r\nexport declare const Suspense: {\r\n    new (): {\r\n        $props: VNodeProps & SuspenseProps;\r\n    };\r\n    __isSuspense: true;\r\n};\r\n\r\nexport declare interface SuspenseBoundary {\r\n    vnode: VNode<RendererNode, RendererElement, SuspenseProps>;\r\n    parent: SuspenseBoundary | null;\r\n    parentComponent: ComponentInternalInstance | null;\r\n    isSVG: boolean;\r\n    container: RendererElement;\r\n    hiddenContainer: RendererElement;\r\n    anchor: RendererNode | null;\r\n    activeBranch: VNode | null;\r\n    pendingBranch: VNode | null;\r\n    deps: number;\r\n    pendingId: number;\r\n    timeout: number;\r\n    isInFallback: boolean;\r\n    isHydrating: boolean;\r\n    isUnmounted: boolean;\r\n    effects: Function[];\r\n    resolve(force?: boolean): void;\r\n    fallback(fallbackVNode: VNode): void;\r\n    move(container: RendererElement, anchor: RendererNode | null, type: MoveType): void;\r\n    next(): RendererNode | null;\r\n    registerDep(instance: ComponentInternalInstance, setupRenderEffect: SetupRenderEffectFn): void;\r\n    unmount(parentSuspense: SuspenseBoundary | null, doRemove?: boolean): void;\r\n}\r\n\r\ndeclare const SuspenseImpl: {\r\n    name: string;\r\n    __isSuspense: boolean;\r\n    process(n1: VNode | null, n2: VNode, container: RendererElement, anchor: RendererNode | null, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, slotScopeIds: string[] | null, optimized: boolean, rendererInternals: RendererInternals): void;\r\n    hydrate: typeof hydrateSuspense;\r\n    create: typeof createSuspenseBoundary;\r\n    normalize: typeof normalizeSuspenseChildren;\r\n};\r\n\r\nexport declare interface SuspenseProps {\r\n    onResolve?: () => void;\r\n    onPending?: () => void;\r\n    onFallback?: () => void;\r\n    timeout?: string | number;\r\n}\r\n\r\nexport declare const Teleport: {\r\n    new (): {\r\n        $props: VNodeProps & TeleportProps;\r\n    };\r\n    __isTeleport: true;\r\n};\r\n\r\ndeclare const TeleportImpl: {\r\n    __isTeleport: boolean;\r\n    process(n1: TeleportVNode | null, n2: TeleportVNode, container: RendererElement, anchor: RendererNode | null, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, isSVG: boolean, slotScopeIds: string[] | null, optimized: boolean, internals: RendererInternals): void;\r\n    remove(vnode: VNode, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, optimized: boolean, { um: unmount, o: { remove: hostRemove } }: RendererInternals, doRemove: Boolean): void;\r\n    move: typeof moveTeleport;\r\n    hydrate: typeof hydrateTeleport;\r\n};\r\n\r\ndeclare const enum TeleportMoveTypes {\r\n    TARGET_CHANGE = 0,\r\n    TOGGLE = 1,\r\n    REORDER = 2\r\n}\r\n\r\nexport declare interface TeleportProps {\r\n    to: string | RendererElement | null | undefined;\r\n    disabled?: boolean;\r\n}\r\n\r\ndeclare type TeleportVNode = VNode<RendererNode, RendererElement, TeleportProps>;\r\n\r\ndeclare const Text_2: unique symbol;\r\nexport { Text_2 as Text }\r\n\r\nexport { toDisplayString }\r\n\r\nexport { toHandlerKey }\r\n\r\n/**\r\n * For prefixing keys in v-on=\"obj\" with \"on\"\r\n * @private\r\n */\r\nexport declare function toHandlers(obj: Record<string, any>): Record<string, any>;\r\n\r\nexport { toRaw }\r\n\r\nexport { ToRef }\r\n\r\nexport { toRef }\r\n\r\nexport { ToRefs }\r\n\r\nexport { toRefs }\r\n\r\nexport { TrackOpTypes }\r\n\r\n/**\r\n * Internal API for registering an arguments transform for createVNode\r\n * used for creating stubs in the test-utils\r\n * It is *internal* but needs to be exposed for test-utils to pick up proper\r\n * typings\r\n */\r\nexport declare function transformVNodeArgs(transformer?: typeof vnodeArgsTransformer): void;\r\n\r\nexport declare interface TransitionHooks<HostElement extends RendererElement = RendererElement> {\r\n    mode: BaseTransitionProps['mode'];\r\n    persisted: boolean;\r\n    beforeEnter(el: HostElement): void;\r\n    enter(el: HostElement): void;\r\n    leave(el: HostElement, remove: () => void): void;\r\n    clone(vnode: VNode): TransitionHooks<HostElement>;\r\n    afterLeave?(): void;\r\n    delayLeave?(el: HostElement, earlyRemove: () => void, delayedLeave: () => void): void;\r\n    delayedLeave?(): void;\r\n}\r\n\r\nexport declare interface TransitionState {\r\n    isMounted: boolean;\r\n    isLeaving: boolean;\r\n    isUnmounting: boolean;\r\n    leavingVNodes: Map<any, Record<string, VNode>>;\r\n}\r\n\r\nexport { TriggerOpTypes }\r\n\r\nexport { triggerRef }\r\n\r\ndeclare type UnmountChildrenFn = (children: VNode[], parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, doRemove?: boolean, optimized?: boolean, start?: number) => void;\r\n\r\ndeclare type UnmountFn = (vnode: VNode, parentComponent: ComponentInternalInstance | null, parentSuspense: SuspenseBoundary | null, doRemove?: boolean, optimized?: boolean) => void;\r\n\r\nexport { unref }\r\n\r\ndeclare type UnwrapMixinsType<T, Type extends OptionTypesKeys> = T extends OptionTypesType ? T[Type] : never;\r\n\r\nexport { UnwrapNestedRefs }\r\n\r\nexport { UnwrapRef }\r\n\r\nexport declare function useAttrs(): SetupContext['attrs'];\r\n\r\nexport declare function useSlots(): SetupContext['slots'];\r\n\r\nexport declare const useSSRContext: <T = Record<string, any>>() => T | undefined;\r\n\r\nexport declare function useTransitionState(): TransitionState;\r\n\r\nexport declare const version: string;\r\n\r\nexport declare interface VNode<HostNode = RendererNode, HostElement = RendererElement, ExtraProps = {\r\n    [key: string]: any;\r\n}> {\r\n    /* Excluded from this release type: __v_isVNode */\r\n    /* Excluded from this release type: __v_skip */\r\n    type: VNodeTypes;\r\n    props: (VNodeProps & ExtraProps) | null;\r\n    key: string | number | symbol | null;\r\n    ref: VNodeNormalizedRef | null;\r\n    /**\r\n     * SFC only. This is assigned on vnode creation using currentScopeId\r\n     * which is set alongside currentRenderingInstance.\r\n     */\r\n    scopeId: string | null;\r\n    /* Excluded from this release type: slotScopeIds */\r\n    children: VNodeNormalizedChildren;\r\n    component: ComponentInternalInstance | null;\r\n    dirs: DirectiveBinding[] | null;\r\n    transition: TransitionHooks<HostElement> | null;\r\n    el: HostNode | null;\r\n    anchor: HostNode | null;\r\n    target: HostElement | null;\r\n    targetAnchor: HostNode | null;\r\n    /* Excluded from this release type: staticCount */\r\n    suspense: SuspenseBoundary | null;\r\n    /* Excluded from this release type: ssContent */\r\n    /* Excluded from this release type: ssFallback */\r\n    shapeFlag: number;\r\n    patchFlag: number;\r\n    /* Excluded from this release type: dynamicProps */\r\n    /* Excluded from this release type: dynamicChildren */\r\n    appContext: AppContext | null;\r\n    /* Excluded from this release type: memo */\r\n    /* Excluded from this release type: isCompatRoot */\r\n    /* Excluded from this release type: ce */\r\n}\r\n\r\ndeclare let vnodeArgsTransformer: ((args: Parameters<typeof _createVNode>, instance: ComponentInternalInstance | null) => Parameters<typeof _createVNode>) | undefined;\r\n\r\nexport declare type VNodeArrayChildren = Array<VNodeArrayChildren | VNodeChildAtom>;\r\n\r\nexport declare type VNodeChild = VNodeChildAtom | VNodeArrayChildren;\r\n\r\ndeclare type VNodeChildAtom = VNode | string | number | boolean | null | undefined | void;\r\n\r\ndeclare type VNodeMountHook = (vnode: VNode) => void;\r\n\r\nexport declare type VNodeNormalizedChildren = string | VNodeArrayChildren | RawSlots | null;\r\n\r\ndeclare type VNodeNormalizedRef = VNodeNormalizedRefAtom | VNodeNormalizedRefAtom[];\r\n\r\ndeclare type VNodeNormalizedRefAtom = {\r\n    i: ComponentInternalInstance;\r\n    r: VNodeRef;\r\n    k?: string;\r\n    f?: boolean;\r\n};\r\n\r\nexport declare type VNodeProps = {\r\n    key?: string | number | symbol;\r\n    ref?: VNodeRef;\r\n    ref_for?: boolean;\r\n    ref_key?: string;\r\n    onVnodeBeforeMount?: VNodeMountHook | VNodeMountHook[];\r\n    onVnodeMounted?: VNodeMountHook | VNodeMountHook[];\r\n    onVnodeBeforeUpdate?: VNodeUpdateHook | VNodeUpdateHook[];\r\n    onVnodeUpdated?: VNodeUpdateHook | VNodeUpdateHook[];\r\n    onVnodeBeforeUnmount?: VNodeMountHook | VNodeMountHook[];\r\n    onVnodeUnmounted?: VNodeMountHook | VNodeMountHook[];\r\n};\r\n\r\nexport declare type VNodeRef = string | Ref | ((ref: Element | ComponentPublicInstance | null, refs: Record<string, any>) => void);\r\n\r\nexport declare type VNodeTypes = string | VNode | Component | typeof Text_2 | typeof Static | typeof Comment_2 | typeof Fragment | typeof TeleportImpl | typeof SuspenseImpl;\r\n\r\ndeclare type VNodeUpdateHook = (vnode: VNode, oldVNode: VNode) => void;\r\n\r\nexport declare function warn(msg: string, ...args: any[]): void;\r\n\r\ndeclare function warnDeprecation(key: DeprecationTypes, instance: ComponentInternalInstance | null, ...args: any[]): void;\r\n\r\nexport declare function watch<T extends MultiWatchSources, Immediate extends Readonly<boolean> = false>(sources: [...T], cb: WatchCallback<MapSources<T, false>, MapSources<T, Immediate>>, options?: WatchOptions<Immediate>): WatchStopHandle;\r\n\r\nexport declare function watch<T extends Readonly<MultiWatchSources>, Immediate extends Readonly<boolean> = false>(source: T, cb: WatchCallback<MapSources<T, false>, MapSources<T, Immediate>>, options?: WatchOptions<Immediate>): WatchStopHandle;\r\n\r\nexport declare function watch<T, Immediate extends Readonly<boolean> = false>(source: WatchSource<T>, cb: WatchCallback<T, Immediate extends true ? T | undefined : T>, options?: WatchOptions<Immediate>): WatchStopHandle;\r\n\r\nexport declare function watch<T extends object, Immediate extends Readonly<boolean> = false>(source: T, cb: WatchCallback<T, Immediate extends true ? T | undefined : T>, options?: WatchOptions<Immediate>): WatchStopHandle;\r\n\r\nexport declare type WatchCallback<V = any, OV = any> = (value: V, oldValue: OV, onCleanup: OnCleanup) => any;\r\n\r\nexport declare type WatchEffect = (onCleanup: OnCleanup) => void;\r\n\r\nexport declare function watchEffect(effect: WatchEffect, options?: WatchOptionsBase): WatchStopHandle;\r\n\r\ndeclare type WatchOptionItem = string | WatchCallback | ObjectWatchOptionItem;\r\n\r\nexport declare interface WatchOptions<Immediate = boolean> extends WatchOptionsBase {\r\n    immediate?: Immediate;\r\n    deep?: boolean;\r\n}\r\n\r\nexport declare interface WatchOptionsBase extends DebuggerOptions {\r\n    flush?: 'pre' | 'post' | 'sync';\r\n}\r\n\r\nexport declare function watchPostEffect(effect: WatchEffect, options?: DebuggerOptions): WatchStopHandle;\r\n\r\nexport declare type WatchSource<T = any> = Ref<T> | ComputedRef<T> | (() => T);\r\n\r\nexport declare type WatchStopHandle = () => void;\r\n\r\nexport declare function watchSyncEffect(effect: WatchEffect, options?: DebuggerOptions): WatchStopHandle;\r\n\r\n/* Excluded from this release type: withAsyncContext */\r\n\r\n/**\r\n * Wrap a slot function to memoize current rendering instance\r\n * @private compiler helper\r\n */\r\nexport declare function withCtx(fn: Function, ctx?: ComponentInternalInstance | null, isNonScopedSlot?: boolean): Function;\r\n\r\n/**\r\n * Vue `<script setup>` compiler macro for providing props default values when\r\n * using type-based `defineProps` declaration.\r\n *\r\n * Example usage:\r\n * ```ts\r\n * withDefaults(defineProps<{\r\n *   size?: number\r\n *   labels?: string[]\r\n * }>(), {\r\n *   size: 3,\r\n *   labels: () => ['default label']\r\n * })\r\n * ```\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the output\r\n * and should **not** be actually called at runtime.\r\n */\r\nexport declare function withDefaults<Props, Defaults extends InferDefaults<Props>>(props: Props, defaults: Defaults): PropsWithDefaults<Props, Defaults>;\r\n\r\n/**\r\n * Adds directives to a VNode.\r\n */\r\nexport declare function withDirectives<T extends VNode>(vnode: T, directives: DirectiveArguments): T;\r\n\r\nexport declare function withMemo(memo: any[], render: () => VNode<any, any>, cache: any[], index: number): VNode<any, any, {\r\n    [key: string]: any;\r\n}>;\r\n\r\n/**\r\n * Only for backwards compat\r\n * @private\r\n */\r\nexport declare const withScopeId: (_id: string) => typeof withCtx;\r\n\r\nexport { WritableComputedOptions }\r\n\r\nexport { WritableComputedRef }\r\n\r\nexport { }\r\n\n// Note: this file is auto concatenated to the end of the bundled d.ts during\n// build.\n\ndeclare module '@vue/reactivity' {\n  export interface RefUnwrapBailTypes {\n    runtimeCoreBailTypes:\n      | VNode\n      | {\n          // directly bailing on ComponentPublicInstance results in recursion\n          // so we use this as a bail hint\n          $: ComponentInternalInstance\n        }\n  }\n}\n\n// Note: this file is auto concatenated to the end of the bundled d.ts during\n// build.\ntype _defineProps = typeof defineProps\ntype _defineEmits = typeof defineEmits\ntype _defineExpose = typeof defineExpose\ntype _withDefaults = typeof withDefaults\n\ndeclare global {\n  const defineProps: _defineProps\n  const defineEmits: _defineEmits\n  const defineExpose: _defineExpose\n  const withDefaults: _withDefaults\n}\n }\n  ","ts:vue"),xo((()=>CI.packages),(()=>{CI.packages.forEach((t=>{e.includes(t.name)||(e.push(t.name),hte.typescript.javascriptDefaults.addExtraLib(`\n        declare module '${t.name}' {\n          let x: any;\n          export = x;\n        }\n      `,t.name))}))}),{immediate:!0}),await Promise.all([(async()=>{const[{default:e},{default:t},{default:n}]=await Promise.all([_u((()=>import("./editor.worker.2d27dc3b.js")),void 0),_u((()=>import("./html.worker.d881cef4.js")),void 0),_u((()=>import("./ts.worker.09a2d405.js")),void 0)]);window.MonacoEnvironment={getWorker:(i,s)=>"html"===s||"handlebars"===s||"razor"===s?new t:"typescript"===s||"javascript"===s?new n:new e}})()]),Ul()&&await new Promise((e=>Qo(e))),{monaco:Dge}}));function Fge(e,t){const n=Xd(),i=hr(!1);let s;var r;return(async()=>{const{monaco:r}=await Mge();r.editor.defineTheme("vitesse-dark",ZI),r.editor.defineTheme("vitesse-light",XI),xo(e,(()=>{var o;const a=fr(e);if(!a)return;const l=r.editor.createModel(t.code,t.language,r.Uri.parse(`file:///root/${Date.now()}.${"typescript"===t.language?"ts":"javascript"===t.language?"js":"html"===t.language?"html":void 0}`));s=r.editor.create(a,{model:l,tabSize:2,insertSpaces:!0,autoClosingQuotes:"always",detectIndentation:!1,folding:!1,automaticLayout:!0,theme:"vitesse-dark",minimap:{enabled:!1}}),i.value=!0,xo(cu,(()=>{cu.value?r.editor.setTheme("vitesse-dark"):r.editor.setTheme("vitesse-light")}),{immediate:!0});const c=Age.filter((({language:e})=>e===t.language));null==(o=s.getModel())||o.onDidChangeContent((()=>{n.trigger(s.getValue()),c.forEach((({onContentChanged:e})=>e(s)))}))}),{flush:"post",immediate:!0})})(),r=()=>stop(),Ul()&&ia(r),{onChange:n.on,setContent:async e=>{await nh(i).toBeTruthy(),s&&s.setValue(e)}}}Mge();var Bge=Bo({__name:"Editor",props:{language:null,value:null},emits:["change"],setup(e,{emit:t}){const n=e,i=hr(),{onChange:s,setContent:r}=Fge(i,{language:n.language,code:n.value});return xo((()=>n.value),(()=>r(n.value))),s((e=>t("change",e))),t("change",n.value),(e,t)=>(gl(),bl("div",{ref_key:"target",ref:i,class:"h-full w-full"},null,512))}});const Vge={flex:"1"},Wge={flex:"~ row",items:"center"};var Hge=Bo({__name:"Container",props:{title:null,noOverflow:{type:Boolean},noRounding:{type:Boolean}},setup:e=>(t,n)=>(gl(),bl("div",{h:"full",grid:"~",border:"1 light-900 dark:dark-400",shadow:"lg",class:Wn(["grid-rows-[min-content,auto]",e.noRounding?"border-t-0":"rounded-md"])},[El("div",{flex:"~ row",text:"xs",items:"center",bg:"light-500 dark:dark-800",border:"b-1 dark:dark-400 light-900",p:"l-2",h:"8",class:Wn(e.noRounding?"":"rounded-t-md")},[El("div",Vge,Yn(e.title),1),El("div",Wge,[ga(t.$slots,"controls")])],2),El("div",{bg:"dark:dark-800 light-300",position:"relative",border:"rounded-b-md",w:"full",class:Wn(e.noOverflow?"overflow-hidden":"overflow-auto")},[ga(t.$slots,"default")],2)],2))});const Uge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},zge=[El("path",{d:"M10 30H4a2 2 0 0 1-2-2V16a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2zM4 16v12h6V16z",fill:"currentColor"},null,-1),El("path",{d:"M28 4H6a2 2 0 0 0-2 2v6h2V6h22v14H14v2h2v4h-2v2h9v-2h-5v-4h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1)];var jge={render:function(e,t){return gl(),bl("svg",Uge,zge)}};const $ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Kge=[El("path",{d:"M13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z",fill:"currentColor"},null,-1)];var qge,Gge,Yge,Zge,Xge,Jge,Qge={render:function(e,t){return gl(),bl("svg",$ge,Kge)}};function efe(){return(efe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function tfe(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}function nfe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ife(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nfe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nfe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function sfe(e,t){if(e in t){for(var n=t[e],i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return"function"==typeof n?n.apply(void 0,s):n}var o=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(o,sfe),o}function rfe(e){var t,n,i=e.visible,s=void 0===i||i,r=e.features,o=void 0===r?qge.None:r,a=tfe(e,["visible","features"]);return s||o&qge.Static&&a.props.static?ofe(a):o&qge.RenderStrategy?sfe(null==(t=a.props.unmount)||t?Yge.Unmount:Yge.Hidden,((n={})[Yge.Unmount]=function(){return null},n[Yge.Hidden]=function(){return ofe(efe({},a,{props:efe({},a.props,{hidden:!0,style:{display:"none"}})}))},n)):ofe(a)}function ofe(e){var t,n=e.props,i=e.attrs,s=e.slots,r=e.slot,o=e.name,a=function(e,t){void 0===t&&(t=[]);for(var n,i=Object.assign({},e),s=ife(t);!(n=s()).done;){var r=n.value;r in i&&delete i[r]}return i}(n,["unmount","static"]),l=a.as,c=tfe(a,["as"]),d=null==s.default?void 0:s.default(r);if("template"===l){if(Object.keys(c).length>0||Object.keys(i).length>0){var h=null!=d?d:[],u=h[0],p=h.slice(1);if(null==(t=u)||"string"!=typeof t.type&&"object"!=typeof t.type&&"function"!=typeof t.type||p.length>0)throw new Error(['Passing props on "template"!',"","The current component <"+o+' /> is rendering a "template".',"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(i)).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return Ll(u,c)}return Array.isArray(d)&&1===d.length?d[0]:d}return rc(l,c,d)}(Gge=qge||(qge={}))[Gge.None=0]="None",Gge[Gge.RenderStrategy=1]="RenderStrategy",Gge[Gge.Static=2]="Static",(Zge=Yge||(Yge={}))[Zge.Unmount=0]="Unmount",Zge[Zge.Hidden=1]="Hidden",(Jge=Xge||(Xge={})).Space=" ",Jge.Enter="Enter",Jge.Escape="Escape",Jge.Backspace="Backspace",Jge.ArrowLeft="ArrowLeft",Jge.ArrowUp="ArrowUp",Jge.ArrowRight="ArrowRight",Jge.ArrowDown="ArrowDown",Jge.Home="Home",Jge.End="End",Jge.PageUp="PageUp",Jge.PageDown="PageDown",Jge.Tab="Tab";var afe=0;function lfe(){return++afe}var cfe,dfe,hfe,ufe,pfe,gfe,ffe,mfe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function _fe(e){null==e||e.focus({preventScroll:!0})}function vfe(e,t){var n=Array.isArray(e)?e:function(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(mfe))}(e),i=document.activeElement,s=function(){if(t&(cfe.First|cfe.Next))return pfe.Next;if(t&(cfe.Previous|cfe.Last))return pfe.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),r=function(){if(t&cfe.First)return 0;if(t&cfe.Previous)return Math.max(0,n.indexOf(i))-1;if(t&cfe.Next)return Math.max(0,n.indexOf(i))+1;if(t&cfe.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=t&cfe.NoScroll?{preventScroll:!0}:{},a=0,l=n.length,c=void 0;do{var d;if(a>=l||a+l<=0)return hfe.Error;var h=r+a;if(t&cfe.WrapAround)h=(h+l)%l;else{if(h<0)return hfe.Underflow;if(h>=l)return hfe.Overflow}null==(d=c=n[h])||d.focus(o),a+=s}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),hfe.Success}function bfe(e,t,n){window.addEventListener(e,t,n),ia((function(){return window.removeEventListener(e,t,n)}))}function yfe(e,t){for(var n,i=ife(e);!(n=i()).done;){if(n.value.contains(t))return!0}return!1}(dfe=cfe||(cfe={}))[dfe.First=1]="First",dfe[dfe.Previous=2]="Previous",dfe[dfe.Next=4]="Next",dfe[dfe.Last=8]="Last",dfe[dfe.WrapAround=16]="WrapAround",dfe[dfe.NoScroll=32]="NoScroll",(ufe=hfe||(hfe={}))[ufe.Error=0]="Error",ufe[ufe.Overflow=1]="Overflow",ufe[ufe.Success=2]="Success",ufe[ufe.Underflow=3]="Underflow",function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(pfe||(pfe={})),(ffe=gfe||(gfe={}))[ffe.Strict=0]="Strict",ffe[ffe.Loose=1]="Loose";var wfe=new Set,Cfe=new Map;function Sfe(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function xfe(e){var t=Cfe.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var kfe,Efe,Dfe=Symbol("StackContext");function Tfe(){return yo(Dfe,(function(){}))}function Lfe(e){var t=Tfe();bo(Dfe,(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];null==e||e.apply(void 0,i),t.apply(void 0,i)}))}(Efe=kfe||(kfe={}))[Efe.AddElement=0]="AddElement",Efe[Efe.RemoveElement=1]="RemoveElement";var Nfe=Symbol("ForcePortalRootContext");var Ife=Bo({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup:function(e,t){var n=t.slots,i=t.attrs;return bo(Nfe,e.force),function(){return rfe({props:tfe(e,["force"]),slot:{},slots:n,attrs:i,name:"ForcePortalRoot"})}}});function Pfe(){var e=document.getElementById("headlessui-portal-root");if(e)return e;var t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),document.body.appendChild(t)}var Ofe=Bo({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup:function(e,t){var n=t.slots,i=t.attrs,s=yo(Nfe,!1),r=yo(Rfe,null),o=hr(!0===s||null===r?Pfe():r.resolveTarget());wo((function(){s||null!==r&&(o.value=r.resolveTarget())}));var a=hr(null);return function(e){var t=Tfe();wo((function(n){var i=null==e?void 0:e.value;i&&(t(kfe.AddElement,i),n((function(){return t(kfe.RemoveElement,i)})))}))}(a),ia((function(){var e,t=document.getElementById("headlessui-portal-root");t&&(o.value===t&&o.value.children.length<=0&&(null==(e=o.value.parentElement)||e.removeChild(o.value)))})),Lfe(),function(){if(null===o.value)return null;var t={ref:a};return rc(al,{to:o.value},rfe({props:efe({},e,t),slot:{},attrs:i,slots:n,name:"Portal"}))}}}),Rfe=Symbol("PortalGroupContext"),Afe=Bo({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup:function(e,t){var n=t.attrs,i=t.slots,s=Zs({resolveTarget:function(){return e.target}});return bo(Rfe,s),function(){return rfe({props:tfe(e,["target"]),slot:{},attrs:n,slots:i,name:"PortalGroup"})}}}),Mfe=Symbol("DescriptionContext");function Ffe(e){var t;return null==e||null==e.value?null:null!=(t=e.value.$el)?t:e.value}var Bfe,Vfe,Wfe,Hfe=Symbol("Context");function Ufe(){return yo(Hfe,null)}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Bfe||(Bfe={})),(Wfe=Vfe||(Vfe={}))[Wfe.Open=0]="Open",Wfe[Wfe.Closed=1]="Closed";var zfe=Symbol("DialogContext");function jfe(e){var t=yo(zfe,null);if(null===t){var n=new Error("<"+e+" /> is missing a parent <Dialog /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,jfe),n}return t}var $fe,Kfe,qfe,Gfe,Yfe,Zfe="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Xfe=Bo({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:Boolean,default:Zfe},initialFocus:{type:Object,default:null}},emits:["close"],render:function(){var e=this,t=efe({},this.$attrs,{ref:"el",id:this.id,role:"dialog","aria-modal":this.dialogState===Vfe.Open||void 0,"aria-labelledby":this.titleId,"aria-describedby":this.describedby,onClick:this.handleClick,onKeydown:this.handleKeyDown}),n=tfe(this.$props,["open","initialFocus"]),i={open:this.dialogState===Vfe.Open};return rc(Ife,{force:!0},(function(){return rc(Ofe,(function(){return rc(Afe,{target:e.dialogRef},(function(){return rc(Ife,{force:!1},(function(){return rfe({props:efe({},n,t),slot:i,attrs:e.$attrs,slots:e.$slots,visible:e.visible,features:qge.RenderStrategy|qge.Static,name:"Dialog"})}))}))}))}))},setup:function(e,t){var n=t.emit,i=hr(new Set),s=Ufe(),r=ic((function(){var t;return e.open===Zfe&&null!==s?sfe(s.value,((t={})[Bfe.Open]=!0,t[Bfe.Closed]=!1,t)):e.open}));if(!(e.open!==Zfe||null!==s))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if("boolean"!=typeof r.value)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+(r.value===Zfe?void 0:e.open));var o=ic((function(){return e.open?Vfe.Open:Vfe.Closed})),a=ic((function(){return null!==s?s.value===Bfe.Open:o.value===Vfe.Open})),l=hr(null),c=hr(o.value===Vfe.Open);ta((function(){c.value=o.value===Vfe.Open}));var d="headlessui-dialog-"+lfe(),h=ic((function(){return{initialFocus:e.initialFocus}}));!function(e,t,n){void 0===t&&(t=hr(!0)),void 0===n&&(n=hr({}));var i=hr("undefined"!=typeof window?document.activeElement:null),s=hr(null);function r(){if(t.value&&1===e.value.size){var r=n.value.initialFocus,o=document.activeElement;if(r){if(r===o)return}else if(yfe(e.value,o))return;if(i.value=o,r)_fe(r);else{for(var a,l=!1,c=ife(e.value);!(a=c()).done;)if(vfe(a.value,cfe.First)===hfe.Success){l=!0;break}if(!l)throw new Error("There are no focusable elements inside the <FocusTrap />")}s.value=document.activeElement}}function o(){_fe(i.value),i.value=null,s.value=null}wo(r),ta((function(){t.value?r():o()})),ia(o),bfe("keydown",(function(n){if(t.value&&n.key===Xge.Tab&&document.activeElement&&1===e.value.size){n.preventDefault();for(var i,r=ife(e.value);!(i=r()).done;)if(vfe(i.value,(n.shiftKey?cfe.Previous:cfe.Next)|cfe.WrapAround)===hfe.Success){s.value=document.activeElement;break}}})),bfe("focus",(function(n){if(t.value&&1===e.value.size){var i=s.value;if(i){var r=n.target;r&&r instanceof HTMLElement?yfe(e.value,r)?(s.value=r,_fe(r)):(n.preventDefault(),n.stopPropagation(),_fe(i)):_fe(s.value)}}}),!0)}(i,c,h),function(e,t){void 0===t&&(t=hr(!0)),wo((function(n){if(t.value&&e.value){var i=e.value;wfe.add(i);for(var s,r=ife(Cfe.keys());!(s=r()).done;){var o=s.value;o.contains(i)&&(xfe(o),Cfe.delete(o))}document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){for(var t,n=ife(wfe);!(t=n()).done;){var i=t.value;if(e.contains(i))return}1===wfe.size&&(Cfe.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Sfe(e))}})),n((function(){if(wfe.delete(i),wfe.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!Cfe.has(e)){for(var t,n=ife(wfe);!(t=n()).done;){var i=t.value;if(e.contains(i))return}Cfe.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Sfe(e)}}));else for(var e,t=ife(Cfe.keys());!(e=t()).done;){var n=e.value;xfe(n),Cfe.delete(n)}}))}}))}(l,c),Lfe((function(e,t){var n;return sfe(e,((n={})[kfe.AddElement]=function(){i.value.add(t)},n[kfe.RemoveElement]=function(){i.value.delete(t)},n))}));var u=function(e){var t=void 0===e?{}:e,n=t.slot,i=void 0===n?hr({}):n,s=t.name,r=void 0===s?"Description":s,o=t.props,a=void 0===o?{}:o,l=hr([]);return bo(Mfe,{register:function(e){return l.value.push(e),function(){var t=l.value.indexOf(e);-1!==t&&l.value.splice(t,1)}},slot:i,name:r,props:a}),ic((function(){return l.value.length>0?l.value.join(" "):void 0}))}({name:"DialogDescription",slot:ic((function(){return{open:r.value}}))}),p=hr(null),g={titleId:p,dialogState:o,setTitleId:function(e){p.value!==e&&(p.value=e)},close:function(){n("close",!1)}};return bo(zfe,g),bfe("mousedown",(function(e){var t=e.target;o.value===Vfe.Open&&1===i.value.size&&(yfe(i.value,t)||(g.close(),Ur((function(){return null==t?void 0:t.focus()}))))})),wo((function(e){if(o.value===Vfe.Open){var t=document.documentElement.style.overflow,n=document.documentElement.style.paddingRight,i=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=i+"px",e((function(){document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=n}))}})),wo((function(e){if(o.value===Vfe.Open){var t=Ffe(l);if(t){var n=new IntersectionObserver((function(e){for(var t,n=ife(e);!(t=n()).done;){var i=t.value;0===i.boundingClientRect.x&&0===i.boundingClientRect.y&&0===i.boundingClientRect.width&&0===i.boundingClientRect.height&&g.close()}}));n.observe(t),e((function(){return n.disconnect()}))}}})),{id:d,el:l,dialogRef:l,containers:i,dialogState:o,titleId:p,describedby:u,visible:a,open:r,handleClick:function(e){e.stopPropagation()},handleKeyDown:function(e){e.key===Xge.Escape&&o.value===Vfe.Open&&(i.value.size>1||(e.preventDefault(),e.stopPropagation(),g.close()))}}}}),Jfe=Bo({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},render:function(){var e=jfe("DialogOverlay"),t={ref:"el",id:this.id,"aria-hidden":!0,onClick:this.handleClick};return rfe({props:efe({},this.$props,t),slot:{open:e.dialogState.value===Vfe.Open},attrs:this.$attrs,slots:this.$slots,name:"DialogOverlay"})},setup:function(){var e=jfe("DialogOverlay");return{id:"headlessui-dialog-overlay-"+lfe(),handleClick:function(t){t.preventDefault(),t.stopPropagation(),e.close()}}}});function Qfe(e,t){var n=t.resolveItems();if(n.length<=0)return null;var i=t.resolveActiveIndex(),s=null!=i?i:-1,r=function(){switch(e.focus){case qfe.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case qfe.Previous:var i=n.slice().reverse().findIndex((function(e,n,i){return!(-1!==s&&i.length-n-1>=s)&&!t.resolveDisabled(e)}));return-1===i?i:n.length-1-i;case qfe.Next:return n.findIndex((function(e,n){return!(n<=s)&&!t.resolveDisabled(e)}));case qfe.Last:var r=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case qfe.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case qfe.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===r?i:r}function eme(e,t){if(void 0!==e)return"function"==typeof e?e(t):e}(Kfe=$fe||($fe={}))[Kfe.Open=0]="Open",Kfe[Kfe.Closed=1]="Closed",function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(qfe||(qfe={})),(Yfe=Gfe||(Gfe={}))[Yfe.Open=0]="Open",Yfe[Yfe.Closed=1]="Closed";var tme=Symbol("ListboxContext");function nme(e){var t=yo(tme,null);if(null===t){var n=new Error("<"+e+" /> is missing a parent <Listbox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,nme),n}return t}var ime,sme,rme,ome,ame,lme,cme,dme,hme,ume,pme=Bo({name:"Listbox",emits:["update:modelValue"],props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup:function(e,t){var n=t.slots,i=t.attrs,s=t.emit,r=e.disabled,o=tfe(e,["modelValue","disabled"]),a=hr(Gfe.Closed),l=hr(null),c=hr(null),d=hr(null),h=hr([]),u=hr(""),p=hr(null),g=ic((function(){return e.modelValue})),f={listboxState:a,value:g,labelRef:l,buttonRef:c,optionsRef:d,disabled:r,options:h,searchQuery:u,activeOptionIndex:p,closeListbox:function(){r||a.value!==Gfe.Closed&&(a.value=Gfe.Closed,p.value=null)},openListbox:function(){r||a.value!==Gfe.Open&&(a.value=Gfe.Open)},goToOption:function(e,t){if(!r&&a.value!==Gfe.Closed){var n=Qfe(e===qfe.Specific?{focus:qfe.Specific,id:t}:{focus:e},{resolveItems:function(){return h.value},resolveActiveIndex:function(){return p.value},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.disabled}});""===u.value&&p.value===n||(u.value="",p.value=n)}},search:function(e){if(!r&&a.value!==Gfe.Closed){u.value+=e.toLowerCase();var t=h.value.findIndex((function(e){return!e.dataRef.disabled&&e.dataRef.textValue.startsWith(u.value)}));-1!==t&&t!==p.value&&(p.value=t)}},clearSearch:function(){r||a.value!==Gfe.Closed&&""!==u.value&&(u.value="")},registerOption:function(e,t){h.value.push({id:e,dataRef:t})},unregisterOption:function(e){var t=h.value.slice(),n=null!==p.value?t[p.value]:null,i=t.findIndex((function(t){return t.id===e}));-1!==i&&t.splice(i,1),h.value=t,p.value=i===p.value||null===n?null:t.indexOf(n)},select:function(e){r||s("update:modelValue",e)}};return bfe("mousedown",(function(e){var t,n,i,s=e.target,r=document.activeElement;a.value===Gfe.Open&&((null==(t=Ffe(c))?void 0:t.contains(s))||((null==(n=Ffe(d))?void 0:n.contains(s))||f.closeListbox(),r!==document.body&&(null==r?void 0:r.contains(s))||e.defaultPrevented||null==(i=Ffe(c))||i.focus({preventScroll:!0})))})),bo(tme,f),function(e){bo(Hfe,e)}(ic((function(){var e;return sfe(a.value,((e={})[Gfe.Open]=Bfe.Open,e[Gfe.Closed]=Bfe.Closed,e))}))),function(){var e={open:a.value===Gfe.Open,disabled:r};return rfe({props:o,slot:e,slots:n,attrs:i,name:"Listbox"})}}}),gme=Bo({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},render:function(){var e,t,n=nme("ListboxButton"),i={open:n.listboxState.value===Gfe.Open,disabled:n.disabled},s={ref:"el",id:this.id,type:"button","aria-haspopup":!0,"aria-controls":null==(e=Ffe(n.optionsRef))?void 0:e.id,"aria-expanded":n.listboxState.value===Gfe.Open||void 0,"aria-labelledby":n.labelRef.value?[null==(t=Ffe(n.labelRef))?void 0:t.id,this.id].join(" "):void 0,disabled:n.disabled,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onClick:this.handleClick};return rfe({props:efe({},this.$props,s),slot:i,attrs:this.$attrs,slots:this.$slots,name:"ListboxButton"})},setup:function(){var e=nme("ListboxButton");return{id:"headlessui-listbox-button-"+lfe(),el:e.buttonRef,handleKeyDown:function(t){switch(t.key){case Xge.Space:case Xge.Enter:case Xge.ArrowDown:t.preventDefault(),e.openListbox(),Ur((function(){var t;null==(t=Ffe(e.optionsRef))||t.focus({preventScroll:!0}),e.value.value||e.goToOption(qfe.First)}));break;case Xge.ArrowUp:t.preventDefault(),e.openListbox(),Ur((function(){var t;null==(t=Ffe(e.optionsRef))||t.focus({preventScroll:!0}),e.value.value||e.goToOption(qfe.Last)}))}},handleKeyUp:function(e){switch(e.key){case Xge.Space:e.preventDefault()}},handleClick:function(t){var n;e.disabled||(e.listboxState.value===Gfe.Open?(e.closeListbox(),Ur((function(){var t;return null==(t=Ffe(e.buttonRef))?void 0:t.focus({preventScroll:!0})}))):(t.preventDefault(),e.openListbox(),n=function(){var t;return null==(t=Ffe(e.optionsRef))?void 0:t.focus({preventScroll:!0})},requestAnimationFrame((function(){return requestAnimationFrame(n)}))))}}}}),fme=Bo({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e,t,n,i,s=nme("ListboxOptions"),r={open:s.listboxState.value===Gfe.Open},o={"aria-activedescendant":null===s.activeOptionIndex.value||null==(e=s.options.value[s.activeOptionIndex.value])?void 0:e.id,"aria-labelledby":null!=(t=null==(n=Ffe(s.labelRef))?void 0:n.id)?t:null==(i=Ffe(s.buttonRef))?void 0:i.id,id:this.id,onKeydown:this.handleKeyDown,role:"listbox",tabIndex:0,ref:"el"};return rfe({props:efe({},this.$props,o),slot:r,attrs:this.$attrs,slots:this.$slots,features:qge.RenderStrategy|qge.Static,visible:this.visible,name:"ListboxOptions"})},setup:function(){var e=nme("ListboxOptions"),t="headlessui-listbox-options-"+lfe(),n=hr(null);var i=Ufe(),s=ic((function(){return null!==i?i.value===Bfe.Open:e.listboxState.value===Gfe.Open}));return{id:t,el:e.optionsRef,handleKeyDown:function(t){switch(n.value&&clearTimeout(n.value),t.key){case Xge.Space:if(""!==e.searchQuery.value)return t.preventDefault(),t.stopPropagation(),e.search(t.key);case Xge.Enter:if(t.preventDefault(),t.stopPropagation(),null!==e.activeOptionIndex.value){var i=e.options.value[e.activeOptionIndex.value].dataRef;e.select(i.value)}e.closeListbox(),Ur((function(){var t;return null==(t=Ffe(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case Xge.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToOption(qfe.Next);case Xge.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToOption(qfe.Previous);case Xge.Home:case Xge.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToOption(qfe.First);case Xge.End:case Xge.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToOption(qfe.Last);case Xge.Escape:t.preventDefault(),t.stopPropagation(),e.closeListbox(),Ur((function(){var t;return null==(t=Ffe(e.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case Xge.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(e.search(t.key),n.value=setTimeout((function(){return e.clearSearch()}),350))}},visible:s}}}),mme=Bo({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String]},disabled:{type:Boolean,default:!1},class:{type:[String,Function],required:!1},className:{type:[String,Function],required:!1}},setup:function(e,t){var n=t.slots,i=t.attrs,s=nme("ListboxOption"),r="headlessui-listbox-option-"+lfe(),o=e.disabled,a=e.class,l=e.className,c=void 0===l?a:l,d=e.value,h=ic((function(){return null!==s.activeOptionIndex.value&&s.options.value[s.activeOptionIndex.value].id===r})),u=ic((function(){return sr(s.value.value)===sr(d)})),p=hr({disabled:o,value:d,textValue:""});function g(e){if(o)return e.preventDefault();s.select(d),s.closeListbox(),Ur((function(){var e;return null==(e=Ffe(s.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function f(){if(o)return s.goToOption(qfe.Nothing);s.goToOption(qfe.Specific,r)}function m(){o||h.value||s.goToOption(qfe.Specific,r)}function _(){o||h.value&&s.goToOption(qfe.Nothing)}return Qo((function(){var e,t,n=null==(e=document.getElementById(r))||null==(t=e.textContent)?void 0:t.toLowerCase().trim();void 0!==n&&(p.value.textValue=n)})),Qo((function(){return s.registerOption(r,p)})),ia((function(){return s.unregisterOption(r)})),Qo((function(){xo([s.listboxState,u],(function(){var e;s.listboxState.value===Gfe.Open&&u.value&&(s.goToOption(qfe.Specific,r),null==(e=document.getElementById(r))||null==e.focus||e.focus())}),{immediate:!0})})),wo((function(){s.listboxState.value===Gfe.Open&&h.value&&Ur((function(){var e;return null==(e=document.getElementById(r))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})}))})),function(){var t={active:h.value,selected:u.value,disabled:o},s={id:r,role:"option",tabIndex:-1,class:eme(c,t),"aria-disabled":!0===o||void 0,"aria-selected":!0===u.value?u.value:void 0,onClick:g,onFocus:f,onPointermove:m,onMousemove:m,onPointerleave:_,onMouseleave:_};return rfe({props:efe({},e,s),slot:t,attrs:i,slots:n,name:"ListboxOption"})}}});(sme=ime||(ime={}))[sme.Open=0]="Open",sme[sme.Closed=1]="Closed",(ome=rme||(rme={}))[ome.Open=0]="Open",ome[ome.Closed=1]="Closed",(lme=ame||(ame={}))[lme.Empty=1]="Empty",lme[lme.Active=2]="Active",(dme=cme||(cme={})).Finished="finished",dme.Cancelled="cancelled",(ume=hme||(hme={})).Visible="visible",ume.Hidden="hidden",qge.RenderStrategy;const _me={},vme={flex:"1"};_me.render=function(e,t){const n=Qge,i=mme;return gl(),yl(i,null,{default:ro((({active:t,selected:i})=>[El("div",{class:Wn([{"bg-light-900 dark:bg-dark-400":t||i},"whitespace-nowrap"]),p:"x-4 y-2",cursor:"pointer",bg:"hover:dark:dark-500 hover:light-800",flex:"~",space:"x-2",items:"center"},[El("span",vme,[ga(e.$slots,"default")]),i?(gl(),yl(n,{key:0})):Pl("",!0)],2)])),_:3})};const bme={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},yme=[El("path",{d:"M16 22L6 12l1.4-1.4l8.6 8.6l8.6-8.6L26 12z",fill:"currentColor"},null,-1)];var wme={render:function(e,t){return gl(),bl("svg",bme,yme)}};const Cme={position:"relative"};var Sme=Bo({__name:"Select",props:{modelValue:null},setup(e){const t=lu(e);return(e,n)=>{const i=wme,s=gme,r=fme,o=pme;return gl(),yl(o,{modelValue:fr(t),"onUpdate:modelValue":n[0]||(n[0]=e=>dr(t)?t.value=e:null)},{default:ro((()=>[El("div",Cme,[Dl(s,{outline:"focus:none",flex:"~",h:"8",items:"center",p:"x-2",space:"x-2",border:"l-1 dark:dark-300",position:"relative"},{default:ro((()=>[ga(e.$slots,"default",{value:fr(t)}),Dl(i)])),_:3}),Dl(r,{position:"absolute top-5 right-0",bg:"dark:dark-900 light-300",shadow:"~ lg",border:"rounded-b rounded-tl",overflow:"hidden",list:"none",outline:"focus:none",p:"0",z:"5000"},{default:ro((()=>[ga(e.$slots,"items")])),_:3})])])),_:3},8,["modelValue"])}}});let xme=1;class kme{constructor(e,t){this.iframe=e,this.handlers=t,this.pending_cmds=new Map,this.handle_event=e=>this.handle_repl_message(e),window.addEventListener("message",this.handle_event,!1)}destroy(){window.removeEventListener("message",this.handle_event)}iframe_command(e,t){return new Promise(((n,i)=>{const s=xme++;this.pending_cmds.set(s,{resolve:n,reject:i}),this.iframe.contentWindow.postMessage({action:e,cmd_id:s,args:t},"*")}))}handle_command_message(e){let t=e.action,n=e.cmd_id,i=this.pending_cmds.get(n);if(i){if(this.pending_cmds.delete(n),"cmd_error"===t){let{message:t,stack:n}=e,s=new Error(t);s.stack=n,i.reject(s)}"cmd_ok"===t&&i.resolve(e.args)}else console.error("command not found",n,e,[...this.pending_cmds.keys()])}handle_repl_message(e){if(e.source!==this.iframe.contentWindow)return;const{action:t,args:n}=e.data;switch(t){case"cmd_error":case"cmd_ok":return this.handle_command_message(e.data);case"fetch_progress":return this.handlers.on_fetch_progress(n.remaining);case"error":return this.handlers.on_error(e.data);case"unhandledrejection":return this.handlers.on_unhandled_rejection(e.data);case"console":return this.handlers.on_console(e.data);case"console_group":return this.handlers.on_console_group(e.data);case"console_group_collapsed":return this.handlers.on_console_group_collapsed(e.data);case"console_group_end":return this.handlers.on_console_group_end(e.data)}}eval(e){return this.iframe_command("eval",{script:e})}handle_links(){return this.iframe_command("catch_clicks",{})}}function Eme(){return Dme(CI.files["App.vue"]).reverse()}function Dme(e,t=new Set){if(t.has(e))return[];t.add(e);const{js:n,css:i}=e.compiled,s=new _C(n),r=Wm(n,{sourceFilename:e.filename,sourceType:"module"}).program.body,o=new Map,a=new Set,l=new Set,c=new Map;function d(e,t){const n=t.replace(/^\.\/+/,"");if(!(n in CI.files))throw new Error(`File "${n}" does not exist.`);if(l.has(n))return c.get(n);l.add(n);const i=`__import_${l.size}__`;return c.set(n,i),s.appendLeft(e.start,`const ${i} = __modules__[${JSON.stringify(n)}]\n`),i}function h(e,t=e){s.append(`\n__export__(__module__, "${e}", () => ${t})`)}s.prepend(`const __module__ = __modules__[${JSON.stringify(e.filename)}] = { [Symbol.toStringTag]: "Module" }\n\n`);for(const p of r)if("ImportDeclaration"===p.type){if(p.source.value.startsWith("./")){const e=d(p,p.source.value);for(const t of p.specifiers)"ImportSpecifier"===t.type?o.set(t.local.name,`${e}.${t.imported.name}`):"ImportDefaultSpecifier"===t.type?o.set(t.local.name,`${e}.default`):o.set(t.local.name,e);s.remove(p.start,p.end)}}for(const p of r){if("ExportNamedDeclaration"===p.type)if(p.declaration){if("FunctionDeclaration"===p.declaration.type||"ClassDeclaration"===p.declaration.type)h(p.declaration.id.name);else if("VariableDeclaration"===p.declaration.type)for(const e of p.declaration.declarations){const t=Lme(e.id).map((e=>e.name));for(const e of t)h(e)}s.remove(p.start,p.declaration.start)}else if(p.source){const e=d(p,p.source.value);for(const t of p.specifiers)h(t.exported.name,`${e}.${t.local.name}`);s.remove(p.start,p.end)}else{for(const e of p.specifiers){const t=e.local.name,n=o.get(t);h(e.exported.name,n||t)}s.remove(p.start,p.end)}if("ExportDefaultDeclaration"===p.type&&s.overwrite(p.start,p.start+14,"__module__.default ="),"ExportAllDeclaration"===p.type){const e=d(p,p.source.value);s.remove(p.start,p.end),s.append(`\nfor (const key in ${e}) {\n        if (key !== 'default') {\n          __export__(__module__, key, () => ${e}[key])\n        }\n      }`)}}for(const p of r)"ImportDeclaration"!==p.type&&rb(p,((e,t,n)=>{const i=o.get(e.name);if(i)if(Tme(t)&&t.shorthand)t.inPattern&&!Nme(t,n)||s.appendLeft(e.end,`: ${i}`);else if("ClassDeclaration"===t.type&&e===t.superClass){if(!a.has(e.name)){a.add(e.name);const t=n[1];s.prependRight(t.start,`const ${e.name} = ${i};\n`)}}else s.overwrite(e.start,e.end,i)}));GN(r,{enter(e,t){if("Import"===e.type&&"CallExpression"===t.type){const n=t.arguments[0];"StringLiteral"===n.type&&n.value.startsWith("./")&&(s.overwrite(e.start,e.start+6,"__dynamic_import__"),s.overwrite(n.start,n.end,JSON.stringify(n.value.replace(/^\.\/+/,""))))}}}),i&&s.append(`\nwindow.__css__ += ${JSON.stringify(i)}`);const u=[s.toString()];if(l.size)for(const p of l)u.push(...Dme(CI.files[p],t));return u}const Tme=e=>"ObjectProperty"===e.type&&!e.computed;function Lme(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":e.properties.forEach((e=>{"RestElement"===e.type?Lme(e.argument,t):Lme(e.value,t)}));break;case"ArrayPattern":e.elements.forEach((e=>{e&&Lme(e,t)}));break;case"RestElement":Lme(e.argument,t);break;case"AssignmentPattern":Lme(e.left,t)}return t}function Nme(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1}var Ime=Bo({__name:"Preview",setup(e){const t=hr(),n=hr(),i=hr();let s,r,o;function a(){let e;s&&(r.destroy(),o&&o(),t.value.removeChild(s)),s=document.createElement("iframe"),s.setAttribute("sandbox",["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" "));try{e=JSON.parse(CI.importMap||"{}")}catch(c){return void(CI.errors=[`Syntax error in import-map.json: ${c.message}`])}e.imports||(e.imports={}),e.imports.vue=mI.value;const a="<!doctype html>\n<html>\n\n<head>\n\t<style>\n\t\tbody {\n\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n\t\t\t\tOxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n\t\t}\n\t</style>\n\t<style id=\"__sfc-styles\"></style>\n\t<script>\n\t\t(() => {\n\t\t  const scriptEls = []\n\n\t\t  window.__modules__ = {}\n\n\t\t  window.__export__ = (mod, key, get) => {\n\t\t    Object.defineProperty(mod, key, {\n\t\t      enumerable: true,\n\t\t      configurable: true,\n\t\t      get,\n\t\t    })\n\t\t  }\n\n\t\t  window.__dynamic_import__ = (key) => {\n\t\t    return Promise.resolve(window.__modules__[key])\n\t\t  }\n\n\t\t  async function handle_message(ev) {\n\t\t    const { action, cmd_id } = ev.data\n\t\t    const send_message = payload => parent.postMessage({ ...payload }, ev.origin)\n\t\t    const send_reply = payload => send_message({ ...payload, cmd_id })\n\t\t    const send_ok = () => send_reply({ action: 'cmd_ok' })\n\t\t    const send_error = (message, stack) => send_reply({ action: 'cmd_error', message, stack })\n\n\t\t    if (action === 'eval') {\n\t\t      try {\n\t\t        if (scriptEls.length) {\n\t\t          scriptEls.forEach((el) => {\n\t\t            document.head.removeChild(el)\n\t\t          })\n\t\t          scriptEls.length = 0\n\t\t        }\n\n\t\t        let { script: scripts } = ev.data.args\n\t\t        if (typeof scripts === 'string') scripts = [scripts]\n\n\t\t        for (const script of scripts) {\n\t\t          const scriptEl = document.createElement('script')\n\t\t          scriptEl.setAttribute('type', 'module')\n\t\t          // send ok in the module script to ensure sequential evaluation\n\t\t          // of multiple proxy.eval() calls\n\t\t          const done = new Promise((resolve) => {\n\t\t            window.__next__ = resolve\n\t\t          })\n\t\t          scriptEl.innerHTML = `${script}\\nwindow.__next__()`\n\t\t          document.head.appendChild(scriptEl)\n\t\t          scriptEl.onrror = err => send_error(err.message, err.stack)\n\t\t          scriptEls.push(scriptEl)\n\t\t          await done\n\t\t        }\n\t\t        window.__next__ = undefined\n\t\t        send_ok()\n\t\t      }\n\t\t      catch (e) {\n\t\t        send_error(e.message, e.stack)\n\t\t      }\n\t\t    }\n\n\t\t    if (action === 'catch_clicks') {\n\t\t      try {\n\t\t        const top_origin = ev.origin\n\t\t        document.body.addEventListener('click', (event) => {\n\t\t          if (event.which !== 1) return\n\t\t          if (event.metaKey || event.ctrlKey || event.shiftKey) return\n\t\t          if (event.defaultPrevented) return\n\n\t\t          // ensure target is a link\n\t\t          let el = event.target\n\t\t          while (el && el.nodeName !== 'A') el = el.parentNode\n\t\t          if (!el || el.nodeName !== 'A') return\n\n\t\t          if (el.hasAttribute('download') || el.getAttribute('rel') === 'external' || el.target) return\n\n\t\t          event.preventDefault()\n\n\t\t          if (el.href.startsWith(top_origin)) {\n\t\t            const url = new URL(el.href)\n\t\t            if (url.hash[0] === '#') {\n\t\t              window.location.hash = url.hash\n\t\t              return\n\t\t            }\n\t\t          }\n\n\t\t          window.open(el.href, '_blank')\n\t\t        })\n\t\t        send_ok()\n\t\t      }\n\t\t      catch (e) {\n\t\t        send_error(e.message, e.stack)\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  window.addEventListener('message', handle_message, false)\n\n\t\t  window.onerror = function(msg, url, lineNo, columnNo, error) {\n\t\t    if (msg.includes('module specifier vue')) {\n\t\t      // firefox only error, ignore\n\t\t      return false\n\t\t    }\n\t\t    try {\n\t\t      parent.postMessage({ action: 'error', value: error }, '*')\n\t\t    }\n\t\t    catch (e) {\n\t\t      parent.postMessage({ action: 'error', value: msg }, '*')\n\t\t    }\n\t\t  }\n\n\t\t  window.addEventListener('unhandledrejection', (event) => {\n\t\t    if (event.reason.message.includes('Cross-origin')) {\n\t\t      event.preventDefault()\n\t\t      return\n\t\t    }\n\t\t    try {\n\t\t      parent.postMessage({ action: 'unhandledrejection', value: event.reason }, '*')\n\t\t    }\n\t\t    catch (e) {\n\t\t      parent.postMessage({ action: 'unhandledrejection', value: event.reason.message }, '*')\n\t\t    }\n\t\t  })\n\n\t\t  let previous = { level: null, args: null };\n\n\t\t  ['clear', 'log', 'info', 'dir', 'warn', 'error', 'table'].forEach((level) => {\n\t\t    const original = console[level]\n\t\t    console[level] = (...args) => {\n\t\t      const msg = String(args[0])\n\t\t      if (\n\t\t        msg.includes('You are running a development build of Vue') || msg.includes('You are running the esm-bundler build of Vue')\n\t\t      )\n\t\t        return\n\n\t\t      const stringifiedArgs = stringify(args)\n\t\t      if (previous.level === level && previous.args && previous.args === stringifiedArgs) {\n\t\t        parent.postMessage({ action: 'console', level, duplicate: true }, '*')\n\t\t      }\n\t\t      else {\n\t\t        previous = { level, args: stringifiedArgs }\n\n\t\t        try {\n\t\t          parent.postMessage({ action: 'console', level, args }, '*')\n\t\t        }\n\t\t        catch (err) {\n\t\t          parent.postMessage({\n\t\t            action: 'console',\n\t\t            level,\n\t\t            args: args.map((a) => {\n\t\t              return a instanceof Error ? a.message : String(a)\n\t\t            }),\n\t\t          }, '*')\n\t\t        }\n\t\t      }\n\n\t\t      original(...args)\n\t\t    }\n\t\t  });\n\n\t\t  [\n\t\t    { method: 'group', action: 'console_group' },\n\t\t    { method: 'groupEnd', action: 'console_group_end' },\n\t\t    { method: 'groupCollapsed', action: 'console_group_collapsed' },\n\t\t  ].forEach((group_action) => {\n\t\t    const original = console[group_action.method]\n\t\t    console[group_action.method] = (label) => {\n\t\t      parent.postMessage({ action: group_action.action, label }, '*')\n\n\t\t      original(label)\n\t\t    }\n\t\t  })\n\n\t\t  const timers = new Map()\n\t\t  const original_time = console.time\n\t\t  const original_timelog = console.timeLog\n\t\t  const original_timeend = console.timeEnd\n\n\t\t  console.time = (label = 'default') => {\n\t\t    original_time(label)\n\t\t    timers.set(label, performance.now())\n\t\t  }\n\t\t  console.timeLog = (label = 'default') => {\n\t\t    original_timelog(label)\n\t\t    const now = performance.now()\n\t\t    if (timers.has(label))\n\t\t      parent.postMessage({ action: 'console', level: 'system-log', args: [`${label}: ${now - timers.get(label)}ms`] }, '*')\n\t\t    else\n\t\t      parent.postMessage({ action: 'console', level: 'system-warn', args: [`Timer '${label}' does not exist`] }, '*')\n\t\t  }\n\t\t  console.timeEnd = (label = 'default') => {\n\t\t    original_timeend(label)\n\t\t    const now = performance.now()\n\t\t    if (timers.has(label))\n\t\t      parent.postMessage({ action: 'console', level: 'system-log', args: [`${label}: ${now - timers.get(label)}ms`] }, '*')\n\t\t    else\n\t\t      parent.postMessage({ action: 'console', level: 'system-warn', args: [`Timer '${label}' does not exist`] }, '*')\n\n\t\t    timers.delete(label)\n\t\t  }\n\n\t\t  const original_assert = console.assert\n\t\t  console.assert = (condition, ...args) => {\n\t\t    if (condition) {\n\t\t      const stack = new Error().stack\n\t\t      parent.postMessage({ action: 'console', level: 'assert', args, stack }, '*')\n\t\t    }\n\t\t    original_assert(condition, ...args)\n\t\t  }\n\n\t\t  const counter = new Map()\n\t\t  const original_count = console.count\n\t\t  const original_countreset = console.countReset\n\n\t\t  console.count = (label = 'default') => {\n\t\t    counter.set(label, (counter.get(label) || 0) + 1)\n\t\t    parent.postMessage({ action: 'console', level: 'system-log', args: `${label}: ${counter.get(label)}` }, '*')\n\t\t    original_count(label)\n\t\t  }\n\n\t\t  console.countReset = (label = 'default') => {\n\t\t    if (counter.has(label))\n\t\t      counter.set(label, 0)\n\t\t    else\n\t\t      parent.postMessage({ action: 'console', level: 'system-warn', args: `Count for '${label}' does not exist` }, '*')\n\n\t\t    original_countreset(label)\n\t\t  }\n\n\t\t  const original_trace = console.trace\n\n\t\t  console.trace = (...args) => {\n\t\t    const stack = new Error().stack\n\t\t    parent.postMessage({ action: 'console', level: 'trace', args, stack }, '*')\n\t\t    original_trace(...args)\n\t\t  }\n\n\t\t  function stringify(args) {\n\t\t    try {\n\t\t      return JSON.stringify(args)\n\t\t    }\n\t\t    catch (error) {\n\t\t      return null\n\t\t    }\n\t\t  }\n\t\t})()\n\t<\/script>\n\n\t\x3c!-- ES Module Shims: Import maps polyfill for modules browsers without import maps support (all except Chrome 89+) --\x3e\n\t<script async src=\"https://unpkg.com/es-module-shims@0.10.1/dist/es-module-shims.js\"><\/script>\n\t<script type=\"importmap\">\x3c!--IMPORT_MAP--\x3e<\/script>\n</head>\n\n<body class=\"dark:text-light-300 text-dark-100\">\n\t<div id=\"app\"></div>\n</body>\n\n</html>".replace(/<!--IMPORT_MAP-->/,JSON.stringify(e));s.srcdoc=a,t.value.appendChild(s),r=new kme(s,{on_fetch_progress:e=>{},on_error:e=>{const t=e.value instanceof Error?e.value.message:e.value;t.includes("Failed to resolve module specifier")||t.includes("Error resolving module specifier")?n.value=`${t.replace(/\. Relative references must.*$/,"")}.\nTip: add an "import-map.json" file to specify import paths for dependencies.`:n.value=e.value},on_unhandled_rejection:e=>{let t=e.value;"string"==typeof t&&(t={message:t}),n.value=`Uncaught (in promise): ${t.message}`},on_console:e=>{"error"===e.level?e.args[0]instanceof Error?n.value=e.args[0].message:n.value=e.args[0]:"warn"===e.level&&e.args[0].toString().includes("[Vue warn]")&&(i.value=e.args.join("").replace(/\[Vue warn\]:/,"").trim())},on_console_group:e=>{},on_console_group_end:()=>{},on_console_group_collapsed:e=>{}}),s.addEventListener("load",(()=>{r.handle_links(),o=wo(l)}))}async function l(){n.value=null,i.value=null;try{const e=Eme();console.log(`successfully compiled ${e.length} modules.`),await r.eval(["window.__modules__ = {};window.__css__ = ''",...e,cu.value?'document.querySelector("html").classList.add("dark")':'document.querySelector("html").classList.remove("dark")',"\n      import { createApp as _createApp } from \"vue\"\n      if (window.__app__) {\n        window.__app__.unmount()\n        document.getElementById('app').innerHTML = ''\n      }\n      document.getElementById('__sfc-styles').innerHTML = window.__css__\n      const app = window.__app__ = _createApp(__modules__[\"App.vue\"].default)\n      app.config.errorHandler = e => console.error(e)\n      app.mount('#app')".trim()])}catch(e){n.value=e.message}}return xo([n,i],(()=>{CI.runtimeErrors=[n.value,i.value].filter((e=>e))})),Qo(a),xo((()=>CI.importMap),((e,t)=>{if(e)try{const t=JSON.parse(e);if(!t.imports)return void(CI.errors=['import-map.json is missing "imports" field.']);t.imports.vue&&(CI.errors=["Select Vue versions using the top-right dropdown.\nSpecifying it in the import map has no effect."]),a()}catch(n){CI.errors=[n]}else t&&a()})),xo(mI,a),ia((()=>{r.destroy(),o&&o()})),(e,n)=>(gl(),bl("div",{ref_key:"container",ref:t,w:"full",h:"full",flex:"~",class:"preview-container",place:"items-center content-center"},null,512))}});const Pme={class:"flex flex-row items-center px-2 py-2 space-x-2 border-b dark:border-dark-400 font-mono"},Ome=El("div",{class:"text-xs px-1 py-[3px] flex items-center bg-red-500 text-red-900 font-bold rounded"}," ERROR ",-1),Rme={class:"text-sm dark:text-light-900 dark:text-opacity-50"};var Ame=Bo({__name:"Message",props:{message:null,type:null},setup:e=>(t,n)=>(gl(),bl("div",Pme,[Ome,El("span",Rme,Yn(e.message),1)]))});const Mme={class:"overflow-auto"};var Fme=Bo({__name:"Console",setup:e=>(e,t)=>{const n=Ame;return gl(),bl("div",Mme,[(gl(!0),bl(ll,null,pa(fr(CI).runtimeErrors,(e=>(gl(),yl(n,{key:e,message:e.toString(),type:"error"},null,8,["message"])))),128)),(gl(!0),bl(ll,null,pa(fr(CI).errors,(e=>(gl(),yl(n,{key:e,message:e.toString(),type:"error"},null,8,["message"])))),128))])}}),Bme={exports:{}},Vme={exports:{}},Wme={};function Hme(e){throw e}function Ume(e){}function zme(e,t,n,i){const s=new SyntaxError(String(e));return s.code=e,s.loc=t,s}const jme=Symbol(""),$me=Symbol(""),Kme=Symbol(""),qme=Symbol(""),Gme=Symbol(""),Yme=Symbol(""),Zme=Symbol(""),Xme=Symbol(""),Jme=Symbol(""),Qme=Symbol(""),e_e=Symbol(""),t_e=Symbol(""),n_e=Symbol(""),i_e=Symbol(""),s_e=Symbol(""),r_e=Symbol(""),o_e=Symbol(""),a_e=Symbol(""),l_e=Symbol(""),c_e=Symbol(""),d_e=Symbol(""),h_e=Symbol(""),u_e=Symbol(""),p_e=Symbol(""),g_e=Symbol(""),f_e=Symbol(""),m_e=Symbol(""),__e=Symbol(""),v_e=Symbol(""),b_e=Symbol(""),y_e=Symbol(""),w_e=Symbol(""),C_e=Symbol(""),S_e=Symbol(""),x_e=Symbol(""),k_e=Symbol(""),E_e=Symbol(""),D_e=Symbol(""),T_e=Symbol(""),L_e={[jme]:"Fragment",[$me]:"Teleport",[Kme]:"Suspense",[qme]:"KeepAlive",[Gme]:"BaseTransition",[Yme]:"openBlock",[Zme]:"createBlock",[Xme]:"createElementBlock",[Jme]:"createVNode",[Qme]:"createElementVNode",[e_e]:"createCommentVNode",[t_e]:"createTextVNode",[n_e]:"createStaticVNode",[i_e]:"resolveComponent",[s_e]:"resolveDynamicComponent",[r_e]:"resolveDirective",[o_e]:"resolveFilter",[a_e]:"withDirectives",[l_e]:"renderList",[c_e]:"renderSlot",[d_e]:"createSlots",[h_e]:"toDisplayString",[u_e]:"mergeProps",[p_e]:"normalizeClass",[g_e]:"normalizeStyle",[f_e]:"normalizeProps",[m_e]:"guardReactiveProps",[__e]:"toHandlers",[v_e]:"camelize",[b_e]:"capitalize",[y_e]:"toHandlerKey",[w_e]:"setBlockTracking",[C_e]:"pushScopeId",[S_e]:"popScopeId",[x_e]:"withCtx",[k_e]:"unref",[E_e]:"isRef",[D_e]:"withMemo",[T_e]:"isMemoSame"};function N_e(e){Object.getOwnPropertySymbols(e).forEach((t=>{L_e[t]=e[t]}))}const I_e={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function P_e(e,t=I_e){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function O_e(e,t,n,i,s,r,o,a=!1,l=!1,c=!1,d=I_e){return e&&(a?(e.helper(Yme),e.helper(pve(e.inSSR,c))):e.helper(uve(e.inSSR,c)),o&&e.helper(a_e)),{type:13,tag:t,props:n,children:i,patchFlag:s,dynamicProps:r,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:d}}function R_e(e,t=I_e){return{type:17,loc:t,elements:e}}function A_e(e,t=I_e){return{type:15,loc:t,properties:e}}function M_e(e,t){return{type:16,loc:I_e,key:pi(e)?F_e(e,!0):e,value:t}}function F_e(e,t=!1,n=I_e,i=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:i}}function B_e(e,t=I_e){return{type:8,loc:t,children:e}}function V_e(e,t=[],n=I_e){return{type:14,loc:n,callee:e,arguments:t}}function W_e(e,t,n=!1,i=!1,s=I_e){return{type:18,params:e,returns:t,newline:n,isSlot:i,loc:s}}function H_e(e,t,n,i=!0){return{type:19,test:e,consequent:t,alternate:n,newline:i,loc:I_e}}function U_e(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:I_e}}function z_e(e){return{type:21,body:e,loc:I_e}}const j_e=e=>4===e.type&&e.isStatic,$_e=(e,t)=>e===t||e===Ti(t);function K_e(e){return $_e(e,"Teleport")?$me:$_e(e,"Suspense")?Kme:$_e(e,"KeepAlive")?qme:$_e(e,"BaseTransition")?Gme:void 0}const q_e=/^\d|[^\$\w]/,G_e=e=>!q_e.test(e),Y_e=/[A-Za-z_$\xA0-\uFFFF]/,Z_e=/[\.\?\w$\xA0-\uFFFF]/,X_e=/\s+[.[]\s*|\s*[.[]\s+/g,J_e=e=>{e=e.trim().replace(X_e,(e=>e.trim()));let t=0,n=[],i=0,s=0,r=null;for(let o=0;o<e.length;o++){const a=e.charAt(o);switch(t){case 0:if("["===a)n.push(t),t=1,i++;else if("("===a)n.push(t),t=2,s++;else if(!(0===o?Y_e:Z_e).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(t),t=3,r=a):"["===a?i++:"]"===a&&(--i||(t=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(t),t=3,r=a;else if("("===a)s++;else if(")"===a){if(o===e.length-1)return!1;--s||(t=n.pop())}break;case 3:a===r&&(t=n.pop(),r=null)}}return!i&&!s},Q_e=Qn,eve=J_e;function tve(e,t,n){const i={source:e.source.slice(t,t+n),start:nve(e.start,e.source,t),end:e.end};return null!=n&&(i.end=nve(e.start,e.source,t+n)),i}function nve(e,t,n=t.length){return ive(si({},e),t,n)}function ive(e,t,n=t.length){let i=0,s=-1;for(let r=0;r<n;r++)10===t.charCodeAt(r)&&(i++,s=r);return e.offset+=n,e.line+=i,e.column=-1===s?e.column+n:n-s,e}function sve(e,t,n=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(7===s.type&&(n||s.exp)&&(pi(t)?s.name===t:t.test(s.name)))return s}}function rve(e,t,n=!1,i=!1){for(let s=0;s<e.props.length;s++){const r=e.props[s];if(6===r.type){if(n)continue;if(r.name===t&&(r.value||i))return r}else if("bind"===r.name&&(r.exp||i)&&ove(r.arg,t))return r}}function ove(e,t){return!(!e||!j_e(e)||e.content!==t)}function ave(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))}function lve(e){return 5===e.type||2===e.type}function cve(e){return 7===e.type&&"slot"===e.name}function dve(e){return 1===e.type&&3===e.tagType}function hve(e){return 1===e.type&&2===e.tagType}function uve(e,t){return e||t?Jme:Qme}function pve(e,t){return e||t?Zme:Xme}const gve=new Set([f_e,m_e]);function fve(e,t=[]){if(e&&!pi(e)&&14===e.type){const n=e.callee;if(!pi(n)&&gve.has(n))return fve(e.arguments[0],t.concat(e))}return[e,t]}function mve(e,t,n){let i,s,r=13===e.type?e.props:e.arguments[2],o=[];if(r&&!pi(r)&&14===r.type){const e=fve(r);r=e[0],o=e[1],s=o[o.length-1]}if(null==r||pi(r))i=A_e([t]);else if(14===r.type){const e=r.arguments[0];pi(e)||15!==e.type?r.callee===__e?i=V_e(n.helper(u_e),[A_e([t]),r]):r.arguments.unshift(A_e([t])):e.properties.unshift(t),!i&&(i=r)}else if(15===r.type){let e=!1;if(4===t.key.type){const n=t.key.content;e=r.properties.some((e=>4===e.key.type&&e.key.content===n))}e||r.properties.unshift(t),i=r}else i=V_e(n.helper(u_e),[A_e([t]),r]),s&&s.callee===m_e&&(s=o[o.length-2]);13===e.type?s?s.arguments[0]=i:e.props=i:s?s.arguments[0]=i:e.arguments[2]=i}function _ve(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}`}function vve(e){return 14===e.type&&e.callee===D_e?e.arguments[1].returns:e}function bve(e,{helper:t,removeHelper:n,inSSR:i}){e.isBlock||(e.isBlock=!0,n(uve(i,e.isComponent)),t(Yme),t(pve(i,e.isComponent)))}const yve={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function wve(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,i=n&&n[e];return"MODE"===e?i||3:i}function Cve(e,t){const n=wve("MODE",t),i=wve(e,t);return 3===n?!0===i:!1!==i}function Sve(e,t,n,...i){return Cve(e,t)}const xve=/&(gt|lt|amp|apos|quot);/g,kve={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Eve={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:ei,isPreTag:ei,isCustomElement:ei,decodeEntities:e=>e.replace(xve,((e,t)=>kve[t])),onError:Hme,onWarn:Ume,comments:!1};function Dve(e,t={}){const n=function(e,t){const n=si({},Eve);let i;for(i in t)n[i]=void 0===t[i]?Eve[i]:t[i];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(e,t),i=Hve(n);return P_e(Tve(n,0,[]),Uve(n,i))}function Tve(e,t,n){const i=zve(n),s=i?i.ns:0,r=[];for(;!Yve(e,t,n);){const o=e.source;let a;if(0===t||1===t)if(!e.inVPre&&jve(o,e.options.delimiters[0]))a=Bve(e,t);else if(0===t&&"<"===o[0])if(1===o.length)Gve(e,5,1);else if("!"===o[1])jve(o,"\x3c!--")?a=Ive(e):jve(o,"<!DOCTYPE")?a=Pve(e):jve(o,"<![CDATA[")?0!==s?a=Nve(e,n):(Gve(e,1),a=Pve(e)):(Gve(e,11),a=Pve(e));else if("/"===o[1])if(2===o.length)Gve(e,5,2);else{if(">"===o[2]){Gve(e,14,2),$ve(e,3);continue}if(/[a-z]/i.test(o[2])){Gve(e,23),Ave(e,1,i);continue}Gve(e,12,2),a=Pve(e)}else/[a-z]/i.test(o[1])?(a=Ove(e,n),Cve("COMPILER_NATIVE_TEMPLATE",e)&&a&&"template"===a.tag&&!a.props.some((e=>7===e.type&&Rve(e.name)))&&(a=a.children)):"?"===o[1]?(Gve(e,21,1),a=Pve(e)):Gve(e,12,1);if(a||(a=Vve(e,t)),li(a))for(let e=0;e<a.length;e++)Lve(r,a[e]);else Lve(r,a)}let o=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let n=0;n<r.length;n++){const i=r[n];if(e.inPre||2!==i.type)3!==i.type||e.options.comments||(o=!0,r[n]=null);else if(/[^\t\r\n\f ]/.test(i.content))t&&(i.content=i.content.replace(/[\t\r\n\f ]+/g," "));else{const e=r[n-1],s=r[n+1];!e||!s||t&&(3===e.type||3===s.type||1===e.type&&1===s.type&&/[\r\n]/.test(i.content))?(o=!0,r[n]=null):i.content=" "}}if(e.inPre&&i&&e.options.isPreTag(i.tag)){const e=r[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return o?r.filter(Boolean):r}function Lve(e,t){if(2===t.type){const n=zve(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset)return n.content+=t.content,n.loc.end=t.loc.end,void(n.loc.source+=t.loc.source)}e.push(t)}function Nve(e,t){$ve(e,9);const n=Tve(e,3,t);return 0===e.source.length?Gve(e,6):$ve(e,3),n}function Ive(e){const t=Hve(e);let n;const i=/--(\!)?>/.exec(e.source);if(i){i.index<=3&&Gve(e,0),i[1]&&Gve(e,10),n=e.source.slice(4,i.index);const t=e.source.slice(0,i.index);let s=1,r=0;for(;-1!==(r=t.indexOf("\x3c!--",s));)$ve(e,r-s+1),r+4<t.length&&Gve(e,16),s=r+1;$ve(e,i.index+i[0].length-s+1)}else n=e.source.slice(4),$ve(e,e.source.length),Gve(e,7);return{type:3,content:n,loc:Uve(e,t)}}function Pve(e){const t=Hve(e),n="?"===e.source[1]?1:2;let i;const s=e.source.indexOf(">");return-1===s?(i=e.source.slice(n),$ve(e,e.source.length)):(i=e.source.slice(n,s),$ve(e,s+1)),{type:3,content:i,loc:Uve(e,t)}}function Ove(e,t){const n=e.inPre,i=e.inVPre,s=zve(t),r=Ave(e,0,s),o=e.inPre&&!n,a=e.inVPre&&!i;if(r.isSelfClosing||e.options.isVoidTag(r.tag))return o&&(e.inPre=!1),a&&(e.inVPre=!1),r;t.push(r);const l=e.options.getTextMode(r,s),c=Tve(e,l,t);t.pop();{const t=r.props.find((e=>6===e.type&&"inline-template"===e.name));if(t&&Sve("COMPILER_INLINE_TEMPLATE",e,t.loc)){const n=Uve(e,r.loc.end);t.value={type:2,content:n.source,loc:n}}}if(r.children=c,Zve(e.source,r.tag))Ave(e,1,s);else if(Gve(e,24,0,r.loc.start),0===e.source.length&&"script"===r.tag.toLowerCase()){const t=c[0];t&&jve(t.loc.source,"\x3c!--")&&Gve(e,8)}return r.loc=Uve(e,r.loc.start),o&&(e.inPre=!1),a&&(e.inVPre=!1),r}const Rve=Cn("if,else,else-if,for,slot");function Ave(e,t,n){const i=Hve(e),s=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),r=s[1],o=e.options.getNamespace(r,n);$ve(e,s[0].length),Kve(e);const a=Hve(e),l=e.source;e.options.isPreTag(r)&&(e.inPre=!0);let c=Mve(e,t);0===t&&!e.inVPre&&c.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,si(e,a),e.source=l,c=Mve(e,t).filter((e=>"v-pre"!==e.name)));let d=!1;if(0===e.source.length?Gve(e,9):(d=jve(e.source,"/>"),1===t&&d&&Gve(e,4),$ve(e,d?2:1)),1===t)return;let h=0;return e.inVPre||("slot"===r?h=2:"template"===r?c.some((e=>7===e.type&&Rve(e.name)))&&(h=3):function(e,t,n){const i=n.options;if(i.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||K_e(e)||i.isBuiltInComponent&&i.isBuiltInComponent(e)||i.isNativeTag&&!i.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const e=t[s];if(6===e.type){if("is"===e.name&&e.value){if(e.value.content.startsWith("vue:"))return!0;if(Sve("COMPILER_IS_ON_ELEMENT",n,e.loc))return!0}}else{if("is"===e.name)return!0;if("bind"===e.name&&ove(e.arg,"is")&&Sve("COMPILER_IS_ON_ELEMENT",n,e.loc))return!0}}}(r,c,e)&&(h=1)),{type:1,ns:o,tag:r,tagType:h,props:c,isSelfClosing:d,children:[],loc:Uve(e,i),codegenNode:void 0}}function Mve(e,t){const n=[],i=new Set;for(;e.source.length>0&&!jve(e.source,">")&&!jve(e.source,"/>");){if(jve(e.source,"/")){Gve(e,22),$ve(e,1),Kve(e);continue}1===t&&Gve(e,3);const s=Fve(e,i);6===s.type&&s.value&&"class"===s.name&&(s.value.content=s.value.content.replace(/\s+/g," ").trim()),0===t&&n.push(s),/^[^\t\r\n\f />]/.test(e.source)&&Gve(e,15),Kve(e)}return n}function Fve(e,t){const n=Hve(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&Gve(e,2),t.add(i),"="===i[0]&&Gve(e,19);{const t=/["'<]/g;let n;for(;n=t.exec(i);)Gve(e,17,n.index)}let s;$ve(e,i.length),/^[\t\r\n\f ]*=/.test(e.source)&&(Kve(e),$ve(e,1),Kve(e),s=function(e){const t=Hve(e);let n;const i=e.source[0],s='"'===i||"'"===i;if(s){$ve(e,1);const t=e.source.indexOf(i);-1===t?n=Wve(e,e.source.length,4):(n=Wve(e,t,4),$ve(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const i=/["'<=`]/g;let s;for(;s=i.exec(t[0]);)Gve(e,18,s.index);n=Wve(e,t[0].length,4)}return{content:n,isQuoted:s,loc:Uve(e,t)}}(e),s||Gve(e,13));const r=Uve(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let o,a=jve(i,"."),l=t[1]||(a||jve(i,":")?"bind":jve(i,"@")?"on":"slot");if(t[2]){const s="slot"===l,r=i.lastIndexOf(t[2]),a=Uve(e,qve(e,n,r),qve(e,n,r+t[2].length+(s&&t[3]||"").length));let c=t[2],d=!0;c.startsWith("[")?(d=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(Gve(e,27),c=c.slice(1))):s&&(c+=t[3]||""),o={type:4,content:c,isStatic:d,constType:d?3:0,loc:a}}if(s&&s.isQuoted){const e=s.loc;e.start.offset++,e.start.column++,e.end=nve(e.start,s.content),e.source=e.source.slice(1,-1)}const c=t[3]?t[3].slice(1).split("."):[];return a&&c.push("prop"),"bind"===l&&o&&c.includes("sync")&&Sve("COMPILER_V_BIND_SYNC",e,0,o.loc.source)&&(l="model",c.splice(c.indexOf("sync"),1)),{type:7,name:l,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:o,modifiers:c,loc:r}}return!e.inVPre&&jve(i,"v-")&&Gve(e,26),{type:6,name:i,value:s&&{type:2,content:s.content,loc:s.loc},loc:r}}function Bve(e,t){const[n,i]=e.options.delimiters,s=e.source.indexOf(i,n.length);if(-1===s)return void Gve(e,25);const r=Hve(e);$ve(e,n.length);const o=Hve(e),a=Hve(e),l=s-n.length,c=e.source.slice(0,l),d=Wve(e,l,t),h=d.trim(),u=d.indexOf(h);u>0&&ive(o,c,u);return ive(a,c,l-(d.length-h.length-u)),$ve(e,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:Uve(e,o,a)},loc:Uve(e,r)}}function Vve(e,t){const n=3===t?["]]>"]:["<",e.options.delimiters[0]];let i=e.source.length;for(let r=0;r<n.length;r++){const t=e.source.indexOf(n[r],1);-1!==t&&i>t&&(i=t)}const s=Hve(e);return{type:2,content:Wve(e,i,t),loc:Uve(e,s)}}function Wve(e,t,n){const i=e.source.slice(0,t);return $ve(e,t),2!==n&&3!==n&&i.includes("&")?e.options.decodeEntities(i,4===n):i}function Hve(e){const{column:t,line:n,offset:i}=e;return{column:t,line:n,offset:i}}function Uve(e,t,n){return{start:t,end:n=n||Hve(e),source:e.originalSource.slice(t.offset,n.offset)}}function zve(e){return e[e.length-1]}function jve(e,t){return e.startsWith(t)}function $ve(e,t){const{source:n}=e;ive(e,n,t),e.source=n.slice(t)}function Kve(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&$ve(e,t[0].length)}function qve(e,t,n){return nve(t,e.originalSource.slice(t.offset,n),n)}function Gve(e,t,n,i=Hve(e)){n&&(i.offset+=n,i.column+=n),e.options.onError(zme(t,{start:i,end:i,source:""}))}function Yve(e,t,n){const i=e.source;switch(t){case 0:if(jve(i,"</"))for(let e=n.length-1;e>=0;--e)if(Zve(i,n[e].tag))return!0;break;case 1:case 2:{const e=zve(n);if(e&&Zve(i,e.tag))return!0;break}case 3:if(jve(i,"]]>"))return!0}return!i}function Zve(e,t){return jve(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function Xve(e,t){Qve(e,t,Jve(e,e.children[0]))}function Jve(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!hve(t)}function Qve(e,t,n=!1){const{children:i}=e,s=i.length;let r=0;for(let o=0;o<i.length;o++){const e=i[o];if(1===e.type&&0===e.tagType){const i=n?0:ebe(e,t);if(i>0){if(i>=2){e.codegenNode.patchFlag="-1",e.codegenNode=t.hoist(e.codegenNode),r++;continue}}else{const n=e.codegenNode;if(13===n.type){const i=rbe(n);if((!i||512===i||1===i)&&ibe(e,t)>=2){const i=sbe(e);i&&(n.props=t.hoist(i))}n.dynamicProps&&(n.dynamicProps=t.hoist(n.dynamicProps))}}}else 12===e.type&&ebe(e.content,t)>=2&&(e.codegenNode=t.hoist(e.codegenNode),r++);if(1===e.type){const n=1===e.tagType;n&&t.scopes.vSlot++,Qve(e,t),n&&t.scopes.vSlot--}else if(11===e.type)Qve(e,t,1===e.children.length);else if(9===e.type)for(let n=0;n<e.branches.length;n++)Qve(e.branches[n],t,1===e.branches[n].children.length)}r&&t.transformHoist&&t.transformHoist(i,t,e),r&&r===s&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&li(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(R_e(e.codegenNode.children)))}function ebe(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const i=n.get(e);if(void 0!==i)return i;const s=e.codegenNode;if(13!==s.type)return 0;if(s.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(rbe(s))return n.set(e,0),0;{let i=3;const r=ibe(e,t);if(0===r)return n.set(e,0),0;r<i&&(i=r);for(let s=0;s<e.children.length;s++){const r=ebe(e.children[s],t);if(0===r)return n.set(e,0),0;r<i&&(i=r)}if(i>1)for(let s=0;s<e.props.length;s++){const r=e.props[s];if(7===r.type&&"bind"===r.name&&r.exp){const s=ebe(r.exp,t);if(0===s)return n.set(e,0),0;s<i&&(i=s)}}if(s.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return n.set(e,0),0}t.removeHelper(Yme),t.removeHelper(pve(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(uve(t.inSSR,s.isComponent))}return n.set(e,i),i}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ebe(e.content,t);case 4:return e.constType;case 8:let r=3;for(let n=0;n<e.children.length;n++){const i=e.children[n];if(pi(i)||gi(i))continue;const s=ebe(i,t);if(0===s)return 0;s<r&&(r=s)}return r;default:return 0}}const tbe=new Set([p_e,g_e,f_e,m_e]);function nbe(e,t){if(14===e.type&&!pi(e.callee)&&tbe.has(e.callee)){const n=e.arguments[0];if(4===n.type)return ebe(n,t);if(14===n.type)return nbe(n,t)}return 0}function ibe(e,t){let n=3;const i=sbe(e);if(i&&15===i.type){const{properties:e}=i;for(let i=0;i<e.length;i++){const{key:s,value:r}=e[i],o=ebe(s,t);if(0===o)return o;let a;if(o<n&&(n=o),a=4===r.type?ebe(r,t):14===r.type?nbe(r,t):0,0===a)return a;a<n&&(n=a)}}return n}function sbe(e){const t=e.codegenNode;if(13===t.type)return t.props}function rbe(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function obe(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:i=!1,cacheHandlers:s=!1,nodeTransforms:r=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:l=Qn,isCustomElement:c=Qn,expressionPlugins:d=[],scopeId:h=null,slotted:u=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:f="",bindingMetadata:m=Xn,inline:_=!1,isTS:v=!1,onError:b=Hme,onWarn:y=Ume,compatConfig:w}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:C&&Li(Ei(C[1])),prefixIdentifiers:n,hoistStatic:i,cacheHandlers:s,nodeTransforms:r,directiveTransforms:o,transformHoist:a,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:d,scopeId:h,slotted:u,ssr:p,inSSR:g,ssrCssVars:f,bindingMetadata:m,inline:_,isTS:v,onError:b,onWarn:y,compatConfig:w,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=S.helpers.get(e)||0;return S.helpers.set(e,t+1),e},removeHelper(e){const t=S.helpers.get(e);if(t){const n=t-1;n?S.helpers.set(e,n):S.helpers.delete(e)}},helperString:e=>`_${L_e[S.helper(e)]}`,replaceNode(e){S.parent.children[S.childIndex]=S.currentNode=e},removeNode(e){const t=S.parent.children,n=e?t.indexOf(e):S.currentNode?S.childIndex:-1;e&&e!==S.currentNode?S.childIndex>n&&(S.childIndex--,S.onNodeRemoved()):(S.currentNode=null,S.onNodeRemoved()),S.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){pi(e)&&(e=F_e(e)),S.hoists.push(e);const t=F_e(`_hoisted_${S.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>U_e(S.cached++,e,t)};return S.filters=new Set,S}function abe(e,t){const n=obe(e,t);lbe(e,n),t.hoistStatic&&Xve(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:i}=e;if(1===i.length){const n=i[0];if(Jve(e,n)&&n.codegenNode){const i=n.codegenNode;13===i.type&&bve(i,t),e.codegenNode=i}else e.codegenNode=n}else if(i.length>1){let i=64;e.codegenNode=O_e(t,n(jme),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function lbe(e,t){t.currentNode=e;const{nodeTransforms:n}=t,i=[];for(let r=0;r<n.length;r++){const s=n[r](e,t);if(s&&(li(s)?i.push(...s):i.push(s)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(e_e);break;case 5:t.ssr||t.helper(h_e);break;case 9:for(let n=0;n<e.branches.length;n++)lbe(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const i=()=>{n--};for(;n<e.children.length;n++){const s=e.children[n];pi(s)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=i,lbe(s,t))}}(e,t)}t.currentNode=e;let s=i.length;for(;s--;)i[s]()}function cbe(e,t){const n=pi(e)?t=>t===e:t=>e.test(t);return(e,i)=>{if(1===e.type){const{props:s}=e;if(3===e.tagType&&s.some(cve))return;const r=[];for(let o=0;o<s.length;o++){const a=s[o];if(7===a.type&&n(a.name)){s.splice(o,1),o--;const n=t(e,a,i);n&&r.push(n)}}return r}}}const dbe=e=>`${L_e[e]}: _${L_e[e]}`;function hbe(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:i=!1,filename:s="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:d=!1,isTS:h=!1,inSSR:u=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:i,filename:s,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:d,isTS:h,inSSR:u,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${L_e[e]}`,push(e,t){p.code+=e},indent(){g(++p.indentLevel)},deindent(e=!1){e?--p.indentLevel:g(--p.indentLevel)},newline(){g(p.indentLevel)}};function g(e){p.push("\n"+"  ".repeat(e))}return p}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:i,push:s,prefixIdentifiers:r,indent:o,deindent:a,newline:l,scopeId:c,ssr:d}=n,h=e.helpers.length>0,u=!r&&"module"!==i;!function(e,t){const{ssr:n,prefixIdentifiers:i,push:s,newline:r,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a;if(e.helpers.length>0&&(s(`const _Vue = ${c}\n`),e.hoists.length)){s(`const { ${[Jme,Qme,e_e,t_e,n_e].filter((t=>e.helpers.includes(t))).map(dbe).join(", ")} } = _Vue\n`)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:i,helper:s,scopeId:r,mode:o}=t;i();for(let a=0;a<e.length;a++){const s=e[a];s&&(n(`const _hoisted_${a+1} = `),fbe(s,t),i())}t.pure=!1})(e.hoists,t),r(),s("return ")}(e,n);if(s(`function ${d?"ssrRender":"render"}(${(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),o(),u&&(s("with (_ctx) {"),o(),h&&(s(`const { ${e.helpers.map(dbe).join(", ")} } = _Vue`),s("\n"),l())),e.components.length&&(ube(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(ube(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),ube(e.filters,"filter",n),l()),e.temps>0){s("let ");for(let t=0;t<e.temps;t++)s(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(s("\n"),l()),d||s("return "),e.codegenNode?fbe(e.codegenNode,n):s("null"),u&&(a(),s("}")),a(),s("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function ube(e,t,{helper:n,push:i,newline:s,isTS:r}){const o=n("filter"===t?o_e:"component"===t?i_e:r_e);for(let a=0;a<e.length;a++){let n=e[a];const l=n.endsWith("__self");l&&(n=n.slice(0,-6)),i(`const ${_ve(n,t)} = ${o}(${JSON.stringify(n)}${l?", true":""})${r?"!":""}`),a<e.length-1&&s()}}function pbe(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),gbe(e,t,n),n&&t.deindent(),t.push("]")}function gbe(e,t,n=!1,i=!0){const{push:s,newline:r}=t;for(let o=0;o<e.length;o++){const a=e[o];pi(a)?s(a):li(a)?pbe(a,t):fbe(a,t),o<e.length-1&&(n?(i&&s(","),r()):i&&s(", "))}}function fbe(e,t){if(pi(e))t.push(e);else if(gi(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:fbe(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:mbe(e,t);break;case 5:!function(e,t){const{push:n,helper:i,pure:s}=t;s&&n("/*#__PURE__*/");n(`${i(h_e)}(`),fbe(e.content,t),n(")")}(e,t);break;case 12:fbe(e.codegenNode,t);break;case 8:_be(e,t);break;case 3:!function(e,t){const{push:n,helper:i,pure:s}=t;s&&n("/*#__PURE__*/");n(`${i(e_e)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:i,pure:s}=t,{tag:r,props:o,children:a,patchFlag:l,dynamicProps:c,directives:d,isBlock:h,disableTracking:u,isComponent:p}=e;d&&n(i(a_e)+"(");h&&n(`(${i(Yme)}(${u?"true":""}), `);s&&n("/*#__PURE__*/");const g=h?pve(t.inSSR,p):uve(t.inSSR,p);n(i(g)+"(",e),gbe(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([r,o,a,l,c]),t),n(")"),h&&n(")");d&&(n(", "),fbe(d,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:i,pure:s}=t,r=pi(e.callee)?e.callee:i(e.callee);s&&n("/*#__PURE__*/");n(r+"(",e),gbe(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:i,deindent:s,newline:r}=t,{properties:o}=e;if(!o.length)return void n("{}",e);const a=o.length>1||!1;n(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:e,value:i}=o[l];vbe(e,t),n(": "),fbe(i,t),l<o.length-1&&(n(","),r())}a&&s(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){pbe(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:i,deindent:s}=t,{params:r,returns:o,body:a,newline:l,isSlot:c}=e;c&&n(`_${L_e[x_e]}(`);n("(",e),li(r)?gbe(r,t):r&&fbe(r,t);n(") => "),(l||a)&&(n("{"),i());o?(l&&n("return "),li(o)?pbe(o,t):fbe(o,t)):a&&fbe(a,t);(l||a)&&(s(),n("}"));c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:i,alternate:s,newline:r}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(4===n.type){const e=!G_e(n.content);e&&o("("),mbe(n,t),e&&o(")")}else o("("),fbe(n,t),o(")");r&&a(),t.indentLevel++,r||o(" "),o("? "),fbe(i,t),t.indentLevel--,r&&c(),r||o(" "),o(": ");const d=19===s.type;d||t.indentLevel++;fbe(s,t),d||t.indentLevel--;r&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:i,indent:s,deindent:r,newline:o}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(s(),n(`${i(w_e)}(-1),`),o());n(`_cache[${e.index}] = `),fbe(e.value,t),e.isVNode&&(n(","),o(),n(`${i(w_e)}(1),`),o(),n(`_cache[${e.index}]`),r());n(")")}(e,t);break;case 21:gbe(e.body,t,!0,!1)}}function mbe(e,t){const{content:n,isStatic:i}=e;t.push(i?JSON.stringify(n):n,e)}function _be(e,t){for(let n=0;n<e.children.length;n++){const i=e.children[n];pi(i)?t.push(i):fbe(i,t)}}function vbe(e,t){const{push:n}=t;if(8===e.type)n("["),_be(e,t),n("]");else if(e.isStatic){n(G_e(e.content)?e.content:JSON.stringify(e.content),e)}else n(`[${e.content}]`,e)}function bbe(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":for(const i of e.properties)"RestElement"===i.type?bbe(i.argument,t):bbe(i.value,t);break;case"ArrayPattern":e.elements.forEach((e=>{e&&bbe(e,t)}));break;case"RestElement":bbe(e.argument,t);break;case"AssignmentPattern":bbe(e.left,t)}return t}const ybe=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");function wbe(e,t,n=!1,i=!1,s=Object.create(t.identifiers)){return e}const Cbe=cbe(/^(if|else|else-if)$/,((e,t,n)=>Sbe(e,t,n,((e,t,i)=>{const s=n.parent.children;let r=s.indexOf(e),o=0;for(;r-- >=0;){const e=s[r];e&&9===e.type&&(o+=e.branches.length)}return()=>{if(i)e.codegenNode=kbe(t,o,n);else{(function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode)).alternate=kbe(t,o+e.branches.length-1,n)}}}))));function Sbe(e,t,n,i){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(zme(28,t.loc)),t.exp=F_e("true",!1,i)}if("if"===t.name){const s=xbe(e,t),r={type:9,loc:e.loc,branches:[s]};if(n.replaceNode(r),i)return i(r,s,!0)}else{const s=n.parent.children;let r=s.indexOf(e);for(;r-- >=-1;){const o=s[r];if(!o||2!==o.type||o.content.trim().length){if(o&&9===o.type){"else-if"===t.name&&void 0===o.branches[o.branches.length-1].condition&&n.onError(zme(30,e.loc)),n.removeNode();const s=xbe(e,t);o.branches.push(s);const r=i&&i(o,s,!1);lbe(s,n),r&&r(),n.currentNode=null}else n.onError(zme(30,e.loc));break}n.removeNode(o)}}}function xbe(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!sve(e,"for")?e.children:[e],userKey:rve(e,"key"),isTemplateIf:n}}function kbe(e,t,n){return e.condition?H_e(e.condition,Ebe(e,t,n),V_e(n.helper(e_e),['""',"true"])):Ebe(e,t,n)}function Ebe(e,t,n){const{helper:i}=n,s=M_e("key",F_e(`${t}`,!1,I_e,2)),{children:r}=e,o=r[0];if(1!==r.length||1!==o.type){if(1===r.length&&11===o.type){const e=o.codegenNode;return mve(e,s,n),e}{let t=64;return O_e(n,i(jme),A_e([s]),r,t+"",void 0,void 0,!0,!1,!1,e.loc)}}{const e=o.codegenNode,t=vve(e);return 13===t.type&&bve(t,n),mve(t,s,n),e}}const Dbe=cbe("for",((e,t,n)=>{const{helper:i,removeHelper:s}=n;return Tbe(e,t,n,(t=>{const r=V_e(i(l_e),[t.source]),o=dve(e),a=sve(e,"memo"),l=rve(e,"key"),c=l&&(6===l.type?F_e(l.value.content,!0):l.exp),d=l?M_e("key",c):null,h=4===t.source.type&&t.source.constType>0,u=h?64:l?128:256;return t.codegenNode=O_e(n,i(jme),void 0,r,u+"",void 0,void 0,!0,!h,!1,e.loc),()=>{let l;const{children:u}=t,p=1!==u.length||1!==u[0].type,g=hve(e)?e:o&&1===e.children.length&&hve(e.children[0])?e.children[0]:null;if(g?(l=g.codegenNode,o&&d&&mve(l,d,n)):p?l=O_e(n,i(jme),d?A_e([d]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(l=u[0].codegenNode,o&&d&&mve(l,d,n),l.isBlock!==!h&&(l.isBlock?(s(Yme),s(pve(n.inSSR,l.isComponent))):s(uve(n.inSSR,l.isComponent))),l.isBlock=!h,l.isBlock?(i(Yme),i(pve(n.inSSR,l.isComponent))):i(uve(n.inSSR,l.isComponent))),a){const e=W_e(Rbe(t.parseResult,[F_e("_cached")]));e.body=z_e([B_e(["const _memo = (",a.exp,")"]),B_e(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(T_e)}(_cached, _memo)) return _cached`]),B_e(["const _item = ",l]),F_e("_item.memo = _memo"),F_e("return _item")]),r.arguments.push(e,F_e("_cache"),F_e(String(n.cached++)))}else r.arguments.push(W_e(Rbe(t.parseResult),l,!0))}}))}));function Tbe(e,t,n,i){if(!t.exp)return void n.onError(zme(31,t.loc));const s=Pbe(t.exp);if(!s)return void n.onError(zme(32,t.loc));const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:d,index:h}=s,u={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:d,objectIndexAlias:h,parseResult:s,children:dve(e)?e.children:[e]};n.replaceNode(u),a.vFor++;const p=i&&i(u);return()=>{a.vFor--,p&&p()}}const Lbe=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Nbe=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ibe=/^\(|\)$/g;function Pbe(e,t){const n=e.loc,i=e.content,s=i.match(Lbe);if(!s)return;const[,r,o]=s,a={source:Obe(n,o.trim(),i.indexOf(o,r.length)),value:void 0,key:void 0,index:void 0};let l=r.trim().replace(Ibe,"").trim();const c=r.indexOf(l),d=l.match(Nbe);if(d){l=l.replace(Nbe,"").trim();const e=d[1].trim();let t;if(e&&(t=i.indexOf(e,c+l.length),a.key=Obe(n,e,t)),d[2]){const s=d[2].trim();s&&(a.index=Obe(n,s,i.indexOf(s,a.key?t+e.length:c+l.length)))}}return l&&(a.value=Obe(n,l,c)),a}function Obe(e,t,n){return F_e(t,!1,tve(e,n,t.length))}function Rbe({value:e,key:t,index:n},i=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||F_e("_".repeat(t+1),!1)))}([e,t,n,...i])}const Abe=F_e("undefined",!1),Mbe=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=sve(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Fbe=(e,t,n)=>W_e(e,t,!1,!0,t.length?t[0].loc:n);function Bbe(e,t,n=Fbe){t.helper(x_e);const{children:i,loc:s}=e,r=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=sve(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!j_e(e)&&(a=!0),r.push(M_e(e||F_e("default",!0),n(t,i,s)))}let c=!1,d=!1;const h=[],u=new Set;for(let f=0;f<i.length;f++){const e=i[f];let s;if(!dve(e)||!(s=sve(e,"slot",!0))){3!==e.type&&h.push(e);continue}if(l){t.onError(zme(37,s.loc));break}c=!0;const{children:p,loc:g}=e,{arg:m=F_e("default",!0),exp:_,loc:v}=s;let b;j_e(m)?b=m?m.content:"default":a=!0;const y=n(_,p,g);let w,C,S;if(w=sve(e,"if"))a=!0,o.push(H_e(w.exp,Vbe(m,y),Abe));else if(C=sve(e,/^else(-if)?$/,!0)){let e,n=f;for(;n--&&(e=i[n],3===e.type););if(e&&dve(e)&&sve(e,"if")){i.splice(f,1),f--;let e=o[o.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=C.exp?H_e(C.exp,Vbe(m,y),Abe):Vbe(m,y)}else t.onError(zme(30,C.loc))}else if(S=sve(e,"for")){a=!0;const e=S.parseResult||Pbe(S.exp);e?o.push(V_e(t.helper(l_e),[e.source,W_e(Rbe(e),Vbe(m,y),!0)])):t.onError(zme(32,S.loc))}else{if(b){if(u.has(b)){t.onError(zme(38,v));continue}u.add(b),"default"===b&&(d=!0)}r.push(M_e(m,y))}}if(!l){const e=(e,i)=>{const r=n(e,i,s);return t.compatConfig&&(r.isNonScopedSlot=!0),M_e("default",r)};c?h.length&&h.some((e=>Hbe(e)))&&(d?t.onError(zme(39,h[0].loc)):r.push(e(void 0,h))):r.push(e(void 0,i))}const p=a?2:Wbe(e.children)?3:1;let g=A_e(r.concat(M_e("_",F_e(p+"",!1))),s);return o.length&&(g=V_e(t.helper(d_e),[g,R_e(o)])),{slots:g,hasDynamicSlots:a}}function Vbe(e,t){return A_e([M_e("name",e),M_e("fn",t)])}function Wbe(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||Wbe(n.children))return!0;break;case 9:if(Wbe(n.branches))return!0;break;case 10:case 11:if(Wbe(n.children))return!0}}return!1}function Hbe(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():Hbe(e.content))}const Ube=new WeakMap,zbe=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:i}=e,s=1===e.tagType;let r=s?jbe(e,t):`"${n}"`;const o=fi(r)&&r.callee===s_e;let a,l,c,d,h,u,p=0,g=o||r===$me||r===Kme||!s&&("svg"===n||"foreignObject"===n);if(i.length>0){const n=$be(e,t,void 0,s,o);a=n.props,p=n.patchFlag,h=n.dynamicPropNames;const i=n.directives;u=i&&i.length?R_e(i.map((e=>Gbe(e,t)))):void 0,n.shouldUseBlock&&(g=!0)}if(e.children.length>0){r===qme&&(g=!0,p|=1024);if(s&&r!==$me&&r!==qme){const{slots:n,hasDynamicSlots:i}=Bbe(e,t);l=n,i&&(p|=1024)}else if(1===e.children.length&&r!==$me){const n=e.children[0],i=n.type,s=5===i||8===i;s&&0===ebe(n,t)&&(p|=1),l=s||2===i?n:e.children}else l=e.children}0!==p&&(c=String(p),h&&h.length&&(d=function(e){let t="[";for(let n=0,i=e.length;n<i;n++)t+=JSON.stringify(e[n]),n<i-1&&(t+=", ");return t+"]"}(h))),e.codegenNode=O_e(t,r,a,l,c,d,u,!!g,!1,s,e.loc)};function jbe(e,t,n=!1){let{tag:i}=e;const s=Ybe(i),r=rve(e,"is");if(r)if(s||Cve("COMPILER_IS_ON_ELEMENT",t)){const e=6===r.type?r.value&&F_e(r.value.content,!0):r.exp;if(e)return V_e(t.helper(s_e),[e])}else 6===r.type&&r.value.content.startsWith("vue:")&&(i=r.value.content.slice(4));const o=!s&&sve(e,"is");if(o&&o.exp)return V_e(t.helper(s_e),[o.exp]);const a=K_e(i)||t.isBuiltInComponent(i);return a?(n||t.helper(a),a):(t.helper(i_e),t.components.add(i),_ve(i,"component"))}function $be(e,t,n=e.props,i,s,r=!1){const{tag:o,loc:a,children:l}=e;let c=[];const d=[],h=[],u=l.length>0;let p=!1,g=0,f=!1,m=!1,_=!1,v=!1,b=!1,y=!1;const w=[],C=({key:e,value:n})=>{if(j_e(e)){const r=e.content,o=ni(r);if(!o||i&&!s||"onclick"===r.toLowerCase()||"onUpdate:modelValue"===r||Ci(r)||(v=!0),o&&Ci(r)&&(y=!0),20===n.type||(4===n.type||8===n.type)&&ebe(n,t)>0)return;"ref"===r?f=!0:"class"===r?m=!0:"style"===r?_=!0:"key"===r||w.includes(r)||w.push(r),!i||"class"!==r&&"style"!==r||w.includes(r)||w.push(r)}else b=!0};for(let x=0;x<n.length;x++){const s=n[x];if(6===s.type){const{loc:e,name:n,value:i}=s;let r=!0;if("ref"===n&&(f=!0,t.scopes.vFor>0&&c.push(M_e(F_e("ref_for",!0),F_e("true")))),"is"===n&&(Ybe(o)||i&&i.content.startsWith("vue:")||Cve("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(M_e(F_e(n,!0,tve(e,0,n.length)),F_e(i?i.content:"",r,i?i.loc:e)))}else{const{name:n,arg:l,exp:g,loc:f}=s,m="bind"===n,_="on"===n;if("slot"===n){i||t.onError(zme(40,f));continue}if("once"===n||"memo"===n)continue;if("is"===n||m&&ove(l,"is")&&(Ybe(o)||Cve("COMPILER_IS_ON_ELEMENT",t)))continue;if(_&&r)continue;if((m&&ove(l,"key")||_&&u&&ove(l,"vue:before-update"))&&(p=!0),m&&ove(l,"ref")&&t.scopes.vFor>0&&c.push(M_e(F_e("ref_for",!0),F_e("true"))),!l&&(m||_)){if(b=!0,g)if(c.length&&(d.push(A_e(Kbe(c),a)),c=[]),m){if(Cve("COMPILER_V_BIND_OBJECT_ORDER",t)){d.unshift(g);continue}d.push(g)}else d.push({type:14,loc:f,callee:t.helper(__e),arguments:[g]});else t.onError(zme(m?34:35,f));continue}const v=t.directiveTransforms[n];if(v){const{props:n,needRuntime:i}=v(s,e,t);!r&&n.forEach(C),c.push(...n),i&&(h.push(s),gi(i)&&Ube.set(s,i))}else Si(n)||(h.push(s),u&&(p=!0))}}let S;if(d.length?(c.length&&d.push(A_e(Kbe(c),a)),S=d.length>1?V_e(t.helper(u_e),d,a):d[0]):c.length&&(S=A_e(Kbe(c),a)),b?g|=16:(m&&!i&&(g|=2),_&&!i&&(g|=4),w.length&&(g|=8),v&&(g|=32)),p||0!==g&&32!==g||!(f||y||h.length>0)||(g|=512),!t.inSSR&&S)switch(S.type){case 15:let e=-1,n=-1,i=!1;for(let t=0;t<S.properties.length;t++){const s=S.properties[t].key;j_e(s)?"class"===s.content?e=t:"style"===s.content&&(n=t):s.isHandlerKey||(i=!0)}const s=S.properties[e],r=S.properties[n];i?S=V_e(t.helper(f_e),[S]):(s&&!j_e(s.value)&&(s.value=V_e(t.helper(p_e),[s.value])),r&&(_||4===r.value.type&&"["===r.value.content.trim()[0]||17===r.value.type)&&(r.value=V_e(t.helper(g_e),[r.value])));break;case 14:break;default:S=V_e(t.helper(f_e),[V_e(t.helper(m_e),[S])])}return{props:S,directives:h,patchFlag:g,dynamicPropNames:w,shouldUseBlock:p}}function Kbe(e){const t=new Map,n=[];for(let i=0;i<e.length;i++){const s=e[i];if(8===s.key.type||!s.key.isStatic){n.push(s);continue}const r=s.key.content,o=t.get(r);o?("style"===r||"class"===r||ni(r))&&qbe(o,s):(t.set(r,s),n.push(s))}return n}function qbe(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=R_e([e.value,t.value],e.loc)}function Gbe(e,t){const n=[],i=Ube.get(e);i?n.push(t.helperString(i)):(t.helper(r_e),t.directives.add(e.name),n.push(_ve(e.name,"directive")));const{loc:s}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=F_e("true",!1,s);n.push(A_e(e.modifiers.map((e=>M_e(e,t))),s))}return R_e(n,e.loc)}function Ybe(e){return"component"===e||"Component"===e}const Zbe=/-(\w)/g,Xbe=(e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})((e=>e.replace(Zbe,((e,t)=>t?t.toUpperCase():"")))),Jbe=(e,t)=>{if(hve(e)){const{children:n,loc:i}=e,{slotName:s,slotProps:r}=Qbe(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;r&&(o[2]=r,a=3),n.length&&(o[3]=W_e([],n,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=V_e(t.helper(c_e),o,i)}};function Qbe(e,t){let n,i='"default"';const s=[];for(let r=0;r<e.props.length;r++){const t=e.props[r];6===t.type?t.value&&("name"===t.name?i=JSON.stringify(t.value.content):(t.name=Xbe(t.name),s.push(t))):"bind"===t.name&&ove(t.arg,"name")?t.exp&&(i=t.exp):("bind"===t.name&&t.arg&&j_e(t.arg)&&(t.arg.content=Xbe(t.arg.content)),s.push(t))}if(s.length>0){const{props:i,directives:r}=$be(e,t,s,!1,!1);n=i,r.length&&t.onError(zme(36,r[0].loc))}return{slotName:i,slotProps:n}}const eye=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,tye=(e,t,n,i)=>{const{loc:s,modifiers:r,arg:o}=e;let a;if(e.exp||r.length||n.onError(zme(35,s)),4===o.type)if(o.isStatic){let e=o.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`),a=F_e(Ni(Ei(e)),!0,o.loc)}else a=B_e([`${n.helperString(y_e)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(y_e)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const e=eve(l.content),t=!(e||eye.test(l.content)),n=l.content.includes(";");(t||c&&e)&&(l=B_e([`${t?"$event":"(...args)"} => ${n?"{":"("}`,l,n?"}":")"]))}let d={props:[M_e(a,l||F_e("() => {}",!1,s))]};return i&&(d=i(d)),c&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach((e=>e.key.isHandlerKey=!0)),d},nye=(e,t,n)=>{const{exp:i,modifiers:s,loc:r}=e,o=e.arg;return 4!==o.type?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),s.includes("camel")&&(4===o.type?o.isStatic?o.content=Ei(o.content):o.content=`${n.helperString(v_e)}(${o.content})`:(o.children.unshift(`${n.helperString(v_e)}(`),o.children.push(")"))),n.inSSR||(s.includes("prop")&&iye(o,"."),s.includes("attr")&&iye(o,"^")),!i||4===i.type&&!i.content.trim()?(n.onError(zme(34,r)),{props:[M_e(o,F_e("",!0,r))]}):{props:[M_e(o,i)]}},iye=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},sye=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let i,s=!1;for(let e=0;e<n.length;e++){const t=n[e];if(lve(t)){s=!0;for(let s=e+1;s<n.length;s++){const r=n[s];if(!lve(r)){i=void 0;break}i||(i=n[e]=B_e([t],t.loc)),i.children.push(" + ",r),n.splice(s,1),s--}}}if(s&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<n.length;e++){const i=n[e];if(lve(i)||8===i.type){const s=[];2===i.type&&" "===i.content||s.push(i),t.ssr||0!==ebe(i,t)||s.push("1"),n[e]={type:12,content:i,loc:i.loc,codegenNode:V_e(t.helper(t_e),s)}}}}},rye=new WeakSet,oye=(e,t)=>{if(1===e.type&&sve(e,"once",!0)){if(rye.has(e)||t.inVOnce)return;return rye.add(e),t.inVOnce=!0,t.helper(w_e),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},aye=(e,t,n)=>{const{exp:i,arg:s}=e;if(!i)return n.onError(zme(41,e.loc)),lye();const r=i.loc.source,o=4===i.type?i.content:r;n.bindingMetadata[r];if(!o.trim()||!eve(o))return n.onError(zme(42,i.loc)),lye();const a=s||F_e("modelValue",!0),l=s?j_e(s)?`onUpdate:${s.content}`:B_e(['"onUpdate:" + ',s]):"onUpdate:modelValue";let c;c=B_e([`${n.isTS?"($event: any)":"$event"} => ((`,i,") = $event)"]);const d=[M_e(a,e.exp),M_e(l,c)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(G_e(e)?e:JSON.stringify(e))+": true")).join(", "),n=s?j_e(s)?`${s.content}Modifiers`:B_e([s,' + "Modifiers"']):"modelModifiers";d.push(M_e(n,F_e(`{ ${t} }`,!1,e.loc,2)))}return lye(d)};function lye(e=[]){return{props:e}}const cye=/[\w).+\-_$\]]/,dye=(e,t)=>{Cve("COMPILER_FILTER",t)&&(5===e.type&&hye(e.content,t),1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&hye(e.exp,t)})))};function hye(e,t){if(4===e.type)uye(e,t);else for(let n=0;n<e.children.length;n++){const i=e.children[n];"object"==typeof i&&(4===i.type?uye(i,t):8===i.type?hye(e,t):5===i.type&&hye(i.content,t))}}function uye(e,t){const n=e.content;let i,s,r,o,a=!1,l=!1,c=!1,d=!1,h=0,u=0,p=0,g=0,f=[];for(r=0;r<n.length;r++)if(s=i,i=n.charCodeAt(r),a)39===i&&92!==s&&(a=!1);else if(l)34===i&&92!==s&&(l=!1);else if(c)96===i&&92!==s&&(c=!1);else if(d)47===i&&92!==s&&(d=!1);else if(124!==i||124===n.charCodeAt(r+1)||124===n.charCodeAt(r-1)||h||u||p){switch(i){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:u++;break;case 93:u--;break;case 123:h++;break;case 125:h--}if(47===i){let e,t=r-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&cye.test(e)||(d=!0)}}else void 0===o?(g=r+1,o=n.slice(0,r).trim()):m();function m(){f.push(n.slice(g,r).trim()),g=r+1}if(void 0===o?o=n.slice(0,r).trim():0!==g&&m(),f.length){for(r=0;r<f.length;r++)o=pye(o,f[r],t);e.content=o}}function pye(e,t,n){n.helper(o_e);const i=t.indexOf("(");if(i<0)return n.filters.add(t),`${_ve(t,"filter")}(${e})`;{const s=t.slice(0,i),r=t.slice(i+1);return n.filters.add(s),`${_ve(s,"filter")}(${e}${")"!==r?","+r:r}`}}const gye=new WeakSet,fye=(e,t)=>{if(1===e.type){const n=sve(e,"memo");if(!n||gye.has(e))return;return gye.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&13===i.type&&(1!==e.tagType&&bve(i,t),e.codegenNode=V_e(t.helper(D_e),[n.exp,W_e(void 0,i),"_cache",String(t.cached++)]))}}};function mye(e){return[[oye,Cbe,fye,Dbe,dye,Jbe,zbe,Mbe,sye],{on:tye,bind:nye,model:aye}]}function _ye(e,t={}){const n=t.onError||Hme,i="module"===t.mode;!0===t.prefixIdentifiers?n(zme(46)):i&&n(zme(47));t.cacheHandlers&&n(zme(48)),t.scopeId&&!i&&n(zme(49));const s=pi(e)?Dve(e,t):e,[r,o]=mye();return abe(s,si({},t,{prefixIdentifiers:false,nodeTransforms:[...r,...t.nodeTransforms||[]],directiveTransforms:si({},o,t.directiveTransforms||{})})),hbe(s,si({},t,{prefixIdentifiers:false}))}const vye=()=>({props:[]}),bye=Symbol(""),yye=Symbol(""),wye=Symbol(""),Cye=Symbol(""),Sye=Symbol(""),xye=Symbol(""),kye=Symbol(""),Eye=Symbol(""),Dye=Symbol(""),Tye=Symbol("");let Lye;N_e({[bye]:"vModelRadio",[yye]:"vModelCheckbox",[wye]:"vModelText",[Cye]:"vModelSelect",[Sye]:"vModelDynamic",[xye]:"withModifiers",[kye]:"withKeys",[Eye]:"vShow",[Dye]:"Transition",[Tye]:"TransitionGroup"});const Nye=Cn("style,iframe,script,noscript",!0),Iye={isVoidTag:jn,isNativeTag:e=>Un(e)||zn(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return Lye||(Lye=document.createElement("div")),t?(Lye.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Lye.children[0].getAttribute("foo")):(Lye.innerHTML=e,Lye.textContent)},isBuiltInComponent:e=>$_e(e,"Transition")?Dye:$_e(e,"TransitionGroup")?Tye:void 0,getNamespace(e,t){let n=t?t.ns:0;if(t&&2===n)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(n=0);else t&&1===n&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(n=0));if(0===n){if("svg"===e)return 1;if("math"===e)return 2}return n},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(Nye(e))return 2}return 0}},Pye=e=>{1===e.type&&e.props.forEach(((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:F_e("style",!0,t.loc),exp:Oye(t.value.content,t.loc),modifiers:[],loc:t.loc})}))},Oye=(e,t)=>{const n=Vn(e);return F_e(JSON.stringify(n),!1,t,3)};function Rye(e,t){return zme(e,t)}const Aye=Cn("passive,once,capture"),Mye=Cn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Fye=Cn("left,right"),Bye=Cn("onkeyup,onkeydown,onkeypress",!0),Vye=(e,t)=>j_e(e)&&"onclick"===e.content.toLowerCase()?F_e(t,!0):4!==e.type?B_e(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Wye=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||(t.onError(Rye(60,e.loc)),t.removeNode())},Hye=[Pye],Uye={cloak:vye,html:(e,t,n)=>{const{exp:i,loc:s}=e;return i||n.onError(Rye(50,s)),t.children.length&&(n.onError(Rye(51,s)),t.children.length=0),{props:[M_e(F_e("innerHTML",!0,s),i||F_e("",!0))]}},text:(e,t,n)=>{const{exp:i,loc:s}=e;return i||n.onError(Rye(52,s)),t.children.length&&(n.onError(Rye(53,s)),t.children.length=0),{props:[M_e(F_e("textContent",!0),i?ebe(i,n)>0?i:V_e(n.helperString(h_e),[i],s):F_e("",!0))]}},model:(e,t,n)=>{const i=aye(e,t,n);if(!i.props.length||1===t.tagType)return i;e.arg&&n.onError(Rye(55,e.arg.loc));const{tag:s}=t,r=n.isCustomElement(s);if("input"===s||"textarea"===s||"select"===s||r){let o=wye,a=!1;if("input"===s||r){const i=rve(t,"type");if(i){if(7===i.type)o=Sye;else if(i.value)switch(i.value.content){case"radio":o=bye;break;case"checkbox":o=yye;break;case"file":a=!0,n.onError(Rye(56,e.loc))}}else ave(t)&&(o=Sye)}else"select"===s&&(o=Cye);a||(i.needRuntime=n.helper(o))}else n.onError(Rye(54,e.loc));return i.props=i.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),i},on:(e,t,n)=>tye(e,0,n,(t=>{const{modifiers:i}=e;if(!i.length)return t;let{key:s,value:r}=t.props[0];const{keyModifiers:o,nonKeyModifiers:a,eventOptionModifiers:l}=((e,t,n,i)=>{const s=[],r=[],o=[];for(let a=0;a<t.length;a++){const i=t[a];"native"===i&&Sve("COMPILER_V_ON_NATIVE",n)||Aye(i)?o.push(i):Fye(i)?j_e(e)?Bye(e.content)?s.push(i):r.push(i):(s.push(i),r.push(i)):Mye(i)?r.push(i):s.push(i)}return{keyModifiers:s,nonKeyModifiers:r,eventOptionModifiers:o}})(s,i,n,e.loc);if(a.includes("right")&&(s=Vye(s,"onContextmenu")),a.includes("middle")&&(s=Vye(s,"onMouseup")),a.length&&(r=V_e(n.helper(xye),[r,JSON.stringify(a)])),!o.length||j_e(s)&&!Bye(s.content)||(r=V_e(n.helper(kye),[r,JSON.stringify(o)])),l.length){const e=l.map(Li).join("");s=j_e(s)?F_e(`${s.content}${e}`,!0):B_e(["(",s,`) + "${e}"`])}return{props:[M_e(s,r)]}})),show:(e,t,n)=>{const{exp:i,loc:s}=e;return i||n.onError(Rye(58,s)),{props:[],needRuntime:n.helper(Eye)}}};var zye=y(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms:Uye,DOMNodeTransforms:Hye,TRANSITION:Dye,TRANSITION_GROUP:Tye,V_MODEL_CHECKBOX:yye,V_MODEL_DYNAMIC:Sye,V_MODEL_RADIO:bye,V_MODEL_SELECT:Cye,V_MODEL_TEXT:wye,V_ON_WITH_KEYS:kye,V_ON_WITH_MODIFIERS:xye,V_SHOW:Eye,compile:function(e,t={}){return _ye(e,si({},Iye,t,{nodeTransforms:[Wye,...Hye,...t.nodeTransforms||[]],directiveTransforms:si({},Uye,t.directiveTransforms||{}),transformHoist:null}))},createDOMCompilerError:Rye,parse:function(e,t={}){return Dve(e,si({},Iye,t))},parserOptions:Iye,transformStyle:Pye,generateCodeFrame:En,BASE_TRANSITION:Gme,CAMELIZE:v_e,CAPITALIZE:b_e,CREATE_BLOCK:Zme,CREATE_COMMENT:e_e,CREATE_ELEMENT_BLOCK:Xme,CREATE_ELEMENT_VNODE:Qme,CREATE_SLOTS:d_e,CREATE_STATIC:n_e,CREATE_TEXT:t_e,CREATE_VNODE:Jme,FRAGMENT:jme,GUARD_REACTIVE_PROPS:m_e,IS_MEMO_SAME:T_e,IS_REF:E_e,KEEP_ALIVE:qme,MERGE_PROPS:u_e,NORMALIZE_CLASS:p_e,NORMALIZE_PROPS:f_e,NORMALIZE_STYLE:g_e,OPEN_BLOCK:Yme,POP_SCOPE_ID:S_e,PUSH_SCOPE_ID:C_e,RENDER_LIST:l_e,RENDER_SLOT:c_e,RESOLVE_COMPONENT:i_e,RESOLVE_DIRECTIVE:r_e,RESOLVE_DYNAMIC_COMPONENT:s_e,RESOLVE_FILTER:o_e,SET_BLOCK_TRACKING:w_e,SUSPENSE:Kme,TELEPORT:$me,TO_DISPLAY_STRING:h_e,TO_HANDLERS:__e,TO_HANDLER_KEY:y_e,UNREF:k_e,WITH_CTX:x_e,WITH_DIRECTIVES:a_e,WITH_MEMO:D_e,advancePositionWithClone:nve,advancePositionWithMutation:ive,assert:function(e,t){if(!e)throw new Error(t||"unexpected compiler condition")},baseCompile:_ye,baseParse:Dve,buildDirectiveArgs:Gbe,buildProps:$be,buildSlots:Bbe,checkCompatEnabled:Sve,createArrayExpression:R_e,createAssignmentExpression:function(e,t){return{type:24,left:e,right:t,loc:I_e}},createBlockStatement:z_e,createCacheExpression:U_e,createCallExpression:V_e,createCompilerError:zme,createCompoundExpression:B_e,createConditionalExpression:H_e,createForLoopParams:Rbe,createFunctionExpression:W_e,createIfStatement:function(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:I_e}},createInterpolation:function(e,t){return{type:5,loc:t,content:pi(e)?F_e(e,!1,t):e}},createObjectExpression:A_e,createObjectProperty:M_e,createReturnStatement:function(e){return{type:26,returns:e,loc:I_e}},createRoot:P_e,createSequenceExpression:function(e){return{type:25,expressions:e,loc:I_e}},createSimpleExpression:F_e,createStructuralDirectiveTransform:cbe,createTemplateLiteral:function(e){return{type:22,elements:e,loc:I_e}},createTransformContext:obe,createVNodeCall:O_e,extractIdentifiers:bbe,findDir:sve,findProp:rve,generate:hbe,getBaseTransformPreset:mye,getConstantType:ebe,getInnerRange:tve,getMemoedVNodeCall:vve,getVNodeBlockHelper:pve,getVNodeHelper:uve,hasDynamicKeyVBind:ave,hasScopeRef:function e(t,n){if(!t||0===Object.keys(n).length)return!1;switch(t.type){case 1:for(let i=0;i<t.props.length;i++){const s=t.props[i];if(7===s.type&&(e(s.arg,n)||e(s.exp,n)))return!0}return t.children.some((t=>e(t,n)));case 11:return!!e(t.source,n)||t.children.some((t=>e(t,n)));case 9:return t.branches.some((t=>e(t,n)));case 10:return!!e(t.condition,n)||t.children.some((t=>e(t,n)));case 4:return!t.isStatic&&G_e(t.content)&&!!n[t.content];case 8:return t.children.some((t=>fi(t)&&e(t,n)));case 5:case 12:return e(t.content,n);case 2:case 3:default:return!1}},helperNameMap:L_e,injectProp:mve,isBuiltInType:$_e,isCoreComponent:K_e,isFunctionType:e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),isInDestructureAssignment:function(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1},isMemberExpression:eve,isMemberExpressionBrowser:J_e,isMemberExpressionNode:Q_e,isReferencedIdentifier:function(e,t,n){return!1},isSimpleIdentifier:G_e,isSlotOutlet:hve,isStaticArgOf:ove,isStaticExp:j_e,isStaticProperty:ybe,isStaticPropertyKey:(e,t)=>ybe(t)&&t.key===e,isTemplateNode:dve,isText:lve,isVSlot:cve,locStub:I_e,makeBlock:bve,noopDirectiveTransform:vye,processExpression:wbe,processFor:Tbe,processIf:Sbe,processSlotOutlet:Qbe,registerRuntimeHelpers:N_e,resolveComponentType:jbe,toValidAssetId:_ve,trackSlotScopes:Mbe,trackVForSlotScopes:(e,t)=>{let n;if(dve(e)&&e.props.some(cve)&&(n=sve(e,"for"))){const e=n.parseResult=Pbe(n.exp);if(e){const{value:n,key:i,index:s}=e,{addIdentifiers:r,removeIdentifiers:o}=t;return n&&r(n),i&&r(i),s&&r(s),()=>{n&&o(n),i&&o(i),s&&o(s)}}}},transform:abe,transformBind:nye,transformElement:zbe,transformExpression:(e,t)=>{if(5===e.type)e.content=wbe(e.content,t);else if(1===e.type)for(let n=0;n<e.props.length;n++){const i=e.props[n];if(7===i.type&&"for"!==i.name){const e=i.exp,n=i.arg;!e||4!==e.type||"on"===i.name&&n||(i.exp=wbe(e,t,"slot"===i.name)),n&&4===n.type&&!n.isStatic&&(i.arg=wbe(n,t))}}},transformModel:aye,transformOn:tye,traverseNode:lbe,walkBlockDeclarations:function(e,t){for(const n of e.body)if("VariableDeclaration"===n.type){if(n.declare)continue;for(const e of n.declarations)for(const n of bbe(e.id))t(n)}else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;t(n.id)}},walkFunctionParams:function(e,t){for(const n of e.params)for(const e of bbe(n))t(e)},walkIdentifiers:function(e,t,n=!1,i=[],s=Object.create(null)){},warnDeprecation:function(e,t,n,...i){if("suppress-warning"===wve(e,t))return;const{message:s,link:r}=yve[e],o=`(deprecation ${e}) ${"function"==typeof s?s(...i):s}${r?`\n  Details: ${r}`:""}`,a=new SyntaxError(o);a.code=e,n&&(a.loc=n),t.onWarn(a)}})),jye=y(Nd),$ye=y(Bi);!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=zye,n=jye,i=$ye;function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){t[n]=e[n]})),t.default=e,Object.freeze(t)}var r=s(n);const o=Object.create(null);function a(e,n){if(!i.isString(e)){if(!e.nodeType)return i.NOOP;e=e.innerHTML}const s=e,a=o[s];if(a)return a;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const{code:l}=t.compile(e,i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},n)),c=new Function("Vue",l)(r);return c._rc=!0,o[s]=c}n.registerRuntimeCompiler(a),Object.keys(n).forEach((function(t){"default"!==t&&(e[t]=n[t])})),e.compile=a}(Wme),Vme.exports=Wme,Bme.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({"00ee":function(e,t,n){var i={};i[n("b622")("toStringTag")]="z",e.exports="[object z]"===String(i)},"0366":function(e,t,n){var i=n("1c0b");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var i=n("fc6a"),s=n("241c").f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return s(e)}catch(t){return o.slice()}}(e):s(i(e))}},"06cf":function(e,t,n){var i=n("83ab"),s=n("d1e7"),r=n("5c6c"),o=n("fc6a"),a=n("c04e"),l=n("5135"),c=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=o(e),t=a(t,!0),c)try{return d(e,t)}catch(n){}if(l(e,t))return r(!s.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var i=n("83ab"),s=n("d039"),r=n("cc12");e.exports=!i&&!s((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,n){var i=n("23e7"),s=n("d58f").left,r=n("a640"),o=n("ae40"),a=r("reduce"),l=o("reduce",{1:0});i({target:"Array",proto:!0,forced:!a||!l},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159b":function(e,t,n){var i=n("da84"),s=n("fdbc"),r=n("17c2"),o=n("9112");for(var a in s){var l=i[a],c=l&&l.prototype;if(c&&c.forEach!==r)try{o(c,"forEach",r)}catch(d){c.forEach=r}}},"17c2":function(e,t,n){var i=n("b727").forEach,s=n("a640"),r=n("ae40"),o=s("forEach"),a=r("forEach");e.exports=o&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,n){var i=n("d066");e.exports=i("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var i=n("b622")("iterator"),s=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){s=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(a){}return n}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var i=n("d039"),s=n("b622"),r=n("2d00"),o=s("species");e.exports=function(e){return r>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var i=n("a691"),s=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?s(n+t,0):r(n,t)}},"23e7":function(e,t,n){var i=n("da84"),s=n("06cf").f,r=n("9112"),o=n("6eeb"),a=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,d,h,u,p,g=e.target,f=e.global,m=e.stat;if(n=f?i:m?i[g]||a(g,{}):(i[g]||{}).prototype)for(d in t){if(u=t[d],h=e.noTargetGet?(p=s(n,d))&&p.value:n[d],!c(f?d:g+(m?".":"#")+d,e.forced)&&void 0!==h){if(typeof u==typeof h)continue;l(u,h)}(e.sham||h&&h.sham)&&r(u,"sham",!0),o(n,d,u,e)}}},"241c":function(e,t,n){var i=n("ca84"),s=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},2532:function(e,t,n){var i=n("23e7"),s=n("5a34"),r=n("1d80");i({target:"String",proto:!0,forced:!n("ab13")("includes")},{includes:function(e){return!!~String(r(this)).indexOf(s(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){var i=n("6eeb"),s=n("825a"),r=n("d039"),o=n("ad6d"),a="toString",l=RegExp.prototype,c=l.toString,d=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),h=c.name!=a;(d||h)&&i(RegExp.prototype,a,(function(){var e=s(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)}),{unsafe:!0})},"2d00":function(e,t,n){var i,s,r=n("da84"),o=n("342f"),a=r.process,l=a&&a.versions,c=l&&l.v8;c?s=(i=c.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(s=i[1]),e.exports=s&&+s},"342f":function(e,t,n){var i=n("d066");e.exports=i("navigator","userAgent")||""},"35a1":function(e,t,n){var i=n("f5df"),s=n("3f8c"),r=n("b622")("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||s[i(e)]}},"37e8":function(e,t,n){var i=n("83ab"),s=n("9bf2"),r=n("825a"),o=n("df75");e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=o(t),a=i.length,l=0;a>l;)s.f(e,n=i[l++],t[n]);return e}},"3bbe":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){var i=n("6547").charAt,s=n("69f3"),r=n("7dd0"),o="String Iterator",a=s.set,l=s.getterFor(o);r(String,"String",(function(e){a(this,{type:o,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,s=t.index;return s>=n.length?{value:void 0,done:!0}:(e=i(n,s),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){var i=n("23e7"),s=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"428f":function(e,t,n){var i=n("da84");e.exports=i},"44ad":function(e,t,n){var i=n("d039"),s=n("c6b6"),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?r.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var i=n("b622"),s=n("7c73"),r=n("9bf2"),o=i("unscopables"),a=Array.prototype;null==a[o]&&r.f(a,o,{configurable:!0,value:s(null)}),e.exports=function(e){a[o][e]=!0}},"44e7":function(e,t,n){var i=n("861d"),s=n("c6b6"),r=n("b622")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==s(e))}},"45fc":function(e,t,n){var i=n("23e7"),s=n("b727").some,r=n("a640"),o=n("ae40"),a=r("some"),l=o("some");i({target:"Array",proto:!0,forced:!a||!l},{some:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},4930:function(e,t,n){var i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var i=n("fc6a"),s=n("50c4"),r=n("23cb"),o=function(e){return function(t,n,o){var a,l=i(t),c=s(l.length),d=r(o,c);if(e&&n!=n){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4de4":function(e,t,n){var i=n("23e7"),s=n("b727").filter,r=n("1dde"),o=n("ae40"),a=r("filter"),l=o("filter");i({target:"Array",proto:!0,forced:!a||!l},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){var i=n("0366"),s=n("7b0b"),r=n("9bdd"),o=n("e95a"),a=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,d,h,u,p,g=s(e),f="function"==typeof this?this:Array,m=arguments.length,_=m>1?arguments[1]:void 0,v=void 0!==_,b=c(g),y=0;if(v&&(_=i(_,m>2?arguments[2]:void 0,2)),null==b||f==Array&&o(b))for(n=new f(t=a(g.length));t>y;y++)p=v?_(g[y],y):g[y],l(n,y,p);else for(u=(h=b.call(g)).next,n=new f;!(d=u.call(h)).done;y++)p=v?r(h,_,[d.value,y],!0):d.value,l(n,y,p);return n.length=y,n}},"4fad":function(e,t,n){var i=n("23e7"),s=n("6f53").entries;i({target:"Object",stat:!0},{entries:function(e){return s(e)}})},"50c4":function(e,t,n){var i=n("a691"),s=Math.min;e.exports=function(e){return e>0?s(i(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var i=n("c430"),s=n("c6cd");(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var i=n("d066"),s=n("241c"),r=n("7418"),o=n("825a");e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(e,t,n){var i=n("1d80"),s="["+n("5899")+"]",r=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),a=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},"5a34":function(e,t,n){var i=n("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6547:function(e,t,n){var i=n("a691"),s=n("1d80"),r=function(e){return function(t,n){var r,o,a=String(s(t)),l=i(n),c=a.length;return l<0||l>=c?e?"":void 0:(r=a.charCodeAt(l))<55296||r>56319||l+1===c||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):r:e?a.slice(l,l+2):o-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},"65f0":function(e,t,n){var i=n("861d"),s=n("e8b5"),r=n("b622")("species");e.exports=function(e,t){var n;return s(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!s(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var i,s,r,o=n("7f9a"),a=n("da84"),l=n("861d"),c=n("9112"),d=n("5135"),h=n("f772"),u=n("d012"),p=a.WeakMap;if(o){var g=new p,f=g.get,m=g.has,_=g.set;i=function(e,t){return _.call(g,e,t),t},s=function(e){return f.call(g,e)||{}},r=function(e){return m.call(g,e)}}else{var v=h("state");u[v]=!0,i=function(e,t){return c(e,v,t),t},s=function(e){return d(e,v)?e[v]:{}},r=function(e){return d(e,v)}}e.exports={set:i,get:s,has:r,enforce:function(e){return r(e)?s(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=s(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6b0a":function(e,t,n){n("cebe")},"6eeb":function(e,t,n){var i=n("da84"),s=n("9112"),r=n("5135"),o=n("ce4e"),a=n("8925"),l=n("69f3"),c=l.get,d=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||s(n,"name",t),d(n).source=h.join("string"==typeof t?t:"")),e!==i?(l?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=n:s(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6f53":function(e,t,n){var i=n("83ab"),s=n("df75"),r=n("fc6a"),o=n("d1e7").f,a=function(e){return function(t){for(var n,a=r(t),l=s(a),c=l.length,d=0,h=[];c>d;)n=l[d++],i&&!o.call(a,n)||h.push(e?[n,a[n]]:a[n]);return h}};e.exports={entries:a(!0),values:a(!1)}},7156:function(e,t,n){var i=n("861d"),s=n("d2bb");e.exports=function(e,t,n){var r,o;return s&&"function"==typeof(r=t.constructor)&&r!==n&&i(o=r.prototype)&&o!==n.prototype&&s(e,o),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var i=n("428f"),s=n("5135"),r=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});s(t,e)||o(t,e,{value:r.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var i=n("1d80");e.exports=function(e){return Object(i(e))}},"7c73":function(e,t,n){var i,s=n("825a"),r=n("37e8"),o=n("7839"),a=n("d012"),l=n("1be4"),c=n("cc12"),d=n("f772"),h=d("IE_PROTO"),u=function(){},p=function(e){return"<script>"+e+"<\/script>"},g=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(s){}var e,t;g=i?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete g.prototype[o[n]];return g()};a[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=s(e),n=new u,u.prototype=null,n[h]=e):n=g(),void 0===t?n:r(n,t)}},"7db0":function(e,t,n){var i=n("23e7"),s=n("b727").find,r=n("44d2"),o=n("ae40"),a="find",l=!0,c=o(a);a in[]&&Array(1).find((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r(a)},"7dd0":function(e,t,n){var i=n("23e7"),s=n("9ed3"),r=n("e163"),o=n("d2bb"),a=n("d44e"),l=n("9112"),c=n("6eeb"),d=n("b622"),h=n("c430"),u=n("3f8c"),p=n("ae93"),g=p.IteratorPrototype,f=p.BUGGY_SAFARI_ITERATORS,m=d("iterator"),_="keys",v="values",b="entries",y=function(){return this};e.exports=function(e,t,n,d,p,w,C){s(n,t,d);var S,x,k,E=function(e){if(e===p&&I)return I;if(!f&&e in L)return L[e];switch(e){case _:case v:case b:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",T=!1,L=e.prototype,N=L[m]||L["@@iterator"]||p&&L[p],I=!f&&N||E(p),P="Array"==t&&L.entries||N;if(P&&(S=r(P.call(new e)),g!==Object.prototype&&S.next&&(h||r(S)===g||(o?o(S,g):"function"!=typeof S[m]&&l(S,m,y)),a(S,D,!0,!0),h&&(u[D]=y))),p==v&&N&&N.name!==v&&(T=!0,I=function(){return N.call(this)}),h&&!C||L[m]===I||l(L,m,I),u[t]=I,p)if(x={values:E(v),keys:w?I:E(_),entries:E(b)},C)for(k in x)(f||T||!(k in L))&&c(L,k,x[k]);else i({target:t,proto:!0,forced:f||T},x);return x}},"7f9a":function(e,t,n){var i=n("da84"),s=n("8925"),r=i.WeakMap;e.exports="function"==typeof r&&/native code/.test(s(r))},"825a":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){var i=n("c04e"),s=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var o=i(t);o in e?s.f(e,o,r(0,n)):e[o]=n}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var i,s,r;"undefined"!=typeof self&&self,s=[],void 0===(r="function"==typeof(i=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(u){var n,i,s,r=/@([^@]*):(\d+):(\d+)\s*$/gi,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(u.stack)||r.exec(u.stack),a=o&&o[1]||!1,l=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");a===c&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=n.replace(i,"$1").trim());for(var h=0;h<d.length;h++){if("interactive"===d[h].readyState)return d[h];if(d[h].src===a)return d[h];if(a===c&&d[h].innerHTML&&d[h].innerHTML.trim()===s)return d[h]}return null}}return e})?i.apply(t,s):i)||(e.exports=r)},8925:function(e,t,n){var i=n("c6cd"),s=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return s.call(e)}),e.exports=i.inspectSource},"8bbf":function(e,t){e.exports=Vme.exports},"90e3":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},9112:function(e,t,n){var i=n("83ab"),s=n("9bf2"),r=n("5c6c");e.exports=i?function(e,t,n){return s.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var i=n("d039"),s=/#|\.prototype\./,r=function(e,t){var n=a[o(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},o=r.normalize=function(e){return String(e).replace(s,".").toLowerCase()},a=r.data={},l=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},"9bdd":function(e,t,n){var i=n("825a");e.exports=function(e,t,n,s){try{return s?t(i(n)[0],n[1]):t(n)}catch(o){var r=e.return;throw void 0!==r&&i(r.call(e)),o}}},"9bf2":function(e,t,n){var i=n("83ab"),s=n("0cfb"),r=n("825a"),o=n("c04e"),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(r(e),t=o(t,!0),r(n),s)try{return a(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){var i=n("ae93").IteratorPrototype,s=n("7c73"),r=n("5c6c"),o=n("d44e"),a=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=s(i,{next:r(1,n)}),o(e,c,!1,!0),a[c]=l,e}},a434:function(e,t,n){var i=n("23e7"),s=n("23cb"),r=n("a691"),o=n("50c4"),a=n("7b0b"),l=n("65f0"),c=n("8418"),d=n("1dde"),h=n("ae40"),u=d("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,m=9007199254740991,_="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!p},{splice:function(e,t){var n,i,d,h,u,p,v=a(this),b=o(v.length),y=s(e,b),w=arguments.length;if(0===w?n=i=0:1===w?(n=0,i=b-y):(n=w-2,i=f(g(r(t),0),b-y)),b+n-i>m)throw TypeError(_);for(d=l(v,i),h=0;h<i;h++)(u=y+h)in v&&c(d,h,v[u]);if(d.length=i,n<i){for(h=y;h<b-i;h++)p=h+n,(u=h+i)in v?v[p]=v[u]:delete v[p];for(h=b;h>b-i+n;h--)delete v[h-1]}else if(n>i)for(h=b-i;h>y;h--)p=h+n-1,(u=h+i-1)in v?v[p]=v[u]:delete v[p];for(h=0;h<n;h++)v[h+y]=arguments[h+2];return v.length=b-i+n,d}})},a4d3:function(e,t,n){var i=n("23e7"),s=n("da84"),r=n("d066"),o=n("c430"),a=n("83ab"),l=n("4930"),c=n("fdbf"),d=n("d039"),h=n("5135"),u=n("e8b5"),p=n("861d"),g=n("825a"),f=n("7b0b"),m=n("fc6a"),_=n("c04e"),v=n("5c6c"),b=n("7c73"),y=n("df75"),w=n("241c"),C=n("057f"),S=n("7418"),x=n("06cf"),k=n("9bf2"),E=n("d1e7"),D=n("9112"),T=n("6eeb"),L=n("5692"),N=n("f772"),I=n("d012"),P=n("90e3"),O=n("b622"),R=n("e538"),A=n("746f"),M=n("d44e"),F=n("69f3"),B=n("b727").forEach,V=N("hidden"),W="Symbol",H=O("toPrimitive"),U=F.set,z=F.getterFor(W),j=Object.prototype,$=s.Symbol,K=r("JSON","stringify"),q=x.f,G=k.f,Y=C.f,Z=E.f,X=L("symbols"),J=L("op-symbols"),Q=L("string-to-symbol-registry"),ee=L("symbol-to-string-registry"),te=L("wks"),ne=s.QObject,ie=!ne||!ne.prototype||!ne.prototype.findChild,se=a&&d((function(){return 7!=b(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=q(j,t);i&&delete j[t],G(e,t,n),i&&e!==j&&G(j,t,i)}:G,re=function(e,t){var n=X[e]=b($.prototype);return U(n,{type:W,tag:e,description:t}),a||(n.description=t),n},oe=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},ae=function(e,t,n){e===j&&ae(J,t,n),g(e);var i=_(t,!0);return g(n),h(X,i)?(n.enumerable?(h(e,V)&&e[V][i]&&(e[V][i]=!1),n=b(n,{enumerable:v(0,!1)})):(h(e,V)||G(e,V,v(1,{})),e[V][i]=!0),se(e,i,n)):G(e,i,n)},le=function(e,t){g(e);var n=m(t),i=y(n).concat(ue(n));return B(i,(function(t){a&&!ce.call(n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=_(e,!0),n=Z.call(this,t);return!(this===j&&h(X,t)&&!h(J,t))&&(!(n||!h(this,t)||!h(X,t)||h(this,V)&&this[V][t])||n)},de=function(e,t){var n=m(e),i=_(t,!0);if(n!==j||!h(X,i)||h(J,i)){var s=q(n,i);return!s||!h(X,i)||h(n,V)&&n[V][i]||(s.enumerable=!0),s}},he=function(e){var t=Y(m(e)),n=[];return B(t,(function(e){h(X,e)||h(I,e)||n.push(e)})),n},ue=function(e){var t=e===j,n=Y(t?J:m(e)),i=[];return B(n,(function(e){!h(X,e)||t&&!h(j,e)||i.push(X[e])})),i};l||(T(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),n=function(e){this===j&&n.call(J,e),h(this,V)&&h(this[V],t)&&(this[V][t]=!1),se(this,t,v(1,e))};return a&&ie&&se(j,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return z(this).tag})),T($,"withoutSetter",(function(e){return re(P(e),e)})),E.f=ce,k.f=ae,x.f=de,w.f=C.f=he,S.f=ue,R.f=function(e){return re(O(e),e)},a&&(G($.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),o||T(j,"propertyIsEnumerable",ce,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:$}),B(y(te),(function(e){A(e)})),i({target:W,stat:!0,forced:!l},{for:function(e){var t=String(e);if(h(Q,t))return Q[t];var n=$(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(h(ee,e))return ee[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?b(e):le(b(e),t)},defineProperty:ae,defineProperties:le,getOwnPropertyDescriptor:de}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:ue}),i({target:"Object",stat:!0,forced:d((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(f(e))}}),K&&i({target:"JSON",stat:!0,forced:!l||d((function(){var e=$();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,n){for(var i,s=[e],r=1;arguments.length>r;)s.push(arguments[r++]);if(i=t,(p(t)||void 0!==e)&&!oe(e))return u(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!oe(t))return t}),s[1]=t,K.apply(null,s)}}),$.prototype[H]||D($.prototype,H,$.prototype.valueOf),M($,W),I[V]=!0},a630:function(e,t,n){var i=n("23e7"),s=n("4df4");i({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:s})},a640:function(e,t,n){var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},a9e3:function(e,t,n){var i=n("83ab"),s=n("da84"),r=n("94ca"),o=n("6eeb"),a=n("5135"),l=n("c6b6"),c=n("7156"),d=n("c04e"),h=n("d039"),u=n("7c73"),p=n("241c").f,g=n("06cf").f,f=n("9bf2").f,m=n("58a8").trim,_="Number",v=s.Number,b=v.prototype,y=l(u(b))==_,w=function(e){var t,n,i,s,r,o,a,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=m(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+c}for(o=(r=c.slice(2)).length,a=0;a<o;a++)if((l=r.charCodeAt(a))<48||l>s)return NaN;return parseInt(r,i)}return+c};if(r(_,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(y?h((function(){b.valueOf.call(n)})):l(n)!=_)?c(new v(w(t)),n,S):w(t)},x=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)a(v,C=x[k])&&!a(S,C)&&f(S,C,g(v,C));S.prototype=b,b.constructor=S,o(s,_,S)}},ab13:function(e,t,n){var i=n("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(s){}}return!1}},ad6d:function(e,t,n){var i=n("825a");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var i=n("83ab"),s=n("d039"),r=n("5135"),o=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var n=[][e],c=!!r(t,"ACCESSORS")&&t.ACCESSORS,d=r(t,0)?t[0]:l,h=r(t,1)?t[1]:void 0;return a[e]=!!n&&!s((function(){if(c&&!i)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,d,h)}))}},ae93:function(e,t,n){var i,s,r,o=n("e163"),a=n("9112"),l=n("5135"),c=n("b622"),d=n("c430"),h=c("iterator"),u=!1;[].keys&&("next"in(r=[].keys())?(s=o(o(r)))!==Object.prototype&&(i=s):u=!0),null==i&&(i={}),d||l(i,h)||a(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:u}},b041:function(e,t,n){var i=n("00ee"),s=n("f5df");e.exports=i?{}.toString:function(){return"[object "+s(this)+"]"}},b0c0:function(e,t,n){var i=n("83ab"),s=n("9bf2").f,r=Function.prototype,o=r.toString,a=/^\s*function ([^ (]*)/,l="name";i&&!(l in r)&&s(r,l,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},b622:function(e,t,n){var i=n("da84"),s=n("5692"),r=n("5135"),o=n("90e3"),a=n("4930"),l=n("fdbf"),c=s("wks"),d=i.Symbol,h=l?d:d&&d.withoutSetter||o;e.exports=function(e){return r(c,e)||(a&&r(d,e)?c[e]=d[e]:c[e]=h("Symbol."+e)),c[e]}},b64b:function(e,t,n){var i=n("23e7"),s=n("7b0b"),r=n("df75");i({target:"Object",stat:!0,forced:n("d039")((function(){r(1)}))},{keys:function(e){return r(s(e))}})},b727:function(e,t,n){var i=n("0366"),s=n("44ad"),r=n("7b0b"),o=n("50c4"),a=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,d=4==e,h=6==e,u=5==e||h;return function(p,g,f,m){for(var _,v,b=r(p),y=s(b),w=i(g,f,3),C=o(y.length),S=0,x=m||a,k=t?x(p,C):n?x(p,0):void 0;C>S;S++)if((u||S in y)&&(v=w(_=y[S],S,b),e))if(t)k[S]=v;else if(v)switch(e){case 3:return!0;case 5:return _;case 6:return S;case 2:l.call(k,_)}else if(d)return!1;return h?-1:c||d?d:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,n){var i=n("861d");e.exports=function(e,t){if(!i(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!i(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var i=n("da84"),s=n("ce4e"),r="__core-js_shared__",o=i[r]||s(r,{});e.exports=o},c740:function(e,t,n){var i=n("23e7"),s=n("b727").findIndex,r=n("44d2"),o=n("ae40"),a="findIndex",l=!0,c=o(a);a in[]&&Array(1).findIndex((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r(a)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){var i=n("23e7"),s=n("4d64").indexOf,r=n("a640"),o=n("ae40"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,c=r("indexOf"),d=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!d},{indexOf:function(e){return l?a.apply(this,arguments)||0:s(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var i=n("5135"),s=n("fc6a"),r=n("4d64").indexOf,o=n("d012");e.exports=function(e,t){var n,a=s(e),l=0,c=[];for(n in a)!i(o,n)&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~r(c,n)||c.push(n));return c}},caad:function(e,t,n){var i=n("23e7"),s=n("4d64").includes,r=n("44d2");i({target:"Array",proto:!0,forced:!n("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cc12:function(e,t,n){var i=n("da84"),s=n("861d"),r=i.document,o=s(r)&&s(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},ce4e:function(e,t,n){var i=n("da84"),s=n("9112");e.exports=function(e,t){try{s(i,e,t)}catch(n){i[e]=t}return t}},cebe:function(e,t,n){},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("428f"),s=n("da84"),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(s[e]):i[e]&&i[e][t]||s[e]&&s[e][t]}},d1e7:function(e,t,n){var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,r=s&&!i.call({1:2},1);t.f=r?function(e){var t=s(this,e);return!!t&&t.enumerable}:i},d28b:function(e,t,n){n("746f")("iterator")},d2bb:function(e,t,n){var i=n("825a"),s=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return i(n),s(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},d3b7:function(e,t,n){var i=n("00ee"),s=n("6eeb"),r=n("b041");i||s(Object.prototype,"toString",r,{unsafe:!0})},d44e:function(e,t,n){var i=n("9bf2").f,s=n("5135"),r=n("b622")("toStringTag");e.exports=function(e,t,n){e&&!s(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},d58f:function(e,t,n){var i=n("1c0b"),s=n("7b0b"),r=n("44ad"),o=n("50c4"),a=function(e){return function(t,n,a,l){i(n);var c=s(t),d=r(c),h=o(c.length),u=e?h-1:0,p=e?-1:1;if(a<2)for(;;){if(u in d){l=d[u],u+=p;break}if(u+=p,e?u<0:h<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:h>u;u+=p)u in d&&(l=n(l,d[u],u,c));return l}};e.exports={left:a(!1),right:a(!0)}},d81d:function(e,t,n){var i=n("23e7"),s=n("b727").map,r=n("1dde"),o=n("ae40"),a=r("map"),l=o("map");i({target:"Array",proto:!0,forced:!a||!l},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var i=n("23e7"),s=n("83ab"),r=n("56ef"),o=n("fc6a"),a=n("06cf"),l=n("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),s=a.f,c=r(i),d={},h=0;c.length>h;)void 0!==(n=s(i,t=c[h++]))&&l(d,t,n);return d}})},ddb0:function(e,t,n){var i=n("da84"),s=n("fdbc"),r=n("e260"),o=n("9112"),a=n("b622"),l=a("iterator"),c=a("toStringTag"),d=r.values;for(var h in s){var u=i[h],p=u&&u.prototype;if(p){if(p[l]!==d)try{o(p,l,d)}catch(f){p[l]=d}if(p[c]||o(p,c,h),s[h])for(var g in r)if(p[g]!==r[g])try{o(p,g,r[g])}catch(f){p[g]=r[g]}}}},df75:function(e,t,n){var i=n("ca84"),s=n("7839");e.exports=Object.keys||function(e){return i(e,s)}},e01a:function(e,t,n){var i=n("23e7"),s=n("83ab"),r=n("da84"),o=n("5135"),a=n("861d"),l=n("9bf2").f,c=n("e893"),d=r.Symbol;if(s&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var h={},u=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof u?new d(e):void 0===e?d():d(e);return""===e&&(h[t]=!0),t};c(u,d);var p=u.prototype=d.prototype;p.constructor=u;var g=p.toString,f="Symbol(test)"==String(d("test")),m=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=g.call(e);if(o(h,e))return"";var n=f?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:u})}},e163:function(e,t,n){var i=n("5135"),s=n("7b0b"),r=n("f772"),o=n("e177"),a=r("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=s(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var i=n("d039");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){var i=n("fc6a"),s=n("44d2"),r=n("3f8c"),o=n("69f3"),a=n("7dd0"),l="Array Iterator",c=o.set,d=o.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:i(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),r.Arguments=r.Array,s("keys"),s("values"),s("entries")},e439:function(e,t,n){var i=n("23e7"),s=n("d039"),r=n("fc6a"),o=n("06cf").f,a=n("83ab"),l=s((function(){o(1)}));i({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})},e538:function(e,t,n){var i=n("b622");t.f=i},e893:function(e,t,n){var i=n("5135"),s=n("56ef"),r=n("06cf"),o=n("9bf2");e.exports=function(e,t){for(var n=s(t),a=o.f,l=r.f,c=0;c<n.length;c++){var d=n[c];i(e,d)||a(e,d,l(t,d))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},e95a:function(e,t,n){var i=n("b622"),s=n("3f8c"),r=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||o[r]===e)}},f5df:function(e,t,n){var i=n("00ee"),s=n("c6b6"),r=n("b622")("toStringTag"),o="Arguments"==s(function(){return arguments}());e.exports=i?s:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:o?s(t):"Object"==(i=s(t))&&"function"==typeof t.callee?"Arguments":i}},f772:function(e,t,n){var i=n("5692"),s=n("90e3"),r=i("keys");e.exports=function(e){return r[e]||(r[e]=s(e))}},fae3:function(e,t,n){if(n.r(t),n.d(t,"Splitpanes",(function(){return m})),n.d(t,"Pane",(function(){return v})),"undefined"!=typeof window){var i=window.document.currentScript,s=n("8875");i=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s});var r=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(n.p=r[1])}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,s=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function p(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n("7db0"),n("c740"),n("4160"),n("a630"),n("caad"),n("d81d"),n("13d5"),n("45fc"),n("a434"),n("4fad"),n("2532"),n("3ca3"),n("159b"),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("ddb0"),n("fb6a"),n("b0c0"),n("25f0"),n("c975");var g=n("8bbf"),f={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide:function(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:function(){return{container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}},computed:{panesCount:function(){return this.panes.length},indexedPanes:function(){return this.panes.reduce((function(e,t){return(e[t.id]=t)&&e}),{})}},methods:{updatePaneComponents:function(){var e=this;this.panes.forEach((function(t){t.update&&t.update(o({},e.horizontal?"height":"width","".concat(e.indexedPanes[t.id].size,"%")))}))},bindEvents:function(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents:function(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown:function(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove:function(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))))},onMouseUp:function(){var e=this;this.touch.dragging&&this.$emit("resized",this.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))),this.touch.mouseDown=!1,setTimeout((function(){e.touch.dragging=!1,e.unbindEvents()}),100)},onSplitterClick:function(e,t){var n=this;"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout((function(){n.splitterTaps.splitter=null}),500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick:function(e,t){var n=0;this.panes=this.panes.map((function(e,i){return e.size=i===t?e.max:e.min,i!==t&&(n+=e.min),e})),this.panes[t].size-=n,this.$emit("pane-maximize",this.panes[t])},onPaneClick:function(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag:function(e){var t=this.container.getBoundingClientRect(),n="ontouchstart"in window&&e.touches?e.touches[0]:e,i=n.clientX,s=n.clientY;return{x:i-t.left,y:s-t.top}},getCurrentDragPercentage:function(e){e=e[this.horizontal?"y":"x"];var t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),100*e/t},calculatePanesSize:function(e){var t=this.touch.activeSplitter,n={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0},i=0+(this.pushOtherPanes?0:n.prevPanesSize),s=100-(this.pushOtherPanes?0:n.nextPanesSize),r=Math.max(Math.min(this.getCurrentDragPercentage(e),s),i),o=[t,t+1],a=this.panes[o[0]]||null,l=this.panes[o[1]]||null,c=a.max<100&&r>=a.max+n.prevPanesSize,d=l.max<100&&r<=100-(l.max+this.sumNextPanesSize(t+1));if(c||d)c?(a.size=a.max,l.size=Math.max(100-a.max-n.prevPanesSize-n.nextPanesSize,0)):(a.size=Math.max(100-l.max-n.prevPanesSize-this.sumNextPanesSize(t+1),0),l.size=l.max);else{if(this.pushOtherPanes){var h=this.doPushOtherPanes(n,r);if(!h)return;n=h.sums,o=h.panesToResize,a=this.panes[o[0]]||null,l=this.panes[o[1]]||null}null!==a&&(a.size=Math.min(Math.max(r-n.prevPanesSize-n.prevReachedMinPanes,a.min),a.max)),null!==l&&(l.size=Math.min(Math.max(100-r-n.nextPanesSize-n.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes:function(e,t){var n=this,i=this.touch.activeSplitter,s=[i,i+1];return t<e.prevPanesSize+this.panes[s[0]].min&&(s[0]=this.findPrevExpandedPane(i).index,e.prevReachedMinPanes=0,s[0]<i&&this.panes.forEach((function(t,n){n>s[0]&&n<=i&&(t.size=t.min,e.prevReachedMinPanes+=t.min)})),e.prevPanesSize=this.sumPrevPanesSize(s[0]),void 0===s[0])?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((function(t,n){n>0&&n<=i&&(t.size=t.min,e.prevReachedMinPanes+=t.min)})),this.panes[s[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[s[1]].min&&(s[1]=this.findNextExpandedPane(i).index,e.nextReachedMinPanes=0,s[1]>i+1&&this.panes.forEach((function(t,n){n>i&&n<s[1]&&(t.size=t.min,e.nextReachedMinPanes+=t.min)})),e.nextPanesSize=this.sumNextPanesSize(s[1]-1),void 0===s[1])?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((function(t,s){s<n.panesCount-1&&s>=i+1&&(t.size=t.min,e.nextReachedMinPanes+=t.min)})),this.panes[s[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:s}},sumPrevPanesSize:function(e){return this.panes.reduce((function(t,n,i){return t+(i<e?n.size:0)}),0)},sumNextPanesSize:function(e){return this.panes.reduce((function(t,n,i){return t+(i>e+1?n.size:0)}),0)},findPrevExpandedPane:function(e){return p(this.panes).reverse().find((function(t){return t.index<e&&t.size>t.min}))||{}},findNextExpandedPane:function(e){return this.panes.find((function(t){return t.index>e+1&&t.size>t.min}))||{}},checkSplitpanesNodes:function(){Array.from(this.container.children).forEach((function(e){var t=e.classList.contains("splitpanes__pane"),n=e.classList.contains("splitpanes__splitter");if(!t&&!n)return e.parentNode.removeChild(e),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")}))},addSplitter:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e-1,r=document.createElement("div");r.classList.add("splitpanes__splitter"),i||(r.onmousedown=function(e){return n.onMouseDown(e,s)},"undefined"!=typeof window&&"ontouchstart"in window&&(r.ontouchstart=function(e){return n.onMouseDown(e,s)}),r.onclick=function(e){return n.onSplitterClick(e,s+1)}),this.dblClickSplitter&&(r.ondblclick=function(e){return n.onSplitterDblClick(e,s+1)}),t.parentNode.insertBefore(r,t)},removeSplitter:function(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters:function(){var e=this,t=Array.from(this.container.children);t.forEach((function(t){t.className.includes("splitpanes__splitter")&&e.removeSplitter(t)}));var n=0;t.forEach((function(t){t.className.includes("splitpanes__pane")&&(!n&&e.firstSplitter?e.addSplitter(n,t,!0):n&&e.addSplitter(n,t),n++)}))},requestUpdate:function(e){var t=e.target,n=u(e,["target"]),i=this.indexedPanes[t._.uid];Object.entries(n).forEach((function(e){var t=h(e,2),n=t[0],s=t[1];return i[n]=s}))},onPaneAdd:function(e){var t=this,n=-1;Array.from(e.$el.parentNode.children).some((function(t){return t.className.includes("splitpanes__pane")&&n++,t===e.$el}));var i=parseFloat(e.minSize),s=parseFloat(e.maxSize);this.panes.splice(n,0,{id:e._.uid,index:n,min:isNaN(i)?0:i,max:isNaN(s)?100:s,size:null===e.size?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((function(e,t){return e.index=t})),this.ready&&this.$nextTick((function(){t.redoSplitters(),t.resetPaneSizes({addedPane:t.panes[n]}),t.$emit("pane-add",{index:n,panes:t.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))})}))},onPaneRemove:function(e){var t=this,n=this.panes.findIndex((function(t){return t.id===e._.uid})),i=this.panes.splice(n,1)[0];this.panes.forEach((function(e,t){return e.index=t})),this.$nextTick((function(){t.redoSplitters(),t.resetPaneSizes({removedPane:l(l({},i),{},{index:n})}),t.$emit("pane-remove",{removed:i,panes:t.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}}))})}))},resetPaneSizes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.addedPane||e.removedPane?this.panes.some((function(e){return null!==e.givenSize||e.min||e.max<100}))?this.equalizeAfterAddOrRemove(e):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map((function(e){return{min:e.min,max:e.max,size:e.size}})))},equalize:function(){var e=100/this.panesCount,t=0,n=[],i=[];this.panes.forEach((function(s){s.size=Math.max(Math.min(e,s.max),s.min),t-=s.size,s.size>=s.max&&n.push(s.id),s.size<=s.min&&i.push(s.id)})),t>.1&&this.readjustSizes(t,n,i)},initialPanesSizing:function(){var e=this;this.panesCount;var t=100,n=[],i=[],s=0;this.panes.forEach((function(e){t-=e.size,null!==e.size&&s++,e.size>=e.max&&n.push(e.id),e.size<=e.min&&i.push(e.id)}));var r=100;t>.1&&(this.panes.forEach((function(n){null===n.size&&(n.size=Math.max(Math.min(t/(e.panesCount-s),n.max),n.min)),r-=n.size})),r>.1&&this.readjustSizes(t,n,i))},equalizeAfterAddOrRemove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addedPane;e.removedPane;var n=100/this.panesCount,i=0,s=[],r=[];t&&null!==t.givenSize&&(n=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach((function(e){i-=e.size,e.size>=e.max&&s.push(e.id),e.size<=e.min&&r.push(e.id)})),Math.abs(i)<.1||(this.panes.forEach((function(e){t&&null!==t.givenSize&&t.id===e.id||(e.size=Math.max(Math.min(n,e.max),e.min)),i-=e.size,e.size>=e.max&&s.push(e.id),e.size<=e.min&&r.push(e.id)})),i>.1&&this.readjustSizes(i,s,r))},readjustSizes:function(e,t,n){var i,s=this;i=e>0?e/(this.panesCount-t.length):e/(this.panesCount-n.length),this.panes.forEach((function(r,a){if(e>0&&!t.includes(r.id)){var l=Math.max(Math.min(r.size+i,r.max),r.min),c=l-r.size;e-=c,r.size=l}else if(!n.includes(r.id)){var d=Math.max(Math.min(r.size+i,r.max),r.min),h=d-r.size;e-=h,r.size=d}r.update(o({},s.horizontal?"height":"width","".concat(s.indexedPanes[r.id].size,"%")))})),Math.abs(e)>.1&&this.$nextTick((function(){s.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")}))}},watch:{panes:{deep:!0,immediate:!1,handler:function(){this.updatePaneComponents()}},horizontal:function(){this.updatePaneComponents()},firstSplitter:function(){this.redoSplitters()},dblClickSplitter:function(e){var t=this;p(this.container.querySelectorAll(".splitpanes__splitter")).forEach((function(n,i){n.ondblclick=e?function(e){return t.onSplitterDblClick(e,i)}:void 0}))}},beforeUnmount:function(){this.ready=!1},mounted:function(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render:function(){return Object(g.h)("div",{ref:"container",class:["splitpanes","splitpanes--".concat(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}};n("6b0a");var m=f;n("a9e3");var _={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:function(){return{style:{}}},mounted:function(){this.onPaneAdd(this)},beforeUnmount:function(){this.onPaneRemove(this)},methods:{update:function(e){this.style=e}},computed:{sizeNumber:function(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber:function(){return parseFloat(this.minSize)},maxSizeNumber:function(){return parseFloat(this.maxSize)}},watch:{sizeNumber:function(e){this.requestUpdate({target:this,size:e})},minSizeNumber:function(e){this.requestUpdate({target:this,min:e})},maxSizeNumber:function(e){this.requestUpdate({target:this,max:e})}},render:function(e,t,n,i,s,r){return Object(g.openBlock)(),Object(g.createBlock)("div",{class:"splitpanes__pane",onClick:t[1]||(t[1]=function(t){return r.onPaneClick(t,e._.uid)}),style:e.style},[Object(g.renderSlot)(e.$slots,"default")],4)}},v=_},fb6a:function(e,t,n){var i=n("23e7"),s=n("861d"),r=n("e8b5"),o=n("23cb"),a=n("50c4"),l=n("fc6a"),c=n("8418"),d=n("b622"),h=n("1dde"),u=n("ae40"),p=h("slice"),g=u("slice",{ACCESSORS:!0,0:0,1:2}),f=d("species"),m=[].slice,_=Math.max;i({target:"Array",proto:!0,forced:!p||!g},{slice:function(e,t){var n,i,d,h=l(this),u=a(h.length),p=o(e,u),g=o(void 0===t?u:t,u);if(r(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!r(n.prototype)?s(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(h,p,g);for(i=new(void 0===n?Array:n)(_(g-p,0)),d=0;p<g;p++,d++)p in h&&c(i,d,h[p]);return i.length=d,i}})},fc6a:function(e,t,n){var i=n("44ad"),s=n("1d80");e.exports=function(e){return i(s(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var i=n("4930");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}});const Kye="undefined"!=typeof window?window:void 0;var qye,Gye;(Gye=qye||(qye={})).UP="UP",Gye.RIGHT="RIGHT",Gye.DOWN="DOWN",Gye.LEFT="LEFT",Gye.NONE="NONE";var Yye=Bo({expose:[],props:{width:{type:Number,required:!0},height:{type:Number,required:!0},disableScaling:{type:Boolean,required:!0}},setup(e){const t=e,n=hr(),i=function(e,t={width:0,height:0},n={}){const i=hr(t.width),s=hr(t.height);return function(e,t,n={}){const{window:i=Kye}=n,s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(n,["window"]);let r;const o=i&&"ResizeObserver"in i,a=()=>{r&&(r.disconnect(),r=void 0)},l=xo((()=>function(e){var t,n;const i=fr(e);return null!==(n=null===(t=i)||void 0===t?void 0:t.$el)&&void 0!==n?n:i}(e)),(e=>{a(),o&&i&&e&&(r=new i.ResizeObserver(t),r.observe(e,s))}),{immediate:!0,flush:"post"}),c=()=>{a(),l()};var d;d=c,Ul()&&ia(d)}(e,(([e])=>{i.value=e.contentRect.width,s.value=e.contentRect.height}),n),{width:i,height:s}}(n),s=ic((()=>t.disableScaling?"scale(1)":`scale(${Math.min(i.width.value/t.width,i.height.value/t.height)})`));return(t,i)=>(gl(),yl("div",{ref:n,style:{display:"grid",placeItems:e.disableScaling?"unset":"center",placeContent:e.disableScaling?"unset":"center"}},[Dl("div",{style:{width:e.disableScaling?"100%":`${e.width}px`,height:e.disableScaling?"100%":`${e.height}px`,transform:fr(s),transformOrigin:"center center"}},[ga(t.$slots,"default",{width:e.width,height:e.height,scale:fr(s)})],4)],4))}});const Zye={"./Hako.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yye})},Xye={};Object.entries(Zye).forEach((([e,t])=>{var n;Xye[t.name?t.name:(n=e,n.substring(location.pathname.lastIndexOf("/")+2).split(".vue")[0])]=t.default}));var Jye={Default:[0,0],"Moto 4G":[360,640],"Galaxy S5":[360,640],"Pixel 2":[411,731],"Pixel 2 XL":[411,823],"iPhone 5/SE":[320,568],"iPhone 6/7/8":[375,667],"iPhone 6/7/8 Plus":[414,736],"iPhone X":[375,812],iPad:[768,1024],"iPad Pro":[1024,1366],"Surface Duo":[540,720],"Galaxy Fold":[280,653]};const Qye={class:"h-full flex flex-col"};var ewe=Bo({__name:"Playground",setup(e){const t=hr(""),n=hr(""),i=hr("Default"),s=ic((()=>"Default"===i.value)),r=ic((()=>Jye[i.value][0])),o=ic((()=>Jye[i.value][1]));kI((()=>{var e,i;CI.activeFile&&(t.value=null==(e=CI.activeFile)?void 0:e.script,n.value=null==(i=CI.activeFile)?void 0:i.template)}));const a=(e,t)=>{CI.activeFile&&("script"===e?CI.activeFile.script=t:"template"===e&&(CI.activeFile.template=t))};return(e,l)=>{const c=YI,d=Bge,h=Hge,u=jge,p=_me,g=Sme,f=Ime,m=Fme;return gl(),yl(fr(Bme.exports.Splitpanes),{class:"default-theme"},{default:ro((()=>[Dl(fr(Bme.exports.Pane),null,{default:ro((()=>[El("div",Qye,[Dl(c),Dl(fr(Bme.exports.Splitpanes),{class:"default-theme editors-height",horizontal:""},{default:ro((()=>[Dl(fr(Bme.exports.Pane),null,{default:ro((()=>[Dl(h,{title:"Script Setup",class:"rounded-b-md","no-overflow":"","no-rounding":""},{default:ro((()=>[Dl(d,{language:"javascript",value:t.value,onChange:l[0]||(l[0]=e=>a("script",e))},null,8,["value"])])),_:1})])),_:1}),Dl(fr(Bme.exports.Pane),null,{default:ro((()=>[Dl(h,{title:"Template",class:"border-1 border-white","no-overflow":""},{default:ro((()=>[Dl(d,{language:"html",value:n.value,onChange:l[1]||(l[1]=e=>a("template",e))},null,8,["value"])])),_:1})])),_:1})])),_:1})])])),_:1}),Dl(fr(Bme.exports.Pane),null,{default:ro((()=>[Dl(fr(Bme.exports.Splitpanes),{horizontal:"",class:"default-theme"},{default:ro((()=>[Dl(fr(Bme.exports.Pane),null,{default:ro((()=>[Dl(h,{title:"Output"},{controls:ro((()=>[Dl(g,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e)},{default:ro((({value:e})=>[Dl(u),El("span",null,Yn(e),1)])),items:ro((()=>[(gl(!0),bl(ll,null,pa(fr(Jye),((e,t)=>(gl(),yl(p,{key:t,value:t},{default:ro((()=>[Nl(Yn(t),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),default:ro((()=>[El("div",{h:"full",class:Wn({"p-8 bg-light-700 dark:bg-dark-300":!fr(s)})},[Dl(fr(Yye),{h:"full",w:"full",width:fr(r),height:fr(o),"disable-scaling":fr(s)},{default:ro((()=>[Dl(f,{shadow:"lg",bg:"dark:dark-700 light-100"})])),_:1},8,["width","height","disable-scaling"])],2)])),_:1})])),_:1}),Dl(fr(Bme.exports.Pane),{size:"25"},{default:ro((()=>[Dl(h,{title:"Console"},{default:ro((()=>[Dl(m)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}});const twe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},nwe=[El("path",{d:"M2 10.96a.985.985 0 0 1-.37-1.37L3.13 7c.11-.2.28-.34.47-.42l7.83-4.4c.16-.12.36-.18.57-.18c.21 0 .41.06.57.18l7.9 4.44c.19.1.35.26.44.46l1.45 2.52c.28.48.11 1.09-.36 1.36l-1 .58v4.96c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18c-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-5.54c-.3.17-.68.18-1 0m10-6.81v6.7l5.96-3.35L12 4.15M5 15.91l6 3.38v-6.71L5 9.21v6.7m14 0v-3.22l-5 2.9c-.33.18-.7.17-1 .01v3.69l6-3.38m-5.15-2.55l6.28-3.63l-.58-1.01l-6.28 3.63l.58 1.01z",fill:"currentColor"},null,-1)];var iwe={render:function(e,t){return gl(),bl("svg",twe,nwe)}};const swe={flex:"~ row 1",space:"x-2",items:"center"},rwe={key:0,text:"sm",w:"8",h:"8",border:"rounded-full",flex:"~",place:"items-center content-center",bg:"light-900 dark:dark-700"};var owe=Bo({__name:"SettingsTab",props:{badge:null,active:{type:Boolean}},setup:e=>(t,n)=>(gl(),bl("div",{text:"dark:light-900 dark:opacity-70",flex:"~ row",items:"center",p:"x-4",h:"12",cursor:"pointer",bg:"hover:dark:dark-300",class:Wn({"bg-light-600 dark:bg-dark-300":e.active})},[El("div",swe,[ga(t.$slots,"default")]),e.badge?(gl(),bl("div",rwe,Yn(e.badge),1)):Pl("",!0)],2))});const awe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},lwe=[El("path",{d:"M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18c-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18c.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9M12 4.15l-1.89 1.07L16 8.61l1.96-1.11L12 4.15M6.04 7.5L12 10.85l1.96-1.1l-5.88-3.4L6.04 7.5M5 15.91l6 3.38v-6.71L5 9.21v6.7m14 0v-6.7l-6 3.37v6.71l6-3.38z",fill:"currentColor"},null,-1)];var cwe={render:function(e,t){return gl(),bl("svg",awe,lwe)}};const dwe={};dwe.render=function(e,t){return gl(),bl("div",null," Editor ")};const hwe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},uwe=[El("path",{d:"M29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29zM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9z",fill:"currentColor"},null,-1)];var pwe={render:function(e,t){return gl(),bl("svg",hwe,uwe)}};const gwe={border:"~ rounded dark:dark-900",h:"10",flex:"~ 1",items:"center",bg:"light-400 dark:dark-800"},fwe={key:0,flex:"~",place:"items-center content-center",bg:"light-700 dark:dark-900",h:"full",w:"12"},mwe=["placeholder"];var _we=Bo({__name:"Textfield",props:{modelValue:null,placeholder:null},setup(e){const t=lu(e);return(n,i)=>(gl(),bl("div",gwe,[n.$slots.default?(gl(),bl("div",fwe,[ga(n.$slots,"default")])):Pl("",!0),la(El("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>dr(t)?t.value=e:null),type:"text",h:"full",outline:"focus:none",bg:"transparent",flex:"1",p:"x-4",placeholder:e.placeholder},null,8,mwe),[[id,fr(t)]])]))}});const vwe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},bwe=[El("path",{d:"M29.25 6.76a6 6 0 0 0-8.5 0l1.42 1.42a4 4 0 1 1 5.67 5.67l-8 8a4 4 0 1 1-5.67-5.66l1.41-1.42l-1.41-1.42l-1.42 1.42a6 6 0 0 0 0 8.5A6 6 0 0 0 17 25a6 6 0 0 0 4.27-1.76l8-8a6 6 0 0 0-.02-8.48z",fill:"currentColor"},null,-1),El("path",{d:"M4.19 24.82a4 4 0 0 1 0-5.67l8-8a4 4 0 0 1 5.67 0A3.94 3.94 0 0 1 19 14a4 4 0 0 1-1.17 2.85L15.71 19l1.42 1.42l2.12-2.12a6 6 0 0 0-8.51-8.51l-8 8a6 6 0 0 0 0 8.51A6 6 0 0 0 7 28a6.07 6.07 0 0 0 4.28-1.76l-1.42-1.42a4 4 0 0 1-5.67 0z",fill:"currentColor"},null,-1)];var ywe={render:function(e,t){return gl(),bl("svg",vwe,bwe)}};const wwe={position:"relative",grid:"~",place:"items-center","min-h":"screen",p:"4"},Cwe={position:"relative",border:"rounded-md",overflow:"hidden",bg:"light-100 dark:dark-700",shadow:"lg","max-w":"prose",w:"full","max-h":"[70vh]",p:"4"},Swe={grid:"~",gap:"4"},xwe=El("div",{text:"lg",font:"medium"}," Add Package ",-1),kwe={flex:"~ row",space:"x-4"},Ewe=El("span",{flex:"1"},null,-1),Dwe=Nl("Cancel"),Twe=Nl(" Add Package ");var Lwe=Bo({__name:"ManuallyInstallPackage",props:{modelValue:{type:Boolean}},setup(e){const t=e,n=hr(""),i=hr(""),s=lu(t);return(e,t)=>{const r=Jfe,o=cwe,a=_we,l=ywe,c=Fd,d=Xfe;return gl(),yl(d,{open:fr(s),position:"fixed inset-0",overflow:"y-auto",z:"10",onClose:t[3]||(t[3]=e=>s.value=!1)},{default:ro((()=>[El("div",wwe,[Dl(r,{position:"fixed inset-0",backdrop:"~ blur-sm",bg:"dark:black dark:opacity-20"}),El("div",Cwe,[El("div",Swe,[xwe,Dl(a,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),placeholder:"@vueuse/core"},{default:ro((()=>[Dl(o)])),_:1},8,["modelValue"]),Dl(a,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),placeholder:"https://unpkg.com/@vueuse/core/dist/index.esm.js"},{default:ro((()=>[Dl(l)])),_:1},8,["modelValue"]),El("div",kwe,[Ewe,Dl(c,null,{default:ro((()=>[Dwe])),_:1}),Dl(c,{primary:"",onClick:t[2]||(t[2]=e=>(CI.packages=[...CI.packages,{name:n.value,source:"External",url:i.value}],s.value=!1,n.value="",void(i.value="")))},{default:ro((()=>[Twe])),_:1})])])])])])),_:1},8,["open"])}}});const Nwe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Iwe=[El("path",{d:"M12 12h2v12h-2z",fill:"currentColor"},null,-1),El("path",{d:"M18 12h2v12h-2z",fill:"currentColor"},null,-1),El("path",{d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20z",fill:"currentColor"},null,-1),El("path",{d:"M12 2h8v2h-8z",fill:"currentColor"},null,-1)];var Pwe={render:function(e,t){return gl(),bl("svg",Nwe,Iwe)}};const Owe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Rwe=[El("path",{d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4z",fill:"currentColor"},null,-1),El("path",{d:"M26 14l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z",fill:"currentColor"},null,-1)];var Awe={render:function(e,t){return gl(),bl("svg",Owe,Rwe)}};const Mwe={bg:"dark:dark-500",border:"~ rounded light-700 dark:dark-900",p:"4"},Fwe={flex:"~",space:"x-4",items:"center"},Bwe={flex:"1"},Vwe={text:"xs dark:light-900 dark:opacity-70",bg:"dark:dark-300",p:"x-2 y-1",border:"rounded"},Wwe={text:"sm dark-100 opacity-70 dark:light-900 dark:opacity-70"},Hwe={flex:"~ row",m:"t-2"},Uwe=El("span",{flex:"1"},null,-1),zwe={flex:"~",space:"x-[1px]",bg:"light-900 dark:dark-900",border:"~ rounded dark:dark-900"},jwe=El("span",null," Uninstall ",-1),$we=El("span",null," Install ",-1);var Kwe=Bo({__name:"PackageItem",props:{name:null,source:null,description:null,url:null},setup(e){const t=e,n=hr("Latest"),i=ic((()=>CI.packages.some((({name:e})=>e===t.name))));xo(n,(()=>{i.value&&(CI.packages=[...CI.packages.filter((({name:e})=>e!==t.name))||[],l(a({},CI.packages.find((({name:e})=>e===t.name))),{version:n.value})])}));return(s,r)=>{const o=Pwe,a=Fd,l=Awe;return gl(),bl("div",Mwe,[El("div",Fwe,[El("span",Bwe,Yn(e.name),1),El("span",Vwe,Yn(e.source),1)]),El("div",Wwe,Yn(e.description),1),El("div",Hwe,[Uwe,El("div",zwe,[fr(i)?(gl(),yl(a,{key:0,border:"rounded-r",class:Wn({rounded:"skypack"!==e.source}),onClick:r[0]||(r[0]=e=>CI.packages=CI.packages.filter((({name:e})=>e!==t.name)))},{default:ro((()=>[Dl(o),jwe])),_:1},8,["class"])):(gl(),yl(a,{key:1,border:"rounded-r",class:Wn({rounded:"skypack"!==e.source}),onClick:r[1]||(r[1]=e=>CI.packages=[...CI.packages,{name:t.name,url:`https://cdn.skypack.dev/${t.name}`,description:t.description,version:n.value,source:"skypack"}])},{default:ro((()=>[Dl(l),$we])),_:1},8,["class"]))])])])}}});const qwe={h:"20",flex:"~ row",items:"center",p:"x-4",space:"x-4"},Gwe=Nl(" Manually Install "),Ywe={key:0,p:"x-4 y-2",space:"y-4"};var Zwe=Bo({__name:"InstallSettings",setup(e){const t=hr(""),n=function(e,t=200,n=!0,i=!0){if(t<=0)return e;const s=hr(e.value),r=Qd((()=>{s.value=e.value}),t,n,i);return xo(e,(()=>r())),s}(t,1e3),i=ic((()=>`https://api.skypack.dev/v1/search?q=${n.value}`)),{data:s}=function(e,...t){var n;const i="function"==typeof AbortController;let s={},r={immediate:!0,refetch:!1,timeout:0};const o={method:"GET",type:"text",payload:void 0};t.length>0&&(su(t[0])?r=tu(tu({},r),t[0]):s=t[0]),t.length>1&&su(t[1])&&(r=tu(tu({},r),t[1]));const{fetch:a=(null==(n=_h)?void 0:n.fetch),initialData:l,timeout:c}=r,d=Xd(),h=Xd(),u=Xd(),p=hr(!1),g=hr(!1),f=hr(!1),m=hr(null),_=ur(null),v=ur(null),b=ur(l),y=ic((()=>i&&g.value));let w,C;const S=()=>{i&&w&&w.abort()},x=e=>{g.value=e,p.value=!e};c&&(C=ih(S,c,{immediate:!1}));const k=async(t=!1)=>{var n;x(!0),v.value=null,m.value=null,f.value=!1,w=void 0,i&&(w=new AbortController,w.signal.onabort=()=>f.value=!0,s=nu(tu({},s),{signal:w.signal}));const l={method:o.method,headers:{}};if(o.payload){const e=ru(l.headers);o.payloadType&&(e["Content-Type"]=null!=(n=iu[o.payloadType])?n:o.payloadType);const t=qd(o.payload);l.body="json"===o.payloadType?JSON.stringify(t):t}let c=!1;const p={url:qd(e),options:tu(tu({},l),s),cancel:()=>{c=!0}};if(r.beforeFetch&&Object.assign(p,await r.beforeFetch(p)),c||!a)return x(!1),Promise.resolve(null);let g=null;return C&&C.start(),new Promise(((e,n)=>{var i;a(p.url,nu(tu(tu({},l),p.options),{headers:tu(tu({},ru(l.headers)),ru(null==(i=p.options)?void 0:i.headers))})).then((async t=>{if(_.value=t,m.value=t.status,g=await t[o.type](),r.afterFetch&&m.value>=200&&m.value<300&&({data:g}=await r.afterFetch({data:g,response:t})),b.value=g,!t.ok)throw new Error(t.statusText);return d.trigger(t),e(t)})).catch((async i=>{let s=i.message||i.name;return r.onFetchError&&({data:g,error:s}=await r.onFetchError({data:g,error:i,response:_.value})),b.value=g,v.value=s,h.trigger(i),t?n(i):e(null)})).finally((()=>{x(!1),C&&C.stop(),u.trigger(null)}))}))},E=eh(r.refetch);xo([E,eh(e)],(([e])=>e&&k()),{deep:!0});const D={isFinished:p,statusCode:m,response:_,error:v,data:b,isFetching:g,canAbort:y,aborted:f,abort:S,execute:k,onFetchResponse:d.on,onFetchError:h.on,onFetchFinally:u.on,get:T("GET"),put:T("PUT"),post:T("POST"),delete:T("DELETE"),patch:T("PATCH"),head:T("HEAD"),options:T("OPTIONS"),json:N("json"),text:N("text"),blob:N("blob"),arrayBuffer:N("arrayBuffer"),formData:N("formData")};function T(e){return(t,n)=>{if(!g.value){o.method=e,o.payload=t,o.payloadType=n,dr(o.payload)&&xo([E,eh(o.payload)],(([e])=>e&&k()),{deep:!0});const i=qd(o.payload);return!n&&i&&Object.getPrototypeOf(i)===Object.prototype&&(o.payloadType="json"),nu(tu({},D),{then:(e,t)=>L().then(e,t)})}}}function L(){return new Promise(((e,t)=>{nh(p).toBe(!0).then((()=>e(D))).catch((e=>t(e)))}))}function N(e){return()=>{if(!g.value)return o.type=e,nu(tu({},D),{then:(e,t)=>L().then(e,t)})}}return r.immediate&&setTimeout(k,0),nu(tu({},D),{then:(e,t)=>L().then(e,t)})}(i,{refetch:!0}).json().get(),r=hr(!1);return(e,n)=>{const i=pwe,o=_we,a=Fd,l=Lwe;return gl(),bl(ll,null,[El("div",null,[El("div",qwe,[Dl(o,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),h:"12",placeholder:"Search Skypack Packages..."},{default:ro((()=>[Dl(i)])),_:1},8,["modelValue"]),Dl(a,{h:"12",border:"1 dark-900 rounded",onClick:n[1]||(n[1]=e=>r.value=!0)},{default:ro((()=>[Gwe])),_:1})]),fr(s)&&fr(s).results?(gl(),bl("div",Ywe,[(gl(!0),bl(ll,null,pa(fr(s).results,(e=>(gl(),yl(Kwe,Ml(e,{key:e.name,source:"skypack"}),null,16)))),128))])):Pl("",!0)]),Dl(l,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=e=>r.value=e)},null,8,["modelValue"])],64)}}});const Xwe={h:"20",flex:"~ row",items:"center",p:"x-4"},Jwe={p:"x-4 y-2",space:"y-4"};var Qwe=Bo({__name:"PackagesSettings",setup(e){const t=hr(""),n=ic((()=>t.value.length>2?CI.packages.filter((({name:e})=>e.includes(t.value))):CI.packages));return(e,i)=>{const s=_we,r=Kwe;return gl(),bl("div",null,[El("div",Xwe,[Dl(s,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),placeholder:"Filter Packages"},null,8,["modelValue"])]),El("div",Jwe,[(gl(!0),bl(ll,null,pa(fr(n),(e=>(gl(),yl(r,Ml({key:e.name},e),null,16)))),128))])])}}});const eCe={},tCe={w:"full",h:"full"};eCe.render=function(e,t){const n=Bge;return gl(),bl("div",tCe,[Dl(n)])};const nCe={position:"relative",grid:"~",place:"items-center","min-h":"screen",p:"4"},iCe={position:"relative",border:"rounded-md",overflow:"hidden",bg:"light-100 dark:dark-700",shadow:"lg","max-w":"screen-lg",w:"full","max-h":"[70vh]",h:"full"},sCe={h:"full",grid:"~ cols-4"},rCe={bg:"light-100 dark:dark-500",border:"r dark:dark-900"},oCe={bg:"light-500 dark:dark-800",border:"b light-900 dark:dark-900",h:"20",text:"dark:light-900 dark:opacity-80",flex:"~ row",items:"center",p:"l-4 t-[1px] r-2",space:"x-2"},aCe=El("span",{flex:"1"}," Settings ",-1),lCe=El("span",null,"Packages",-1),cCe=El("span",null,"Install",-1),dCe={grid:"col-span-3",overflow:"auto"};var hCe=Bo({__name:"Settings",props:{modelValue:{type:Boolean}},setup(e){const t=lu(e),n=hr("packages");return(e,i)=>{const s=Jfe,r=Wd,o=UI,a=Fd,l=iwe,c=owe,d=cwe,h=dwe,u=Zwe,p=Qwe,g=eCe,f=Xfe;return gl(),yl(f,{open:fr(t),position:"fixed inset-0",overflow:"y-auto",z:"10",onClose:i[3]||(i[3]=e=>t.value=!1)},{default:ro((()=>[El("div",nCe,[Dl(s,{position:"fixed inset-0",backdrop:"~ blur",bg:"dark:black dark:opacity-20"}),El("div",iCe,[El("div",sCe,[El("div",rCe,[El("div",oCe,[Dl(r),aCe,Dl(a,{icon:"",onClick:i[0]||(i[0]=e=>t.value=!1)},{default:ro((()=>[Dl(o)])),_:1})]),Dl(c,{badge:fr(CI).packages.length,active:"packages"===n.value,onClick:i[1]||(i[1]=e=>n.value="packages")},{default:ro((()=>[Dl(l),lCe])),_:1},8,["badge","active"]),Dl(c,{active:"install"===n.value,onClick:i[2]||(i[2]=e=>n.value="install")},{default:ro((()=>[Dl(d),cCe])),_:1},8,["active"])]),El("div",dCe,["editor"===n.value?(gl(),yl(h,{key:0})):"install"===n.value?(gl(),yl(u,{key:1})):"packages"===n.value?(gl(),yl(p,{key:2})):"windicss"===n.value?(gl(),yl(g,{key:3})):Pl("",!0)])])])])])),_:1},8,["open"])}}});const uCe={class:"h-screen dark:bg-dark-900 p-4 dark:text-light-100 pl-18"};Dd(Bo({__name:"App",setup(e){const t=hr(!1);return(e,n)=>{const i=MI,s=ewe,r=hCe;return gl(),bl(ll,null,[El("div",uCe,[Dl(i,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e)},null,8,["modelValue"]),Dl(s)]),Dl(r,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=e=>t.value=e)},null,8,["modelValue"])],64)}}})).mount("#app");export{ate as M,ite as R,lte as U,ote as a,dte as e,hte as l};
